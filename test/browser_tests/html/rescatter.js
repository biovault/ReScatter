!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("webix")):"function"==typeof define&&define.amd?define(["webix"],t):"object"==typeof exports?exports.ReScatter=t(require("webix")):e.ReScatter=t(e.webix)}(window,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=173)}([function(t,n){t.exports=e},function(e,t,n){var r={createContext:n(49),setVertexAttribArrays:n(18),GLBuffer:n(50),GLFramebuffer:n(51),GLShader:n(52),GLTexture:n(19),VertexArrayObject:n(53),shader:n(54)};e.exports&&(e.exports=r),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=r)},function(e,t,n){"use strict";const r=n(38);class i extends Function{impl(e,t,n){n||u(t)||(n=t,t=[]),!n&&this.isDerivable&&(n=this._defaultImpls),n||(n={}),"function"!=typeof e||e.isGenfun||(e=e.prototype),function(e,t,n){e._methodNames.forEach((function(r){if(!n[r]&&!e._defaultImpls[r]&&"function"!=typeof t[r])throw new Error(`Missing implementation for ${l(e,r,e.name)}. Make sure the method is present in your ${e.name||"protocol"} definition. Required methods: ${e._methodNames.filter(t=>!e._defaultImpls[t]).map(t=>l(e,t)).join(", ")}.`)})),Object.keys(n).forEach((function(t){if(-1===e._methodNames.indexOf(t))throw new Error(`${t}() was included in the impl, but is not part of ${e.name||"the protocol"}. Allowed methods: ${e._methodNames.map(t=>l(e,t)).join(", ")}.`)}))}(this,e,n),function(e,t){var n=e._types;if(t.length>n.length)throw new Error(`${e.name||"Protocol"} expects to be defined across ${n.length} type${n.length>1?"s":""}, but ${t.length} ${t.length>1?"were":"was"} specified.`)}(this,t),this._constraints.forEach(n=>{if(!n.verify(e,t))throw new Error(`Implementations of ${this.name||"this protocol"} must first implement ${n.parent.name||"its constraint protocols defined in opts.where."}`)}),this._methodNames.forEach(r=>{!function(e,t,n,r,i){const a=e._gfTypes[t].map((function(e){return r[e]}));for(let e=a.length-1;e>=0&&void 0===a[e];e--)a.pop();const s=e._metaobject&&e._metaobject!==o;if(Object.prototype.hasOwnProperty.call(n,t)){if("function"==typeof n[t]&&!n[t].isGenfun){const r=s?e._metaobject.createGenfun(e,n,t,n[t]):h(e,n,t,n[t]);n[t]=r}}else{const r=s?e._metaobject.createGenfun(e,n,t,null):h(e,n,t,null);n[t]=r}const l=i[t]||e._defaultImpls[t];l&&(s?e._metaobject.addMethod(e,n,t,a,l):d(e,n,t,a,l))}(this,r,e,t,n)})}hasImpl(e,t){t=t||[];const n=this._methodNames;var r;"function"!=typeof e||e.isGenfun||(e=e.prototype),t=t.map(e=>"function"!=typeof e||e.isGenfun?e:e.prototype);for(var i=0;i<n.length;i++)if(!(r=e[n[i]])||(r.hasMethod?!r.hasMethod.apply(r,t):"function"==typeof r))return!1;return!0}matches(e,t){return!t&&u(e)&&(t=e,e="this"),e||(e="this"),t||(t=[]),new f(this,e,t)}}i.prototype.isDuck=!0,i.prototype.isProtocol=!0;const o=e.exports=s(["duck"],{createGenfun:["duck",h],addMethod:["duck",d]},{name:"Protoduck"}),a=e.exports.noImplFound=r.noApplicableMethod;function s(e,t,n){u(e)||(n=t,t=e,e=[]);const r=function(e,t){return r.matches(e,t)};if(Object.setPrototypeOf(r,i.prototype),r.isDerivable=!0,Object.defineProperty(r,"name",{value:n&&n.name||"Protocol"}),n&&n.where){let e=n.where;u(n.where)||(e=[n.where]),r._constraints=e.map(e=>e.isProtocol?e.matches():e)}else r._constraints=[];return r.isProtocol=!0,r._metaobject=n&&n.metaobject,r._types=e,r._defaultImpls={},r._gfTypes={},r._methodNames=Object.keys(t),r._methodNames.forEach(e=>{!function(e,t,n){let r=n[t];"function"==typeof r&&(e._defaultImpls[t]=r,r=[r]);"function"==typeof r[r.length-1]?e._defaultImpls[t]=r.pop():e.isDerivable=!1;e._gfTypes[t]=r.map(n=>{const r=e._types.indexOf(n);if(-1===r)throw new Error(`type '${n}' for function '${t}' does not match any protocol types (${e._types.join(", ")}).`);return r})}(r,e,t)}),r._constraints.forEach(e=>e.attach(r)),r}function l(e,t,n){return`${n&&e.name?`${e.name}#`:""}${t}(${e._gfTypes[t].map(t=>e._types[t]).join(", ")})`}function c(e){return/\[object ([a-zA-Z0-9]+)\]/.exec({}.toString.call(e))[1]}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function h(e,t,n,i){var o=r({default:i,name:`${e.name?`${e.name}#`:""}${n}`});return function(e,t,n,r){a.add([t],(function(t,n,i){let o=Object.getPrototypeOf(n);for(;o&&o[r]===t;)o=Object.getPrototypeOf(o);o&&o[r]&&o[r];var a=`No ${c(n)} impl for ${e.name?`${e.name}#`:""}${r}(${[].map.call(i,c).join(", ")}). You must implement ${e.name?l(e,r,!0):`the protocol ${l(e,r)} belongs to`} in order to call ${c(n)}#${r}(${[].map.call(i,c).join(", ")}).`;const s=new Error(a);throw s.protocol=e,s.function=t,s.thisArg=n,s.args=i,s.code="ENOIMPL",s}))}(e,o,0,n),o.duck=e,o}function d(e,t,n,r,i){return t[n].add(r,i)}e.exports.define=s,o.impl(o);class f{constructor(e,t,n){this.parent=e,this.target=t,this.types=n}attach(e){if(this.child=e,"this"===this.target)this.thisIdx="this";else{const e=this.child._types.indexOf(this.target);this.thisIdx=-1===e?null:e}this.indices=this.types.map(e=>{if("this"===e)return"this";{const t=this.child._types.indexOf(e);return-1===t?null:t}})}verify(e,t){const n="this"===this.thisIdx||null==this.thisIdx?e:t[this.thisIdx],r=this.indices.map(n=>"this"===n?e:"this"===n?t[this.thisIdx]:null===n?Object:t[n]||Object.prototype);return this.parent.hasImpl(n,r)}}f.prototype.isConstraint=!0},function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)i(n,r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)o=e[t],a.set(o,i),i+=o.length;return a}},a={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,o)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,a))},t.setTyped(r)},function(e,t,n){var r=n(45),i=n(46),o="undefined"!=typeof Float64Array;function a(e,t){return e[0]-t[0]}function s(){var e,t=this.stride,n=new Array(t.length);for(e=0;e<n.length;++e)n[e]=[Math.abs(t[e]),e];n.sort(a);var r=new Array(n.length);for(e=0;e<r.length;++e)r[e]=n[e][1];return r}function l(e,t){var n=["View",t,"d",e].join("");t<0&&(n="View_Nil"+e);var i="generic"===e;if(-1===t){var o="function "+n+"(a){this.data=a;};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+n+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+n+"(a){return new "+n+"(a);}";return new Function(o)()}if(0===t){o="function "+n+"(a,d) {this.data = a;this.offset = d};var proto="+n+".prototype;proto.dtype='"+e+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+n+"_copy() {return new "+n+"(this.data,this.offset)};proto.pick=function "+n+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+n+"_get(){return "+(i?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+n+"_set(v){return "+(i?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+n+"(a,b,c,d){return new "+n+"(a,d)}";return new Function("TrivialArray",o)(c[e][0])}o=["'use strict'"];var a=r(t),l=a.map((function(e){return"i"+e})),u="this.offset+"+a.map((function(e){return"this.stride["+e+"]*i"+e})).join("+"),h=a.map((function(e){return"b"+e})).join(","),d=a.map((function(e){return"c"+e})).join(",");o.push("function "+n+"(a,"+h+","+d+",d){this.data=a","this.shape=["+h+"]","this.stride=["+d+"]","this.offset=d|0}","var proto="+n+".prototype","proto.dtype='"+e+"'","proto.dimension="+t),o.push("Object.defineProperty(proto,'size',{get:function "+n+"_size(){return "+a.map((function(e){return"this.shape["+e+"]"})).join("*"),"}})"),1===t?o.push("proto.order=[0]"):(o.push("Object.defineProperty(proto,'order',{get:"),t<4?(o.push("function "+n+"_order(){"),2===t?o.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):3===t&&o.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):o.push("ORDER})")),o.push("proto.set=function "+n+"_set("+l.join(",")+",v){"),i?o.push("return this.data.set("+u+",v)}"):o.push("return this.data["+u+"]=v}"),o.push("proto.get=function "+n+"_get("+l.join(",")+"){"),i?o.push("return this.data.get("+u+")}"):o.push("return this.data["+u+"]}"),o.push("proto.index=function "+n+"_index(",l.join(),"){return "+u+"}"),o.push("proto.hi=function "+n+"_hi("+l.join(",")+"){return new "+n+"(this.data,"+a.map((function(e){return["(typeof i",e,"!=='number'||i",e,"<0)?this.shape[",e,"]:i",e,"|0"].join("")})).join(",")+","+a.map((function(e){return"this.stride["+e+"]"})).join(",")+",this.offset)}");var f=a.map((function(e){return"a"+e+"=this.shape["+e+"]"})),p=a.map((function(e){return"c"+e+"=this.stride["+e+"]"}));o.push("proto.lo=function "+n+"_lo("+l.join(",")+"){var b=this.offset,d=0,"+f.join(",")+","+p.join(","));for(var g=0;g<t;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){d=i"+g+"|0;b+=c"+g+"*d;a"+g+"-=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"c"+e})).join(",")+",b)}"),o.push("proto.step=function "+n+"_step("+l.join(",")+"){var "+a.map((function(e){return"a"+e+"=this.shape["+e+"]"})).join(",")+","+a.map((function(e){return"b"+e+"=this.stride["+e+"]"})).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(g=0;g<t;++g)o.push("if(typeof i"+g+"==='number'){d=i"+g+"|0;if(d<0){c+=b"+g+"*(a"+g+"-1);a"+g+"=ceil(-a"+g+"/d)}else{a"+g+"=ceil(a"+g+"/d)}b"+g+"*=d}");o.push("return new "+n+"(this.data,"+a.map((function(e){return"a"+e})).join(",")+","+a.map((function(e){return"b"+e})).join(",")+",c)}");var v=new Array(t),m=new Array(t);for(g=0;g<t;++g)v[g]="a[i"+g+"]",m[g]="b[i"+g+"]";o.push("proto.transpose=function "+n+"_transpose("+l+"){"+l.map((function(e,t){return e+"=("+e+"===undefined?"+t+":"+e+"|0)"})).join(";"),"var a=this.shape,b=this.stride;return new "+n+"(this.data,"+v.join(",")+","+m.join(",")+",this.offset)}"),o.push("proto.pick=function "+n+"_pick("+l+"){var a=[],b=[],c=this.offset");for(g=0;g<t;++g)o.push("if(typeof i"+g+"==='number'&&i"+g+">=0){c=(c+this.stride["+g+"]*i"+g+")|0}else{a.push(this.shape["+g+"]);b.push(this.stride["+g+"])}");return o.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),o.push("return function construct_"+n+"(data,shape,stride,offset){return new "+n+"(data,"+a.map((function(e){return"shape["+e+"]"})).join(",")+","+a.map((function(e){return"stride["+e+"]"})).join(",")+",offset)}"),new Function("CTOR_LIST","ORDER",o.join("\n"))(c[e],s)}var c={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],buffer:[],generic:[]};e.exports=function(e,t,n,r){if(void 0===e)return(0,c.array[0])([]);"number"==typeof e&&(e=[e]),void 0===t&&(t=[e.length]);var a=t.length;if(void 0===n){n=new Array(a);for(var s=a-1,u=1;s>=0;--s)n[s]=u,u*=t[s]}if(void 0===r){r=0;for(s=0;s<a;++s)n[s]<0&&(r-=(t[s]-1)*n[s])}for(var h=function(e){if(i(e))return"buffer";if(o)switch(Object.prototype.toString.call(e)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped"}return Array.isArray(e)?"array":"generic"}(e),d=c[h];d.length<=a+1;)d.push(l(h,d.length-1));return(0,d[a+1])(e,t,n,r)}},,,function(e,t,n){"use strict";var r=n(40),i=/[ \f\t\v]*\r?\n/,o=/^NRRD\d{4}$/,a=/^([^:]*)(:[ =])(.*)$/,s=/^LIST(?: (\d+))?$/;function l(e,t,n,i){var o,a,s=(a=e)in h?h[a]:a;switch(e){case"data":case"buffer":case"keys":case"version":break;case"content":case"number":case"sampleUnits":case"space":o=s+": "+t;break;case"blockSize":case"lineSkip":case"byteSkip":case"dimension":case"spaceDimension":r("number"==typeof t||t instanceof Number,"Field "+e+" should at least contain a number!"),o=s+": "+t;break;case"min":case"max":case"oldMin":case"oldMax":r("number"==typeof t||t instanceof Number,"Field "+e+" should contain a number!"),o=s+": "+t;break;case"spaceOrigin":r(t.length===i,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach((function(t){r("number"==typeof t||t instanceof Number,"Field "+e+" should be a list of numbers!")})),o=s+": ("+t.join(",")+")";break;case"labels":case"units":case"spaceUnits":r(void 0!==t.length&&t.length==n,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach((function(t){r("string"==typeof t||t instanceof String,"Field "+e+" should be a list of numbers!")})),o=s+": "+t.map(m).join(" ");break;case"sizes":r(void 0!==t.length&&t.length==n,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach((function(t){r("number"==typeof t||t instanceof Number,"Field "+e+" should be a list of numbers!")})),o=s+": "+t.join(" ");break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":r(void 0!==t.length&&t.length==n,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach((function(t){r("number"==typeof t||t instanceof Number,"Field "+e+" should be a list of numbers!")})),o=s+": "+t.join(" ");break;case"spaceDirections":r(void 0!==t.length&&t.length===n,"Field "+e+" should be a list with length equal to the dimension!"),t.forEach((function(t){r(null===t||void 0!==t.length&&t.length===i,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach((function(t){r("number"==typeof t||t instanceof Number,"The elements of field "+e+" should be lists of numbers!")}))})),o=s+": "+t.map((function(e){return null===e?"none":"("+e.join(",")+")"})).join(" ");break;case"measurementFrame":r(void 0!==t.length&&t.length===i,"Field "+e+" should be a list with length equal to the space dimension!"),t.forEach((function(t){r(null===t||void 0!==t.length&&t.length===i,"The elements of field "+e+" should be lists with length equal to the space dimension!"),null!==t&&t.forEach((function(t){r("number"==typeof t||t instanceof Number,"The elements of field "+e+" should be lists of numbers!")}))})),o=s+": "+t.map((function(e){return null===e?"none":"("+e.join(",")+")"})).join(" ");break;case"type":case"encoding":case"endian":r("string"==typeof t||t instanceof String,"Field "+e+" should contain a string!"),o=s+": "+t;break;case"dataFile":t.length||t.files&&"subdim"in t||(o=s+": "+function(e){if("string"==typeof e||e instanceof String)return e;if("format"in e&&"min"in e&&"max"in e&&"step"in e)return"subdim"in e?e.format+" "+e.min+" "+e.max+" "+e.step+" "+e.subdim:e.format+" "+e.min+" "+e.max+" "+e.step;throw new Error("Unrecognized data file format!")}(t));break;case"centers":case"kinds":r(void 0!==t.length&&t.length==n,"Field "+e+" should be a list with length equal to the dimension!"),o=s+": "+t.map(R).join(" ");break;default:console.warn("Unrecognized NRRD field: "+e+", skipping.")}return o}function c(e,t){switch(e){case"content":case"number":case"sampleUnits":break;case"dimension":case"blockSize":case"lineSkip":case"byteSkip":case"spaceDimension":t=f(t);break;case"min":case"max":case"oldMin":case"oldMax":t=p(t);break;case"spaceOrigin":t=g(t);break;case"labels":case"units":case"spaceUnits":t=A(t,v);break;case"sizes":t=A(t,f);break;case"spacings":case"thicknesses":case"axisMins":case"axisMaxs":t=A(t,p);break;case"spaceDirections":case"measurementFrame":t=A(t,g);break;case"type":t=b(t);break;case"encoding":t=w(t);break;case"endian":t=S(t);break;case"dataFile":n=t,t=(r=x.exec(n))?5==r.length&&r[4]?{format:n.substring(0,r.index),min:f(r[1]),max:f(r[2]),step:f(r[3]),subdim:f(r[4])}:{format:n.substring(0,r.index),min:f(r[1]),max:f(r[2]),step:f(r[3])}:n;break;case"centers":t=A(t,E);break;case"kinds":t=A(t,_);break;case"space":t=function(e){switch(e.toLowerCase()){case"right-anterior-superior":case"ras":return"right-anterior-superior";case"left-anterior-superior":case"las":return"left-anterior-superior";case"left-posterior-superior":case"lps":return"left-posterior-superior";case"right-anterior-superior-time":case"rast":return"right-anterior-superior-time";case"left-anterior-superior-time":case"last":return"left-anterior-superior-time";case"left-posterior-superior-time":case"lpst":return"left-posterior-superior-time";case"scanner-xyz":return"scanner-xyz";case"scanner-xyz-time":return"scanner-xyz-time";case"3d-right-handed":return"3D-right-handed";case"3d-left-handed":return"3D-left-handed";case"3d-right-handed-time":return"3D-right-handed-time";case"3d-left-handed-time":return"3D-left-handed-time";default:return console.warn("Unrecognized space: "+e),e}}(t);break;default:console.warn("Unrecognized NRRD field: "+e)}var n,r;return t}e.exports.serialize=function(e){var t,n,r,i,o,a,s,c,u,h,d=1,f={},p=[];for(i in e)f[i]=e[i];if(void 0===f.sizes)throw new Error("Sizes missing from NRRD file!");if(void 0===f.dimension&&(f.dimension=f.sizes.length),f.data instanceof Int8Array?o="int8":f.data instanceof Uint8Array?o="uint8":f.data instanceof Int16Array?o="int16":f.data instanceof Uint16Array?o="uint16":f.data instanceof Int32Array?o="int32":f.data instanceof Uint32Array?o="uint32":f.data instanceof Float32Array?o="float":f.data instanceof Float64Array&&(o="double"),void 0===f.type&&void 0!==o)f.type=o;else{if(void 0===f.type)throw new Error("Type of data is not given and cannot be inferred!");("string"==typeof f.type||f.type instanceof String)&&(f.type=b(f.type))}void 0===f.encoding?f.encoding="raw":("string"==typeof f.encoding||f.encoding instanceof String)&&(f.encoding=w(f.encoding)),f.data&&"block"!=f.type&&"int8"!=f.type&&"uint8"!=f.type&&"ascii"!=f.encoding?f.endian=k:"block"==f.type||"int8"==f.type||"uint8"==f.type||"ascii"==f.encoding?f.endian=void 0:("string"==typeof f.endian||f.endian instanceof String)&&(f.endian=S(f.endian));var g=void 0;if(void 0!==f.spaceDimension)g=f.spaceDimension;else if(void 0!==f.space)switch(f.space){case"right-anterior-superior":case"RAS":g=3;break;case"left-anterior-superior":case"LAS":g=3;break;case"left-posterior-superior":case"LPS":g=3;break;case"right-anterior-superior-time":case"RAST":g=4;break;case"left-anterior-superior-time":case"LAST":g=4;break;case"left-posterior-superior-time":case"LPST":g=4;break;case"scanner-xyz":g=3;break;case"scanner-xyz-time":g=4;break;case"3D-right-handed":case"3D-left-handed":g=3;break;case"3D-right-handed-time":case"3D-left-handed-time":g=4;break;default:console.warn("Unrecognized space: "+f.space)}for(M(f),t=0;t<f.sizes.length;t++){if(f.sizes[t]<=0)throw new Error("Sizes should be a list of positive (>0) integers!");d*=f.sizes[t]}if(f.data){if(f.data.length<d)throw new Error("Missing data to serialize!")}else if(f.buffer){if("raw"==f.encoding&&(a="block"==f.type&&void 0!==f.blockSize?f.blockSize:D(f.type),f.buffer.byteLength<d*a))throw new Error("Missing data to serialize!")}else if(!f.dataFile)throw new Error("Will not serialize an empty NRRD file!");if(f.data)switch(f.encoding){case"raw":s=f.type==o&&f.endian==k?f.data.buffer.slice(f.data.byteOffset,f.data.byteOffset+f.data.byteLength):f.endian==k?(s=L(f.data,f.type)).buffer.slice(s.byteOffset,s.byteOffset+s.byteLength):function(e,t,n){var r,i,o,a=D(t),s=new ArrayBuffer(e.length*a);switch(n){case"big":i=!1;break;case"little":i=!0;break;default:return void console.warn("Unsupported endianness in NRRD file: "+n)}switch(o=new DataView(s),t){case"int8":for(r=0;r<e.length;r++)o.setInt8(r,e[r],i);return s;case"uint8":for(r=0;r<e.length;r++)o.setUint8(r,e[r],i);return s;case"int16":for(r=0;r<e.length;r++)o.setInt16(2*r,e[r],i);return s;case"uint16":for(r=0;r<e.length;r++)o.setUint16(2*r,e[r],i);return s;case"int32":for(r=0;r<e.length;r++)o.setInt32(4*r,e[r],i);return s;case"uint32":for(r=0;r<e.length;r++)o.setUint32(4*r,e[r],i);return s;case"float":for(r=0;r<e.length;r++)o.setFloat32(4*r,e[r],i);return s;case"double":for(r=0;r<e.length;r++)o.setFloat64(8*r,e[r],i);return s;default:return void console.warn("Cannot serialize NRRD type: "+t+".")}}(f.data,f.type,f.endian);break;case"ascii":s=f.type==o?N(f.data):N(L(f.data,f.type));break;default:throw new Error("Unsupported NRRD encoding: "+f.encoding)}else f.buffer&&(s=f.buffer);p.push("NRRD0005"),p.push("# Generated by nrrd-js");var v=["dimension","spaceDimension","space"];for(t=0;t<v.length;t++)void 0!==f[i=v[t]]&&void 0!==(u=l(i,f[i],f.dimension,g))&&p.push(u);for(i in f)void 0!==f[i]&&(v.indexOf(i)>=0||void 0!==(u=l(i,f[i],f.dimension,g))&&p.push(u));if(f.keys)for(i in f.keys){if(i.indexOf(":=")>=0)throw new Error("The combination ':=' is not allowed in an NRRD key!");p.push(i+":="+f[i].replace("\\","\\\\").replace("\n","\\n"))}if(f.dataFile&&f.dataFile.length?(p.push("data file: LIST"),Array.prototype.push.apply(p,f.dataFile)):f.dataFile&&f.dataFile.files&&"subdim"in f.dataFile&&(p.push("data file: LIST "+f.dataFile.subdim),Array.prototype.push.apply(p,f.dataFile.files)),!s||"dataFile"in f)for(p.push(""),h=p.join("\n"),n=new ArrayBuffer(h.length),r=new Uint8Array(n),t=0;t<h.length;t++)r[t]=h.charCodeAt(t);else{for(p.push(""),p.push(""),h=p.join("\n"),n=new ArrayBuffer(h.length+s.byteLength),r=new Uint8Array(n),t=0;t<h.length;t++)r[t]=h.charCodeAt(t);c=new Uint8Array(s),r.set(c,h.length)}return n},e.exports.parse=function(e){var t,n,r,l,u,h,g={data:void 0,buffer:void 0,keys:{},version:void 0},v=new Uint8Array(e);for(v.buffer!==e&&(e=v.buffer),t=2;t<v.length;)if(10==v[t]){if(10==v[t-1]||13==v[t-1]&&10==v[t-2]){r=t+1;break}t++}else 13==v[t]?t++:t+=2;if(void 0===r?n=String.fromCharCode.apply(null,v):(n=String.fromCharCode.apply(null,v.subarray(0,r)),g.buffer=e.slice(r)),l=(l=n.split(i)).filter((function(e){return e.length>0&&"#"!=e[0]})),!o.test(l[0]))throw new Error("File is not an NRRD file!");for(g.version=parseInt(l[0].substring(4,8),10),g.version>5&&console.warn("Reading an unsupported version of the NRRD format; things may go haywire."),t=1;t<l.length;t++)if(u=a.exec(l[t]))if(": "==u[2])u[1]=d(u[1]),"dataFile"==u[1]&&(h=s.exec(u[3]))?(2==h.length&&h[1]?g[u[1]]={files:l.slice(t+1),subdim:f(h[1])}:g[u[1]]=l.slice(t+1),l.length=t):g[u[1]]=c(u[1],u[3]);else{if(":="!=u[2])throw new Error("Logic error in NRRD parser.");g.keys[u[1]]=u[3].split("\\\\").map((function(e){return e.replace("\\n","\n")})).join("\\")}else console.warn("Unrecognized line in NRRD header: "+l[t]);if(M(g),"dataFile"in g)console.warn("No support for external data yet!");else switch(g.encoding){case"raw":g.data=function(e,t,n,r){var i,o,a,s=1;for(i=0;i<n.length;i++){if(n[i]<=0)throw new Error("Sizes should be a list of positive (>0) integers!");s*=n[i]}if("block"==t)return e.slice(0,s*r.blockSize);if("int8"==t||"uint8"==t||r.endian==k)switch(t){case"int8":return l(1),new Int8Array(e.slice(0,s));case"uint8":return l(1),new Uint8Array(e.slice(0,s));case"int16":return l(2),new Int16Array(e.slice(0,2*s));case"uint16":return l(2),new Uint16Array(e.slice(0,2*s));case"int32":return l(4),new Int32Array(e.slice(0,4*s));case"uint32":return l(4),new Uint32Array(e.slice(0,4*s));case"float":return l(4),new Float32Array(e.slice(0,4*s));case"double":return l(8),new Float64Array(e.slice(0,8*s));default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.")}else{switch(r.endian){case"big":!1;break;case"little":!0;break;default:return void console.warn("Unsupported endianness in NRRD file: "+r.endian)}switch(a=new DataView(e),t){case"int8":for(o=new Int8Array(s),i=0;i<s;i++)o[i]=a.getInt8(i);return o;case"uint8":for(o=new Uint8Array(s),i=0;i<s;i++)o[i]=a.getUint8(i);return o;case"int16":for(o=new Int16Array(s),i=0;i<s;i++)o[i]=a.getInt16(2*i);return o;case"uint16":for(o=new Uint16Array(s),i=0;i<s;i++)o[i]=a.getUint16(2*i);return o;case"int32":for(o=new Int32Array(s),i=0;i<s;i++)o[i]=a.getInt32(4*i);return o;case"uint32":for(o=new Uint32Array(s),i=0;i<s;i++)o[i]=a.getUint32(4*i);return o;case"float":for(o=new Float32Array(s),i=0;i<s;i++)o[i]=a.getFloat32(4*i);return o;case"double":for(o=new Float64Array(s),i=0;i<s;i++)o[i]=a.getFloat64(8*i);return o;default:return void console.warn("Unsupported NRRD type: "+t+", returning raw buffer.")}}function l(t){if(e.byteLength<s*t)throw new Error("NRRD file does not contain enough data!")}}(g.buffer,g.type,g.sizes,{endian:g.endian,blockSize:g.blockSize});break;case"ascii":g.data=function(e,t,n){var r,i,o,a,s=1;for(r=0;r<n.length;r++){if(n[r]<=0)throw new Error("Sizes should be a list of positive (>0) integers!");s*=n[r]}if(i=new Uint8Array(e),o=String.fromCharCode.apply(null,i),(a=o.split(O)).length<s)throw new Error("Not enough data in NRRD file!");a.length>s&&(""===a[0]&&(a=a.slice(1)),a=a.slice(0,s));switch(t){case"int8":return new Int8Array(a.map(f));case"uint8":return new Uint8Array(a.map(f));case"int16":return new Int16Array(a.map(f));case"uint16":return new Uint16Array(a.map(f));case"int32":return new Int32Array(a.map(f));case"uint32":return new Uint32Array(a.map(f));case"float":return new Float32Array(a.map(p));case"double":return new Float64Array(a.map(p));default:return void console.warn("Unsupported NRRD type: "+t+".")}}(g.buffer,g.type,g.sizes);break;default:console.warn("Unsupported NRRD encoding: "+g.encoding)}return g};var u={"block size":"blockSize",blocksize:"blockSize","old min":"oldMin",oldmin:"oldMin","old max":"oldMax",oldmax:"oldMax","data file":"dataFile",datafile:"dataFile","line skip":"lineSkip",lineskip:"lineSkip","byte skip":"byteSkip",byteskip:"byteSkip","sample units":"sampleUnits",sampleunits:"sampleUnits","axis mins":"axisMins","axis maxs":"axisMaxs",centers:"centers",centerings:"centers","space dimension":"spaceDimension","space units":"spaceUnits","space origin":"spaceOrigin","space directions":"spaceDirections","measurement frame":"measurementFrame"},h=function(){var e,t={};for(e in u)t[u[e]]=e;return t}();function d(e){return(e=e.toLowerCase())in u?u[e]:e}function f(e){var t=parseInt(e,10);if(Number.isNaN(t))throw new Error("Malformed NRRD integer: "+e);return t}function p(e){if((e=e.toLowerCase()).indexOf("nan")>=0)return NaN;if(e.indexOf("-inf")>=0)return-1/0;if(e.indexOf("inf")>=0)return 1/0;var t=parseFloat(e);if(Number.isNaN(t))throw new Error("Malformed NRRD float: "+e);return t}function g(e){if("none"==e)return null;if(e.length<2||"("!==e[0]||")"!==e[e.length-1])throw new Error("Malformed NRRD vector: "+e);return e.slice(1,-1).split(",").map(p)}function v(e){if(length<2||'"'!=e[0]||'"'!=e[e.length-1])throw new Error("Invalid NRRD quoted string: "+e);return e.slice(1,-1).replace('\\"','"')}function m(e){return'"'+e.replace('"','\\"')+'"'}var y=/[ \t]+/;function A(e,t){return e.split(y).map(t)}function b(e){switch(e.toLowerCase()){case"signed char":case"int8":case"int8_t":return"int8";case"uchar":case"unsigned char":case"uint8":case"uint8_t":return"uint8";case"short":case"short int":case"signed short":case"signed short int":case"int16":case"int16_t":return"int16";case"ushort":case"unsigned short":case"unsigned short int":case"uint16":case"uint16_t":return"uint16";case"int":case"signed int":case"int32":case"int32_t":return"int32";case"uint":case"unsigned int":case"uint32":case"uint32_t":return"uint32";case"longlong":case"long long":case"long long int":case"signed long long":case"signed long long int":case"int64":case"int64_t":return"int64";case"ulonglong":case"unsigned long long":case"unsigned long long int":case"uint64":case"uint64_t":return"uint64";case"float":return"float";case"double":return"double";case"block":return"block";default:return console.warn("Unrecognized NRRD type: "+e),e}}function w(e){switch(e.toLowerCase()){case"raw":return"raw";case"txt":case"text":case"ascii":return"ascii";case"hex":return"hex";case"gz":case"gzip":return"gzip";case"bz2":case"bzip2":return"bzip2";default:return console.warn("Unrecognized NRRD encoding: "+e),e}}function S(e){switch(e.toLowerCase()){case"little":return"little";case"big":return"big";default:return console.warn("Unrecognized NRRD endianness: "+e),e}}var x=/ (-?\d+) (-?\d+) (-?\d+)(?: (\d+))?$/;function E(e){switch(e.toLowerCase()){case"cell":return"cell";case"node":return"node";case"???":case"none":return null;default:return console.warn("Unrecognized NRRD center: "+e),e}}var C={domain:"domain",space:"space",time:"time",list:"list",point:"point",vector:"vector","covariant-vector":"covariant-vector",normal:"normal",stub:"stub",scalar:"scalar",complex:"complex","2-vector":"2-vector","3-color":"3-color","rgb-color":"RGB-color","hsv-color":"HSV-color","xyz-color":"XYZ-color","4-color":"4-color","rgba-color":"RGBA-color","3-vector":"3-vector","3-gradient":"3-gradient","3-normal":"3-normal","4-vector":"4-vector",quaternion:"quaternion","2d-symmetric-matrix":"2D-symmetric-matrix","2d-masked-symmetric-matrix":"2D-masked-symmetric-matrix","2d-matrix":"2D-matrix","2d-masked-matrix":"2D-masked-matrix","3d-symmetric-matrix":"3D-symmetric-matrix","3d-masked-symmetric-matrix":"3D-masked-symmetric-matrix","3d-matrix":"3D-matrix","3d-masked-matrix":"3D-masked-matrix","???":null,none:null};function _(e){var t=e.toLowerCase();return t in C?C[t]:(console.warn("Unrecognized NRRD kind: "+e),e)}function R(e){return null===e?"???":e}var T,I,P,k=(T=new ArrayBuffer(4),I=new Uint32Array(T),P=new Uint8Array(T),I[0]=16909060,1==P[0]&&2==P[1]&&3==P[2]&&4==P[3]?"big":4==P[0]&&3==P[1]&&2==P[2]&&1==P[3]?"little":void console.warn("Unrecognized system endianness!"));var O=/[ \t\n\r\v\f]+/;function D(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":return 4;case"int64":case"uint64":return 8;case"float":return 4;case"double":return 8;default:throw new Error("Do not know the size of NRRD type: "+e)}}function M(e){if(void 0===e.dimension)throw new Error("Dimension missing from NRRD file!");if(void 0===e.type)throw new Error("Type missing from NRRD file!");if(void 0===e.encoding)throw new Error("Encoding missing from NRRD file!");if(void 0===e.sizes)throw new Error("Sizes missing from NRRD file!");if("block"!=e.type&&"int8"!=e.type&&"uint8"!=e.type&&"ascii"!=e.encoding&&void 0===e.endian)throw new Error("Endianness missing from NRRD file!");if("block"==e.type&&void 0===e.blockSize)throw new Error("Missing block size in NRRD file!");if(0===e.dimension)throw new Error("Zero-dimensional NRRD file?");if(e.dimension!=e.sizes.length)throw new Error("Length of 'sizes' is different from 'dimension' in an NRRD file!");if(e.spacings&&e.dimension!=e.spacings.length)throw new Error("Length of 'spacings' is different from 'dimension' in an NRRD file!");if(e.thicknesses&&e.dimension!=e.thicknesses.length)throw new Error("Length of 'thicknesses' is different from 'dimension' in an NRRD file!");if(e.axisMins&&e.dimension!=e.axisMins.length)throw new Error("Length of 'axis mins' is different from 'dimension' in an NRRD file!");if(e.axisMaxs&&e.dimension!=e.axisMaxs.length)throw new Error("Length of 'axis maxs' is different from 'dimension' in an NRRD file!");if(e.centers&&e.dimension!=e.centers.length)throw new Error("Length of 'centers' is different from 'dimension' in an NRRD file!");if(e.labels&&e.dimension!=e.labels.length)throw new Error("Length of 'labels' is different from 'dimension' in an NRRD file!");if(e.units&&e.dimension!=e.units.length)throw new Error("Length of 'units' is different from 'dimension' in an NRRD file!");if(e.kinds&&e.dimension!=e.kinds.length)throw new Error("Length of 'kinds' is different from 'dimension' in an NRRD file!");if(!(void 0!==e.data&&0!==e.data.length||void 0!==e.buffer&&0!==e.buffer.byteLength||void 0!==e.dataFile))throw new Error("NRRD file has neither inline or external data!")}function L(e,t){switch(t){case"int8":return new Int8Array(e);case"uint8":return new Uint8Array(e);case"int16":return new Int16Array(e);case"uint16":return new Uint16Array(e);case"int32":return new Int32Array(e);case"uint32":return new Uint32Array(e);case"float":return new Float32Array(e);case"double":return new Float64Array(e);default:throw new Error("Cannot cast to NRRD type: "+t)}}function N(e){var t,n,r,i,o=new Array(e.length);for(t=0;t<e.length;t++)o[t]=""+e[t];for(n=o.join(" "),r=new ArrayBuffer(n.length),i=new Uint8Array(r),t=0;t<i.length;t++)i[t]=n.charCodeAt(t);return r}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};e.exports=function(e,t){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[e[a]]=r[a]}}return n[t]}},function(e,t,n){"use strict";var r=n(59),i={body:"",args:[],thisVars:[],localVars:[]};function o(e){if(!e)return i;for(var t=0;t<e.args.length;++t){var n=e.args[t];e.args[t]=0===t?{name:n,lvalue:!0,rvalue:!!e.rvalue,count:e.count||1}:{name:n,lvalue:!1,rvalue:!0,count:1}}return e.thisVars||(e.thisVars=[]),e.localVars||(e.localVars=[]),e}function a(e){for(var t=[],n=0;n<e.args.length;++n)t.push("a"+n);return new Function("P",["return function ",e.funcName,"_ndarrayops(",t.join(","),") {P(",t.join(","),");return a0}"].join(""))(function(e){return r({args:e.args,pre:o(e.pre),body:o(e.body),post:o(e.proc),funcName:e.funcName})}(e))}var s={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};!function(){for(var e in s){var n=s[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:e}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a"+n+"=b"},rvalue:!0,funcName:e+"eq"}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:e+"s"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a"+n+"=s"},rvalue:!0,funcName:e+"seq"})}}();var l={not:"!",bnot:"~",neg:"-",recip:"1.0/"};!function(){for(var e in l){var n=l[e];t[e]=a({args:["array","array"],body:{args:["a","b"],body:"a="+n+"b"},funcName:e}),t[e+"eq"]=a({args:["array"],body:{args:["a"],body:"a="+n+"a"},rvalue:!0,count:2,funcName:e+"eq"})}}();var c={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};!function(){for(var e in c){var n=c[e];t[e]=a({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+n+"c"},funcName:e}),t[e+"s"]=a({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+n+"s"},funcName:e+"s"}),t[e+"eq"]=a({args:["array","array"],body:{args:["a","b"],body:"a=a"+n+"b"},rvalue:!0,count:2,funcName:e+"eq"}),t[e+"seq"]=a({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+n+"s"},rvalue:!0,count:2,funcName:e+"seq"})}}();var u=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];!function(){for(var e=0;e<u.length;++e){var n=u[e];t[n]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:n}),t[n+"eq"]=a({args:["array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"})}}();var h=["max","min","atan2","pow"];!function(){for(var e=0;e<h.length;++e){var n=h[e];t[n]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n}),t[n+"s"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:n+"s"}),t[n+"eq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"eq"}),t[n+"seq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"seq"})}}();var d=["atan2","pow"];!function(){for(var e=0;e<d.length;++e){var n=d[e];t[n+"op"]=a({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"op"}),t[n+"ops"]=a({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:n+"ops"}),t[n+"opeq"]=a({args:["array","array"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opeq"}),t[n+"opseq"]=a({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+n,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:n+"opseq"})}}(),t.any=r({args:["array"],pre:i,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),t.all=r({args:["array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),t.sum=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),t.prod=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),t.norm2squared=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),t.norm2=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),t.norminf=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),t.norm1=r({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),t.sup=r({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.inf=r({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),t.argmin=r({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.argmax=r({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),t.random=a({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),t.assign=a({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),t.assigns=a({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),t.equals=r({args:["array","array"],pre:i,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})},function(e,t,n){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";var r={};(0,n(3).assign)(r,n(157),n(160),n(34)),e.exports=r},,,function(e,t,n){"use strict";function r(e,t){this.method=e,this.position=t}e.exports=r,r.roleKeyName=Symbol("roles")},function(e,t,n){"use strict";e.exports.isObjectProto=function(e){return e===Object.prototype};const r={},i={},o=Boolean,a=Number,s=String,l={true:new o(!0),false:new o(!1)},c={},u={};e.exports.dispatchableObject=function(e){const t=Object;if(null===e)return r;if(void 0===e)return i;switch(typeof e){case"object":return e;case"boolean":return l[e];case"number":return c[e]||(c[e]=new a(e));case"string":return u[e]||(u[e]=new s(e));default:return new t(e)}}},function(e,t,n){var r=n(47),i=n(48);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"==e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},function(e,t){e.exports=function(e,t,n){var r;if(n){var i=n.tempAttribState,o=n.attribState;for(r=0;r<i.length;r++)i[r]=!1;for(r=0;r<t.length;r++)i[t[r].attribute.location]=!0;for(r=0;r<o.length;r++)o[r]!==i[r]&&(o[r]=i[r],n.attribState[r]?e.enableVertexAttribArray(r):e.disableVertexAttribArray(r))}else for(r=0;r<t.length;r++){var a=t[r];e.enableVertexAttribArray(a.attribute.location)}}},function(e,t){var n=function(e,t,n,r,i){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=r||e.RGBA,this.type=i||e.UNSIGNED_BYTE};n.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var n=e.videoWidth||e.width,r=e.videoHeight||e.height;r!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=r};var r=!1;n.prototype.uploadData=function(e,t,n){this.bind();var i=this.gl;if(e instanceof Float32Array){if(!r){if(!i.getExtension("OES_texture_float"))throw new Error("floating point textures not available");r=!0}this.type=i.FLOAT}else this.type=this.type||i.UNSIGNED_BYTE;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?i.texImage2D(i.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):i.texSubImage2D(i.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},n.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},n.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},n.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},n.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},n.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},n.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},n.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},n.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},n.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},n.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},n.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},n.fromSource=function(e,t,r){var i=new n(e);return i.premultiplyAlpha=r||!1,i.upload(t),i},n.fromData=function(e,t,r,i){var o=new n(e);return o.uploadData(t,r,i),o},e.exports=n},function(e,t){var n=function(e,t,n){var r=e.createShader(t);return e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS)?r:(console.log(e.getShaderInfoLog(r)),null)};e.exports=function(e,t,r,i){var o=n(e,e.VERTEX_SHADER,t),a=n(e,e.FRAGMENT_SHADER,r),s=e.createProgram();if(e.attachShader(s,o),e.attachShader(s,a),i)for(var l in i)e.bindAttribLocation(s,i[l],l);return e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(s,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(s)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(s)),e.deleteProgram(s),s=null),e.deleteShader(o),e.deleteShader(a),s}},function(e,t,n){var r=n(9),i=n(22),o=function(e,t,n,r){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,r||0)};e.exports=function(e,t){for(var n={},a=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),s=0;s<a;s++){var l=e.getActiveAttrib(t,s),c=r(e,l.type);n[l.name]={type:c,size:i(c),location:e.getAttribLocation(t,l.name),pointer:o}}return n}},function(e,t){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};e.exports=function(e){return n[e]}},function(e,t,n){var r=n(9),i=n(24);e.exports=function(e,t){for(var n={},o=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=e.getActiveUniform(t,a),l=s.name.replace(/\[.*?\]/,""),c=r(e,s.type);n[l]={type:c,size:s.size,location:e.getUniformLocation(t,l),value:i(c,s.size)}}return n}},function(e,t){var n=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};e.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},function(e,t){e.exports=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+" float;\n"+e:e}},function(e,t){var n=function(e){var t=o.replace("%%",e);return new Function(t)},r=function(e,t){var n,r=a.replace(/%%/g,e);return(n=1===t.size?s[t.type]:l[t.type])&&(r+="\nthis.gl."+n+";"),new Function("value",r)},i=function(e,t){for(var n=t,r=0;r<e.length-1;r++){var i=n[e[r]]||{data:{}};n[e[r]]=i,n=i}return n},o=["return this.data.%%.value;"].join("\n"),a=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),s={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};e.exports=function(e,t){var o={data:{}};o.gl=e;for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s],c=l.split("."),u=c[c.length-1],h=i(c,o),d=t[l];h.data[u]=d,h.gl=e,Object.defineProperty(h,u,{get:n(u),set:r(u,d)})}return o}},function(e,t){e.exports="precision highp float;\r\n\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\nvarying vec2 vTextureCoord;\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4(aVertexPosition, 0.0, 1.0);\r\n    vTextureCoord = aTextureCoord;\r\n}\r\n"},function(e,t,n){var r,i,o;!function(n,a){"use strict";i=[t],void 0===(o="function"==typeof(r=a)?r.apply(t,i):r)||(e.exports=o);var s={};n.PubSub=s,a(s)}("object"==typeof window&&window||this,(function(e){"use strict";var t={},n=-1;function r(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}function i(e,t,n){try{e(t,n)}catch(e){setTimeout(function(e){return function(){throw e}}(e),0)}}function o(e,t,n){e(t,n)}function a(e,n,r,a){var s,l=t[n],c=a?o:i;if(t.hasOwnProperty(n))for(s in l)l.hasOwnProperty(s)&&c(l[s],e,r)}function s(e,n,i,o){var s=function(e,t,n){return function(){var r=String(e),i=r.lastIndexOf(".");for(a(e,e,t,n);-1!==i;)i=(r=r.substr(0,i)).lastIndexOf("."),a(e,r,t,n)}}(e,n,o);return!!function(e){for(var n=String(e),i=Boolean(t.hasOwnProperty(n)&&r(t[n])),o=n.lastIndexOf(".");!i&&-1!==o;)o=(n=n.substr(0,o)).lastIndexOf("."),i=Boolean(t.hasOwnProperty(n)&&r(t[n]));return i}(e)&&(!0===i?s():setTimeout(s,0),!0)}e.publish=function(t,n){return s(t,n,!1,e.immediateExceptions)},e.publishSync=function(t,n){return s(t,n,!0,e.immediateExceptions)},e.subscribe=function(e,r){if("function"!=typeof r)return!1;t.hasOwnProperty(e)||(t[e]={});var i="uid_"+String(++n);return t[e][i]=r,i},e.clearAllSubscriptions=function(){t={}},e.clearSubscriptions=function(e){var n;for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&delete t[n]},e.unsubscribe=function(n){var r,i,o,a="string"==typeof n&&(t.hasOwnProperty(n)||function(e){var n;for(n in t)if(t.hasOwnProperty(n)&&0===n.indexOf(e))return!0;return!1}(n)),s=!a&&"string"==typeof n,l="function"==typeof n,c=!1;if(!a){for(r in t)if(t.hasOwnProperty(r)){if(i=t[r],s&&i[n]){delete i[n],c=n;break}if(l)for(o in i)i.hasOwnProperty(o)&&i[o]===n&&(delete i[o],c=!0)}return c}e.clearSubscriptions(n)}}))},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.4.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2019-05-01T21:04Z
 */!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,h=o.indexOf,d={},f=d.toString,p=d.hasOwnProperty,g=p.toString,v=g.call(Object),m={},y=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},A=function(e){return null!=e&&e===e.window},b={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var r,i,o=(n=n||a).createElement("script");if(o.text=e,t)for(r in b)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function S(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[f.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)},E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function C(e){var t=!!e&&"length"in e&&e.length,n=S(e);return!y(e)&&!A(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.4.1",constructor:x,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||y(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(c&&r&&(x.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||x.isPlainObject(n)?n:{},i=!1,a[t]=x.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},x.extend({expando:"jQuery"+("3.4.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==f.call(e))&&(!(t=s(e))||"function"==typeof(n=p.call(t,"constructor")&&t.constructor)&&g.call(n)===v)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t){w(e,{nonce:t&&t.nonce})},each:function(e,t){var n,r=0;if(C(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(E,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(C(Object(e))?x.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(C(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return c.apply([],a)},guid:1,support:m}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var _=
/*!
 * Sizzle CSS Selector Engine v2.3.4
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://js.foundation/
 *
 * Date: 2019-04-08
 */
function(e){var t,n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,m,y,A,b="sizzle"+1*new Date,w=e.document,S=0,x=0,E=le(),C=le(),_=le(),R=le(),T=function(e,t){return e===t&&(h=!0),0},I={}.hasOwnProperty,P=[],k=P.pop,O=P.push,D=P.push,M=P.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",U="\\["+B+"*("+j+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+j+"))|)"+B+"*\\]",V=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",F=new RegExp(B+"+","g"),z=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),G=new RegExp("^"+B+"*,"+B+"*"),Q=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp(B+"|>"),H=new RegExp(V),Y=new RegExp("^"+j+"$"),q={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+V),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},K=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){d()},ae=be((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{D.apply(P=M.call(w.childNodes),w.childNodes),P[w.childNodes.length].nodeType}catch(e){D={apply:P.length?function(e,t){O.apply(e,M.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,c,u,h,p,m,y=t&&t.ownerDocument,S=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==S&&9!==S&&11!==S)return r;if(!i&&((t?t.ownerDocument||t:w)!==f&&d(t),t=t||f,g)){if(11!==S&&(h=$.exec(e)))if(o=h[1]){if(9===S){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(y&&(c=y.getElementById(o))&&A(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return D.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return D.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!R[e+" "]&&(!v||!v.test(e))&&(1!==S||"object"!==t.nodeName.toLowerCase())){if(m=e,y=t,1===S&&W.test(e)){for((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=b),s=(p=a(e)).length;s--;)p[s]="#"+u+" "+Ae(p[s]);m=p.join(","),y=ee.test(e)&&me(t.parentNode)||t}try{return D.apply(r,y.querySelectorAll(m)),r}catch(t){R(e,!0)}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(z,"$1"),t,r,i)}function le(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function ce(e){return e[b]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function he(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function de(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function ge(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ve(e){return ce((function(t){return t=+t,ce((function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))}))}))}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e.namespaceURI,n=(e.ownerDocument||e).documentElement;return!K.test(t||n&&n.nodeName||"HTML")},d=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!o(f),w!==f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.attributes=ue((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=ue((function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=ue((function(e){return p.appendChild(e).id=b,!f.getElementsByName||!f.getElementsByName(b).length})),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=Z.test(f.querySelectorAll))&&(ue((function(e){p.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+B+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")})),ue((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),p.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")}))),(n.matchesSelector=Z.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&ue((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),m.push("!=",V)})),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=Z.test(p.compareDocumentPosition),A=t||Z.test(p.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===f||e.ownerDocument===w&&A(w,e)?-1:t===f||t.ownerDocument===w&&A(w,t)?1:u?L(u,e)-L(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===f?-1:t===f?1:i?-1:o?1:u?L(u,e)-L(u,t):0;if(i===o)return de(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?de(a[r],s[r]):a[r]===w?-1:s[r]===w?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&d(e),n.matchesSelector&&g&&!R[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){R(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!==f&&d(e),A(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!==f&&d(e);var i=r.attrHandle[t.toLowerCase()],o=i&&I.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:ce,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&H.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&E(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s,A=!1;if(v){if(o){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?v.firstChild:v.lastChild],a&&y){for(A=(f=(c=(u=(h=(d=v)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&c[1])&&c[2],d=f&&v.childNodes[f];d=++f&&d&&d[g]||(A=f=0)||p.pop();)if(1===d.nodeType&&++A&&d===t){u[e]=[S,f,A];break}}else if(y&&(A=f=(c=(u=(h=(d=t)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]||[])[0]===S&&c[1]),!1===A)for(;(d=++f&&d&&d[g]||(A=f=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++A||(y&&((u=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[e]=[S,A]),d!==t)););return(A-=i)===r||A%r==0&&A/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=L(e,o[a])]=!(n[r]=o[a])})):function(e){return i(e,0,n)}):i}},pseudos:{not:ce((function(e){var t=[],n=[],r=s(e.replace(z,"$1"));return r[b]?ce((function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))})):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return se(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}})),lang:ce((function(e){return Y.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===p},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(e,t){return[t-1]})),eq:ve((function(e,t,n){return[n<0?n+t:n]})),even:ve((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:ve((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:ve((function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e})),gt:ve((function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e}))}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ye(){}function Ae(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=x++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,l){var c,u,h,d=[S,s];if(l){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,l))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(h=t[b]||(t[b]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=u[o])&&c[0]===S&&c[1]===s)return d[2]=c[2];if(u[o]=d,d[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function Se(e,t,n,r,i){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function xe(e,t,n,r,i,o){return r&&!r[b]&&(r=xe(r)),i&&!i[b]&&(i=xe(i,o)),ce((function(o,a,s,l){var c,u,h,d=[],f=[],p=a.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:Se(g,d,e,s,l),m=n?i||(o?e:p||r)?[]:a:v;if(n&&n(v,m,s,l),r)for(c=Se(m,f),r(c,[],s,l),u=c.length;u--;)(h=c[u])&&(m[f[u]]=!(v[f[u]]=h));if(o){if(i||e){if(i){for(c=[],u=m.length;u--;)(h=m[u])&&c.push(v[u]=h);i(null,m=[],c,l)}for(u=m.length;u--;)(h=m[u])&&(c=i?L(o,h):d[u])>-1&&(o[c]=!(a[c]=h))}}else m=Se(m===a?m.splice(p,m.length):m),i?i(null,a,m,l):D.apply(a,m)}))}function Ee(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],l=a?1:0,u=be((function(e){return e===t}),s,!0),h=be((function(e){return L(t,e)>-1}),s,!0),d=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?u(e,n,r):h(e,n,r));return t=null,i}];l<o;l++)if(n=r.relative[e[l].type])d=[be(we(d),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[b]){for(i=++l;i<o&&!r.relative[e[i].type];i++);return xe(l>1&&we(d),l>1&&Ae(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(z,"$1"),n,l<i&&Ee(e.slice(l,i)),i<o&&Ee(e=e.slice(i)),i<o&&Ae(e))}d.push(n)}return we(d)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,l,c,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(a in n&&!(i=G.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),n=!1,(i=Q.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(z," ")}),s=s.slice(n.length)),r.filter)!(i=q[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,l).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=_[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[b]?i.push(s):o.push(s);(s=_(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,l,u){var h,p,v,m=0,y="0",A=o&&[],b=[],w=c,x=o||i&&r.find.TAG("*",u),E=S+=null==w?1:Math.random()||.1,C=x.length;for(u&&(c=a===f||a||u);y!==C&&null!=(h=x[y]);y++){if(i&&h){for(p=0,a||h.ownerDocument===f||(d(h),s=!g);v=e[p++];)if(v(h,a||f,s)){l.push(h);break}u&&(S=E)}n&&((h=!v&&h)&&m--,o&&A.push(h))}if(m+=y,n&&y!==m){for(p=0;v=t[p++];)v(A,b,a,s);if(o){if(m>0)for(;y--;)A[y]||b[y]||(b[y]=k.call(l));b=Se(b)}D.apply(l,b),u&&!o&&b.length>0&&m+t.length>1&&se.uniqueSort(l)}return u&&(S=E,c=w),A};return n?ce(o):o}(o,i))).selector=e}return s},l=se.select=function(e,t,n,i){var o,l,c,u,h,d="function"==typeof e&&e,f=!i&&a(e=d.selector||e);if(n=n||[],1===f.length){if((l=f[0]=f[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=q.needsContext.test(e)?0:l.length;o--&&(c=l[o],!r.relative[u=c.type]);)if((h=r.find[u])&&(i=h(c.matches[0].replace(te,ne),ee.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=i.length&&Ae(l)))return D.apply(n,i),n;break}}return(d||s(e,f))(i,t,!g,n,!t||ee.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(T).join("")===b,n.detectDuplicates=!!h,d(),n.sortDetached=ue((function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))})),ue((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||he("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&ue((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||he("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),ue((function(e){return null==e.getAttribute("disabled")}))||he(N,(function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null})),se}(n);x.find=_,x.expr=_.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=_.uniqueSort,x.text=_.getText,x.isXMLDoc=_.isXML,x.contains=_.contains,x.escapeSelector=_.escape;var R=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&x(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},I=x.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var k=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return y(t)?x.grep(e,(function(e,r){return!!t.call(e,r,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return h.call(t,e)>-1!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?x.find.matchesSelector(r,e)?[r]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<r;t++)if(x.contains(i[t],this))return!0})));for(n=this.pushStack([]),t=0;t<r;t++)x.find(e,i[t],n);return r>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&I.test(e)?x(e):e||[],!1).length}});var D,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:M.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof x?t[0]:t,x.merge(this,x.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),k.test(r[1])&&x.isPlainObject(t))for(r in t)y(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):y(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,D=x(a);var L=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function B(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&x(e);if(!I.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(x(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return R(e,"parentNode")},parentsUntil:function(e,t,n){return R(e,"parentNode",n)},next:function(e){return B(e,"nextSibling")},prev:function(e){return B(e,"previousSibling")},nextAll:function(e){return R(e,"nextSibling")},prevAll:function(e){return R(e,"previousSibling")},nextUntil:function(e,t,n){return R(e,"nextSibling",n)},prevUntil:function(e,t,n){return R(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return void 0!==e.contentDocument?e.contentDocument:(P(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,r){var i=x.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=x.filter(r,i)),this.length>1&&(N[e]||x.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}}));var j=/[^\x20\t\r\n\f]+/g;function U(e){return e}function V(e){throw e}function F(e,t,n,r){var i;try{e&&y(i=e.promise)?i.call(e).done(t).fail(n):e&&y(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(j)||[],(function(e,n){t[n]=!0})),t}(e):x.extend({},e);var t,n,r,i,o=[],a=[],s=-1,l=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){x.each(n,(function(n,r){y(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==S(r)&&t(r)}))}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--})),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(n){x.each(t,(function(t,r){var i=y(e[r[4]])&&e[r[4]];o[r[1]]((function(){var e=i&&i.apply(this,arguments);e&&y(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)}))})),e=null})).promise()},then:function(e,r,i){var o=0;function a(e,t,r,i){return function(){var s=this,l=arguments,c=function(){var n,c;if(!(e<o)){if((n=r.apply(s,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(c)?i?c.call(n,a(o,t,U,i),a(o,t,V,i)):(o++,c.call(n,a(o,t,U,i),a(o,t,V,i),a(o,t,U,t.notifyWith))):(r!==U&&(s=void 0,l=[n]),(i||t.resolveWith)(s,l))}},u=i?c:function(){try{c()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,u.stackTrace),e+1>=o&&(r!==V&&(s=void 0,l=[n]),t.rejectWith(s,l))}};e?u():(x.Deferred.getStackHook&&(u.stackTrace=x.Deferred.getStackHook()),n.setTimeout(u))}}return x.Deferred((function(n){t[0][3].add(a(0,n,y(i)?i:U,n.notifyWith)),t[1][3].add(a(0,n,y(e)?e:U)),t[2][3].add(a(0,n,y(r)?r:V))})).promise()},promise:function(e){return null!=e?x.extend(e,i):i}},o={};return x.each(t,(function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add((function(){r=s}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith})),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=l.call(arguments),o=x.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(F(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||y(i[n]&&i[n].then)))return o.then();for(;n--;)F(i[n],a(n),o.reject);return o.promise()}});var z=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&z.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout((function(){throw e}))};var G=x.Deferred();function Q(){a.removeEventListener("DOMContentLoaded",Q),n.removeEventListener("load",Q),x.ready()}x.fn.ready=function(e){return G.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||G.resolveWith(a,[x]))}}),x.ready.then=G.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(x.ready):(a.addEventListener("DOMContentLoaded",Q),n.addEventListener("load",Q));var W=function(e,t,n,r,i,o,a){var s=0,l=e.length,c=null==n;if("object"===S(n))for(s in i=!0,n)W(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,y(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;s<l;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):o},H=/^-ms-/,Y=/-([a-z])/g;function q(e,t){return t.toUpperCase()}function K(e){return e.replace(H,"ms-").replace(Y,q)}var X=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function J(){this.expando=x.expando+J.uid++}J.uid=1,J.prototype={cache:function(e){var t=e[this.expando];return t||(t={},X(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[K(t)]=n;else for(r in t)i[K(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][K(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(K):(t=K(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||x.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var Z=new J,$=new J,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}$.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return $.hasData(e)||Z.hasData(e)},data:function(e,t,n){return $.access(e,t,n)},removeData:function(e,t){$.remove(e,t)},_data:function(e,t,n){return Z.access(e,t,n)},_removeData:function(e,t){Z.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=$.get(o),1===o.nodeType&&!Z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=K(r.slice(5)),ne(o,r,i[r]));Z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each((function(){$.set(this,e)})):W(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=$.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each((function(){$.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){$.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Z.get(e,t),n&&(!r||Array.isArray(n)?r=Z.access(e,t,x.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=x.queue(e,t),r=n.length,i=n.shift(),o=x._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,(function(){x.dequeue(e,t)}),o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Z.get(e,n)||Z.access(e,n,{empty:x.Callbacks("once memory").add((function(){Z.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=x.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=Z.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=a.documentElement,se=function(e){return x.contains(e.ownerDocument,e)},le={composed:!0};ae.getRootNode&&(se=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(le)===e.ownerDocument});var ce=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===x.css(e,"display")},ue=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function he(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return x.css(e,t,"")},l=s(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),u=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&ie.exec(x.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;a--;)x.style(e,t,u+c),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),u/=o;u*=2,x.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=u,r.end=i)),i}var de={};function fe(e){var t,n=e.ownerDocument,r=e.nodeName,i=de[r];return i||(t=n.body.appendChild(n.createElement(r)),i=x.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),de[r]=i,i)}function pe(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=Z.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ce(r)&&(i[o]=fe(r))):"none"!==n&&(i[o]="none",Z.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}x.fn.extend({show:function(){return pe(this,!0)},hide:function(){return pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){ce(this)?x(this).show():x(this).hide()}))}});var ge=/^(?:checkbox|radio)$/i,ve=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i,ye={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Ae(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?x.merge([e],n):n}function be(e,t){for(var n=0,r=e.length;n<r;n++)Z.set(e[n],"globalEval",!t||Z.get(t[n],"globalEval"))}ye.optgroup=ye.option,ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td;var we,Se,xe=/<|&#?\w+;/;function Ee(e,t,n,r,i){for(var o,a,s,l,c,u,h=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===S(o))x.merge(d,o.nodeType?[o]:o);else if(xe.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(ve.exec(o)||["",""])[1].toLowerCase(),l=ye[s]||ye._default,a.innerHTML=l[1]+x.htmlPrefilter(o)+l[2],u=l[0];u--;)a=a.lastChild;x.merge(d,a.childNodes),(a=h.firstChild).textContent=""}else d.push(t.createTextNode(o));for(h.textContent="",f=0;o=d[f++];)if(r&&x.inArray(o,r)>-1)i&&i.push(o);else if(c=se(o),a=Ae(h.appendChild(o),"script"),c&&be(a),n)for(u=0;o=a[u++];)me.test(o.type||"")&&n.push(o);return h}we=a.createDocumentFragment().appendChild(a.createElement("div")),(Se=a.createElement("input")).setAttribute("type","radio"),Se.setAttribute("checked","checked"),Se.setAttribute("name","t"),we.appendChild(Se),m.checkClone=we.cloneNode(!0).cloneNode(!0).lastChild.checked,we.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!we.cloneNode(!0).lastChild.defaultValue;var Ce=/^key/,_e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Re=/^([^.]*)(?:\.(.+)|)/;function Te(){return!0}function Ie(){return!1}function Pe(e,t){return e===function(){try{return a.activeElement}catch(e){}}()==("focus"===t)}function ke(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)ke(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Ie;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return x().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=x.guid++)),e.each((function(){x.event.add(this,t,i,r,n)}))}function Oe(e,t,n){n?(Z.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=Z.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=l.call(arguments),Z.set(this,t,o),r=n(this,t),this[t](),o!==(i=Z.get(this,t))||r?Z.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i.value}else o.length&&(Z.set(this,t,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Z.get(e,t)&&x.event.add(e,t,Te)}x.event={global:{},add:function(e,t,n,r,i){var o,a,s,l,c,u,h,d,f,p,g,v=Z.get(e);if(v)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&x.find.matchesSelector(ae,i),n.guid||(n.guid=x.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)f=g=(s=Re.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f&&(h=x.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=x.event.special[f]||{},u=x.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&x.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||((d=l[f]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,p,a)||e.addEventListener&&e.addEventListener(f,a)),h.add&&(h.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,u):d.push(u),x.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,l,c,u,h,d,f,p,g,v=Z.hasData(e)&&Z.get(e);if(v&&(l=v.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(f=g=(s=Re.exec(t[c])||[])[1],p=(s[2]||"").split(".").sort(),f){for(h=x.event.special[f]||{},d=l[f=(r?h.delegateType:h.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)u=d[o],!i&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(d.splice(o,1),u.selector&&d.delegateCount--,h.remove&&h.remove.call(e,u));a&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,p,v.handle)||x.removeEvent(e,f,v.handle),delete l[f])}else for(f in l)x.event.remove(e,f+t[c],n,r,!0);x.isEmptyObject(l)&&Z.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=x.event.fix(e),l=new Array(arguments.length),c=(Z.get(this,"events")||{})[s.type]||[],u=x.event.special[s.type]||{};for(l[0]=s,t=1;t<arguments.length;t++)l[t]=arguments[t];if(s.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,s)){for(a=x.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==o.namespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((x.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,l))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?x(i,this).index(c)>-1:x.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,l<t.length&&s.push({elem:c,handlers:t.slice(l)}),s},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Oe(t,"click",Te),!1},trigger:function(e){var t=this||e;return ge.test(t.type)&&t.click&&P(t,"input")&&Oe(t,"click"),!0},_default:function(e){var t=e.target;return ge.test(t.type)&&t.click&&P(t,"input")&&Z.get(t,"click")||P(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Te:Ie,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Ie,isPropagationStopped:Ie,isImmediatePropagationStopped:Ie,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Te,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Te,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Te,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Ce.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&_e.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Oe(this,e,Pe),!1},trigger:function(){return Oe(this,e),!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||x.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,r){return ke(this,e,t,n,r)},one:function(e,t,n,r){return ke(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,x(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ie),this.each((function(){x.event.remove(this,e,n,t)}))}});var De=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Me=/<script|<style|<link/i,Le=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Be(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function je(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ue(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ve(e,t){var n,r,i,o,a,s,l,c;if(1===t.nodeType){if(Z.hasData(e)&&(o=Z.access(e),a=Z.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)x.event.add(t,i,c[i][n]);$.hasData(e)&&(s=$.access(e),l=x.extend({},s),$.set(t,l))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ge.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function ze(e,t,n,r){t=c.apply([],t);var i,o,a,s,l,u,h=0,d=e.length,f=d-1,p=t[0],g=y(p);if(g||d>1&&"string"==typeof p&&!m.checkClone&&Le.test(p))return e.each((function(i){var o=e.eq(i);g&&(t[0]=p.call(this,i,o.html())),ze(o,t,n,r)}));if(d&&(o=(i=Ee(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=x.map(Ae(i,"script"),je)).length;h<d;h++)l=i,h!==f&&(l=x.clone(l,!0,!0),s&&x.merge(a,Ae(l,"script"))),n.call(e[h],l,h);if(s)for(u=a[a.length-1].ownerDocument,x.map(a,Ue),h=0;h<s;h++)l=a[h],me.test(l.type||"")&&!Z.access(l,"globalEval")&&x.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?x._evalUrl&&!l.noModule&&x._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")}):w(l.textContent.replace(Ne,""),l,u))}return e}function Ge(e,t,n){for(var r,i=t?x.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||x.cleanData(Ae(r)),r.parentNode&&(n&&se(r)&&be(Ae(r,"script")),r.parentNode.removeChild(r));return e}x.extend({htmlPrefilter:function(e){return e.replace(De,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),l=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(a=Ae(s),r=0,i=(o=Ae(e)).length;r<i;r++)Fe(o[r],a[r]);if(t)if(n)for(o=o||Ae(e),a=a||Ae(s),r=0,i=o.length;r<i;r++)Ve(o[r],a[r]);else Ve(e,s);return(a=Ae(s,"script")).length>0&&be(a,!l&&Ae(e,"script")),s},cleanData:function(e){for(var t,n,r,i=x.event.special,o=0;void 0!==(n=e[o]);o++)if(X(n)){if(t=n[Z.expando]){if(t.events)for(r in t.events)i[r]?x.event.remove(n,r):x.removeEvent(n,r,t.handle);n[Z.expando]=void 0}n[$.expando]&&(n[$.expando]=void 0)}}}),x.fn.extend({detach:function(e){return Ge(this,e,!0)},remove:function(e){return Ge(this,e)},text:function(e){return W(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return ze(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Be(this,e).appendChild(e)}))},prepend:function(){return ze(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Be(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return ze(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(Ae(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return W(this,(function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!ye[(ve.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(Ae(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return ze(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(Ae(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,r=[],i=x(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),x(i[a])[t](n),u.apply(r,n.get());return this.pushStack(r)}}));var Qe=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),We=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},He=new RegExp(oe.join("|"),"i");function Ye(e,t,n){var r,i,o,a,s=e.style;return(n=n||We(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||se(e)||(a=x.style(e,t)),!m.pixelBoxStyles()&&Qe.test(a)&&He.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function qe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",ae.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);r="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",s=36===t(e.right),i=36===t(e.width),u.style.position="absolute",o=12===t(u.offsetWidth/3),ae.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,s,l,c=a.createElement("div"),u=a.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===u.style.backgroundClip,x.extend(m,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Ke=["Webkit","Moz","ms"],Xe=a.createElement("div").style,Je={};function Ze(e){var t=x.cssProps[e]||Je[e];return t||(e in Xe?e:Je[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Xe)return e}(e)||e)}var $e=/^(none|table(?!-c[ea]).+)/,et=/^--/,tt={position:"absolute",visibility:"hidden",display:"block"},nt={letterSpacing:"0",fontWeight:"400"};function rt(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function it(e,t,n,r,i,o){var a="width"===t?1:0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=x.css(e,n+oe[a],!0,i)),r?("content"===n&&(l-=x.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(l-=x.css(e,"border"+oe[a]+"Width",!0,i))):(l+=x.css(e,"padding"+oe[a],!0,i),"padding"!==n?l+=x.css(e,"border"+oe[a]+"Width",!0,i):s+=x.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function ot(e,t,n){var r=We(e),i=(!m.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,r),o=i,a=Ye(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Qe.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&i||"auto"===a||!parseFloat(a)&&"inline"===x.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===x.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+it(e,t,n||(i?"border":"content"),o,r,a)+"px"}function at(e,t,n,r,i){return new at.prototype.init(e,t,n,r,i)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ye(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=K(t),l=et.test(t),c=e.style;if(l||(t=Ze(s)),a=x.cssHooks[t]||x.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=he(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=i&&i[3]||(x.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=K(t);return et.test(t)||(t=Ze(s)),(a=x.cssHooks[t]||x.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ye(e,t,r)),"normal"===i&&t in nt&&(i=nt[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,r){if(n)return!$e.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ot(e,t,r):ue(e,tt,(function(){return ot(e,t,r)}))},set:function(e,n,r){var i,o=We(e),a=!m.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===x.css(e,"boxSizing",!1,o),l=r?it(e,t,r,s,o):0;return s&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-it(e,t,"border",!1,o)-.5)),l&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),rt(0,n,l)}}})),x.cssHooks.marginLeft=qe(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-ue(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(x.cssHooks[e+t].set=rt)})),x.fn.extend({css:function(e,t){return W(this,(function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=We(e),i=t.length;a<i;a++)o[t[a]]=x.css(e,t[a],!1,r);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=at,at.prototype={constructor:at,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=at.propHooks[this.prop];return e&&e.get?e.get(this):at.propHooks._default.get(this)},run:function(e){var t,n=at.propHooks[this.prop];return this.options.duration?this.pos=t=x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):at.propHooks._default.set(this),this}},at.prototype.init.prototype=at.prototype,at.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Ze(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}},at.propHooks.scrollTop=at.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=at.prototype.init,x.fx.step={};var st,lt,ct=/^(?:toggle|show|hide)$/,ut=/queueHooks$/;function ht(){lt&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ht):n.setTimeout(ht,x.fx.interval),x.fx.tick())}function dt(){return n.setTimeout((function(){st=void 0})),st=Date.now()}function ft(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function pt(e,t,n){for(var r,i=(gt.tweeners[t]||[]).concat(gt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function gt(e,t,n){var r,i,o=0,a=gt.prefilters.length,s=x.Deferred().always((function(){delete l.elem})),l=function(){if(i)return!1;for(var t=st||dt(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:st||dt(),duration:n.duration,tweens:[],createTween:function(t,n){var r=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=K(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=x.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);o<a;o++)if(r=gt.prefilters[o].call(c,e,u,c.opts))return y(r.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return x.map(u,pt,c),y(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(gt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return he(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){y(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,i=e.length;r<i;r++)n=e[r],gt.tweeners[n]=gt.tweeners[n]||[],gt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,l,c,u,h="width"in t||"height"in t,d=this,f={},p=e.style,g=e.nodeType&&ce(e),v=Z.get(e,"fxshow");for(r in n.queue||(null==(a=x._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,d.always((function(){d.always((function(){a.unqueued--,x.queue(e,"fx").length||a.empty.fire()}))}))),t)if(i=t[r],ct.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}f[r]=v&&v[r]||x.style(e,r)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(f))for(r in h&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=Z.get(e,"display")),"none"===(u=x.css(e,"display"))&&(c?u=c:(pe([e],!0),c=e.style.display||c,u=x.css(e,"display"),pe([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===x.css(e,"float")&&(l||(d.done((function(){p.display=c})),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,f)l||(v?"hidden"in v&&(g=v.hidden):v=Z.access(e,"fxshow",{display:c}),o&&(v.hidden=!g),g&&pe([e],!0),d.done((function(){for(r in g||pe([e]),Z.remove(e,"fxshow"),f)x.style(e,r,f[r])}))),l=pt(g?v[r]:0,r,d),r in v||(v[r]=l.start,g&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?gt.prefilters.unshift(e):gt.prefilters.push(e)}}),x.speed=function(e,t,n){var r=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||y(e)&&e,duration:e,easing:n&&t||t&&!y(t)&&t};return x.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in x.fx.speeds?r.duration=x.fx.speeds[r.duration]:r.duration=x.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){y(r.old)&&r.old.call(this),r.queue&&x.dequeue(this,r.queue)},r},x.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ce).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=x.isEmptyObject(e),o=x.speed(t,n,r),a=function(){var t=gt(this,x.extend({},e),o);(i||Z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",o=x.timers,a=Z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&ut.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=Z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=x.timers,a=r?r.length:0;for(n.finish=!0,x.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ft(t,!0),e,r,i)}})),x.each({slideDown:ft("show"),slideUp:ft("hide"),slideToggle:ft("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(st=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),st=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){lt||(lt=!0,ht())},x.fx.stop=function(){lt=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}}))},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var vt,mt=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return W(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(i=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?vt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=x.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(j);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),vt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=mt[t]||x.find.attr;mt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=mt[a],mt[a]=i,i=null!=n(e,t,r)?a:null,mt[a]=o),i}}));var yt=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;function bt(e){return(e.match(j)||[]).join(" ")}function wt(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}x.fn.extend({prop:function(e,t){return W(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(t=x.propFix[t]||t,i=x.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(x.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,l=0;if(y(e))return this.each((function(t){x(this).addClass(e.call(this,t,wt(this)))}));if((t=St(e)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+bt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=bt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,l=0;if(y(e))return this.each((function(t){x(this).removeClass(e.call(this,t,wt(this)))}));if(!arguments.length)return this.attr("class","");if((t=St(e)).length)for(;n=this[l++];)if(i=wt(n),r=1===n.nodeType&&" "+bt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=bt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):y(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,wt(this),t),t)})):this.each((function(){var t,i,o,a;if(r)for(i=0,o=x(this),a=St(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=wt(this))&&Z.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Z.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+bt(wt(n))+" ").indexOf(t)>-1)return!0;return!1}});var xt=/\r/g;x.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=y(e),this.each((function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,x(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=x.map(i,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))}))):i?(t=x.valHooks[i.type]||x.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(xt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:bt(x.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],l=a?o+1:i.length;for(r=o<0?l:a?o:0;r<l;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=x(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=x.makeArray(t),a=i.length;a--;)((r=i[a]).selected=x.inArray(x.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},m.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var Et=/^(?:focusinfocus|focusoutblur)$/,Ct=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,r,i){var o,s,l,c,u,h,d,f,g=[r||a],v=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=f=l=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!Et.test(v+x.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),u=v.indexOf(":")<0&&"on"+v,(e=e[x.expando]?e:new x.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:x.makeArray(t,[e]),d=x.event.special[v]||{},i||!d.trigger||!1!==d.trigger.apply(r,t))){if(!i&&!d.noBubble&&!A(r)){for(c=d.delegateType||v,Et.test(c+v)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(r.ownerDocument||a)&&g.push(l.defaultView||l.parentWindow||n)}for(o=0;(s=g[o++])&&!e.isPropagationStopped();)f=s,e.type=o>1?c:d.bindType||v,(h=(Z.get(s,"events")||{})[e.type]&&Z.get(s,"handle"))&&h.apply(s,t),(h=u&&s[u])&&h.apply&&X(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!X(r)||u&&y(r[v])&&!A(r)&&((l=r[u])&&(r[u]=null),x.event.triggered=v,e.isPropagationStopped()&&f.addEventListener(v,Ct),r[v](),e.isPropagationStopped()&&f.removeEventListener(v,Ct),x.event.triggered=void 0,l&&(r[u]=l)),e.result}},simulate:function(e,t,n){var r=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(r,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),m.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Z.access(r,t);i||r.addEventListener(e,n,!0),Z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Z.access(r,t)-1;i?Z.access(r,t,i):(r.removeEventListener(e,n,!0),Z.remove(r,t))}}}));var _t=n.location,Rt=Date.now(),Tt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var It=/\[\]$/,Pt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Ot=/^(?:input|select|textarea|keygen)/i;function Dt(e,t,n,r){var i;if(Array.isArray(t))x.each(t,(function(t,i){n||It.test(e)?r(e,i):Dt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)}));else if(n||"object"!==S(t))r(e,t);else for(i in t)Dt(e+"["+i+"]",t[i],n,r)}x.param=function(e,t){var n,r=[],i=function(e,t){var n=y(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){i(this.name,this.value)}));else for(n in e)Dt(n,e[n],t,i);return r.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Ot.test(this.nodeName)&&!kt.test(e)&&(this.checked||!ge.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}})):{name:t.name,value:n.replace(Pt,"\r\n")}})).get()}});var Mt=/%20/g,Lt=/#.*$/,Nt=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,jt=/^(?:GET|HEAD)$/,Ut=/^\/\//,Vt={},Ft={},zt="*/".concat("*"),Gt=a.createElement("a");function Qt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(j)||[];if(y(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Wt(e,t,n,r){var i={},o=e===Ft;function a(s){var l;return i[s]=!0,x.each(e[s]||[],(function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),a(c),!1)})),l}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Ht(e,t){var n,r,i=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&x.extend(!0,e,r),e}Gt.href=_t.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":zt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,x.ajaxSettings),t):Ht(x.ajaxSettings,e)},ajaxPrefilter:Qt(Vt),ajaxTransport:Qt(Ft),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,l,c,u,h,d,f,p=x.ajaxSetup({},t),g=p.context||p,v=p.context&&(g.nodeType||g.jquery)?x(g):x.event,m=x.Deferred(),y=x.Callbacks("once memory"),A=p.statusCode||{},b={},w={},S="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(u){if(!s)for(s={};t=Bt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)E.always(e[E.status]);else for(t in e)A[t]=[A[t],e[t]];return this},abort:function(e){var t=e||S;return r&&r.abort(t),C(0,t),this}};if(m.promise(E),p.url=((e||p.url||_t.href)+"").replace(Ut,_t.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(j)||[""],null==p.crossDomain){c=a.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=Gt.protocol+"//"+Gt.host!=c.protocol+"//"+c.host}catch(e){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),Wt(Vt,p,t,E),u)return E;for(d in(h=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!jt.test(p.type),i=p.url.replace(Lt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Mt,"+")):(f=p.url.slice(i.length),p.data&&(p.processData||"string"==typeof p.data)&&(i+=(Tt.test(i)?"&":"?")+p.data,delete p.data),!1===p.cache&&(i=i.replace(Nt,"$1"),f=(Tt.test(i)?"&":"?")+"_="+Rt+++f),p.url=i+f),p.ifModified&&(x.lastModified[i]&&E.setRequestHeader("If-Modified-Since",x.lastModified[i]),x.etag[i]&&E.setRequestHeader("If-None-Match",x.etag[i])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&E.setRequestHeader("Content-Type",p.contentType),E.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+zt+"; q=0.01":""):p.accepts["*"]),p.headers)E.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,E,p)||u))return E.abort();if(S="abort",y.add(p.complete),E.done(p.success),E.fail(p.error),r=Wt(Ft,p,t,E)){if(E.readyState=1,h&&v.trigger("ajaxSend",[E,p]),u)return E;p.async&&p.timeout>0&&(l=n.setTimeout((function(){E.abort("timeout")}),p.timeout));try{u=!1,r.send(b,C)}catch(e){if(u)throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,a,s){var c,d,f,b,w,S=t;u||(u=!0,l&&n.clearTimeout(l),r=void 0,o=s||"",E.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(b=function(e,t,n){for(var r,i,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,E,a)),b=function(e,t,n,r){var i,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,b,E,c),c?(p.ifModified&&((w=E.getResponseHeader("Last-Modified"))&&(x.lastModified[i]=w),(w=E.getResponseHeader("etag"))&&(x.etag[i]=w)),204===e||"HEAD"===p.type?S="nocontent":304===e?S="notmodified":(S=b.state,d=b.data,c=!(f=b.error))):(f=S,!e&&S||(S="error",e<0&&(e=0))),E.status=e,E.statusText=(t||S)+"",c?m.resolveWith(g,[d,S,E]):m.rejectWith(g,[E,S,f]),E.statusCode(A),A=void 0,h&&v.trigger(c?"ajaxSuccess":"ajaxError",[E,p,c?d:f]),y.fireWith(g,[E,S]),h&&(v.trigger("ajaxComplete",[E,p]),--x.active||x.event.trigger("ajaxStop")))}return E},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,r,i){return y(n)&&(i=i||r,r=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:i,data:n,success:r},x.isPlainObject(e)&&e))}})),x._evalUrl=function(e,t){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(y(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return y(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=y(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Yt={0:200,1223:204},qt=x.ajaxSettings.xhr();m.cors=!!qt&&"withCredentials"in qt,m.ajax=qt=!!qt,x.ajaxTransport((function(e){var t,r;if(m.cors||qt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout((function(){t&&r()}))},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Xt=[],Jt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+Rt++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(Jt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=y(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Jt,"$1"+i):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||x.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always((function(){void 0===o?x(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(i)),a&&y(o)&&o(a[0]),a=o=void 0})),"script"})),m.createHTMLDocument=((Kt=a.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),o=!n&&[],(i=k.exec(e))?[t.createElement(i[1])]:(i=Ee([e],t,o),o&&o.length&&x(o).remove(),x.merge([],i.childNodes)));var r,i,o},x.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=bt(e.slice(s)),e=e.slice(0,s)),y(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&x.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done((function(e){o=arguments,a.html(r?x("<div>").append(x.parseHTML(e)).find(r):e)})).always(n&&function(e,t){a.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var r,i,o,a,s,l,c=x.css(e,"position"),u=x(e),h={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),y(t)&&(t=t.call(e,n,x.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):u.css(h)}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===x.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),i.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-x.css(r,"marginTop",!0),left:t.left-i.left-x.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||ae}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(r){return W(this,(function(e,r,i){var o;if(A(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i}),e,r,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=qe(m.pixelPosition,(function(e,n){if(n)return n=Ye(e,t),Qe.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,r){x.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return W(this,(function(t,n,i){var o;return A(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?x.css(t,n,s):x.style(t,n,i,s)}),t,a?i:void 0,a)}}))})),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}})),x.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),x.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),y(e))return r=l.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(l.call(arguments)))}).guid=e.guid=e.guid||x.guid++,i},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=P,x.isFunction=y,x.isWindow=A,x.camelCase=K,x.type=S,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return x}.apply(t,[]))||(e.exports=r);var Zt=n.jQuery,$t=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=$t),e&&n.jQuery===x&&(n.jQuery=Zt),x},i||(n.jQuery=n.$=x),x}))},function(e,t,n){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t,n){"use strict";var r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,n,i){var o=r,a=i+n;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t,n){"use strict";var r=n(3),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new r.Buf8(256),s=0;s<256;s++)a[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function l(e,t){if(t<65534&&(e.subarray&&o||!e.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(e,t));for(var n="",a=0;a<t;a++)n+=String.fromCharCode(e[a]);return n}a[254]=a[254]=1,t.string2buf=function(e){var t,n,i,o,a,s=e.length,l=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new r.Buf8(l),a=0,o=0;a<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return l(e,e.length)},t.binstring2buf=function(e){for(var t=new r.Buf8(e.length),n=0,i=t.length;n<i;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,r,i,o,s=t||e.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=e[n++])<128)c[r++]=i;else if((o=a[i])>4)c[r++]=65533,n+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&n<s;)i=i<<6|63&e[n++],o--;o>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return l(c,r)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+a[e[n]]>t?n:t}},function(e,t,n){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){var n=Array.prototype.slice;function r(e){var t=this;return"function"==typeof e&&(e=e.call(this)),n();function n(t){var n;try{n=e.next(t)}catch(e){return Promise.reject(e)}return o(n)}function r(t){var n;try{n=e.throw(t)}catch(e){return Promise.reject(e)}return o(n)}function o(e){if(e.done)return Promise.resolve(e.value);var o=i.call(t,e.value);return o&&l(o)?o.then(n,r):r(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}}function i(e){return e?l(e)?e:function(e){var t=e.constructor;return t&&"GeneratorFunction"==t.name}(e)||function(e){return"function"==typeof e.next&&"function"==typeof e.throw}(e)?r.call(this,e):"function"==typeof e?o.call(this,e):Array.isArray(e)?a.call(this,e):Object==e.constructor?s.call(this,e):e:e}function o(e){var t=this;return new Promise((function(r,i){e.call(t,(function(e,t){if(e)return i(e);arguments.length>2&&(t=n.call(arguments,1)),r(t)}))}))}function a(e){return Promise.all(e.map(i,this))}function s(e){for(var t=new e.constructor,n=Object.keys(e),r=[],o=0;o<n.length;o++){var a=n[o],s=i.call(this,e[a]);s&&l(s)?c(s,a):t[a]=e[a]}return Promise.all(r).then((function(){return t}));function c(e,n){t[n]=void 0,r.push(e.then((function(e){t[n]=e})))}}function l(e){return"function"==typeof e.then}e.exports=r,r.wrap=function(e){return function(){return r.call(this,e.apply(this,arguments))}}},,,function(e,t,n){"use strict";const r=n(39),i=n(15),o=n(16),a=Symbol("cache"),s=Symbol("defaultMethod"),l=Symbol("methods"),c=Symbol("noNext");e.exports=function(e){function t(){return!t[l].length&&t[s]?t[s].func.apply(this,arguments):t.applyGenfun(this,arguments)}return Object.setPrototypeOf(t,u.prototype),t[l]=[],t[a]={key:[],methods:[],state:h.UNINITIALIZED},e&&"function"==typeof e?t.add(e):e&&e.default&&t.add(e.default),e&&e.name&&Object.defineProperty(t,"name",{value:e.name}),e&&e.noNextMethod&&(t[c]=!0),t};class u extends Function{}u.prototype.isGenfun=!0;const h={UNINITIALIZED:0,MONOMORPHIC:1,POLYMORPHIC:2,MEGAMORPHIC:3},d=32;function f(e,t){var n=o.dispatchableObject(t);if(Object.hasOwnProperty.call(n,i.roleKeyName))for(var r=0;r<n[i.roleKeyName].length;r++){if(n[i.roleKeyName][r].method.genfun===e)return null}return Object.getPrototypeOf(n)}function p(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}u.prototype.add=function(e,t){t||"function"!=typeof e||(t=e,e=[]),e=[].slice.call(e);for(var n=0;n<e.length;n++)e.hasOwnProperty(n)||(e[n]=Object.prototype);this[a]={key:[],methods:[],state:h.UNINITIALIZED};let i=new r(this,e,t);return e.length?this[l].push(i):this[s]=i,this},u.prototype.rm=function(){throw new Error("not yet implemented")},u.prototype.hasMethod=function(){const e=this.getApplicableMethods(arguments);return!(!e||!e.length)},e.exports.noApplicableMethod=e.exports(),e.exports.noApplicableMethod.add([],(e,t,n)=>{let r="No applicable method found when called with arguments of types: ("+[].map.call(n,e=>/\[object ([a-zA-Z0-9]+)\]/.exec({}.toString.call(e))[1]).join(", ")+")",i=new Error(r);throw i.genfun=e,i.thisArg=t,i.args=n,i}),u.prototype.applyGenfun=function(t,n){let r=this.getApplicableMethods(n);if(1===r.length||this[c])return r[0].func.apply(t,n);if(r.length>1){let e=0;const i=function i(){arguments.length&&(n=arguments,Array.prototype.push.call(n,i));const o=r[e++];return e>=r.length&&Array.prototype.pop.call(n),o.func.apply(t,n)};return Array.prototype.push.call(n,i),i()}return e.exports.noApplicableMethod(this,t,n)},u.prototype.getApplicableMethods=function(e){if(!e.length||!this[l].length)return this[s]?[this[s]]:[];let t,n=function(e,t){if(e[a].state===h.UNINITIALIZED||e[a].state===h.MEGAMORPHIC)return null;for(var n,r=[],i=0;i<t.length;i++){if(!(n=f(e,t[i])))return;r[i]=n}for(i=0;i<e[a].key.length;i++)if(p(e[a].key[i],r))return e[a].methods[i]}(this,e);return n?t=n:(t=function(e,t){t=[].slice.call(t);let n=[];t.forEach((t,a)=>{(function(e){var t=[],n=e;for(;n;)t.push(n),n=Object.getPrototypeOf(n);return t})(o.dispatchableObject(t)).forEach((t,s)=>{!function(t,a,s){(Object.hasOwnProperty.call(t,i.roleKeyName)?t[i.roleKeyName]:[]).forEach(t=>{t.method.genfun===e&&s===t.position&&(n.indexOf(t.method)<0&&(r.clearRank(t.method),n.push(t.method)),r.setRankHierarchyPosition(t.method,s,a))}),o.isObjectProto(t)&&n.forEach(e=>{e.minimalSelector<=s&&r.setRankHierarchyPosition(e,s,a)})}(t,s,a)})});let a=n.filter(e=>t.length===e._rank.length&&r.isFullySpecified(e));a.sort((e,t)=>r.score(e)-r.score(t)),e[s]&&a.push(e[s]);return a}(this,e),function(e,t,n){if(e[a].state===h.MEGAMORPHIC)return;for(var r,i=[],o=0;o<t.length;o++){if(!(r=f(e,t[o])))return null;i[o]=r}e[a].key.unshift(i),e[a].methods.unshift(n),1===e[a].key.length?e[a].state=h.MONOMORPHIC:e[a].key.length<d?e[a].state=h.POLYMORPHIC:e[a].state=h.MEGAMORPHIC}(this,e,t)),t}},function(e,t,n){"use strict";const r=n(15),i=n(16);function o(e,t,n){this.genfun=e,this.func=n,this._rank=[],this.minimalSelector=0;const o=t.length?t:[Object.prototype];for(var a,s=o.length-1;s>=0;s--)a=Object.hasOwnProperty.call(o,s)?o[s]:Object.prototype,"function"!=typeof(a=i.dispatchableObject(a))||a.isGenfun||(a=a.prototype),s>0&&!this.minimalSelector&&i.isObjectProto(a)||(this.minimalSelector++,Object.hasOwnProperty.call(a,r.roleKeyName)||Object.defineProperty(a,r.roleKeyName,{value:[],enumerable:!1}),a[r.roleKeyName].unshift(new r(this,s)))}e.exports=o,o.setRankHierarchyPosition=(e,t,n)=>{e._rank[t]=n},o.clearRank=e=>{e._rank=[]},o.isFullySpecified=e=>{for(var t=0;t<e.minimalSelector;t++)if(!e._rank.hasOwnProperty(t))return!1;return!0},o.score=e=>e._rank.reduce((e,t)=>e+t,0)},function(e,t,n){var r=n(41),i=Array.prototype.slice,o=Object.prototype.hasOwnProperty,a=e.exports=u;function s(e,t){return r.isUndefined(t)?""+t:r.isNumber(t)&&!isFinite(t)?t.toString():r.isFunction(t)||r.isRegExp(t)?t.toString():t}function l(e,t){return r.isString(e)?e.length<t?e:e.slice(0,t):e}function c(e,t,n,r,i){throw new a.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:i})}function u(e,t){e||c(e,!0,t,"==",a.ok)}function h(e,t){if(e===t)return!0;if(r.isBuffer(e)&&r.isBuffer(t)){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return r.isDate(e)&&r.isDate(t)?e.getTime()===t.getTime():r.isRegExp(e)&&r.isRegExp(t)?e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase:r.isObject(e)||r.isObject(t)?function(e,t){if(r.isNullOrUndefined(e)||r.isNullOrUndefined(t))return!1;if(e.prototype!==t.prototype)return!1;if(r.isPrimitive(e)||r.isPrimitive(t))return e===t;var n=d(e),o=d(t);if(n&&!o||!n&&o)return!1;if(n)return e=i.call(e),t=i.call(t),h(e,t);var a,s,l=g(e),c=g(t);if(l.length!=c.length)return!1;for(l.sort(),c.sort(),s=l.length-1;s>=0;s--)if(l[s]!=c[s])return!1;for(s=l.length-1;s>=0;s--)if(a=l[s],!h(e[a],t[a]))return!1;return!0}(e,t):e==t}function d(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function f(e,t){return!(!e||!t)&&("[object RegExp]"==Object.prototype.toString.call(t)?t.test(e):e instanceof t||!0===t.call({},e))}function p(e,t,n,i){var o;r.isString(n)&&(i=n,n=null);try{t()}catch(e){o=e}if(i=(n&&n.name?" ("+n.name+").":".")+(i?" "+i:"."),e&&!o&&c(o,n,"Missing expected exception"+i),!e&&f(o,n)&&c(o,n,"Got unwanted exception"+i),e&&o&&n&&!f(o,n)||!e&&o)throw o}a.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return l(JSON.stringify(e.actual,s),128)+" "+e.operator+" "+l(JSON.stringify(e.expected,s),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||c;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,i=t.name,o=r.indexOf("\n"+i);if(o>=0){var a=r.indexOf("\n",o+1);r=r.substring(a+1)}this.stack=r}}},r.inherits(a.AssertionError,Error),a.fail=c,a.ok=u,a.equal=function(e,t,n){e!=t&&c(e,t,n,"==",a.equal)},a.notEqual=function(e,t,n){e==t&&c(e,t,n,"!=",a.notEqual)},a.deepEqual=function(e,t,n){h(e,t)||c(e,t,n,"deepEqual",a.deepEqual)},a.notDeepEqual=function(e,t,n){h(e,t)&&c(e,t,n,"notDeepEqual",a.notDeepEqual)},a.strictEqual=function(e,t,n){e!==t&&c(e,t,n,"===",a.strictEqual)},a.notStrictEqual=function(e,t,n){e===t&&c(e,t,n,"!==",a.notStrictEqual)},a.throws=function(e,t,n){p.apply(this,[!0].concat(i.call(arguments)))},a.doesNotThrow=function(e,t){p.apply(this,[!1].concat(i.call(arguments)))},a.ifError=function(e){if(e)throw e};var g=Object.keys||function(e){var t=[];for(var n in e)o.call(e,n)&&t.push(n);return t}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;t.format=function(e){if(!m(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),l=r[n];n<o;l=r[++n])g(l)||!b(l)?a+=" "+l:a+=" "+s(l);return a},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),i=!0}return n.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),u(r,e,r.depth)}function l(e,t){var n=s.styles[t];return n?"["+s.colors[n][0]+"m"+e+"["+s.colors[n][1]+"m":e}function c(e,t){return e}function u(e,n,r){if(e.customInspect&&n&&x(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return m(i)||(i=u(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(g(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),S(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(n);if(0===a.length){if(x(n)){var l=n.name?": "+n.name:"";return e.stylize("[Function"+l+"]","special")}if(A(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(w(n))return e.stylize(Date.prototype.toString.call(n),"date");if(S(n))return h(n)}var c,b="",E=!1,C=["{","}"];(f(n)&&(E=!0,C=["[","]"]),x(n))&&(b=" [Function"+(n.name?": "+n.name:"")+"]");return A(n)&&(b=" "+RegExp.prototype.toString.call(n)),w(n)&&(b=" "+Date.prototype.toUTCString.call(n)),S(n)&&(b=" "+h(n)),0!==a.length||E&&0!=n.length?r<0?A(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=E?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,E)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,b,C)):C[0]+b+C[1]}function h(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,l;if((l=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=l.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):l.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(l.value)<0?(s=g(n)?u(e,l.value,null):u(e,l.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function f(e){return Array.isArray(e)}function p(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function A(e){return b(e)&&"[object RegExp]"===E(e)}function b(e){return"object"==typeof e&&null!==e}function w(e){return b(e)&&"[object Date]"===E(e)}function S(e){return b(e)&&("[object Error]"===E(e)||e instanceof Error)}function x(e){return"function"==typeof e}function E(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(y(o)&&(o=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!a[n])if(new RegExp("\\b"+n+"\\b","i").test(o)){var r=e.pid;a[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else a[n]=function(){};return a[n]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=f,t.isBoolean=p,t.isNull=g,t.isNullOrUndefined=function(e){return null==e},t.isNumber=v,t.isString=m,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=y,t.isRegExp=A,t.isObject=b,t.isDate=w,t.isError=S,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(43);var _=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date,t=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":");return[e.getDate(),_[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",R(),t.format.apply(t,arguments))},t.inherits=n(44),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var I="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function P(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(I&&e[I]){var t;if("function"!=typeof(t=e[I]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,i)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),I&&Object.defineProperty(t,I,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=I,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var o=this,a=function(){return i.apply(o,arguments)};t.apply(this,n).then((function(t){e.nextTick(a,null,t)}),(function(t){e.nextTick(P,t,a)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(42))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var l,c=[],u=!1,h=-1;function d(){u&&l&&(u=!1,l.length?c=l.concat(c):h=-1,c.length&&f())}function f(){if(!u){var e=s(d);u=!0;for(var t=c.length;t;){for(l=c,c=[];++h<t;)l&&l[h].run();h=-1,t=c.length}l=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||u||s(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){"use strict";e.exports=function(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=n;return t}},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){(function(t){var n,r=t.crypto||t.msCrypto;if(r&&r.getRandomValues){var i=new Uint8Array(16);n=function(){return r.getRandomValues(i),i}}if(!n){var o=new Array(16);n=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),o[t]=e>>>((3&t)<<3)&255;return o}}e.exports=n}).call(this,n(8))},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+"-"+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]+i[e[r++]]}},function(e,t){e.exports=function(e,t){var n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n}},function(e,t){var n=new ArrayBuffer(0),r=function(e,t,r,i){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=i||e.STATIC_DRAW,this.data=n,r&&this.upload(r),this._updateID=0};r.prototype.upload=function(e,t,n){n||this.bind();var r=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?r.bufferSubData(this.type,t,e):r.bufferData(this.type,e,this.drawType),this.data=e},r.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},r.createVertexBuffer=function(e,t,n){return new r(e,e.ARRAY_BUFFER,t,n)},r.createIndexBuffer=function(e,t,n){return new r(e,e.ELEMENT_ARRAY_BUFFER,t,n)},r.create=function(e,t,n,i){return new r(e,t,n,i)},r.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},e.exports=r},function(e,t,n){var r=n(19),i=function(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100};i.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new r(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},i.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},i.prototype.clear=function(e,t,n,r){this.bind();var i=this.gl;i.clearColor(e,t,n,r),i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT)},i.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},i.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},i.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},i.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},i.createRGBA=function(e,t,n,o){var a=r.fromData(e,null,t,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(e,t,n);return s.enableTexture(a),s.unbind(),s},i.createFloat32=function(e,t,n,o){var a=new r.fromData(e,o,t,n);a.enableNearestScaling(),a.enableWrapClamp();var s=new i(e,t,n);return s.enableTexture(a),s.unbind(),s},e.exports=i},function(e,t,n){var r=n(20),i=n(21),o=n(23),a=n(25),s=n(26),l=function(e,t,n,l,c){this.gl=e,l&&(t=a(t,l),n=a(n,l)),this.program=r(e,t,n,c),this.attributes=i(e,this.program),this.uniformData=o(e,this.program),this.uniforms=s(e,this.uniformData)};l.prototype.bind=function(){this.gl.useProgram(this.program)},l.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},e.exports=l},function(e,t,n){var r=n(18);function i(e,t){if(this.nativeVaoExtension=null,i.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}i.prototype.constructor=i,e.exports=i,i.FORCE_NATIVE=!1,i.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},i.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},i.prototype.activate=function(){for(var e=this.gl,t=null,n=0;n<this.attributes.length;n++){var i=this.attributes[n];t!==i.buffer&&(i.buffer.bind(),t=i.buffer),e.vertexAttribPointer(i.attribute.location,i.attribute.size,i.type||e.FLOAT,i.normalized||!1,i.stride||0,i.start||0)}return r(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},i.prototype.addAttribute=function(e,t,n,r,i,o){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:r||!1,stride:i||0,start:o||0}),this.dirty=!0,this},i.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},i.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},i.prototype.draw=function(e,t,n){var r=this.gl;return this.indexBuffer?r.drawElements(e,t||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(n||0)):r.drawArrays(e,n,t||this.getSize()),this},i.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},i.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},function(e,t,n){e.exports={compileProgram:n(20),defaultValue:n(24),extractAttributes:n(21),extractUniforms:n(23),generateUniformAccessObject:n(26),setPrecision:n(25),mapSize:n(22),mapType:n(9)}},function(e,t){e.exports="precision highp float;\r\n\r\nattribute vec2 aVertexPosition;\r\nuniform vec2 bounds;\r\nuniform float uFourSigma;\r\nvoid main(void)\r\n{\r\n    vec2 xy = (aVertexPosition/bounds * vec2(2.0, -2.0)) + vec2(-1.0, 1.0);\r\n    gl_Position = vec4(xy, 0.0, 1.0);\r\n    gl_PointSize = uFourSigma;\r\n}\r\n"},function(e,t){e.exports="precision highp float;\r\n\r\n// Sampler for the kernel sprite\r\nuniform sampler2D u_KernelSampler;\r\n// Render into a float texture: RGBA where each is float32\r\nvoid main(void)\r\n{\r\n    vec4 color = texture2D(u_KernelSampler, gl_PointCoord);\r\n    int iCol = int(100.0*color.r);\r\n    gl_FragColor = vec4(float(iCol), float(iCol), float(iCol), 1.0);\r\n    //gl_FragColor = vec4 (1.0, 1.0, 1.0, 1.0);, // fixed color for texting\r\n}\r\n"},function(e,t){e.exports="precision highp float;\r\n\r\nuniform sampler2D uSampler;\r\nvarying vec2 vTextureCoord;\r\n// Standard trick to pack a 32bit Float as IEEE encoding into 4 bytes of UByte RGBA\r\n// Taken from\r\n// http://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\r\n// Originally from http://concord-consortium.github.io/lab/experiments/webgl-gpgpu/webgl.html\r\n// but other versions are available\r\nfloat shift_right (float v, float amt) {\r\n    v = floor(v) + 0.5;\r\n    return floor(v / exp2(amt));\r\n}\r\nfloat shift_left (float v, float amt) {\r\n    return floor(v * exp2(amt) + 0.5);\r\n}\r\nfloat mask_last (float v, float bits) {\r\n    return mod(v, shift_left(1.0, bits));\r\n}\r\nfloat extract_bits (float num, float from, float to) {\r\n    from = floor(from + 0.5); to = floor(to + 0.5);\r\n    return mask_last(shift_right(num, from), to - from);\r\n}\r\nvec4 encode_float (float val) {\r\n    if (val == 0.0) return vec4(0, 0, 0, 0);\r\n    float sign = val > 0.0 ? 0.0 : 1.0;\r\n    val = abs(val);\r\n    float exponent = floor(log2(val));\r\n    float biased_exponent = exponent + 127.0;\r\n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0;\r\n    float t = biased_exponent / 2.0;\r\n    float last_bit_of_biased_exponent = fract(t) * 2.0;\r\n    float remaining_bits_of_biased_exponent = floor(t);\r\n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0;\r\n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0;\r\n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0;\r\n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0;\r\n    return vec4(byte4, byte3, byte2, byte1);\r\n}\r\nvoid main(void)\r\n{\r\n    vec4 color = texture2D(uSampler, vTextureCoord);\r\n    gl_FragColor = encode_float(color.r);\r\n}\r\n"},function(e,t){e.exports="precision highp float;\r\n\r\nuniform sampler2D uSampler;\r\nuniform float uRange;\r\nuniform int uLevels;\r\nvarying vec2 vTextureCoord;\r\nvoid main(void)\r\n{\r\n    vec4 color = texture2D(uSampler, vTextureCoord);\r\n    // scale the big float color to something in the 0.0 - 1.0 range.\r\n    // discretize into levels\r\n    float fLevels = float(uLevels);\r\n    float grayLevel = float(int(fLevels * color.r/uRange))/fLevels;\r\n    gl_FragColor = vec4(grayLevel, grayLevel, grayLevel, 1.0);\r\n}\r\n"},function(e,t,n){"use strict";var r=n(60);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(e){var t=new i;t.pre=e.pre,t.body=e.body,t.post=e.post;var n=e.args.slice(0);t.argTypes=n;for(var o=0;o<n.length;++o){var a=n[o];if("array"===a||"object"==typeof a&&a.blockIndices){if(t.argTypes[o]="array",t.arrayArgs.push(o),t.arrayBlockIndices.push(a.blockIndices?a.blockIndices:0),t.shimArgs.push("array"+o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array args");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array args")}else if("scalar"===a)t.scalarArgs.push(o),t.shimArgs.push("scalar"+o);else if("index"===a){if(t.indexArgs.push(o),o<t.pre.args.length&&t.pre.args[o].count>0)throw new Error("cwise: pre() block may not reference array index");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array index");if(o<t.post.args.length&&t.post.args[o].count>0)throw new Error("cwise: post() block may not reference array index")}else if("shape"===a){if(t.shapeArgs.push(o),o<t.pre.args.length&&t.pre.args[o].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(o<t.body.args.length&&t.body.args[o].lvalue)throw new Error("cwise: body() block may not write to array shape");if(o<t.post.args.length&&t.post.args[o].lvalue)throw new Error("cwise: post() block may not write to array shape")}else{if("object"!=typeof a||!a.offset)throw new Error("cwise: Unknown argument type "+n[o]);t.argTypes[o]="offset",t.offsetArgs.push({array:a.array,offset:a.offset}),t.offsetArgIndex.push(o)}}if(t.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(t.pre.args.length>n.length)throw new Error("cwise: Too many arguments in pre() block");if(t.body.args.length>n.length)throw new Error("cwise: Too many arguments in body() block");if(t.post.args.length>n.length)throw new Error("cwise: Too many arguments in post() block");return t.debug=!!e.printCode||!!e.debug,t.funcName=e.funcName||"cwise",t.blockSize=e.blockSize||64,r(t)}},function(e,t,n){"use strict";var r=n(61);e.exports=function(e){var t=["'use strict'","var CACHED={}"],n=[],i=e.funcName+"_cwise_thunk";t.push(["return function ",i,"(",e.shimArgs.join(","),"){"].join(""));for(var o=[],a=[],s=[["array",e.arrayArgs[0],".shape.slice(",Math.max(0,e.arrayBlockIndices[0]),e.arrayBlockIndices[0]<0?","+e.arrayBlockIndices[0]+")":")"].join("")],l=[],c=[],u=0;u<e.arrayArgs.length;++u){var h=e.arrayArgs[u];n.push(["t",h,"=array",h,".dtype,","r",h,"=array",h,".order"].join("")),o.push("t"+h),o.push("r"+h),a.push("t"+h),a.push("r"+h+".join()"),s.push("array"+h+".data"),s.push("array"+h+".stride"),s.push("array"+h+".offset|0"),u>0&&(l.push("array"+e.arrayArgs[0]+".shape.length===array"+h+".shape.length+"+(Math.abs(e.arrayBlockIndices[0])-Math.abs(e.arrayBlockIndices[u]))),c.push("array"+e.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[0])+"]===array"+h+".shape[shapeIndex+"+Math.max(0,e.arrayBlockIndices[u])+"]"))}for(e.arrayArgs.length>1&&(t.push("if (!("+l.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),t.push("for(var shapeIndex=array"+e.arrayArgs[0]+".shape.length-"+Math.abs(e.arrayBlockIndices[0])+"; shapeIndex--\x3e0;) {"),t.push("if (!("+c.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),t.push("}")),u=0;u<e.scalarArgs.length;++u)s.push("scalar"+e.scalarArgs[u]);return n.push(["type=[",a.join(","),"].join()"].join("")),n.push("proc=CACHED[type]"),t.push("var "+n.join(",")),t.push(["if(!proc){","CACHED[type]=proc=compile([",o.join(","),"])}","return proc(",s.join(","),")}"].join("")),e.debug&&console.log("-----Generated thunk:\n"+t.join("\n")+"\n----------"),new Function("compile",t.join("\n"))(r.bind(void 0,e))}},function(e,t,n){"use strict";var r=n(62);function i(e,t,n){var r,i,o=e.length,a=t.arrayArgs.length,s=t.indexArgs.length>0,l=[],c=[],u=0,h=0;for(r=0;r<o;++r)c.push(["i",r,"=0"].join(""));for(i=0;i<a;++i)for(r=0;r<o;++r)h=u,u=e[r],0===r?c.push(["d",i,"s",r,"=t",i,"p",u].join("")):c.push(["d",i,"s",r,"=(t",i,"p",u,"-s",h,"*t",i,"p",h,")"].join(""));for(c.length>0&&l.push("var "+c.join(",")),r=o-1;r>=0;--r)u=e[r],l.push(["for(i",r,"=0;i",r,"<s",u,";++i",r,"){"].join(""));for(l.push(n),r=0;r<o;++r){for(h=u,u=e[r],i=0;i<a;++i)l.push(["p",i,"+=d",i,"s",r].join(""));s&&(r>0&&l.push(["index[",h,"]-=s",h].join("")),l.push(["++index[",u,"]"].join(""))),l.push("}")}return l.join("\n")}function o(e,t,n){for(var r=e.body,i=[],o=[],a=0;a<e.args.length;++a){var s=e.args[a];if(!(s.count<=0)){var l=new RegExp(s.name,"g"),c="",u=t.arrayArgs.indexOf(a);switch(t.argTypes[a]){case"offset":var h=t.offsetArgIndex.indexOf(a);u=t.offsetArgs[h].array,c="+q"+h;case"array":c="p"+u+c;var d="l"+a,f="a"+u;if(0===t.arrayBlockIndices[u])1===s.count?"generic"===n[u]?s.lvalue?(i.push(["var ",d,"=",f,".get(",c,")"].join("")),r=r.replace(l,d),o.push([f,".set(",c,",",d,")"].join(""))):r=r.replace(l,[f,".get(",c,")"].join("")):r=r.replace(l,[f,"[",c,"]"].join("")):"generic"===n[u]?(i.push(["var ",d,"=",f,".get(",c,")"].join("")),r=r.replace(l,d),s.lvalue&&o.push([f,".set(",c,",",d,")"].join(""))):(i.push(["var ",d,"=",f,"[",c,"]"].join("")),r=r.replace(l,d),s.lvalue&&o.push([f,"[",c,"]=",d].join("")));else{for(var p=[s.name],g=[c],v=0;v<Math.abs(t.arrayBlockIndices[u]);v++)p.push("\\s*\\[([^\\]]+)\\]"),g.push("$"+(v+1)+"*t"+u+"b"+v);if(l=new RegExp(p.join(""),"g"),c=g.join("+"),"generic"===n[u])throw new Error("cwise: Generic arrays not supported in combination with blocks!");r=r.replace(l,[f,"[",c,"]"].join(""))}break;case"scalar":r=r.replace(l,"Y"+t.scalarArgs.indexOf(a));break;case"index":r=r.replace(l,"index");break;case"shape":r=r.replace(l,"shape")}}}return[i.join("\n"),r,o.join("\n")].join("\n").trim()}function a(e){for(var t=new Array(e.length),n=!0,r=0;r<e.length;++r){var i=e[r],o=i.match(/\d+/);o=o?o[0]:"",0===i.charAt(0)?t[r]="u"+i.charAt(1)+o:t[r]=i.charAt(0)+o,r>0&&(n=n&&t[r]===t[r-1])}return n?t[0]:t.join("")}e.exports=function(e,t){for(var n=t[1].length-Math.abs(e.arrayBlockIndices[0])|0,s=new Array(e.arrayArgs.length),l=new Array(e.arrayArgs.length),c=0;c<e.arrayArgs.length;++c)l[c]=t[2*c],s[c]=t[2*c+1];var u=[],h=[],d=[],f=[],p=[];for(c=0;c<e.arrayArgs.length;++c){e.arrayBlockIndices[c]<0?(d.push(0),f.push(n),u.push(n),h.push(n+e.arrayBlockIndices[c])):(d.push(e.arrayBlockIndices[c]),f.push(e.arrayBlockIndices[c]+n),u.push(0),h.push(e.arrayBlockIndices[c]));for(var g=[],v=0;v<s[c].length;v++)d[c]<=s[c][v]&&s[c][v]<f[c]&&g.push(s[c][v]-d[c]);p.push(g)}var m=["SS"],y=["'use strict'"],A=[];for(v=0;v<n;++v)A.push(["s",v,"=SS[",v,"]"].join(""));for(c=0;c<e.arrayArgs.length;++c){m.push("a"+c),m.push("t"+c),m.push("p"+c);for(v=0;v<n;++v)A.push(["t",c,"p",v,"=t",c,"[",d[c]+v,"]"].join(""));for(v=0;v<Math.abs(e.arrayBlockIndices[c]);++v)A.push(["t",c,"b",v,"=t",c,"[",u[c]+v,"]"].join(""))}for(c=0;c<e.scalarArgs.length;++c)m.push("Y"+c);if(e.shapeArgs.length>0&&A.push("shape=SS.slice(0)"),e.indexArgs.length>0){var b=new Array(n);for(c=0;c<n;++c)b[c]="0";A.push(["index=[",b.join(","),"]"].join(""))}for(c=0;c<e.offsetArgs.length;++c){var w=e.offsetArgs[c],S=[];for(v=0;v<w.offset.length;++v)0!==w.offset[v]&&(1===w.offset[v]?S.push(["t",w.array,"p",v].join("")):S.push([w.offset[v],"*t",w.array,"p",v].join("")));0===S.length?A.push("q"+c+"=0"):A.push(["q",c,"=",S.join("+")].join(""))}var x=r([].concat(e.pre.thisVars).concat(e.body.thisVars).concat(e.post.thisVars));for((A=A.concat(x)).length>0&&y.push("var "+A.join(",")),c=0;c<e.arrayArgs.length;++c)y.push("p"+c+"|=0");e.pre.body.length>3&&y.push(o(e.pre,e,l));var E=o(e.body,e,l),C=function(e){for(var t=0,n=e[0].length;t<n;){for(var r=1;r<e.length;++r)if(e[r][t]!==e[0][t])return t;++t}return t}(p);C<n?y.push(function(e,t,n,r){for(var o=t.length,a=n.arrayArgs.length,s=n.blockSize,l=n.indexArgs.length>0,c=[],u=0;u<a;++u)c.push(["var offset",u,"=p",u].join(""));for(u=e;u<o;++u)c.push(["for(var j"+u+"=SS[",t[u],"]|0;j",u,">0;){"].join("")),c.push(["if(j",u,"<",s,"){"].join("")),c.push(["s",t[u],"=j",u].join("")),c.push(["j",u,"=0"].join("")),c.push(["}else{s",t[u],"=",s].join("")),c.push(["j",u,"-=",s,"}"].join("")),l&&c.push(["index[",t[u],"]=j",u].join(""));for(u=0;u<a;++u){for(var h=["offset"+u],d=e;d<o;++d)h.push(["j",d,"*t",u,"p",t[d]].join(""));c.push(["p",u,"=(",h.join("+"),")"].join(""))}for(c.push(i(t,n,r)),u=e;u<o;++u)c.push("}");return c.join("\n")}(C,p[0],e,E)):y.push(i(p[0],e,E)),e.post.body.length>3&&y.push(o(e.post,e,l)),e.debug&&console.log("-----Generated cwise routine for ",t,":\n"+y.join("\n")+"\n----------");var _=[e.funcName||"unnamed","_cwise_loop_",s[0].join("s"),"m",C,a(l)].join("");return new Function(["function ",_,"(",m.join(","),"){",y.join("\n"),"} return ",_].join(""))()}},function(e,t,n){"use strict";e.exports=function(e,t,n){return 0===e.length?e:t?(n||e.sort(t),function(e,t){for(var n=1,r=e.length,i=e[0],o=e[0],a=1;a<r;++a)if(o=i,t(i=e[a],o)){if(a===n){n++;continue}e[n++]=i}return e.length=n,e}(e,t)):(n||e.sort(),function(e){for(var t=1,n=e.length,r=e[0],i=e[0],o=1;o<n;++o,i=r)if(i=r,(r=e[o])!==i){if(o===t){t++;continue}e[t++]=r}return e.length=t,e}(e))}},function(e,t,n){"use strict";var r=n(4),i=n(10),o=n(64);t.clone=function(e){var t=e.dtype;"generic"!==t&&"array"!==t||(t="double");var n=o.malloc(e.size,t),a=r(n,e.shape);return i.assign(a,e),a},t.malloc=function(e,t){t||(t="double");for(var n=1,i=new Array(e.length),a=e.length-1;a>=0;--a)i[a]=n,n*=e[a];return r(o.malloc(n,t),e,i,0)},t.free=function(e){o.free(e.data)}},function(e,t,n){"use strict";(function(e,r){var i=n(69),o=n(70);e.__TYPEDARRAY_POOL||(e.__TYPEDARRAY_POOL={UINT8:o([32,0]),UINT16:o([32,0]),UINT32:o([32,0]),INT8:o([32,0]),INT16:o([32,0]),INT32:o([32,0]),FLOAT:o([32,0]),DOUBLE:o([32,0]),DATA:o([32,0]),UINT8C:o([32,0]),BUFFER:o([32,0])});var a="undefined"!=typeof Uint8ClampedArray,s=e.__TYPEDARRAY_POOL;s.UINT8C||(s.UINT8C=o([32,0])),s.BUFFER||(s.BUFFER=o([32,0]));var l=s.DATA,c=s.BUFFER;function u(e){if(e){var t=e.length||e.byteLength,n=i.log2(t);l[n].push(e)}}function h(e){e=i.nextPow2(e);var t=i.log2(e),n=l[t];return n.length>0?n.pop():new ArrayBuffer(e)}function d(e){return new Uint8Array(h(e),0,e)}function f(e){return new Uint16Array(h(2*e),0,e)}function p(e){return new Uint32Array(h(4*e),0,e)}function g(e){return new Int8Array(h(e),0,e)}function v(e){return new Int16Array(h(2*e),0,e)}function m(e){return new Int32Array(h(4*e),0,e)}function y(e){return new Float32Array(h(4*e),0,e)}function A(e){return new Float64Array(h(8*e),0,e)}function b(e){return a?new Uint8ClampedArray(h(e),0,e):d(e)}function w(e){return new DataView(h(e),0,e)}function S(e){e=i.nextPow2(e);var t=i.log2(e),n=c[t];return n.length>0?n.pop():new r(e)}t.free=function(e){if(r.isBuffer(e))c[i.log2(e.length)].push(e);else{if("[object ArrayBuffer]"!==Object.prototype.toString.call(e)&&(e=e.buffer),!e)return;var t=e.length||e.byteLength,n=0|i.log2(t);l[n].push(e)}},t.freeUint8=t.freeUint16=t.freeUint32=t.freeInt8=t.freeInt16=t.freeInt32=t.freeFloat32=t.freeFloat=t.freeFloat64=t.freeDouble=t.freeUint8Clamped=t.freeDataView=function(e){u(e.buffer)},t.freeArrayBuffer=u,t.freeBuffer=function(e){c[i.log2(e.length)].push(e)},t.malloc=function(e,t){if(void 0===t||"arraybuffer"===t)return h(e);switch(t){case"uint8":return d(e);case"uint16":return f(e);case"uint32":return p(e);case"int8":return g(e);case"int16":return v(e);case"int32":return m(e);case"float":case"float32":return y(e);case"double":case"float64":return A(e);case"uint8_clamped":return b(e);case"buffer":return S(e);case"data":case"dataview":return w(e);default:return null}return null},t.mallocArrayBuffer=h,t.mallocUint8=d,t.mallocUint16=f,t.mallocUint32=p,t.mallocInt8=g,t.mallocInt16=v,t.mallocInt32=m,t.mallocFloat32=t.mallocFloat=y,t.mallocFloat64=t.mallocDouble=A,t.mallocUint8Clamped=b,t.mallocDataView=w,t.mallocBuffer=S,t.clearCache=function(){for(var e=0;e<32;++e)s.UINT8[e].length=0,s.UINT16[e].length=0,s.UINT32[e].length=0,s.INT8[e].length=0,s.INT16[e].length=0,s.INT32[e].length=0,s.FLOAT[e].length=0,s.DOUBLE[e].length=0,s.UINT8C[e].length=0,l[e].length=0,c[e].length=0}}).call(this,n(8),n(65).Buffer)},function(e,t,n){"use strict";(function(e){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=n(66),i=n(67),o=n(68);function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return h(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=d(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(l.isBuffer(t)){var n=0|f(t.length);return 0===(e=s(e,n)).length?e:(t.copy(e,0,0,n),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function u(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function h(e,t){if(u(t),e=s(e,t<0?0:0|f(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|f(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function f(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(r)return F(e).length;t=(""+t).toLowerCase(),r=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,n);case"utf8":case"utf-8":return _(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return C(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function v(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function A(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function b(e,t,n,r){return G(F(t,e.length-n),e,n,r)}function w(e,t,n,r){return G(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return w(e,t,n,r)}function x(e,t,n,r){return G(z(t),e,n,r)}function E(e,t,n,r){return G(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)n=e.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function C(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function _(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return c(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return function(e,t,n,r){return u(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},l.allocUnsafe=function(e){return h(null,e)},l.allocUnsafeSlow=function(e){return h(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!l.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},l.byteLength=p,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)v(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)v(this,t,t+3),v(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)v(this,t,t+7),v(this,t+1,t+6),v(this,t+2,t+5),v(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?_(this,0,e):g.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return A(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":return w(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function P(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=V(e[o]);return i}function k(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function L(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function B(e,t,n,r,o){return o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function j(e,t,n,r,o){return o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||O(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):L(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):M(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):M(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):L(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):L(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return B(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return B(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return j(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return j(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:F(new l(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function V(e){return e<16?"0"+e.toString(16):e.toString(16)}function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(8))},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),u=0,h=s>0?a-4:a;for(n=0;n<h;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(u(e,a,a+16383>s?s:a+16383));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,l=a.length;s<l;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function u(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,f=e[t+h];for(h+=d,o=f&(1<<-u)-1,f>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),o-=c}return(f?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:o-1,p=r?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+f]=255&s,f+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+f]=255&a,f+=p,a/=256,c-=8);e[n+f-p]|=128*g}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";function r(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}t.INT_BITS=32,t.INT_MAX=2147483647,t.INT_MIN=-1<<31,t.sign=function(e){return(e>0)-(e<0)},t.abs=function(e){var t=e>>31;return(e^t)-t},t.min=function(e,t){return t^(e^t)&-(e<t)},t.max=function(e,t){return e^(e^t)&-(e<t)},t.isPow2=function(e){return!(e&e-1||!e)},t.log2=function(e){var t,n;return t=(e>65535)<<4,t|=n=((e>>>=t)>255)<<3,t|=n=((e>>>=n)>15)<<2,(t|=n=((e>>>=n)>3)<<1)|(e>>>=n)>>1},t.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},t.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},t.countTrailingZeros=r,t.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},t.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},t.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var i=new Array(256);!function(e){for(var t=0;t<256;++t){var n=t,r=t,i=7;for(n>>>=1;n;n>>>=1)r<<=1,r|=1&n,--i;e[t]=r<<i&255}}(i),t.reverse=function(e){return i[255&e]<<24|i[e>>>8&255]<<16|i[e>>>16&255]<<8|i[e>>>24&255]},t.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},t.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},t.interleave3=function(e,t,n){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<2},t.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},t.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>r(e)+1}},function(e,t,n){"use strict";e.exports=function(e,t){switch(void 0===t&&(t=0),typeof e){case"number":if(e>0)return function(e,t){var n,r;for(n=new Array(e),r=0;r<e;++r)n[r]=t;return n}(0|e,t);break;case"object":if("number"==typeof e.length)return function e(t,n,r){var i=0|t[r];if(i<=0)return[];var o,a=new Array(i);if(r===t.length-1)for(o=0;o<i;++o)a[o]=n;else for(o=0;o<i;++o)a[o]=e(t,n,r+1);return a}(e,t,0)}return[]}},function(e,t,n){var r={"./Accent.png":72,"./Blues.png":73,"./BrBG.png":74,"./BuGn.png":75,"./BuPu.png":76,"./CMRmap.png":77,"./Dark2.png":78,"./GnBu.png":79,"./Greens.png":80,"./Greys.png":81,"./OrRd.png":82,"./Oranges.png":83,"./PRGn.png":84,"./Paired.png":85,"./Pastel1.png":86,"./Pastel2.png":87,"./PiYG.png":88,"./PuBu.png":89,"./PuBuGn.png":90,"./PuOr.png":91,"./PuRd.png":92,"./Purples.png":93,"./RdBu.png":94,"./RdGy.png":95,"./RdPu.png":96,"./RdYlBu.png":97,"./RdYlGn.png":98,"./Reds.png":99,"./Set1.png":100,"./Set2.png":101,"./Set3.png":102,"./Spectral.png":103,"./YlGn.png":104,"./YlGnBu.png":105,"./YlOrBr.png":106,"./YlOrRd.png":107,"./afmhot.png":108,"./autumn.png":109,"./bone.png":110,"./brg.png":111,"./bwr.png":112,"./cool.png":113,"./coolwarm.png":114,"./copper.png":115,"./cubehelix.png":116,"./flag.png":117,"./gist_earth.png":118,"./gist_heat.png":119,"./gist_ncar.png":120,"./gist_rainbow.png":121,"./gist_stern.png":122,"./gnuplot.png":123,"./gnuplot2.png":124,"./gray.png":125,"./hot.png":126,"./hsv.png":127,"./inferno.png":128,"./jet.png":129,"./magma.png":130,"./nipy_spectral.png":131,"./ocean.png":132,"./pink.png":133,"./plasma.png":134,"./prism.png":135,"./rainbow.png":136,"./seismic.png":137,"./spring.png":138,"./summer.png":139,"./terrain.png":140,"./viridis.png":141,"./winter.png":142};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=71},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABSklEQVR4nHWSO0oEQRCGv6quWXURFFMnEtRjeAZPtNfRU2hqJJgJYmZiICgLys5UtUGPO73DGDRV/7OSltXDKmtWhIRmHV5CGPeiV3tWdPBbuz5HckKrQDHMB+pds2Kn64uZMKgEgqMSKDHgqHCHiGNt+kQJpDIW7BNcF43F1u6/Tpp9gstlVEABGeaA7ej4ExRkziAJ1Cr8Fxy9Ju3+RBzKKjzVUaF36HrBvg4P6HrY9ELXCZu+CJteRn6WK167vVv+E9otqEO1127ul3S94D00Hiw803imiSjTY3iZpWeOvOYzdvX4UZlHofHMwmf42PXY9dP7bLjxAA1yckKdrE6kMgtXNDtZvIyCOj/J+a6DaRLW2Cmy98unyhRlzgVTEJIJFBctk4S9tR8Mn3YrBHuFE51oacuXAsWe7QyXtCXqUEgaC3a0tD32C1Z0QAE9c936AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAxklEQVR4nK1SQQ6DMAzzpPz/meMA0jpAogwU70CAlNLBYRLI2LEdEH0ME0kCBGEXSpwEcODSxdmMtAEyThN5skD6OBc33uH/KVAyGWjyCQdOQN1MmmF0AkASaphx86ibSR3HpdUMStvoNmkyt1J7lqr97AEfXgMoh0lCnu20vd5qTDj2EN18K2jaeB70RuTB1Sf1OybNO55pOUoIw2VYtVwir9ewHJAtuNxHreSRPvSXpl+a9KEDqHYMPZ5pOQpCZT/1fsjjF52BJvTQK0qCAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVR4nI2OO0sEQRCEqx8XCRqIx0UiPjBR0P/iHxcxlDtWIwMxuBUMtstgZvdmx/ERND31VXUxcnezoAqgCpgIVIBRq2SW362cnx1ZOyiAaVkoxShU0vbT1d4OlgEVqDRY5fvJ8XIGxQyqBjGDqFfaCp08X15eQwtT1LJOgVaBqEEkbT+8uIWoTiDtpFHp2hc1+MHqCvipQBSA/rp9sX8+AYpMBv84HLds+55BIkCQQIAIAN8YM6+YP39+IEhwdogdy+GBxMBAkBgisib8afs+mUM2g5wzFiwfR/b84e11CkZECowzVLoxfr/pZuA/JVGMP643O5B/UU99NCtYd13TYATAACKAYPEeOYEIeP/STQbJKhRAixWFX+hdWIVMMmjdAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA8klEQVR4nI2TwW6EMAxEp5L//zPZVisW0QI5lPX0kNjYAaTCIfEw8xwI+Sj7m0S96oSItc9dY6ql7NqZCCMyBU1jgkt5K+ghthBBMgHpd02bT35+NyezLfHochgzyF6FkGUvUBLaumoDaJrjQqt+Gba5EwENBgdfaQRk2L5B6k1nPYdJEOo+eaxjIseQBWKoB8qwjvVj0XYjmk3TrAdNXtuXAxQdqM01ALJOyLhWAKhHp37UG50KmaeHF9Br02nUCHh91h+E9v62fPiHspqprppM83JsD9FBzkHtNJnmBa1dOz0ENJyWvo4+AoJnuX34H+gfb4w9awqIriQAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2klEQVR4nJ2S246DMAxEz0r+/7+sWvUikBYobVnPPiSkhJAK9cn22D6ZKPm5T3+SAIQEAtY1UtLXtXXjCyqLe0DWj1MQUlPvWqAZIPBCE9b8PrKhcnHpqIRb2z0qDsCX4ArQmu5Z0qEKXbu1tn8iD0jFjkTUQh6iwN+wWbP7dcgXo7/9gNtA8uR8zn3xvjE3Lv1mYxdQwjjnDlQMEaH51Wbd/DJkJ38BCFdQgsS4oWnRmzWbjm0+5AL5x0VlgFODy+OvC9HlCA9/P0bHUYxJR9hhPKLV0uZwBfYP8fIS8IMOv8wAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAwElEQVR4nJ2TOw7CMBAFZ9craJAoQp9UcIBwADg7V6CHAyBRhA7hpTBBYD6JXDzt88izriyAixgihmqarxliVlWbYvm5QFEky1hmC5piWVGsoiZIRImoRAKpv7PrF5a6LafHdPgpZz1jtpocCBIxbgRuBOnnOGbtdF8sB4mIb5fuGnH1Z1BnLLOuORXLrhG7NGdQQCVLzsLXe0YzGxD/cTDqOUhIL4il3mcEM6q2WH4sWL99Dvj8QH9Z1+28WBbjDtWchVWz8bAvAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUklEQVR4nKWNMW4UQRBFX3VXjx2QEZJYIkNEJOYUJHAXbsN1IAAJJC6AWCRIMBIWrNHUL4KeGffuWiQErer36/9f9uDVy2wKWgaTZpqCWw7aqmXXJ83bvynw57t3TDkEFUw5BI/Lh/CkGX/x5e0gBC1nyIKsEThhjaAt3Ag760wjzPHf8Yhra6g0oo7mu8ILDzv/eP5saVtNfsQ94Eqqkiotsz/Xr4dUJWd3Gm6o2uOZg3ZU8OTT96H91NCvDJx9LxPhgV9cfSM8mGv02YKowd77nIc511PN31x+OBCiduOJNuzGg/768j3hgYpwkkr2aRwyMK1snZ3EH5//GIxQLQ+Z/Mc+8afl+lYYmitJppECpSEZGjkNqeDtZ0Ey/qSxl5HJZpYgN7OhhNQh++7rvUPDcG0rWDkNZSEpKAui4J+v7pMLrOLGizYGTgp2Nxf/VfAX902ecCrTcH0AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA6UlEQVR4nI2R6Q7CMAyDXSkSvP9bMsFAgh2IKeZHszY9OLRJdbP4c9aGZbuRIOK7PwDY17E3a3m8JgDZnEFts9d7r0zbjHoCgCALbDkRCMYGyLxNbZIBfKUHYAKQ0D2P/VX9rzGvMj7XnwD1+xpwea4gAwhAqzWaA8jgaiGG2SrDckyFj5CmliFyWg+WYJCUaoZ4QUnnWvTIcD8mc5qkTmVnEu4T3A/xUGgHpU6ToKoF9HvkepmsAOhXUNbqemQ8zyXdfWySC7hd43VcSioJKiqTT28AM0CFxcHctjdNAuq06xech47hf+AbTw0BT8Hs3zwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0ElEQVR4nI2R2w6DMAxDPSn//5mbdgGGKBdNLN4DpTSlnfrU5MQxjrjM60iCAACSAEIHMqoLGpnXsSDayX9zmb/TJiPtm6mRYdJ/3tUGBIGsAQmFnkyUBBOuYb5xaZbGC+1Ac6moJy6vpQVplzReMGn2uQYmj7E5XKNT7MKWTJmcR0LuUxtEGkxgGXDMEia3YSgLI6MSk+vgtn+8xyPCOfneMunfQwD1JsbAWQEOkVYkka530U1ITM6Lmiboegf/OYDwtX9zfawjIHjOxWGN6Q+DSlVyffJDxQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAjklEQVR4nJ2PQQrAIAwEU8gH/P8LFVERBb24vdSDojatIDGb2SVeAEBE9JTPlUsp1M+fEK61EoBBnN+nGaeUxPBqxjnnAdgZdwzHGI+AKKC1NgzmfqX1nq21r9BJGwJOdxUGgNh7LwJ3oeycExuWG4QQfq8/fKFDc33TWGu9BSUhbIwRrbvTL6UUvhhm/QbJhaMs8zXl8QAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR4nJVQQQ6DMAzzpPz/l0xDrZBYJxg7xDs0jAZatp1iO46V5MI5EiBAIleF5/vq+8LnkIWPqCfDx75gGXzjYDrBIIRT8Gs5/D1MMIXNTALAjq8YVU2Q0k40s+NtTZDum6C2otqKutMrHmEfTkyNwAIL+gAWN+Yf0q7KwyvOPy16BGSJs51mIW6AgLaHqYS84gxqNlPVTBnT1qQaN4wCS+oiQDUTQbvv11B5XENh3qo6DtfXwifDbTwEaCWwHdCPUNivrJa4ppVYuj/MNe0NDurypydz69MAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAy0lEQVR4nJWR2w7DIAxDjZT//8pp12rtLhXdHuI9QIFsQDWkyk44MS11nC8ECJCwCtT7VoXLDWFtw0FhasHrDlAzQC2A1UeteOF8/nsoHQRCkALio7Q12fAaP2Hc5U1tDbaDYkDx6sovqK+C8dQBtkME4xEs4OwJxjthMWBYJeR9HQKYhgpYG6GrV10DGHsrhNSz9W9PHpNPJ+cQ2Fo7Ac/Jh4sPXPBGXaUXWNJB9t6lv6fIQTnQVXo5SA7eAixUN2oCkGFxfagSXtYfo/vh+y0e4IIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGElEQVR4nI2NzUoDQRCEq2v6KJiLhhX8Ibn6EN59ez2poAExAQNehCjIdnuYmZ2ZzQZlGbqrvupaucGtkwSFIANIIghBpicBhTPxMOy6OFsmEUahUph9CQIJBINASDAQer64jCYjlCBgYApUXlNACGNOT6+7poBM7dWcYmQs0W45H0SZ5Y97Xi5MU7urk8EYQ5GRzrtUBfOLWQnJKCwCEBARiACY8PS4O4IIEqiDrVcf1p7svnbucLgbPH9uiCp5HvfB85w06MfP+4DG0Kpic4sPVnY36Ob7bRIcOhh7uvpcNbC3Hn2eNqVbT+/Xj/84arWZoTeHmUHvXp9gve+BMm2S510fntcHQ27+59PNy7YYfQutCU8X/gJ/vmyAxuuP7AAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABp0lEQVR4nG2MPW4UQRCFv5np+elljYgsJG5ABLkDSDgA1yDlMsRIFhkJsYkIgcQSZGARECAhEMbe6aquJuiZntk1Qaneq/fVq04/fEtBjRANUSPMExctK73ORA338t3XVRBvlLgm0Tuja43O2Uon+tZwt7cXdO0cpAPI6KdbYYpOJBT39OQLEpUQNW/TxZvyJyoiSthlf8i5V+dvbz5GpUrgaRlSi8cx0OJp8cmxpcXj8Tjcyc97GSSDPv1fD7T4lEs6q0kSSEFwz37cJwUhiZBCwERI4XryUsB5X4nwN4TCV98fPEx7oApV76j6hqp31Ctd9Q3V4PZyt3l0vHfIwPKQC5YbpmACMY/bPr5DZTodrvOevQqMMj1oeapKgeLq8zel0aoOqz1We2LtsXqDNR6rjxbvPLHxhXMXd5/nsJkfNyW0ZvHRGlQiIhEVQ6ftPl4+KeYwVLlE5XfOwjpbtDt7/YmE0Q/QecruhqxvHU23Afrp3g2p6Or92Ys0w+vHucx1iTgKcSfoKMRRieOsBXfcfSZeC/GXMI7C1QzsMrCGdRTibr/gH83yuoEEyPZPAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVR4nJWSQUvDQBCFv7cd0GJqqwUR/f9XT/6cXsRzoUUEqWTHw07S3YRSDCzz3jczb0mIft/fPCvRS2QSWYks0SuFF6UfOmb64LZbvZKJhWpoXAjeU+mBk7Bd94LkSA5R69MwMlKPVcxW6+P1xdpDw6xbH5ELXE1tWE4XZ2x52FwPaCoNs+XhHimX9yOHdqS+8pOazto2Nx/zoSboUm8IuP0EqT0pXWCLGTdtt/8ImDPzh0dwxx3cHc+lMvHuBMsNs6/9D1RgHM6t91yHnJl9709AQgiREAlGLaS6p7YvYZ2e24VZgCYXtN7u0hMO8WHARXkGrQLi3ymHMovATt0iBs7QI6CEaBJYzKD/AHQQ230gA83tAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABD0lEQVR4nI2Su04DQQxFjyduIkSQoKOC/y/zHfwEJRWgkJDXXgp7Zp+RqMY+vvfujLW2fX9TkSiI8UmcizO1mb8evmfwtoEZ85fD18wIhih0FqcodMlkRpfsguFHHpBNxFOjlTTZiImCf6yeE0Z6qydGA0xQIGthgF/Y9MMqUIpQCpV9aKyFgD+eu9YYwy8MhfMATMjAN7pGs6pQza28llIsE9d61ez99LRLE028FFCvVefKt2ZANJZ7pr4fQf5Uwft91NrXtgtDXZYmAW2BS7XwO/2A+q8P08GQgqCcqlehgnNegYwuh0CabBBgxMWGAcH8dLwfpQ/FY1bDiQfEevD973oGF+sbzD/3/xPeYn8hKR7Bgi9xJQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJklEQVR4nIWOQUoDQRBFX/UUKEgk4EoNiIgrb+AxPJh3E9yJgqASRFeiC7Hru5jKpCcTcTF01X/vF2PXdqVihWJGsULXzNN8yvxsfrwVbB6zLj/PL2c/Ol1Mwm3imNuQ+fzyZAxLgc6wktk/u88uFpCgFwwa2bp2N6wrUAwzg2L43vkhmGWRAawlejY4TW6G7xzNNoTmiAFmyBhmIPeeux3sDsFKVIo0YlsaHAP/2XeEEAH5CoGiyeNPxz+1XIMsbSuEKqGKqMMcCvz9+wGpDStB3chimuUhf/q4GYuq1Mg5+ryqEpF/kawm8/vX2z5oYMS0NN6VnvD75R0h9TCU81qIENrGIwgJf3x5mxRWkoI8ABGgUL4Q6rk/P32tgWiKY3F0oPF+AX1dVexjH/qfAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3ElEQVR4nJ2S2wrCQAxER8j//6MPIirYovSilYwPm26S0ooKLZlNTibp0h2HiSQAECUCJEAQ9gAkaPlyZOWkH6cAlsZolI0ZuALIML7qRNKg2GCwa6ubllv39Eb8aaChkLV/u9YNS11Ny6WfDcqUTT1f7kLLuZ9Scp6qSdtGwUxng2P/TNN01cwN4oBqoGZQI/K5Gq8wsr+PXliC6RzXd0b290f9hLrqD1GO7eh38GVMBqd2sL/C3qR1I+9a2DWW0I+g68wJuqslNQCuSbUbXGeEzWGzGVTwQzOoeANe+wjb+4SIpwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVR4nIWSy07FMAxED5L//xthcekVCBYXmpZW8rCo2zyawioTe+bEifKkaZUEICRAoEYjUKN3v6VxAaIoIWrDfxCb0no0thVipE79PJ09pvUIlSYKWBsOPpKwx7ziRbPWOexFWGjzCew9LRHaiJd6n6LR9pZWPIoep551hrV9e0nLYfCOoQT0+vacljzucZIOgyJ45bH715wbFKF4wLwv759hNnzPuDyIjuNIHq++7TdYoyNjr/OtCm0Nj7t2YBXYseHnBvL4HbHK46uV9b7HNA5/hHug2mOM9/1X7C+VTafa2Wd8fF4bq7p3Ab8bQAKr0rco/gAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABEElEQVR4nI2MO0tDQRCFzzyKVBZBLAIqaQUbsfPH+RetBfEJJhHFxmizMxa7d+7u5gYthjPfOWeGrq9mzgTEcLWTYyqTytPl3LtCd9RkBGKAmYpH0JMjCdhXompnQubS1ePFrCkQSwyzgERArI0fGQv0cHlWBbpToHgiTQ8kAAv04PQCYAVYwgR1zAqKLHM8oMXl7kHFTtwqsqKwpvl5McYSiAF0TAJv9qy03X67u8MdGNQGtoHHrOkYoO8fPxE0RZtg8+J7sL6tvyaDfQe96ur5szHyGCwVtUpTx2bQp7vNv4rNw+TwlD19vF0VoxwWrXk6y7u+3GziW/3ZzOCeihrMUqd519eH+8b862jMs/4CGxSAfupf/ykAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCUlEQVR4nJVSXWvDMAy8gN76///gxtoNmr00jbsF7vagi2OHlDJIkKX7sGxrKNOPJAAQMgKSgPwAyRE44sVjXg6IMmEv2PEgxKMsKeC6cwrEbQ0JYrNu+DFf7+nG/4slIcp1Nsk9tkIB2JnVI5ofv+Oct/VK0B1z6yaWsWCQMDCBdZ0xc1AYhFpv8zh9TQZgIIWQGrMDzHmcPqcEqdo+yC33P5Bbro0f8Tb2BhSgFwb1KETE+wiJfhZCeVPgWgMh0QPEyoWYg3Sbzha6+FQo58mVuXG7X0AJ9IhS8hMLhNxxi8kvmlh8lNkGOdusYCOqWGueWBpkU45Mg67WRnZ5XPBdC+woz0x6/A9TQgrNyikFgQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA40lEQVR4nIVSXRPCIAyLd/3/P1Q9ld1AcXPxAQpF4Hxa+pE0LTvt24cAQBLpCyhIBSBXKibAHEiM+5jwI8iqlHMECcg77k1CyQ1WUp5cREmID1sJioPGDSfkLBCeWyIokfjB6qDGMHVx7tUSMBHhQASEuCWCh234gw8rQoi7hUGzNs7Eak7cPQyKE/voa/JwsT6bFcB8fztEFhdTMluGsQ+7b4cJHoD481oCPYweCuYOlWSe8SBkPfuW1GEjnN1ZLP7ije2RQC+W1tBf+fLsG8uuhlCm10OChIRraImDpk7c9HwBHKMrHh0ei6UAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABI0lEQVR4nI2Qu0oEUQyG/1wQG1EQUbBYcLEQRR/L17USCwtvhYjiBXURPYnFyZ7NjDNqcUi+5Ms/y9IxJi4ECBHGKmN8r0eryzH4I4QIJAQWAgm3Xne3V2JYFywEYgKHVMU44OSEr5uHG70DBjEHc2MSqcfcnev6/iRS5yKnEOmFpJ4FYIGu7U1BUgEsIObhXgQIrsc1RJd2DioMhRADxPCoIAI4M0OxNYU3iRYHvJB+hCSm99nM3QFzhwMwB9y91swAqtdlvX39TCJg8CRmdhSL6t5Yr54/YgAUi0U76LJZ2gXr2f1bGxT73/tKvZ5cP/UEGxTzc6tfd3fo6eVjBYs/JwSPn++9Azd0HL27eRmQ5kFl8Urpcjx9uDj/RbLW20jIN3wPaQGRbenuAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5klEQVR4nJ1Py0rEQBCsqm7EiyiIePCwsOJBFP0sfzom5BYJ+YTMeJjJOgnZzbqHprue0PzCLhoBI3FsC8d1/7y9zsRGCQkaISNoOtz+8nSTySTICIpQNiVjDqjwZL8/fjwsAgKljHXANEthzXm/f9vl1smoosQWJcUtA2Twu9dn0BKADJTWbzMg4xROJX61f09grYRKIeYw07DgGH6+459YGBccVzhQYAghxhhRTgjhJC45H4bh7OCEy+19368K527vum5G/He8bduLguM4poKmaWbE0rCleVVVJ82bL9R1fdEL0/wC6kqF+ErBGb4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA70lEQVR4nH2SwU7EMAxEH5L//yshLBIcaLeLoODhEGfjZtseorjj8bOb5Elfs5AAQIoFUGOd5BCYrksIYcqxhE5yAKZlSXQl+mB+yNVlmj55/IXzojyRMU9V8Jagm1x3RtdSLDB9/IS4TTSgDvTmN72v1eCRbF0jJsete/Kav9x2zK3TEbiBhOn5Vid0IeduarGiUN7PRN51m8sa5m0RGZDBI2AqK3LhUtrBvb7CvjP46rddyhzdu7gtDliGN78Le7tc4xZVz6vdFuD1ISddQx6s8DsUjkVVOwJb4S8J2jF1rU/Qgfaq76GLdqY5hvwDOwHLCfy6qJ0AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCklEQVR4nH2QzUoDQRCEq2Yb9CgJgggm4CH64r6UoIEguYghBNSLU+1hNvOXbA5NT1V/XTs7fMHKQwCaYqe7IpnPtlzwPHgSQnAgGMYaz3b/eJWG2QwnYOiWMhcIm69mzRC5p2twYLpO5R85DIRdP8+SGL/cw6iCS2D5N7On2wsvVmDyvG9cLqZfjmOlp+90KsPdQzbJaolsQ5pFVgHzBdwDHMPYA9RrhMKoZfj5++E+AqqWei13yNF1h22/byaH8r8zHhArz9b7nwIIkBIY5fksVVXP5LD37SGLWIdUy5Nh0WHrzf7ElBwuh6TGK/7RE2zztivDBhQ8poVjR1SrJdju9esi5DGBU/oftGhLbYqSOw4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABA0lEQVR4nI1Py0oDQRCsnm3Qc4IgOWTBQ+KP+z+eBE96cEEREUIIRJwuDzM7r0zUQ1Fdj+6dlTts6BxQQRrdQETSrONa+sWTIwIZBOIi4qyrm4sQJtOdFF2zlHpOoMvNogqRODxDBgnPKfy5h0Ggl7eLIOKX2zKKw/lg/kfV7VXzw/1ZpOcLVMbV+UWJKOdGK67XyRQZzha7WhwUyxGkwWggGqbBYCC/g7Y59ynX18PTPw4YjITNDCat037qhPMC64yEoc70efdeGZ4oGPBk5EJb1vr4eSwK5SJg1uiYexLeAuvDx1dleGOtk4ciy1rv3/bdA2YAjRlkrSN0etn9Wfot/wG521v4Pjn20wAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA30lEQVR4nI2Sy27DMAwEtwD//x97qgM/khRIkLQGpwdRthzJbg4GtbvkSDL0we2CQBIS8VVr7fjIuF3bw29CTPerhCfDo7JWFr/O5MgYv5pB0gFoZqkaU1fv7PsDG+3I1Hc74XtQ03AqQl6aOc5ARt8fNvwL0DDGn04GnhtZfKi93Gs/p4tw7TY0ocXant23gDjRtnrWTnHqbWbT+bEG3hiuagJ6eDadn/FKEZLybVDSKG6UdbxqD23j7xyNQZUWDQEsNlihARjmWU4iZkCp/UhLss/HHCZFmHYs9Wue9R+O4wCuj3feUwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUklEQVR4nJ2Nu05VQRSGv3VTE2lFMXYGE4kV8gB0Fia8E4+jJsbHIKGBhIQXsLUWZ/baQ7Fnn7PPgUNhMfnXfx35/fZdqxYUC6oFxYNqvuIPvVh4jn87PluLHo8U/Qkv8O/HZ4gOIInogHRccjQRLYj8hUUmJPGXBxdbpURk6KV5YPew772+RFPRNCwN7c8GXd9paD5DU1eZGf3w6tNEhqXxyGBuD05j/uH6CJOKa8WkYh1dyxavmFUsZq3gWvGTNz83Q7tGdmSknUvDBVz7ky18WnNOD/67jAuSw+eWpTFWyApZGlnpvJGl67UxLu5Z95sfpRe7UenBtqHvGvTbXw0VxzQwCVQCU59QAlUnJNCV79jzQF9M3D/uf12EA5Ne1j4mviov7/kjf//qC0ljlEbKSEojaRNKo8q4wSf/Hyl3pDT8eu9PD4yLwDzY9QcD6+w9G6MSSZhjfWwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABK0lEQVR4nH2QO04DMRRFj59fpDSUSCBRoDRUsIgshp2xETaQPRAKQEhAESJC7EsxjmMnEwrr2ed+PONw//ggV8ZzZphi0p333DXsJ602f12OmDMT6Yi1RbVk/vJUm3ciCqQQSViZcXRuguEfXJKsQN+L22r+v8QX07txQ8eMKDAgSpggAibwdbgYgMChGFWZIaK2JUwTFhHwm+/UGOmMYyyWciyTLeFXeUW2hCyRdytuK9s0XJbIsfFZwp9niw7keFDWlpfilvmyFGB5+GQ0vEGzjwg/OO88fu3vvTkcmw6DXfFN+DwpCgNFpIiIoKIUBhGfbs6LOJh+ZVU8HbSq+Wp9O9zZtA5if7tUfkgBEchl+td6RoYOSoFcpqDyYx387eesmsdCLd+F2rI/YfhiurSRPq4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABbElEQVR4nH2MPW4UQRCFv6quHtlLAiJwgAidcA+uwK24DBGkJGQgRGIkpyRoQTI/stnp6iLonulZsyIo1Xvfe1Xy8tO7yBqMgSxN2xHv2dZLINc3b9YHdr+gQVTBXfs0XTfadr/OcVdmF+7+U1x43Wjxil1/fETymVQL6jOpHvouJJ+xvkfevC75s6vXJwsBHNSY+xw0MyfjVm1we4BdnT0+LiZj1tyP7j3o2lWZmMnM2Psnl2RppsHCxB3nbJjM60HLR2Yv9NU/BVcoKriCC3jXRems+VsF+35x0+Aa5FFU6Q/GwxSZRCbFRIqM7R8+xWgmRSbHxBlNW51auYyD5dh6X35/+BzteAKEKkHA6S1BhaNtP3Lu4M/JwrprEGVM9SBKxb7ufzZQGgiPje9s8T7Yktv+7TeCQAwkC2QQEyQDncluaDValhUxsN1zgyz9AdCPV21BwlHKZpwkTdvF5Zc1OFlctPim1zKl8Bd+FVIszOQmkAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVR4nIVOzUqDMRCcmSxYL3oogojaQ8G+hw/qWwmCBY+Kp3ooSCG7HhK/L4ktHsL87hA+8TEkQgmQiFRRApRmTKr+kNv6YTEX20IC0jBEBSiALCgF7HatKZBiCjuvOaKiG7Pl3XdnIBEUUf5MMBEQO59VIxF2vrkoQjpanjmbwTIOCWabq0m0wcjJYz5hXN2cPmR9LR+04fp+Msl0snhUUzAuV4gIBByOQIQjWoRXngtGzAiH7Q4fJ4569AByEB6AB5Er2vt+XwIUYy4SHjYViz92AHv9WvwpFT3zUbfcnnfqQ/9/xJ3wTLgT9vJpnVEeOp27rO/a2/ayP64cHpAHmAvKA/SAJu1IHrCz7WEyWYvKv9wHPeaBH2YtGxi9wYKPAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5ElEQVR4nH1Tyw6DMAzzpPz/V45JQ3sIBkxDU7wDaWug44Dixo5rVeFENgQIwgEQiEoWXOUD29fbQ0HqEQRYM2C7HCMHyUxvMVQX2Lp5lMH90BajZuAynLCziBJ2Semht3Ya88FTRMUIU8ZL6AUk7Pqe8s0uKVyGCy6DHiZ2GcaFSNG2WOLvMAlrxqm4pjfIieJ24YrJ8lnT93/JYqap1pyd+27Zj2jQo8bN5VzvWXd/gR6LQhFHj/+Mo2fdbZAlwkrklF6FJwF79rMsxl6wNfCaQWzMuuYfscJJNTw+ByLBXtf8APa7MYwwh5EKAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABB0lEQVR4nH2TwU7DMBBEn9Pl/78PiQs9wKFpkUqjgkR2ONiO127gsPKMd2bWspMkPUsIcCQBIvKMhfC8qud2/5mboYrVeNvzEJ65EHZfZyRKHkh1TTlW437RFm7nr6kXhuajOXVmCWz+TrgolVgrZuClVgU9YC9XGwTZ6IKVFtx6YVgOODRRPXadEgPozZXb6+3pT/H/QakGWL6UrZRXLzfe9UCuTecCu1w8NENANPvOAIE72MfZN2Wq7+bB7ZBqWthDYnJhh7fP8OjtfZIGQ+inMMSm9yWcl/4k3WenflDBNp2Wx89uB6cxrGDjtKD658lBXnipDWvgDjh2XY5BrIZ3xFtI6P0CTYDkxqndzqIAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2klEQVR4nJWQwW7DMAxDnwH9/y92l3VAEhQ9rOkOq7hDlChqvRY9GCBNkbTVpE+BQA4oT+EOUpcbv2MYduLGdyEP3NeAKdukitem/zDCNA/ZLu/g3l1iYx6CvHtuIMc4H94zkuYI+Min+boHge/+7Lv9lBlhjFPH3B/uFRnDCQVZ9MACXMFBnveKEAnsOl1CXIRF5KVxKRQ2j3MYM2DDzkvNzqfroxjNhT8LcHI38ZttT65W9Phh4IYdv9tm2A9kYLsLrLp9XVq95K6FVl5V5gA7/rQn5vqC3twfxijizg2ZD6YAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAzElEQVR4nJWSOxKDMAxE1zPi/hfLIZIUKWKoyABpvCkk/ONjUngk1rsPj2xH3ggSQEBZCbDqi6pewfxGG7AH0n4LaJ2iAgknv6Gmvg0TTB4I2d9XU8h6svLYXiAEvT8OmekMLBi8iTAxqxd04bCUhrATONEFw6LEYOSiP6qpF97n7SbbwQjAYwYDbU7MHlytaV11vV1Cxtc3E5kGXAetIoLVowC4dN0ESJfNyWWaSzM1jwxjFwFFOI4i+94D9J9O5wELXFyrV55/Bur1A/z3tAvj4a1uAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVElEQVR4nNWSOQ6AMAwEx8c7YPn/I6EJwgWhIAWkWGmt0U5lA3YH3iY1MP6TwFsC3Er3cnd4auuMogwfeEpfC1Y1an4tovQzds8SaXrBMvZKCbMLDvEKBu3k80MHAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIklEQVR4nGP8z8Dwn4GRgYFczMIgQL7mUQNGDRg1YDAZAABhUQQcInuakgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqklEQVR4nLVQMRLDIAyTfMzKQNr//zQdCIkNOF3awXdgyZJsAjhIopWBIOD/1/ssmMOJItVIBIHVYO9dBtYFduQJFil+l6D1/pVgdcAhgXWBrd4kw+B+E1shDDeBKkcESLeCDWIEaBxWqHJEPAy3hMGARNGuGHE56BJwvEFVcPh2A5LBZLoB0uHkBtspYJ2A/qbr53h5S46cC2T4UmB2zvHykhx5JkSxGf8AzUYG14RE6RQAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAPUlEQVR4nO2RsREAIAjE8pxzqPtPhYuAO4ClRcqkiSDTCKqMjZflH3gUkLNaGxUiw6DK8F2Xf+BRQPP0Nl6WqwQ8lG1ziwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAO0lEQVR4nGNkYPj/n4mJgYFczKKgQL7mUQMGiwGM///9+8/w7x8DuZiF4cEDsjWPGkAlAxj/y8lRFI0AGbwEuTJP3MgAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIklEQVR4nGNk+P//P+N/BgZyMYvAB/I1jxowasCoAYPJAAAvuAJKaJ4/IAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABIElEQVR4nG2OwUoDQRBEq9oByUHFRJcg/om/4Ef7IZ4E2QQiEhFyiNvlYWZnepYclu6uelWzfHl9E81AI8gyzWCLm0ZYvZuXNs9bkKxGDzEXmVXGip5ZIj08rXu4mgilcyEqkzUgPW5viogWJGGGUoYME6EA9YE0DNclhBIqBUQIoYXY72lYLw2BVIMQ9lkvGimk4fZcIVKdSSiUqE5D89Nm9dsBFmGoD3ef5z+4v/rOgrxNxfuCBweKnu5Oe1BNoATIawhBm5k2HWl1HAHPYg+XPXiod9uTHcYseIFiwAUFTx5LBLkjTbtxAWVABVTQ5a105tLpcwctAjMc5/xi7wnp52MPueBTb0Qwe5fv9PV+qIJPgqYATYL/CTovp9f7H0WmVx6izexTAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAi0lEQVR4nKWRsQ7DIAwF7yFLZSBLk///1XYoSo3lSKk7oUMYToeAlwSSaHzWSxaIle0Y/dyQoEmIwG4wsh2buwD3UsZz0LPto68H5mDzLGjkfBpE9VKDqF5qsKhXG0T1UoO0ya8NonqpQfzOUoOoXmqQfbEk7DkeTLfvSmAJyNnY+vXgjYuM0f8yeAPrYQWRDvhnkAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVR4nG2Ty2pWQRCEv6ppXUSi4IVESQTBnaIL3/+lFFeatIvu02d+yaKpSxfDwNQISMsIYRkjJGOM5OYaLhltu3j34h7JsAXYcLg3bQ2P528+gkwe5oYpFVqgxgsO8ff9a9LUwtSIzUsQ586AsnkSeZcVMkjFpUQd1OjGjVtJXN/8xDqN//k5sDj1gjrg0/WvMZYSQ3FgaeMzal8sIL6FWLiMVC+O8RNo1qOHx/fH2xYLP4FndLXXR6l4fNbXMcRCigqNXohAWrBlaB2vrn6MQGuCqQU+fIPbk0kfnomHt1/KsMk20yYl0odW76pAVaLKxO+7D2CmZdU6pmlTqC5TbmXDEH/un6G9ad1kukwSU5xjV4UqHlc3D2N0zS/4jnMRgSUsiNuX1DcWGPVCdRnp9C6+u+qJJf4Bq2dP2Vu1vf4AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABdklEQVR4nG3TvW4TQRSA0ZM1Dg77A0leg5YOiVehpaanQ+J9qJCo6ZB4DiQ7MLNLFixzKbx4ZzHFtJ9mzr0jiHj5LOL9m4ivnyIi4vMu4u2HiOevIlxF8CV4F7wIxFPiNfGRqA5w15MSYyb2mku6lvaazS206KZTy0jIqAbYZb4n7hOHXrumq+meUN9Cswj0UyCdAtuBb4khcRjUK7pHx0BzA3URaAxlIMOunwP7rK5or+g62rNAa5yun1D1sN1zl8mJn73VBd2mCKxLh5YykGE/OaTEmIiD5uEMuV44tNjMgYQTZErcZ34PC8ijw3IS/XlgcvhRQC4m8X/IKqH/dxL7rFnRXdE9LiFnh0Ugw3acIX/11he0E2RzDavFJP5CzoF7c2DMoJ0guxtWZ5BrfRkYy40c0xHy8ujQnhxKyGa+wQly2x8DE2TzoIA8W6jaUAZ62JWQvbqaVvoEWf6JI2RV/izbgbs0QWabqoC8Ma1ke3rCAX8A6n7VPhrrmDoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKUlEQVR4nHWSQUsEMQyFv5d03Z0ZEFkQYdeDguBB8N/5r/UoeFimHpqZ1p16KMl7eXlpMyMgizfgFjEiJmBCTIgR7AY5yAATMpADVrg03X90CzKBLzlNrqpxSOOLozCozUve4/VHk6YnR9oWZCDFNAWv5hZannDyOk10GgSaERmUI1achuMPkJHmiLnitaHPiZm0Hz4roQzMjUmDexyZdBi+OlfMGDOujEmU3QmP2HLpPFwawvCmWPapLafCS5CeD4cVLKL4KIjaoMZAYWCCdNrvVtAVNXkdEuaCdN7vVlCeL9bFE/lcfvjY26oBSMP37t9iNTMkR2UjSDWm6fKAKQRWLi2FKKK1GCu5hcHx7rWKbGnyImiO2ZaTOen4+F6AX4n86phj15w7vxnlS5ipXSRlAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAaklEQVR4nMWPSw6AMAhEH8jebZc9inf3JJ6kbjR+UlusiV1MhgnwAgIkBQSo+V6fs4XCgMctPJC9+XJByyv/APq/UL5AQBVkk+qRPW4h1gH3pdeA3cnIxphveGXEAdSaZcSpL0DSMqcvgBUq3Anzlm9W6gAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUUlEQVR4nHWSO07DQBRFz4vfjCMhQhwpEiV1NsACKCgQ+2AZLAmJTbABEBINBTtA+Ywz9qMYx57EQdbVuXPu2JUFno1yC9MNlFsoO07zftiyHuYQKoSHWyNUpCRJnfUw785dn1Uwo48S36DiSB7lCpgCHtAubqDwbdaLfgzg6kRqsHMMYDXC/sWwOglqYA1sEiXnBmS8ibellWzwcY2PUDYkxkTfZP10L0Ce3rFJAX0066OzMlFFC8Wh6VmtrlEG4U76wIgj9jx0+bIbOx2ViGsj2iTSAC1nKfaDjYZWoJEznIy88nmZxM5Stjb03tH15sQbYncYe+gTs/7veQH7Clggxr2lX3GR5fw5FErQglBArRAKkI+lWSggdCLvtULwhvOG9y3eGd7nadHd4xrvjYtMOm+ICuJAVMDlHcTJsP++rk00SQ6yuzBcJn0k2+ne+QP8qNhtasQpqAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqElEQVR4nJ2SsRXCMAxEv/IUZqCkpaClZQsyIxmEjgUo6VkACKLATYRlOxR+p3c6653OFmNr8ACe6bi6m6AHVswx1WI7zJM5YcQpw/+Xvw6usQPT+VK5ReVimCdzwojTMRC2DpFNwUE9hB7B9lYS1AYoHIuCBge3vIOpKweRUDibLUrQoXJa+ASuJ6x/Heg7TsAnIQfMWn5wpNGhknOtJ3fnQHi1LZ/wA7LZjCWBzfIaAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoElEQVR4nM2MsQ7CMAxE71wvMJl2RsqHwD/3A5j5DnaWLgwolcKQFEVRSWnFwHCy39l3BBBaCjoK2kzdh33iAwWeAj7MBZ9gi7Q3tzn8dcFYK7ibAylvNRQoBfvMq0mtKFirvyg4ghxB+jQnPQsu75HV7FJ9WLqlglr45wUAqUkN1OyWGdEkdwXrzE/c1ey8+FRjNTutCM14w3ANq0MZvwAoLXfjp0m5TgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGUlEQVR4nI2QS07EMBBEX9mdzAQ0wAjNAiQkJDbcgC134Aacjy134DBcgEw+LNyTOJ9ByGrVq6q2FxbQ31CyYUNBiflENkTKYcKKBkrslXc3BYESZRwoEMUfati93ggYokCYsyHihJOPA4uIFLGDXhDBw4CQa0Aa3fTgHdg+3KYAkHrnPo16oEe0nnVInXOL1GHX9u0LHah1bpFaROPcAE2WNUhHRIPtyi/EMY0axBF08ietwXXubbf9QNSgGlGnJdWQcep/BpYy//lIj0A+MLL8c6T0R6zkdnm1XpxjBAoj28V+WkwuhSUvHzjMwpkOj4b1zKq7aZAvkvsznVUPs6W4vDhoXHqrnlbK+H+17XP2QL4QMw0zn+kvnQ5DBSUMricAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAdUlEQVR4nNWMsQ2EMBAE58xGCELnVPCBK6D/KogpgNBHhPUgSyCL4D9YrTR3OwY4iNYI5ubxbwjMcO+Aa1RhtbvSzcP7gpDpQkZHp34r8DuqsNpdaVreEVjI0BBpWpqGRcDfC8zX6I8HJmAAxtIifk7gvs9sB1RoiQaMXM2mAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAI0lEQVR4nGNkYGD4z8jIyEAuZhEQECBb86gBowaMGjCYDAAA7f0G3R3UtjoAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAaUlEQVR4nOWRUQqAQAgFx1Yo6CZ7iS7fKYLO8vpaKtitrSCCPkR9yohqPagBApB8Kc5pHk8afgCw+eYRU2LqUPW4TN2JFeO+A8hoe8CNN5imzRGvAixgUitw8hYK+moOw0HDCwCTxkcrLFl6E0fYz3M2AAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAo0lEQVR4nKWSwQ3CQAwEx8FJA9RAEdRAD6Q3nvRADVADRfCAI8sjElEUX7iEx3yskbW3ZxOIBibUwSzAacvlyDNdfidQDZ0PpAqe9Nhd6MUwmCPy/LRAjrBdJkGHj8iVYGiv4sYCHI6FX5BN8OgTvDerSjDOUlFbmaXGIbMgkKs0pgFsi7S+AfB2gRxht5kETkdF+mKkybtMXPXPLTrkjrls6Qd8VZ4XsCYoMwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJElEQVR4nI2TwUoDQRBEX9V2MDGIIBKIinoQv8D//yIFwYMIanuYmU7WqHgYqutV98wsywgihUACjDDIVWvUmsqXaiLWR7cdTkjGe80eHOPBhqdlsVnclzHG6WoY3gh1Ld/uQVx9XDYjjQ/Y8yB37d4aOQiIi6NVb6Cgxb9ZXKw6rDAPB8garBqQktiu3mdDUlbYrjyy/JHF9vh174REZDup6pxvWj77DdYvs2A2NNgfdWxOn8vIifW588USDe55FmfnTwdQ+izGNy8neLdZnGwffwxGjQ89bhuiJJaXj70hac8g+08eS/1paLdkcFsxXS97sINpg6eZzz2PJ1JN4+PmrgZa028ave6qAAfxdvPQYAc4kAK8aKpAnUmBFe21KrAnvgBtmnb2K/V8ZwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAu0lEQVR4nJ2P3QkCQQyEv5hYgeCjTWgBlmZxJ/igYAuCXVxifPCU1dtD14VhMjP5YQV2CQbM+c5jT+CQrUPlEyQTLXKDFm1s2wbqC2pNn5jIvyxIsAALZurYPFB7wjELZJmXVIIHHHvVNT32bM2xeajUtuH093XFsQ3Hv68rgVxzkW9mBOqOxQ11UAcJwAsUWvJMToWTdaGN7rfGqczY/36tVkuuii8E9A7u0MfA/oj6Af7B0kHWgppX4zvaer5OqQj4TwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABFElEQVR4nG2SzU7EMAyEZ6ZesdsD0goJFFX0BO//cggJDmsOdtyE3UOV8Tfj/DUEzAkCJAAhtEJTABaQAquOsTNbz/sQiLCm0DL55SG0vVw+QWQTltDMEQvkKt1zgopb84/YuKumiYMMmkyNcBgfCdimK8g4vYgMoxiJ4OmHRmWtracMo8KjrnBfIOvQDmvrAB80Hru51UKH77B2vg1BHwI+rTSxIWvb5bdmuw/POnYwa2vrd15IN/xYodfZQB2Myezt+lUF5fda8TC7hroPQIA9t5/+igseY7+t1AIgpR8XZE/7afh/8VFznWd8wAXTfq0ApMk8mvWPqbjh/TXBYNZkY0NwLx6e+b7lCnODT0zTJGP9B5/INUhpnRAfAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5UlEQVR4nJWSMU7EMBBF3zgjQbIWbEWH6PZqXAGJK3AFJI7DlpxhkWhoQCRsYXsoErKx5KyS4snvz5eLkS2A1WxoaKjZsMQvuMThEAR55MnGgDDnAUeL0CJ0E9dXbopFhyNSAXoWgTfLhjXQ0J8LXHnw4IBqYJEnkAASUHbfY8CFeScOpMwVvy8WEMFaSB2E9uSWu/B8a2PBcfU6yt1h5f65Cx/YkgvXwBX9OXW5N6xUeEATqA3MuLx/Yf+hSiCxxy1122MEWMXPCeUlH5Sw3+IjEwH5BCt/EbCBc66HScB72G5X8QfkQ57C724FywAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVR4nLWQOxKEMAxDpY0LSg8N4RYckTPuKSg5AaEgfHaBGMJQSWPLbzQmWgQMBAKRo4JOsw5fBMz+McACRX8OIIFPQmXygkJ/F6kj7nOCWg8XZoMF4PX4wGpyGWCAbzVwJNys0UtZ6Trc6l9wN48qTa2Xgmcqjdd00GzgMxtEz2/Xhyc/GAF6Ul6L/rJhVwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVR4nJWRTW6DMBCFvzceTJKKhCopUjftJSL1/jfqOpt0gcHGhERdoHnz/mwZfcG9iZGmbZlmCAE3G2cImBmh+KbdJPznesXSYmaENE2aOZNQzUvIDP8ehmyYhH9M/+x7VJErDDNeaIBfjseFeRKs2rVR6OeuWxoqc7mXwXQKfurewEYBE0pCaRo1Zk4mSNjb4ZCDC2PmZEl7wHm8HDK5KsllGeeJhLfvuxTO5KpwIyyBx37/1LAqoi447dYn8eIGsy48dnvAkiA0vs4LLBh/Kh7jx1PDVLzFe9OcC1N5kzr4uES32+/9dWAb/wEBEQqZWlxOjgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVR4nIWSzU7DQAyEPzsGVVWpqtCqtFx5V56X0AuC1hzW+5NtBAfLs+Px2FEsT6t3H1wYiHBFETTeGatTcYQg2Nt1hwLqlVRoRIG9wRA6wV6v645MInFmXK2BeObAzrfHRkQV5SzdG1CNLGAvg6ACgkcGFUckmgOrgBRcsx23X4hmshV0WPtaCjuMlxBQyF6UmueRt7BxnBYF/xlIfJLtxg/4y6DZjIW6bZ+nxUI17QyaYQjYJj6hNaGZXPiZhjLA1vvpbmLGdI3En6DR2+pQN6CZWkyKAQUXTh17OH7eFeJeZ8a1now8OON0aW44CbzkxHs2UfDQety5fZ9vXSHdrcexe9fksZWrg/7wCwgIqJV0KIBtAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACHklEQVR4nG3Ty04UWRgH8N8JanAhxmjGSwZRHEeFhq7CGC8xjsYLj+DeN5i9macwvoA+hOLdKI7GUF00F7txFBtcaLzAJDiRWRwXVaQRXVTOqr7vnP/v+0Ikgr1IkWAQB9HDfCeZ4huPvJhndua4pYlz1E4KkndR/otdkd9QESUaUs9V3bfeCOboKounqKIf+whLUczLDjVMLvDPq27vpi6Q/0F2hNoBmz4Ge3EIVe+lahKPhehEZBToKzukGMDv6KbZURTPUF+mMUerMWx5/Kzg4qMoq+hobtZd/jPgq8SU1FP97uEmFtm+qsFgcZ0QF8WPXe0OOabe8/plv8+T58lPMTZE3mPrF/aVF61qGTImLPgzbnYLE6wvA1rRqCiS3VUUXsmpvsTMmy7z08OCv65G2VFqfTrnOvXgAAb9K1WXeKLXnfIZseBO2s8IcVq0p/BeecZ4ZPots822t6xKvt3OyH70ixJN4ZlrseqBDUbQKryrGCrPvsL7v23f5zS5wMtXvwquX4ry023vD2u9c4lHdrjtB+6EEG+IK94z69pjW/+fRotW44Ll+lmyE9QGdDTa3BVfhWuymPq79B7BQuG9emwPFbvy6SfcYctoX/w8eZ7aKbLDhfcSveW4V7WkxiQe+o57sMgpxCuiiiLaNd4TX2jObjL/YlgcP0N2jKzg3l0ubLhsMSYmpEb1uosbhfeeNXtRrvfbjavWG98AAxTh8XusPgwAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJElEQVR4nIWNsU7EMBBEZ9dLS0uHTEVDgfhCPhGJii4ddwiETkggQbxD4bWdEE5XWNmZeTORe5CegP5scW8eN7lNdxzhf4UT2qbbuYuSAOoASwKYCFeEJpgAV3Zt0813LWgUInTlQkeuiwFtA9dfUAVUiaSAJPZblRAlrOVCSGcrZ1f5EyIcpgASsCqhrSQtJ0QGa/niow7IKEm7MQoqqJ4QAvbb8vmhAhglESJFWeEQ/MkROQjLZ+/dVHgFGX9vjzHiUeTwLf+8QUkIY4AxwAo0WEInX2eWD691wAMmkdrtAXoMuNdx98gIy7uXCjTTicR2D6/lqawzu5z2QCHgBNzj9qrL6a/haV+Nshg4ppcD4Rken7fQ5ns8Mzzs1tB8YmBeZ7/8Q4IZhexdKgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVR4nM2PsQ2AMAwEz+BxYIRILMDOZBMGSWIaiggRAUkKipPs1//LFlgNBmDMuO5lXWGqDsOAwvxgvA9mF8yvjCVNRMxUoZplaQj3KBDv214Qi9EIgVqUbasOdykQc67pBUlgCfhCBOycdX8w/LMg5wDZi8q+sNgjfAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAI0lEQVR4nGP8z/D/PwPjfwZyMQuDwAeyNY8aMGrAqAGDyQAAMagCSiGnPaAAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVR4nGNkaEj7z8jAwMDIyMBADs0iwEGeRuINgLEH3gU4XDLqglEXDBMXAADR8QTr7Ck7QAAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAzklEQVR4nK2NvQ4BURCFz/yIQjwDjYIt1RKvqfRUG9EQHYXoLNkZxb1Zi70rNorJnJk55xuaz1fuIjBmuAh+1XrKss5hF4EeZ7OkCVICdAP4BkjsXIRdnPU6yeOhVlQPtJfSaA0lehbwOrfu+tDlcNgxHHUF6BKuAF3DRNDFYAArHWYeel2bw0qr5rs5itJePLrLzw2hd5Alby0A+9w1PKkB0l/SAIMethcwC1gEzBy6aKVFBT3hBk/QOp5m8Zg2hf4XwKeH9pvcv31pAzwAW0QJ2B0JSlkAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABB0lEQVR4nIWROU4DQRBF368uEMjCxiBwSIaEuAZH4P4ZgSMCEhujaYJeZ8ZLMKq/vK4KRh/6jMiQiX5iAgmZgQR1CnW9++a5leWzoq3T4y5KYODxaV3LEh7zUQJlXTPww+MCRIULGNUgBFjTfef7h6sZnC7Mlxybvlvb5OppeNYBvl/pIniu9997gEtwPLnYD6shBfRlrACd7ztl7cPqL0GUYjoTKMX8d1svwG+Xu1paBcfemPhu+mb5U83o41w2VO8vd9+YBkIFUhl6rYhR8pINacHrYpsW5AdttgcFTjMdS/2Av9181QuhPMxwoM9jW1h1xN+vt5jIMARBQFkLQ9kr+5C1YRj/Y5iTbVtyNssAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVR4nGNkYPj/n4GRgYGB8T8DOTQLg8APsjTSywAYe9QFA+ECdMWjLhhIFxA2AAB0XII03rOYTwAAAABJRU5ErkJggg=="},function(e,t){e.exports="precision mediump float;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nuniform sampler2D uSampler;\r\nuniform sampler2D colorSampler;\r\nuniform vec3 background;\r\n\r\nvoid main(void)\r\n{\r\n    vec4 original = texture2D(uSampler, vTextureCoord);\r\n    float scaled = floor((original.r * 255.0) + 0.5);\r\n    // The textures are 16x16 LUTs where each texture pixel represents a mapping from\r\n    // a gray value to a color\r\n    float ycoord = scaled/16.0;\r\n    float xcoord = mod(scaled, 16.0);\r\n    vec2 colorCoord = vec2(clamp(xcoord/16.0, 0.0, 1.0), clamp(ycoord/16.0, 0.0, 1.0));\r\n    if ((xcoord <= 0.0) && (ycoord <= 0.0)) {\r\n        gl_FragColor = vec4(background.x,background.y, background.z, 1.0); //force 0 background to background\r\n    } else {\r\n        gl_FragColor = texture2D(colorSampler, colorCoord);\r\n    }\r\n}\r\n"},function(e,t,n){var r,i=i||function(e){"use strict";if(!(void 0===e||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var t=e.document,n=function(){return e.URL||e.webkitURL||e},r=t.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=/constructor/i.test(e.HTMLElement)||e.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l=function(e){setTimeout((function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()}),4e4)},c=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e},u=function(t,u,h){h||(t=c(t));var d,f=this,p="application/octet-stream"===t.type,g=function(){!function(e,t,n){for(var r=(t=[].concat(t)).length;r--;){var i=e["on"+t[r]];if("function"==typeof i)try{i.call(e,n||e)}catch(e){s(e)}}}(f,"writestart progress write writeend".split(" "))};if(f.readyState=f.INIT,i)return d=n().createObjectURL(t),void setTimeout((function(){var e,t;r.href=d,r.download=u,e=r,t=new MouseEvent("click"),e.dispatchEvent(t),g(),l(d),f.readyState=f.DONE}));!function(){if((a||p&&o)&&e.FileReader){var r=new FileReader;return r.onloadend=function(){var t=a?r.result:r.result.replace(/^data:[^;]*;/,"data:attachment/file;");e.open(t,"_blank")||(e.location.href=t),t=void 0,f.readyState=f.DONE,g()},r.readAsDataURL(t),void(f.readyState=f.INIT)}(d||(d=n().createObjectURL(t)),p)?e.location.href=d:e.open(d,"_blank")||(e.location.href=d);f.readyState=f.DONE,g(),l(d)}()},h=u.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,n){return t=t||e.name||"download",n||(e=c(e)),navigator.msSaveOrOpenBlob(e,t)}:(h.abort=function(){},h.readyState=h.INIT=0,h.WRITING=1,h.DONE=2,h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null,function(e,t,n){return new u(e,t||e.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */e.exports?e.exports.saveAs=i:null!==n(145)&&null!==n(146)&&(void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r))},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){(function(t){e.exports=t}).call(this,{})},function(e,t,n){var r,i,o;i=[e,n(148),n(150),n(151)],void 0===(o="function"==typeof(r=function(e,t,n,r){"use strict";var i=s(t),o=s(n),a=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,a.default)(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return h("action",e)}},{key:"defaultTarget",value:function(e){var t=h("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return h("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(o.default);function h(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=u})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[e,n(149)],void 0===(o="function"==typeof(r=function(e,t){"use strict";var n,r=(n=t)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,r.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,r.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})?r.apply(t,i):r)||(e.exports=o)},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(152),i=n(153);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(154);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){var r,i,o;
/**
 * k-d Tree JavaScript - V 1.01
 *
 * https://github.com/ubilabs/kd-tree-javascript
 *
 * @author Mircea Pricop <pricop@ubilabs.net>, 2012
 * @author Martin Kleppe <kleppe@ubilabs.net>, 2012
 * @author Ubilabs http://ubilabs.net, 2012
 * @license MIT License <http://www.opensource.org/licenses/mit-license.php>
 */i=[t],void 0===(o="function"==typeof(r=function(e){function t(e,t,n){this.obj=e,this.left=null,this.right=null,this.parent=n,this.dimension=t}function n(e){this.content=[],this.scoreFunction=e}n.prototype={push:function(e){this.content.push(e),this.bubbleUp(this.content.length-1)},pop:function(){var e=this.content[0],t=this.content.pop();return this.content.length>0&&(this.content[0]=t,this.sinkDown(0)),e},peek:function(){return this.content[0]},remove:function(e){for(var t=this.content.length,n=0;n<t;n++)if(this.content[n]==e){var r=this.content.pop();return void(n!=t-1&&(this.content[n]=r,this.scoreFunction(r)<this.scoreFunction(e)?this.bubbleUp(n):this.sinkDown(n)))}throw new Error("Node not found.")},size:function(){return this.content.length},bubbleUp:function(e){for(var t=this.content[e];e>0;){var n=Math.floor((e+1)/2)-1,r=this.content[n];if(!(this.scoreFunction(t)<this.scoreFunction(r)))break;this.content[n]=t,this.content[e]=r,e=n}},sinkDown:function(e){for(var t=this.content.length,n=this.content[e],r=this.scoreFunction(n);;){var i=2*(e+1),o=i-1,a=null;if(o<t){var s=this.content[o],l=this.scoreFunction(s);l<r&&(a=o)}if(i<t){var c=this.content[i];this.scoreFunction(c)<(null==a?r:l)&&(a=i)}if(null==a)break;this.content[e]=this.content[a],this.content[a]=n,e=a}}},e.kdTree=function(e,r,i){var o=this;Array.isArray(e)?this.root=function e(n,r,o){var a,s,l=r%i.length;return 0===n.length?null:1===n.length?new t(n[0],l,o):(n.sort((function(e,t){return e[i[l]]-t[i[l]]})),(s=new t(n[a=Math.floor(n.length/2)],l,o)).left=e(n.slice(0,a),r+1,s),s.right=e(n.slice(a+1),r+1,s),s)}(e,0,null):function(e){o.root=e,function e(t){t.left&&(t.left.parent=t,e(t.left)),t.right&&(t.right.parent=t,e(t.right))}(o.root)}(e),this.toJSON=function(e){e||(e=this.root);var n=new t(e.obj,e.dimension,null);return e.left&&(n.left=o.toJSON(e.left)),e.right&&(n.right=o.toJSON(e.right)),n},this.insert=function(e){var n,r,o=function t(n,r){if(null===n)return r;var o=i[n.dimension];return e[o]<n.obj[o]?t(n.left,n):t(n.right,n)}(this.root,null);null!==o?(n=new t(e,(o.dimension+1)%i.length,o),r=i[o.dimension],e[r]<o.obj[r]?o.left=n:o.right=n):this.root=new t(e,0,null)},this.remove=function(e){var t;null!==(t=function t(n){if(null===n)return null;if(n.obj===e)return n;var r=i[n.dimension];return e[r]<n.obj[r]?t(n.left):t(n.right)}(o.root))&&function e(t){function n(e,t){var r,o,a,s,l;return null===e?null:(r=i[t],e.dimension===t?null!==e.left?n(e.left,t):e:(o=e.obj[r],a=n(e.left,t),s=n(e.right,t),l=e,null!==a&&a.obj[r]<o&&(l=a),null!==s&&s.obj[r]<l.obj[r]&&(l=s),l))}var r,a,s;if(null===t.left&&null===t.right)return null===t.parent?void(o.root=null):(s=i[t.parent.dimension],void(t.obj[s]<t.parent.obj[s]?t.parent.left=null:t.parent.right=null));null!==t.right?(a=(r=n(t.right,t.dimension)).obj,e(r),t.obj=a):(a=(r=n(t.left,t.dimension)).obj,e(r),t.right=t.left,t.left=null,t.obj=a)}(t)},this.nearest=function(e,t,a){var s,l,c;if(c=new n((function(e){return-e[1]})),a)for(s=0;s<t;s+=1)c.push([null,a]);for(o.root&&function n(o){function a(e,n){c.push([e,n]),c.size()>t&&c.pop()}var s,l,u,h,d=i[o.dimension],f=r(e,o.obj),p={};for(h=0;h<i.length;h+=1)h===o.dimension?p[i[h]]=e[i[h]]:p[i[h]]=o.obj[i[h]];l=r(p,o.obj),null!==o.right||null!==o.left?(n(s=null===o.right?o.left:null===o.left?o.right:e[d]<o.obj[d]?o.left:o.right),(c.size()<t||f<c.peek()[1])&&a(o,f),(c.size()<t||Math.abs(l)<c.peek()[1])&&null!==(u=s===o.left?o.right:o.left)&&n(u)):(c.size()<t||f<c.peek()[1])&&a(o,f)}(o.root),l=[],s=0;s<Math.min(t,c.content.length);s+=1)c.content[s][0]&&l.push([c.content[s][0].obj,c.content[s][1]]);return l},this.balanceFactor=function(){return function e(t){return null===t?0:Math.max(e(t.left),e(t.right))+1}(o.root)/(Math.log(function e(t){return null===t?0:e(t.left)+e(t.right)+1}(o.root))/Math.log(2))}},e.BinaryHeap=n})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){var r,i,o;i=[n(29)],void 0===(o="function"==typeof(r=function(e,t){e.fn.resizableSafe||(e.fn.resizableSafe=function(t){var n={handleSelector:null,resizeWidth:!0,resizeHeight:!0,resizeWidthFrom:"right",resizeHeightFrom:"bottom",onDragStart:null,onDragEnd:null,onDrag:null,touchActionNone:!0,instanceId:null};return"object"==typeof t&&(n=e.extend(n,t)),this.each((function(){var r,i,o=e.extend({},n);o.instanceId||(o.instanceId="rsz_"+(new Date).getTime());var a,s=e(this);if("destroy"===t){if(!(o=s.data("resizable")))return;return(a=d(o.handleSelector,s)).off("mousedown."+o.instanceId+" touchstart."+o.instanceId),o.touchActionNone&&a.css("touch-action",""),void s.removeClass("resizable")}function l(e){e.stopPropagation(),e.preventDefault()}function c(e){var t,n,i=h(e);t="left"===o.resizeWidthFrom?r.width-i.x+r.x:r.width+i.x-r.x,n="top"===o.resizeHeightFrom?r.height-i.y+r.y:r.height+i.y-r.y,o.onDrag&&!1===o.onDrag(e,s,t,n,o)||(o.resizeHeight&&s.height(n),o.resizeWidth&&s.width(t))}function u(t){return t.stopPropagation(),t.preventDefault(),e(document).off("mousemove."+o.instanceId),e(document).off("mouseup."+o.instanceId),(window.Touch||navigator.maxTouchPoints)&&(e(document).off("touchmove."+o.instanceId),e(document).off("touchend."+o.instanceId)),e(document).off("selectstart."+o.instanceId,l),s.css("transition",i),e("iframe").css("pointer-events","auto"),o.onDragEnd&&o.onDragEnd(t,s,o),!1}function h(e){var t={x:0,y:0,width:0,height:0};if("number"==typeof e.clientX)t.x=e.clientX,t.y=e.clientY;else{if(!e.originalEvent.touches)return null;t.x=e.originalEvent.touches[0].clientX,t.y=e.originalEvent.touches[0].clientY}return t}function d(e,t){return e&&">"===e.trim()[0]?(e=e.trim().replace(/^>\s*/,""),t.find(e)):e?t.parent().find(e):t}s.data("resizable",o),a=d(o.handleSelector,s),o.touchActionNone&&a.css("touch-action","none"),s.addClass("resizable"),a.on("mousedown."+o.instanceId+" touchstart."+o.instanceId,(function(t){t.preventDefault&&t.preventDefault(),(r=h(t)).width=parseInt(s.width(),10),r.height=parseInt(s.height(),10),i=s.css("transition"),s.css("transition","none"),o.onDragStart&&!1===o.onDragStart(t,s,o)||(e(document).on("mousemove."+o.instanceId,c),e(document).on("mouseup."+o.instanceId,u),(window.Touch||navigator.maxTouchPoints)&&(e(document).on("touchmove."+o.instanceId,c),e(document).on("touchend."+o.instanceId,u)),e(document).on("selectstart."+o.instanceId,l),e("iframe").css("pointer-events","none"))}))}))},e.fn.resizable||(e.fn.resizable=e.fn.resizableSafe))})?r.apply(t,i):r)||(e.exports=o)},function(e,t,n){"use strict";var r=n(158),i=n(3),o=n(32),a=n(11),s=n(33),l=Object.prototype.toString,c=0,u=-1,h=0,d=8;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({level:u,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==c)throw new Error(a[n]);if(t.header&&r.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=r.deflateSetDictionary(this.strm,p))!==c)throw new Error(a[n]);this._dict_set=!0}}function p(e,t){var n=new f(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}f.prototype.push=function(e,t){var n,a,s=this.strm,u=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?s.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?s.input=new Uint8Array(e):s.input=e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(u),s.next_out=0,s.avail_out=u),1!==(n=r.deflate(s,a))&&n!==c)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(o.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===a?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c):2!==a||(this.onEnd(c),s.avail_out=0,!0)},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===c&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=f,t.deflate=p,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},function(e,t,n){"use strict";var r,i=n(3),o=n(159),a=n(30),s=n(31),l=n(11),c=0,u=1,h=3,d=4,f=5,p=0,g=1,v=-2,m=-3,y=-5,A=-1,b=1,w=2,S=3,x=4,E=0,C=2,_=8,R=9,T=15,I=8,P=286,k=30,O=19,D=2*P+1,M=15,L=3,N=258,B=N+L+1,j=32,U=42,V=69,F=73,z=91,G=103,Q=113,W=666,H=1,Y=2,q=3,K=4,X=3;function J(e,t){return e.msg=l[t],t}function Z(e){return(e<<1)-(e>4?9:0)}function $(e){for(var t=e.length;--t>=0;)e[t]=0}function ee(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(i.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function te(e,t){o._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ee(e.strm)}function ne(e,t){e.pending_buf[e.pending++]=t}function re(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function ie(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,l=e.strstart>e.w_size-B?e.strstart-(e.w_size-B):0,c=e.window,u=e.w_mask,h=e.prev,d=e.strstart+N,f=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(c[(n=t)+a]===p&&c[n+a-1]===f&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=N-(d-o),o=d-N,r>a){if(e.match_start=t,a=r,r>=s)break;f=c[o+a-1],p=c[o+a]}}}while((t=h[t&u])>l&&0!=--i);return a<=e.lookahead?a:e.lookahead}function oe(e){var t,n,r,o,l,c,u,h,d,f,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-B)){i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=p?r-p:0}while(--n);t=n=p;do{r=e.prev[--t],e.prev[t]=r>=p?r-p:0}while(--n);o+=p}if(0===e.strm.avail_in)break;if(c=e.strm,u=e.window,h=e.strstart+e.lookahead,d=o,f=void 0,(f=c.avail_in)>d&&(f=d),n=0===f?0:(c.avail_in-=f,i.arraySet(u,c.input,c.next_in,f,h),1===c.state.wrap?c.adler=a(c.adler,u,f,h):2===c.state.wrap&&(c.adler=s(c.adler,u,f,h)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=L)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+L-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<L)););}while(e.lookahead<B&&0!==e.strm.avail_in)}function ae(e,t){for(var n,r;;){if(e.lookahead<B){if(oe(e),e.lookahead<B&&t===c)return H;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-B&&(e.match_length=ie(e,n)),e.match_length>=L)if(r=o._tr_tally(e,e.strstart-e.match_start,e.match_length-L),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=L){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=e.strstart<L-1?e.strstart:L-1,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:Y}function se(e,t){for(var n,r,i;;){if(e.lookahead<B){if(oe(e),e.lookahead<B&&t===c)return H;if(0===e.lookahead)break}if(n=0,e.lookahead>=L&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=L-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-B&&(e.match_length=ie(e,n),e.match_length<=5&&(e.strategy===b||e.match_length===L&&e.strstart-e.match_start>4096)&&(e.match_length=L-1)),e.prev_length>=L&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-L,r=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-L),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+L-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=L-1,e.strstart++,r&&(te(e,!1),0===e.strm.avail_out))return H}else if(e.match_available){if((r=o._tr_tally(e,0,e.window[e.strstart-1]))&&te(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return H}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<L-1?e.strstart:L-1,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:Y}function le(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function ce(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*D),this.dyn_dtree=new i.Buf16(2*(2*k+1)),this.bl_tree=new i.Buf16(2*(2*O+1)),$(this.dyn_ltree),$(this.dyn_dtree),$(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(M+1),this.heap=new i.Buf16(2*P+1),$(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*P+1),$(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ue(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=C,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?U:Q,e.adler=2===t.wrap?0:1,t.last_flush=c,o._tr_init(t),p):J(e,v)}function he(e){var t,n=ue(e);return n===p&&((t=e.state).window_size=2*t.w_size,$(t.head),t.max_lazy_match=r[t.level].max_lazy,t.good_match=r[t.level].good_length,t.nice_match=r[t.level].nice_length,t.max_chain_length=r[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=L-1,t.match_available=0,t.ins_h=0),n}function de(e,t,n,r,o,a){if(!e)return v;var s=1;if(t===A&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),o<1||o>R||n!==_||r<8||r>15||t<0||t>9||a<0||a>x)return J(e,v);8===r&&(r=9);var l=new ce;return e.state=l,l.strm=e,l.wrap=s,l.gzhead=null,l.w_bits=r,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+L-1)/L),l.window=new i.Buf8(2*l.w_size),l.head=new i.Buf16(l.hash_size),l.prev=new i.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new i.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=a,l.method=n,he(e)}r=[new le(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(oe(e),0===e.lookahead&&t===c)return H;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,te(e,!1),0===e.strm.avail_out))return H;if(e.strstart-e.block_start>=e.w_size-B&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):(e.strstart>e.block_start&&(te(e,!1),e.strm.avail_out),H)})),new le(4,4,8,4,ae),new le(4,5,16,8,ae),new le(4,6,32,32,ae),new le(4,4,16,16,se),new le(8,16,32,32,se),new le(8,16,128,128,se),new le(8,32,128,256,se),new le(32,128,258,1024,se),new le(32,258,258,4096,se)],t.deflateInit=function(e,t){return de(e,t,_,T,I,E)},t.deflateInit2=de,t.deflateReset=he,t.deflateResetKeep=ue,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?v:(e.state.gzhead=t,p):v},t.deflate=function(e,t){var n,i,a,l;if(!e||!e.state||t>f||t<0)return e?J(e,v):v;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||i.status===W&&t!==d)return J(e,0===e.avail_out?y:v);if(i.strm=e,n=i.last_flush,i.last_flush=t,i.status===U)if(2===i.wrap)e.adler=0,ne(i,31),ne(i,139),ne(i,8),i.gzhead?(ne(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),ne(i,255&i.gzhead.time),ne(i,i.gzhead.time>>8&255),ne(i,i.gzhead.time>>16&255),ne(i,i.gzhead.time>>24&255),ne(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),ne(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(ne(i,255&i.gzhead.extra.length),ne(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=s(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=V):(ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,0),ne(i,9===i.level?2:i.strategy>=w||i.level<2?4:0),ne(i,X),i.status=Q);else{var m=_+(i.w_bits-8<<4)<<8;m|=(i.strategy>=w||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(m|=j),m+=31-m%31,i.status=Q,re(i,m),0!==i.strstart&&(re(i,e.adler>>>16),re(i,65535&e.adler)),e.adler=1}if(i.status===V)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending!==i.pending_buf_size));)ne(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=F)}else i.status=F;if(i.status===F)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.gzindex=0,i.status=z)}else i.status=z;if(i.status===z)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),ee(e),a=i.pending,i.pending===i.pending_buf_size)){l=1;break}l=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,ne(i,l)}while(0!==l);i.gzhead.hcrc&&i.pending>a&&(e.adler=s(e.adler,i.pending_buf,i.pending-a,a)),0===l&&(i.status=G)}else i.status=G;if(i.status===G&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&ee(e),i.pending+2<=i.pending_buf_size&&(ne(i,255&e.adler),ne(i,e.adler>>8&255),e.adler=0,i.status=Q)):i.status=Q),0!==i.pending){if(ee(e),0===e.avail_out)return i.last_flush=-1,p}else if(0===e.avail_in&&Z(t)<=Z(n)&&t!==d)return J(e,y);if(i.status===W&&0!==e.avail_in)return J(e,y);if(0!==e.avail_in||0!==i.lookahead||t!==c&&i.status!==W){var A=i.strategy===w?function(e,t){for(var n;;){if(0===e.lookahead&&(oe(e),0===e.lookahead)){if(t===c)return H;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:Y}(i,t):i.strategy===S?function(e,t){for(var n,r,i,a,s=e.window;;){if(e.lookahead<=N){if(oe(e),e.lookahead<=N&&t===c)return H;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=L&&e.strstart>0&&(r=s[i=e.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){a=e.strstart+N;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<a);e.match_length=N-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=L?(n=o._tr_tally(e,1,e.match_length-L),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(te(e,!1),0===e.strm.avail_out))return H}return e.insert=0,t===d?(te(e,!0),0===e.strm.avail_out?q:K):e.last_lit&&(te(e,!1),0===e.strm.avail_out)?H:Y}(i,t):r[i.level].func(i,t);if(A!==q&&A!==K||(i.status=W),A===H||A===q)return 0===e.avail_out&&(i.last_flush=-1),p;if(A===Y&&(t===u?o._tr_align(i):t!==f&&(o._tr_stored_block(i,0,0,!1),t===h&&($(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),ee(e),0===e.avail_out))return i.last_flush=-1,p}return t!==d?p:i.wrap<=0?g:(2===i.wrap?(ne(i,255&e.adler),ne(i,e.adler>>8&255),ne(i,e.adler>>16&255),ne(i,e.adler>>24&255),ne(i,255&e.total_in),ne(i,e.total_in>>8&255),ne(i,e.total_in>>16&255),ne(i,e.total_in>>24&255)):(re(i,e.adler>>>16),re(i,65535&e.adler)),ee(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?p:g)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==U&&t!==V&&t!==F&&t!==z&&t!==G&&t!==Q&&t!==W?J(e,v):(e.state=null,t===Q?J(e,m):p):v},t.deflateSetDictionary=function(e,t){var n,r,o,s,l,c,u,h,d=t.length;if(!e||!e.state)return v;if(2===(s=(n=e.state).wrap)||1===s&&n.status!==U||n.lookahead)return v;for(1===s&&(e.adler=a(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===s&&($(n.head),n.strstart=0,n.block_start=0,n.insert=0),h=new i.Buf8(n.w_size),i.arraySet(h,t,d-n.w_size,n.w_size,0),t=h,d=n.w_size),l=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,oe(n);n.lookahead>=L;){r=n.strstart,o=n.lookahead-(L-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+L-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=L-1,oe(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=L-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=l,n.wrap=s,p},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";var r=n(3),i=4,o=0,a=1,s=2;function l(e){for(var t=e.length;--t>=0;)e[t]=0}var c=0,u=1,h=2,d=29,f=256,p=f+1+d,g=30,v=19,m=2*p+1,y=15,A=16,b=7,w=256,S=16,x=17,E=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],_=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],I=new Array(2*(p+2));l(I);var P=new Array(2*g);l(P);var k=new Array(512);l(k);var O=new Array(256);l(O);var D=new Array(d);l(D);var M,L,N,B=new Array(g);function j(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function U(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function V(e){return e<256?k[e]:k[256+(e>>>7)]}function F(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function z(e,t,n){e.bi_valid>A-n?(e.bi_buf|=t<<e.bi_valid&65535,F(e,e.bi_buf),e.bi_buf=t>>A-e.bi_valid,e.bi_valid+=n-A):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function G(e,t,n){z(e,n[2*t],n[2*t+1])}function Q(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function W(e,t,n){var r,i,o=new Array(y+1),a=0;for(r=1;r<=y;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=Q(o[s]++,s))}}function H(e){var t;for(t=0;t<p;t++)e.dyn_ltree[2*t]=0;for(t=0;t<g;t++)e.dyn_dtree[2*t]=0;for(t=0;t<v;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*w]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Y(e){e.bi_valid>8?F(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function q(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function K(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&q(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!q(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function X(e,t,n){var r,i,o,a,s=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*s]<<8|e.pending_buf[e.d_buf+2*s+1],i=e.pending_buf[e.l_buf+s],s++,0===r?G(e,i,t):(G(e,(o=O[i])+f+1,t),0!==(a=C[o])&&z(e,i-=D[o],a),G(e,o=V(--r),n),0!==(a=_[o])&&z(e,r-=B[o],a))}while(s<e.last_lit);G(e,w,t)}function J(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,l=t.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=m,n=0;n<l;n++)0!==o[2*n]?(e.heap[++e.heap_len]=c=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=c<2?++c:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=c,n=e.heap_len>>1;n>=1;n--)K(e,o,n);i=l;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],K(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,K(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,l=t.dyn_tree,c=t.max_code,u=t.stat_desc.static_tree,h=t.stat_desc.has_stree,d=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,g=0;for(o=0;o<=y;o++)e.bl_count[o]=0;for(l[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<m;n++)(o=l[2*l[2*(r=e.heap[n])+1]+1]+1)>p&&(o=p,g++),l[2*r+1]=o,r>c||(e.bl_count[o]++,a=0,r>=f&&(a=d[r-f]),s=l[2*r],e.opt_len+=s*(o+a),h&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==g){do{for(o=p-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>c||(l[2*i+1]!==o&&(e.opt_len+=(o-l[2*i+1])*l[2*i],l[2*i+1]=o),r--)}}(e,t),W(o,c,e.bl_count)}function Z(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<l&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*S]++):s<=10?e.bl_tree[2*x]++:e.bl_tree[2*E]++,s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4))}function $(e,t,n){var r,i,o=-1,a=t[1],s=0,l=7,c=4;for(0===a&&(l=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<l&&i===a)){if(s<c)do{G(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(G(e,i,e.bl_tree),s--),G(e,S,e.bl_tree),z(e,s-3,2)):s<=10?(G(e,x,e.bl_tree),z(e,s-3,3)):(G(e,E,e.bl_tree),z(e,s-11,7));s=0,o=i,0===a?(l=138,c=3):i===a?(l=6,c=3):(l=7,c=4)}}l(B);var ee=!1;function te(e,t,n,i){z(e,(c<<1)+(i?1:0),3),function(e,t,n,i){Y(e),i&&(F(e,n),F(e,~n)),r.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n,!0)}t._tr_init=function(e){ee||(!function(){var e,t,n,r,i,o=new Array(y+1);for(n=0,r=0;r<d-1;r++)for(D[r]=n,e=0;e<1<<C[r];e++)O[n++]=r;for(O[n-1]=r,i=0,r=0;r<16;r++)for(B[r]=i,e=0;e<1<<_[r];e++)k[i++]=r;for(i>>=7;r<g;r++)for(B[r]=i<<7,e=0;e<1<<_[r]-7;e++)k[256+i++]=r;for(t=0;t<=y;t++)o[t]=0;for(e=0;e<=143;)I[2*e+1]=8,e++,o[8]++;for(;e<=255;)I[2*e+1]=9,e++,o[9]++;for(;e<=279;)I[2*e+1]=7,e++,o[7]++;for(;e<=287;)I[2*e+1]=8,e++,o[8]++;for(W(I,p+1,o),e=0;e<g;e++)P[2*e+1]=5,P[2*e]=Q(e,5);M=new j(I,C,f+1,p,y),L=new j(P,_,0,g,y),N=new j(new Array(0),R,0,v,b)}(),ee=!0),e.l_desc=new U(e.dyn_ltree,M),e.d_desc=new U(e.dyn_dtree,L),e.bl_desc=new U(e.bl_tree,N),e.bi_buf=0,e.bi_valid=0,H(e)},t._tr_stored_block=te,t._tr_flush_block=function(e,t,n,r){var l,c,d=0;e.level>0?(e.strm.data_type===s&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return o;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return a;for(t=32;t<f;t++)if(0!==e.dyn_ltree[2*t])return a;return o}(e)),J(e,e.l_desc),J(e,e.d_desc),d=function(e){var t;for(Z(e,e.dyn_ltree,e.l_desc.max_code),Z(e,e.dyn_dtree,e.d_desc.max_code),J(e,e.bl_desc),t=v-1;t>=3&&0===e.bl_tree[2*T[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),l=e.opt_len+3+7>>>3,(c=e.static_len+3+7>>>3)<=l&&(l=c)):l=c=n+5,n+4<=l&&-1!==t?te(e,t,n,r):e.strategy===i||c===l?(z(e,(u<<1)+(r?1:0),3),X(e,I,P)):(z(e,(h<<1)+(r?1:0),3),function(e,t,n,r){var i;for(z(e,t-257,5),z(e,n-1,5),z(e,r-4,4),i=0;i<r;i++)z(e,e.bl_tree[2*T[i]+1],3);$(e,e.dyn_ltree,t-1),$(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,d+1),X(e,e.dyn_ltree,e.dyn_dtree)),H(e),r&&Y(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(O[n]+f+1)]++,e.dyn_dtree[2*V(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){z(e,u<<1,3),G(e,w,I),function(e){16===e.bi_valid?(F(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t,n){"use strict";var r=n(161),i=n(3),o=n(32),a=n(34),s=n(11),l=n(33),c=n(164),u=Object.prototype.toString;function h(e){if(!(this instanceof h))return new h(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,t.windowBits);if(n!==a.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=o.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=r.inflateSetDictionary(this.strm,t.dictionary))!==a.Z_OK))throw new Error(s[n])}function d(e,t){var n=new h(t);if(n.push(e,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(e,t){var n,s,l,c,h,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,g=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=o.binstring2buf(e):"[object ArrayBuffer]"===u.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(f),d.next_out=0,d.avail_out=f),(n=r.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===a.Z_BUF_ERROR&&!0===g&&(n=a.Z_OK,g=!1),n!==a.Z_STREAM_END&&n!==a.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==a.Z_STREAM_END&&(0!==d.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(d.output,d.next_out),c=d.next_out-l,h=o.buf2string(d.output,l),d.next_out=c,d.avail_out=f-c,c&&i.arraySet(d.output,d.output,l,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(g=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==a.Z_STREAM_END);return n===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=h,t.inflate=d,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},t.ungzip=d},function(e,t,n){"use strict";var r=n(3),i=n(30),o=n(31),a=n(162),s=n(163),l=0,c=1,u=2,h=4,d=5,f=6,p=0,g=1,v=2,m=-2,y=-3,A=-4,b=-5,w=8,S=1,x=2,E=3,C=4,_=5,R=6,T=7,I=8,P=9,k=10,O=11,D=12,M=13,L=14,N=15,B=16,j=17,U=18,V=19,F=20,z=21,G=22,Q=23,W=24,H=25,Y=26,q=27,K=28,X=29,J=30,Z=31,$=32,ee=852,te=592,ne=15;function re(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function ie(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function oe(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=S,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new r.Buf32(ee),t.distcode=t.distdyn=new r.Buf32(te),t.sane=1,t.back=-1,p):m}function ae(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,oe(e)):m}function se(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?m:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,ae(e))):m}function le(e,t){var n,r;return e?(r=new ie,e.state=r,r.window=null,(n=se(e,t))!==p&&(e.state=null),n):m}var ce,ue,he=!0;function de(e){if(he){var t;for(ce=new r.Buf32(512),ue=new r.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(c,e.lens,0,288,ce,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(u,e.lens,0,32,ue,0,e.work,{bits:5}),he=!1}e.lencode=ce,e.lenbits=9,e.distcode=ue,e.distbits=5}function fe(e,t,n,i){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new r.Buf8(a.wsize)),i>=a.wsize?(r.arraySet(a.window,t,n-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):((o=a.wsize-a.wnext)>i&&(o=i),r.arraySet(a.window,t,n-i,o,a.wnext),(i-=o)?(r.arraySet(a.window,t,n-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}t.inflateReset=ae,t.inflateReset2=se,t.inflateResetKeep=oe,t.inflateInit=function(e){return le(e,ne)},t.inflateInit2=le,t.inflate=function(e,t){var n,ee,te,ne,ie,oe,ae,se,le,ce,ue,he,pe,ge,ve,me,ye,Ae,be,we,Se,xe,Ee,Ce,_e=0,Re=new r.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return m;(n=e.state).mode===D&&(n.mode=M),ie=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,ce=oe,ue=ae,xe=p;e:for(;;)switch(n.mode){case S:if(0===n.wrap){n.mode=M;break}for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(2&n.wrap&&35615===se){n.check=0,Re[0]=255&se,Re[1]=se>>>8&255,n.check=o(n.check,Re,2,0),se=0,le=0,n.mode=x;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&se)<<8)+(se>>8))%31){e.msg="incorrect header check",n.mode=J;break}if((15&se)!==w){e.msg="unknown compression method",n.mode=J;break}if(le-=4,Se=8+(15&(se>>>=4)),0===n.wbits)n.wbits=Se;else if(Se>n.wbits){e.msg="invalid window size",n.mode=J;break}n.dmax=1<<Se,e.adler=n.check=1,n.mode=512&se?k:D,se=0,le=0;break;case x:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.flags=se,(255&n.flags)!==w){e.msg="unknown compression method",n.mode=J;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=J;break}n.head&&(n.head.text=se>>8&1),512&n.flags&&(Re[0]=255&se,Re[1]=se>>>8&255,n.check=o(n.check,Re,2,0)),se=0,le=0,n.mode=E;case E:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.time=se),512&n.flags&&(Re[0]=255&se,Re[1]=se>>>8&255,Re[2]=se>>>16&255,Re[3]=se>>>24&255,n.check=o(n.check,Re,4,0)),se=0,le=0,n.mode=C;case C:for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.head&&(n.head.xflags=255&se,n.head.os=se>>8),512&n.flags&&(Re[0]=255&se,Re[1]=se>>>8&255,n.check=o(n.check,Re,2,0)),se=0,le=0,n.mode=_;case _:if(1024&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length=se,n.head&&(n.head.extra_len=se),512&n.flags&&(Re[0]=255&se,Re[1]=se>>>8&255,n.check=o(n.check,Re,2,0)),se=0,le=0}else n.head&&(n.head.extra=null);n.mode=R;case R:if(1024&n.flags&&((he=n.length)>oe&&(he=oe),he&&(n.head&&(Se=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,ee,ne,he,Se)),512&n.flags&&(n.check=o(n.check,ee,he,ne)),oe-=he,ne+=he,n.length-=he),n.length))break e;n.length=0,n.mode=T;case T:if(2048&n.flags){if(0===oe)break e;he=0;do{Se=ee[ne+he++],n.head&&Se&&n.length<65536&&(n.head.name+=String.fromCharCode(Se))}while(Se&&he<oe);if(512&n.flags&&(n.check=o(n.check,ee,he,ne)),oe-=he,ne+=he,Se)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=I;case I:if(4096&n.flags){if(0===oe)break e;he=0;do{Se=ee[ne+he++],n.head&&Se&&n.length<65536&&(n.head.comment+=String.fromCharCode(Se))}while(Se&&he<oe);if(512&n.flags&&(n.check=o(n.check,ee,he,ne)),oe-=he,ne+=he,Se)break e}else n.head&&(n.head.comment=null);n.mode=P;case P:if(512&n.flags){for(;le<16;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(65535&n.check)){e.msg="header crc mismatch",n.mode=J;break}se=0,le=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=D;break;case k:for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}e.adler=n.check=re(se),se=0,le=0,n.mode=O;case O:if(0===n.havedict)return e.next_out=ie,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,v;e.adler=n.check=1,n.mode=D;case D:if(t===d||t===f)break e;case M:if(n.last){se>>>=7&le,le-=7&le,n.mode=q;break}for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}switch(n.last=1&se,le-=1,3&(se>>>=1)){case 0:n.mode=L;break;case 1:if(de(n),n.mode=F,t===f){se>>>=2,le-=2;break e}break;case 2:n.mode=j;break;case 3:e.msg="invalid block type",n.mode=J}se>>>=2,le-=2;break;case L:for(se>>>=7&le,le-=7&le;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if((65535&se)!=(se>>>16^65535)){e.msg="invalid stored block lengths",n.mode=J;break}if(n.length=65535&se,se=0,le=0,n.mode=N,t===f)break e;case N:n.mode=B;case B:if(he=n.length){if(he>oe&&(he=oe),he>ae&&(he=ae),0===he)break e;r.arraySet(te,ee,ne,he,ie),oe-=he,ne+=he,ae-=he,ie+=he,n.length-=he;break}n.mode=D;break;case j:for(;le<14;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(n.nlen=257+(31&se),se>>>=5,le-=5,n.ndist=1+(31&se),se>>>=5,le-=5,n.ncode=4+(15&se),se>>>=4,le-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=J;break}n.have=0,n.mode=U;case U:for(;n.have<n.ncode;){for(;le<3;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.lens[Te[n.have++]]=7&se,se>>>=3,le-=3}for(;n.have<19;)n.lens[Te[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,Ee={bits:n.lenbits},xe=s(l,n.lens,0,19,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid code lengths set",n.mode=J;break}n.have=0,n.mode=V;case V:for(;n.have<n.nlen+n.ndist;){for(;me=(_e=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ye=65535&_e,!((ve=_e>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(ye<16)se>>>=ve,le-=ve,n.lens[n.have++]=ye;else{if(16===ye){for(Ce=ve+2;le<Ce;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se>>>=ve,le-=ve,0===n.have){e.msg="invalid bit length repeat",n.mode=J;break}Se=n.lens[n.have-1],he=3+(3&se),se>>>=2,le-=2}else if(17===ye){for(Ce=ve+3;le<Ce;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=ve,Se=0,he=3+(7&(se>>>=ve)),se>>>=3,le-=3}else{for(Ce=ve+7;le<Ce;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}le-=ve,Se=0,he=11+(127&(se>>>=ve)),se>>>=7,le-=7}if(n.have+he>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=J;break}for(;he--;)n.lens[n.have++]=Se}}if(n.mode===J)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=J;break}if(n.lenbits=9,Ee={bits:n.lenbits},xe=s(c,n.lens,0,n.nlen,n.lencode,0,n.work,Ee),n.lenbits=Ee.bits,xe){e.msg="invalid literal/lengths set",n.mode=J;break}if(n.distbits=6,n.distcode=n.distdyn,Ee={bits:n.distbits},xe=s(u,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,Ee),n.distbits=Ee.bits,xe){e.msg="invalid distances set",n.mode=J;break}if(n.mode=F,t===f)break e;case F:n.mode=z;case z:if(oe>=6&&ae>=258){e.next_out=ie,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,a(e,ue),ie=e.next_out,te=e.output,ae=e.avail_out,ne=e.next_in,ee=e.input,oe=e.avail_in,se=n.hold,le=n.bits,n.mode===D&&(n.back=-1);break}for(n.back=0;me=(_e=n.lencode[se&(1<<n.lenbits)-1])>>>16&255,ye=65535&_e,!((ve=_e>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(me&&0==(240&me)){for(Ae=ve,be=me,we=ye;me=(_e=n.lencode[we+((se&(1<<Ae+be)-1)>>Ae)])>>>16&255,ye=65535&_e,!(Ae+(ve=_e>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=Ae,le-=Ae,n.back+=Ae}if(se>>>=ve,le-=ve,n.back+=ve,n.length=ye,0===me){n.mode=Y;break}if(32&me){n.back=-1,n.mode=D;break}if(64&me){e.msg="invalid literal/length code",n.mode=J;break}n.extra=15&me,n.mode=G;case G:if(n.extra){for(Ce=n.extra;le<Ce;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.length+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=Q;case Q:for(;me=(_e=n.distcode[se&(1<<n.distbits)-1])>>>16&255,ye=65535&_e,!((ve=_e>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(0==(240&me)){for(Ae=ve,be=me,we=ye;me=(_e=n.distcode[we+((se&(1<<Ae+be)-1)>>Ae)])>>>16&255,ye=65535&_e,!(Ae+(ve=_e>>>24)<=le);){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}se>>>=Ae,le-=Ae,n.back+=Ae}if(se>>>=ve,le-=ve,n.back+=ve,64&me){e.msg="invalid distance code",n.mode=J;break}n.offset=ye,n.extra=15&me,n.mode=W;case W:if(n.extra){for(Ce=n.extra;le<Ce;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}n.offset+=se&(1<<n.extra)-1,se>>>=n.extra,le-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=J;break}n.mode=H;case H:if(0===ae)break e;if(he=ue-ae,n.offset>he){if((he=n.offset-he)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=J;break}he>n.wnext?(he-=n.wnext,pe=n.wsize-he):pe=n.wnext-he,he>n.length&&(he=n.length),ge=n.window}else ge=te,pe=ie-n.offset,he=n.length;he>ae&&(he=ae),ae-=he,n.length-=he;do{te[ie++]=ge[pe++]}while(--he);0===n.length&&(n.mode=z);break;case Y:if(0===ae)break e;te[ie++]=n.length,ae--,n.mode=z;break;case q:if(n.wrap){for(;le<32;){if(0===oe)break e;oe--,se|=ee[ne++]<<le,le+=8}if(ue-=ae,e.total_out+=ue,n.total+=ue,ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,ie-ue):i(n.check,te,ue,ie-ue)),ue=ae,(n.flags?se:re(se))!==n.check){e.msg="incorrect data check",n.mode=J;break}se=0,le=0}n.mode=K;case K:if(n.wrap&&n.flags){for(;le<32;){if(0===oe)break e;oe--,se+=ee[ne++]<<le,le+=8}if(se!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=J;break}se=0,le=0}n.mode=X;case X:xe=g;break e;case J:xe=y;break e;case Z:return A;case $:default:return m}return e.next_out=ie,e.avail_out=ae,e.next_in=ne,e.avail_in=oe,n.hold=se,n.bits=le,(n.wsize||ue!==e.avail_out&&n.mode<J&&(n.mode<q||t!==h))&&fe(e,e.output,e.next_out,ue-e.avail_out)?(n.mode=Z,A):(ce-=e.avail_in,ue-=e.avail_out,e.total_in+=ce,e.total_out+=ue,n.total+=ue,n.wrap&&ue&&(e.adler=n.check=n.flags?o(n.check,te,ue,e.next_out-ue):i(n.check,te,ue,e.next_out-ue)),e.data_type=n.bits+(n.last?64:0)+(n.mode===D?128:0)+(n.mode===F||n.mode===N?256:0),(0===ce&&0===ue||t===h)&&xe===p&&(xe=b),xe)},t.inflateEnd=function(e){if(!e||!e.state)return m;var t=e.state;return t.window&&(t.window=null),e.state=null,p},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?m:(n.head=t,t.done=!1,p):m},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&n.mode!==O?m:n.mode===O&&i(1,t,r,0)!==n.check?y:fe(e,t,r,r)?(n.mode=Z,A):(n.havedict=1,p):m},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,l,c,u,h,d,f,p,g,v,m,y,A,b,w,S,x,E,C,_;n=e.state,r=e.next_in,C=e.input,i=r+(e.avail_in-5),o=e.next_out,_=e.output,a=o-(t-e.avail_out),s=o+(e.avail_out-257),l=n.dmax,c=n.wsize,u=n.whave,h=n.wnext,d=n.window,f=n.hold,p=n.bits,g=n.lencode,v=n.distcode,m=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{p<15&&(f+=C[r++]<<p,p+=8,f+=C[r++]<<p,p+=8),A=g[f&m];t:for(;;){if(f>>>=b=A>>>24,p-=b,0===(b=A>>>16&255))_[o++]=65535&A;else{if(!(16&b)){if(0==(64&b)){A=g[(65535&A)+(f&(1<<b)-1)];continue t}if(32&b){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}w=65535&A,(b&=15)&&(p<b&&(f+=C[r++]<<p,p+=8),w+=f&(1<<b)-1,f>>>=b,p-=b),p<15&&(f+=C[r++]<<p,p+=8,f+=C[r++]<<p,p+=8),A=v[f&y];n:for(;;){if(f>>>=b=A>>>24,p-=b,!(16&(b=A>>>16&255))){if(0==(64&b)){A=v[(65535&A)+(f&(1<<b)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(S=65535&A,p<(b&=15)&&(f+=C[r++]<<p,(p+=8)<b&&(f+=C[r++]<<p,p+=8)),(S+=f&(1<<b)-1)>l){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=b,p-=b,S>(b=o-a)){if((b=S-b)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(x=0,E=d,0===h){if(x+=c-b,b<w){w-=b;do{_[o++]=d[x++]}while(--b);x=o-S,E=_}}else if(h<b){if(x+=c+h-b,(b-=h)<w){w-=b;do{_[o++]=d[x++]}while(--b);if(x=0,h<w){w-=b=h;do{_[o++]=d[x++]}while(--b);x=o-S,E=_}}}else if(x+=h-b,b<w){w-=b;do{_[o++]=d[x++]}while(--b);x=o-S,E=_}for(;w>2;)_[o++]=E[x++],_[o++]=E[x++],_[o++]=E[x++],w-=3;w&&(_[o++]=E[x++],w>1&&(_[o++]=E[x++]))}else{x=o-S;do{_[o++]=_[x++],_[o++]=_[x++],_[o++]=_[x++],w-=3}while(w>2);w&&(_[o++]=_[x++],w>1&&(_[o++]=_[x++]))}break}}break}}while(r<i&&o<s);r-=w=p>>3,f&=(1<<(p-=w<<3))-1,e.next_in=r,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=p}},function(e,t,n){"use strict";var r=n(3),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,l,c,u,h,d){var f,p,g,v,m,y,A,b,w,S=d.bits,x=0,E=0,C=0,_=0,R=0,T=0,I=0,P=0,k=0,O=0,D=null,M=0,L=new r.Buf16(16),N=new r.Buf16(16),B=null,j=0;for(x=0;x<=15;x++)L[x]=0;for(E=0;E<l;E++)L[t[n+E]]++;for(R=S,_=15;_>=1&&0===L[_];_--);if(R>_&&(R=_),0===_)return c[u++]=20971520,c[u++]=20971520,d.bits=1,0;for(C=1;C<_&&0===L[C];C++);for(R<C&&(R=C),P=1,x=1;x<=15;x++)if(P<<=1,(P-=L[x])<0)return-1;if(P>0&&(0===e||1!==_))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+L[x];for(E=0;E<l;E++)0!==t[n+E]&&(h[N[t[n+E]]++]=E);if(0===e?(D=B=h,y=19):1===e?(D=i,M-=257,B=o,j-=257,y=256):(D=a,B=s,y=-1),O=0,E=0,x=C,m=u,T=R,I=0,g=-1,v=(k=1<<R)-1,1===e&&k>852||2===e&&k>592)return 1;for(;;){A=x-I,h[E]<y?(b=0,w=h[E]):h[E]>y?(b=B[j+h[E]],w=D[M+h[E]]):(b=96,w=0),f=1<<x-I,C=p=1<<T;do{c[m+(O>>I)+(p-=f)]=A<<24|b<<16|w|0}while(0!==p);for(f=1<<x-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,E++,0==--L[x]){if(x===_)break;x=t[n+h[E]]}if(x>R&&(O&v)!==g){for(0===I&&(I=R),m+=C,P=1<<(T=x-I);T+I<_&&!((P-=L[T+I])<=0);)T++,P<<=1;if(k+=1<<T,1===e&&k>852||2===e&&k>592)return 1;c[g=O&v]=R<<24|T<<16|m-u|0}}return 0!==O&&(c[m+O]=x-I<<24|64<<16|0),d.bits=R,0}},function(e,t,n){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t,n){var r={"./drawtarget.png":166,"./drawtarget2.png":167,"./intersect.png":168,"./subtract.png":169,"./union.png":170};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=165},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAVTSURBVFhHzVhNSyxHFLV7enq+R31RX2ZMniiPxKgQgoS3kAhBSZSgvvgvfAvduBE/NoH8D0H8AYLuRNy4EcGVLhRx496FbtyYc7r71tT03JlpzVt44NC3Tt26dae6Prqm4/n5+c1TFd8aVfGtURWTMg5oFPloqKT0WqqixmZAnQPmwBRokgTSYCH0agTqElMVNcYBjcl5YOn09LRzZ2fHh22SRJn6MEzxc8OWIVBOTFW0GQc0jljm+Pg4PT8/n8rlcoO+72f6+vqYiEkS5TL0bzOZjDszM+Pv7++7kEknjJQ8UVUU2kCZI5K+uLjIjY2NpYHC5OQkR4evmnWkSRIogSmUHfj5bDAyMuKen5+Lb5Asnm2pikIBbM6v7MbGRpGjNjU15V1eXnJE2RlfKe261w1UwTLIOvo7bIdc3fX1dbbjyCdKVBWFUYDc09NTdWFhIVMsFju3t7cZPEg68vMCRwC2STJUQqCYB5lYand31ymVSt709LSHuHz9HHH6NKUqkgLYvyDBvt7eXv/6+pqjFYxgVF0H6GqSAshM1EWcdH9/fwojy1gVkM+gX426GAG2i1fcgxHM3N3dsQOOoJoggTqTJFAXSwCNcfKMh7jltbU1/vBKVKeyUYgA28EiYcCOvb294NkM0hZsSNKmAHbwgw8ODnowRz30wx//s/jFWTNigOZiFbtzc3Ocg+9BrtQA0kZhyySFUQwuqu8R38eq5+v+ElQA4iesGRZQdrEPciX6Dw8PZmEIpM1X4CfE56LqODk5+QvPsha/ZlhA2cVG7X7+/Jm/8NUnRQIyfnlxcdHBiPbDDuamQPxqhgWU/Ww2mz48PPxfx1k7RvGyR0dHKfTH158LxAjGT5wFKDs4c10eZ7DrEtQggV7DqD0XUQaHhI9+eXqlgwrA9qsDxBQ+DjJDQ0MF2MVIbgkJ9hpG7bsGBwe70O93sEuBCNg+BhDaInJtaMzyC5gExt9uGPTVjjH/Oth1rUjXdqzzN0ZY8wi2g2kjtKHVK0wC418zIsDmnPRHR0c5ofORXAdpY9OGVq9RALtveHj4V/Q7CvubSK75GSMC7BRWWVe5XOYe1hnJDZB2QhvxOo02UOY5zl2FA2N2FOMrhkXujZ3Yt7yzs7OGr+gkEN9WFMB20M8A+vsB9kAkBzC+YhghrPxjdnY2t7y8zF/2o91AfDTYPu0ogJ1dWVkp4YrBPbLuCDa+YsT4jneSfD7vPT4+/mM3EGraSyhA/AL6KaA/7std1Bp840JEzsc/sXjSm5ubwdFo1bUie+eDiNcZCmD7W1tbBSwac/zafkJVjPgJl6Zu3AYLNzc3THIgVq+xbZIC2A7ievxGQD+dKPNO1OBPqiIZBfodl6b31WrVub+//4ByNqgAbF+LiZLE08Fr5pGbXV1d7UU52HZsP5uqaLEI/o1LU3p8fNxDovyCti9ecZokQ4/QxwbKTJDnsz8xMSFTqeV0UsUYP+JWV8SlKV+pVPyrqysGfvFFDFKwB97e3vooZpEgb6E90FqOIqmKCrvBEVyaCviES/PyhNHg4uIlyt5LG5KEyeTEn5KHV8zk3oEfqbWjKjYhP/OruDSl+E8EFlRuaWmpwg0fOqcBOzRJAhnQRT39eLx2gzkski7o/4KcSvE+VKpiMxJ4MikHd6BefPJ/QK4ujrQStpEh6CZJPJlYhsRGXcI++Bvkn0COfl3cdlTFZrSBMkeWr4xnfQ4fB9xGTJIol6HLPxdMjHaSG2cDVbEZmwF1TIJ/u5gkAc7BIMnQqx7QE1MV21GglE2SoRL6xEHtJVTFr8XXJKRRFd8aVfFt8bnjP7pLP1ubBl3DAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAYdEVYdFNvZnR3YXJlAHBhaW50Lm5ldCA0LjAuNWWFMmUAAAXWSURBVFhHzVhLSyxHGLV7unum56XXq9eo3IdwIV4VQnBxFxIhKIkSfMR/YRa6cSM+NoH8D0H8AYLuRNy4EUGy0IUibty70I0bc05NVVnd8/U4DgQ8cPi+OvX6prqe0/b09PTmKYpvjaLYCtOQyrRKUWyWaUDLw+RhczXlGW6911IUJWYBeR6ogtLl3HRdsAYs2yxFUWIa0BhMAFZOTk7C7e1tpkvIoq0wDf2LLqdYq1kD0k1TFF2mAS0H5o+OjsLZ2dlcHMcDURSFOo+f24f1mYYe5/N5f2pqKtrb26PeUqCiaOgCaY5GeH5+Ho+MjIRAaXx8nMHEzNNlmGYwnJcsz7SHchErDA0N+WdnZ6assS9SFA0N4IdgYX19vYzRyU9MTAQXFxccUQYyCNInAxRvh/0IMviq0VHeYz3EqkaZGthUoKJoqBuIHx8f++bm5vLlcrl9a2uLjaugdTkGpgCfATCvo6bUgHQR5A/K7ezseJVKxZucnAzQLke9Aqr+siiKpAH8nxHgh+7u7ujq6ipCWo2gzk4AOgPmj4hrShKsB/pox+vv789hZNlWL0hr+05TFjXg+/jEXRjB/O3trZqToBgggTzTmVpIElgfDNge2q2urq7yh/fqPJH1ggZ8D4uEDbbt7u4qmwWTB8vVzUDVvCOYZ+gC6XB/f78LczRAP/zxP7llXT47KUDzsYr9mZkZfr4e0G7Mpo5LrRdgODKREgC3DGkAn4vqI9qPsOr5w/7SWfV1rOMAaR/7IFdidH9/bxeGgakjkA3daqugdUsXSH9H+1xUbcfHx3/AVrWerGMdB0j72Kj9+fn5xKcjTPkMsiEaIp1naQCf7VcXFhY8jGg/fDU3DWx56zhAOioUCuHBwQE/9f8WJIF04fDwMIf++PkTu4ItL1TimevzOIOfCFCCaUizlSC5KD0cEgH65cjWzX0RuByo4NwKjWAaAxsG2QgDAwNqBwHt9iXWg6B+FahWM8hThccc/XdgRRdlWRENsmxvcNke++GWZfpVowh20mpd8dmpgRs1yWONq5pbCn02xvlSBjnK1FVAryRHyZD9sF1atknL4JhXBOUgYc0v4rbARUPLi0IZ5Ii657SIBlm1TgC46toG2jM9ZTkYKi7y2XHACystdGUlmHpufVg3yEQ+KcHog4ODMfrtUQkNWy/dAHyu7o5qtcpfZSexBFPX1IelQ0PU5TcCznH2mxgUWzfdCHx+5nbsW8Hp6WnmSEpAvZaCRD8B+vuKcp+1pGDrGscKtczfpqen46WlJc6PHxMVGgD5rw4SecHy8nIFTwzO/cSWZ+saJ8VOvkmKxWLw8PDwt1uBdOFqsHT+1VaBrqEEtI9uiiX0x4uJWphuHVUvLWhyPv4+PDwcbmxsqKPRyVN0YdKwvCCwM7X/vQSUCzc3NwtYNPZkY1tpiqLmdzya3uE1WLq+vmaQn1P5utlnQPsGw5t24vmQBbTrYS7yccZDgwdIon1DUSQJ2F/X1tZ6+vr6vLu7u09IcxNXMGVcQPsAw7nVXlNkIN/DZ+YbvbCystKN9HutixRFh9zE/8SjKRwdHQ0QKG/Q7oauaABfnRzpMi6QZoA8XqOxsTEzleqmk0tRTPErXnVlPJqKvb290eXlJRsWtybo6kiD5SglwDrkzc0Nb+0FBMhXaBe0hqNIiqJAXi6G8Ggq4QoX8vGE0eDi4iKxAcP/AYajnzgEkPZR3pQL8IkZHC8S3BvdfkSKYgY5Qn14NOX4TwQWVLy4uNjLDR86pwHPdp657LyrFo/aqEOU4+WEiynGIulA/j8sC0r91FEUs0jAqs+GN1A3rvyfEKuPI62CbeQ99E4U4XRgUNyYuRXlsVFXsA/+Av0byNGva7sRRTGLLpDmyKq7H85cXg4YHBdMCTZCugDd3HIYGH17osBvmqKYxSwgj0Hwk3NR0FdbFawKkn4a0JumKL5EAyE9DWP/ZSPcfANTr1mKYivMglT2tRTFt0ZRfFt8avsPi39msoH0s3UAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAl5JREFUWMPtl6uOYkEQhrsn+wBIBAKJRCIQCBIEFoFEIBD7AAhGM56RvAGCEIIjgQQSBLwFCBy8QS9/ZarT13N6mE3IJltJhxy+7qr/9KWqj1RKiVfam3ixvVzAr4Q+P10j+awACnw6ncRisRDr9VpcLhdqpVKJ2mQyibJmsylarZao1+sqUwg2YaCpzWajGo2G+hJitSzmtlqtRv0Ns2IFgw+HQ+2gWCzS8263U+fzOZfh93A4qNFoRJz7gqUIUJ1ORw/qdrvqdrtp6S4Tn4par9fT/6MPG8ZGWFCAfrtCoaBms5k5bRbjwG7jNx4MBtbY5XIZYpYAWidWagT3WCy4bl/9ENT0gWeH2QJ4U2FqnWmyWJ4AnvJqter5CTECx+NRbypjzT2W+/bOUhi7X/CecBllQpxl2EOheKyxdWZNlmrcd7VaWQkJvl1GApBIYO1223PG7KM0ThbAfff7vcc4BjMSgAwGK5fL3gBmz1hoLMdgJrEOUkqdFZ2Uqdljbb8X/Xe+TzCaAeRuQ5UVidkzFhir+M2ZWQKu12uKk58IECEBEpXL3PGmMRtd35MDc99HJfQY735mEKBQNmHT6VTc73drgMlSjfvyWDb49hgnCZRNPCJbmckDvybLS0L9fp/6VioVLxOGWLAWuHn8b9SCgP94NUS6dB2Y7LvVEMHzqqEI1XxMuVkbXOZOe+g+EGHxCwkMKmO3njwWuxG5b555JYPN53Mqm6F7XhZzGzacs5xWkxlfRgS22y2dXRQP9+Y7Ho+jDOccR43zSOxWLBM+zV72XZDk4P+34T8v4A9Un6ysqt6SOQAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAmBJREFUWMPtV62OIkEQnr7sAyARCCQSiUAgSBBYBBJBLohzaxCc5jz7FghCCAoSSCBBwFuAwPEIvXx1VKenu2umdzcXcslWUuHnq6n6uru6qkZprZNnyo/kyfJ0Ai8RNl89I/VZAhT4dDol8/k8Wa/XyeVyIS2VSqSTyUTEms1m0mq1knq9rjOJIAkDqjebjW40GvpBJK1vWsYcrdVq5MuSVKxg8OFwaBwUi8W/v+9BoSFst9vp8/lM3/F5OBz0aDQinG2BxRDQnU7HPNTtdk1gqIvdbjfSXq9n/ocNSwYWJGBWVygUUoHtlQObTqfalcViYVY8GAxisBQBOif7jD19YFZwb/cQiO3w3bILYWkCnFTuttsJB0wIbvzwllerVdc2iBFwPB5NUkmrB4YzzSMAG95uK/tFjCoh7jLkztC7pqPrb4Pdzz+vsCjYsJ/lcpmLEQEUEsif0tjzyFi73Y4ufWy73+9zMSKACiYJY+VyOZoA24b8upjCOSj12NW3QNn/pUzFzKvrdoFln4HnUhjtAGq3JIw9GMc0Js2rC/j1sGgC1+s1+ggyCCQhAgqdy854WxjjmxIjnOH3TpiPIQfQTP5FHVitVin7EGYeRNukhvHz1SPAGCpZHoF+v0+2lUrFq4Qh7MO9wKnx3gwh9YIAJnfD0FHYmOXcCAJI3VDAfALuPEDNQ5gHgPE8wFsbmgcETB5IIGApTUQhjCciYNJE5K48cySDzGYzapvSTChijiLhMvKGSnHmVLzdbunuonm4k+94PBYx3HNMxVxHpDKuIl7NnvZeEOXg+93wvyfwDtK7/zuOF2QYAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAkFJREFUWMPtl79rwkAUx+9K/wDHFPwDHO0gOCgoCC6OgTpasODQ0VKHZBAK6a5j/4SCiDgp6ODoUArdOwjNf3G9dybp5XLvElpoLPQLD20/9+PleffeC2WMkTx1RnJW7g6cZxjz09+IftcBsfF+vyfz+Zys12tyOByEFYtFYZPJBGWtVou0221Sq9WY0RE4hBpjm82GNRoNFjgStynDmWLValWsJSm2l3bz0WgULWBZ1vFvvilYKgu+O44jeDgWWBYHmG3b0aRutxstCIaxXq8X/V+MkeaoTHVC++SFQiG2iPzkOhZa+MSDwcDIZCdokIjYdrslzWbzeDCmmoN/S3GWdVzAFosF6XQ6NJYHxuOx+OShTcxrPDdRpoqHXHyWny5R5rpudMsgAgyuWqVSITxMxHc+tJ6jTCPr4YL4vq+NQsj4zSD8Jh0jAHdZ9lCW47soS4vC8P0OZcvl8isVQyIBPRa9xAQTwxSO3e12qUw4ABkMk4mlKcu6p+EA5G5MJpamLOuehAMUKpd84mWZGKZwLK+EqUzkATiR9Xr9V/PAarUSDyciAN7wsimA/TpMTApZb3+dunn/5UaMLZVKCXb1dh+xILL0ZGoBhbTIK14UJlUmJocXxCuekfHNj5tSGi/Haj8gajnSD8is3++j/YDKTP1A5ISo50jXk8qQjkjtA4wtGWg2m7FyuYz2hChTjB84xn9z7eZyQ4J2xXA4oXLBVVU7X8/zUAY3C7riMI9gXTHN8GqW23tBpgX+3w3/vAOflUPr2Hvmww8AAAAASUVORK5CYII="},,,function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"GenerateDataPluginRunner",(function(){return b})),n.d(r,"JobMonitor",(function(){return w})),n.d(r,"JobMonitorControl",(function(){return M})),n.d(r,"TsneJob",(function(){return B})),n.d(r,"TsnePlugin",(function(){return H}));var i={};n.r(i),n.d(i,"SelectionConfig",(function(){return Y})),n.d(i,"SwitchableSelections",(function(){return q})),n.d(i,"PluginFactory",(function(){return v}));var o={};n.r(o),n.d(o,"KDETexture",(function(){return _})),n.d(o,"PointGroupView",(function(){return R})),n.d(o,"LUTFilter",(function(){return J})),n.d(o,"LUTTexture",(function(){return X})),n.d(o,"ChoroplethSVGView",(function(){return ne}));var a={};n.r(a),n.d(a,"ColorRamp",(function(){return re})),n.d(a,"SnapshotSaver",(function(){return oe})),n.d(a,"LookupEnum",(function(){return ae})),n.d(a,"enumToOptions",(function(){return le})),n.d(a,"css_color_string_from_int",(function(){return ce})),n.d(a,"isVivaldiBrowser",(function(){return ue})),n.d(a,"sortAndUnique",(function(){return he})),n.d(a,"css_color_from_hextriplet",(function(){return de})),n.d(a,"style_from_hextriplet",(function(){return fe})),n.d(a,"int_from_css_color_string",(function(){return pe})),n.d(a,"control_ids_to_strings",(function(){return ge})),n.d(a,"hide_container_behind",(function(){return ve})),n.d(a,"log",(function(){return me})),n.d(a,"warn",(function(){return ye})),n.d(a,"error",(function(){return Ae}));var s={};n.r(s),n.d(s,"ControlEventModel",(function(){return xe})),n.d(s,"DynamicSelection",(function(){return Ee})),n.d(s,"StartupSelection",(function(){return Ce}));var l={};n.r(l),n.d(l,"ChoroplethProtocol",(function(){return f})),n.d(l,"PlotProtocol",(function(){return p})),n.d(l,"SelectionProtocol",(function(){return ke})),n.d(l,"ControlProtocol",(function(){return be})),n.d(l,"LayoutWidgetProtocol",(function(){return ht})),n.d(l,"ExportSelectionProtocol",(function(){return dt})),n.d(l,"DataPreprocessProtocol",(function(){return ft})),n.d(l,"SnapshotProtocolForCanvas",(function(){return Z})),n.d(l,"SnapshotProtocolForSVG",(function(){return ee}));var c={};n.r(c),n.d(c,"ViewController",(function(){return Ct})),n.d(c,"ChoroplethLoader",(function(){return je})),n.d(c,"ChoroplethController",(function(){return Be})),n.d(c,"LayoutController",(function(){return Fe})),n.d(c,"PixijsPlotController",(function(){return nt})),n.d(c,"SimplePlotController",(function(){return P})),n.d(c,"ToolTipController",(function(){return Te})),n.d(c,"SiteInstance",(function(){return Rt})),n.d(c,"WidgetController",(function(){return bt})),n.d(c,"SelectionSubscriber",(function(){return Oe})),n.d(c,"SnapShotController",(function(){return Me})),n.d(c,"toolTipController",(function(){return Tt}));var u={};n.r(u),n.d(u,"DataCache",(function(){return kt})),n.d(u,"LayoutCollection",(function(){return ut})),n.d(u,"PermanentSelection",(function(){return Dt})),n.d(u,"DataMapper",(function(){return $e})),n.d(u,"PlotDataModel",(function(){return U})),n.d(u,"PlotPropReader",(function(){return et})),n.d(u,"LayoutSiteConfig",(function(){return Mt}));var h={};n.r(h),n.d(h,"OntologyTree",(function(){return Lt})),n.d(h,"PlotContextMenu",(function(){return ot})),n.d(h,"SelectionDataWidget",(function(){return He})),n.d(h,"SelectionEditWidget",(function(){return Ye})),n.d(h,"SelectionUploadWidget",(function(){return qe})),n.d(h,"SelectionContextMenu",(function(){return We})),n.d(h,"ContentTableWidget",(function(){return vt})),n.d(h,"ControlWidgetLayout",(function(){return ze})),n.d(h,"TutorialControl",(function(){return yt})),n.d(h,"PreloadSelectionWidget",(function(){return st})),n.d(h,"LayoutWidgetBase",(function(){return gt}));var d=n(2),f=d.define(["colorMap"],{onPlethResize:[],loadPleth:[],clearPlethColors:[],savePlethColors:[],restorePlethColors:[],setPlethColorsFromMap:["colorMap"]}),p=d.define(["points","props","plotProps","resizeEvent"],{loadPlotData:["points","props","plotProps"],onResize:["resizeEvent"]}),g={_choroplethTypeMap:new Map,_plotTypeMap:new Map,_widgetTypeMap:new Map,_jobTypeMap:new Map,_preprocessTypeMap:new Map,registerChoroplethType(e,t){f.hasImpl(t)?g._choroplethTypeMap.has(e)||g._choroplethTypeMap.set(e,t):alert("Choropleth plugin must implement the ChoroplethProtocol! "+e)},createChoroplethType(e){if(g._choroplethTypeMap.has(e)){for(var t=g._choroplethTypeMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)}return console.error("The choropleth plugin class: "+e+" is not reqistered"),null},registerPlotType(e,t){p.hasImpl(t)?g._plotTypeMap.has(e)||g._plotTypeMap.set(e,t):alert("Plot plugin must implement the PlotProtocol! "+e)},createPlotType(e){if(g._plotTypeMap.has(e)){for(var t=g._plotTypeMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)}return console.error("The plot plugin class: "+e+" is not reqistered"),null},registerWidgetType(e,t){g._widgetTypeMap.has(e)||g._widgetTypeMap.set(e,t)},createWidgetType(e){if(g._widgetTypeMap.has(e)){for(var t=g._widgetTypeMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)}return console.error("The widget plugin class: "+e+" is not reqistered"),null},registerDataJobType(e,t){g._jobTypeMap.has(e)||(g._jobTypeMap.set(e,t),(new ReScatter.widget.SelectionContextMenu).registerGenerateDataPlugin(e))},createDataJobType(e){if(g._jobTypeMap.has(e)){for(var t=g._jobTypeMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)}return console.error("The selection job plugin class: "+e+" is not reqistered"),null},registerPreprocessType(e,t){g._preprocessTypeMap.has(e)||g._preprocessTypeMap.set(e,t)},createPreprocessType(e){if(g._preprocessTypeMap.has(e)){for(var t=g._preprocessTypeMap.get(e),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return new t(...r)}return console.error("The preprocess plugin class: "+e+" is not reqistered"),null}},v=g,m=n(7),y=n(4),A=n(17);class b{constructor(e){this.plugin=v.createDataJobType(e)}get monitor(){return this.plugin.jobMonitor}run(e){var t=ReScatter.layoutManager.getRecalculation();if(void 0!==t){var n={};ReScatter.layoutManager.getDataMaps().forEach((function(e){n[e.id]=e.filePath}));var r={};ReScatter.layoutManager.getBaseDataMaps().forEach((function(e){r[e.id]=e.filePath}));var i=e.selectionId,o=e.dataPoints,a=ReScatter.dataModel.dataCache,s=[],l=Object.getOwnPropertyNames(t.dataAnalysis.analyses),c=[];l.forEach(e=>{var n=t.dataAnalysis.analyses[e].inputData;c.includes(n)||(c.push(n),s.push({path:r[n],type:"arraybuffer"}))}),this.preprocessPlugin=v.createPreprocessType(t.dataAnalysis.dataPreprocess.preprocessPlugin);var u=this,h=ReScatter.layoutManager.getId();a.loadFiles(s,(function(){var r=A(),s=u.preprocessPlugin.getRecalculationData(r,a,t,o,i),c=u.preprocessPlugin.getDataMap();l.forEach(e=>{var n=s[e],r=t.dataAnalysis.analyses[e];u.plugin.addJob(n,r,e)});var d=!0,f=!1,p=void 0;try{for(var g,v=Object.getOwnPropertyNames(n)[Symbol.iterator]();!(d=(g=v.next()).done);d=!0){var b=g.value;n[b]=c[b]}}catch(e){f=!0,p=e}finally{try{d||null==v.return||v.return()}finally{if(f)throw p}}var w=new ReScatter.data.LayoutCollection;u.plugin.start((function(s){for(var l="Generated by: "+u.plugin.constructor.getAlgorithmName()+" from selection: "+e.label,c=e.description,d={},f={},p=0;p<s.length;p++){var g=s[p][0],v=t.dataAnalysis.analyses[g].targetPlotId,A=r+"_data_"+v,b=s[p][1],S=m.parse(b),x=y(S.data,S.sizes.slice().reverse());if(1!==x.shape.length&&(2!==x.shape.length||2!==x.shape[1]))throw"Plugin data was neither 1 or 2 dimensional";for(var E=x.shape[0]/(2/x.shape.length),C={dim:2,points:new Array(E)},_=0;_<E;_++)1===x.shape.length?C.points[_]=[x.get(2*_),x.get(2*_+1)]:C.points[_]=[x.get(_,0),x.get(_,1)];var R=ReScatter.dataModel.getPlotPropSubSelection(v,i,o),T=r+"_props_"+v;a.insertInCache(C,A,!0),a.insertInCache(R,T,!0),f[v]=T,d[v]=A}w.addDerivedLayout(h,l,c,d,f,n,i,o)}),(function(e){window.alert("Job failed with error: "+JSON.stringify(e))}))}))}}}class w{constructor(e){this.pubsubid="JOBMONITOR_"+Date.now(),this.algorithmName=e,this.jobGroups={},this.statuses={},this.progressData={},this.jsonStatuses=[]}get monitoredAlgorithm(){return this.algorithmName}_updateModel(e){this.jsonStatuses=[];for(var t=0,n=Object.keys(this.statuses);t<n.length;t++){var r=n[t],i={};i.jobid=r,i.createtime=this.jobGroups[r].createdtime.toLocaleString(),i.status=this.statuses[r].status,i.progress=this.jobGroups[r].jobsdone+" of "+this.jobGroups[r].numSubJobs,i.delete="",this.jsonStatuses.push(i)}PubSub.publish(this.pubsubid,{jobId:e})}getProgressData(e){return this.progressData[e]}addJobGroup(e,t){var n=t||!0;this.jobGroups[e.pubsubTopic]=e,this.statuses[e.pubsubTopic]={status:e.status,jobsDone:e.numComplete};var r={},i=!0,o=!1,a=void 0;try{for(var s,l=e.jobIds[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){r[s.value]=null}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}this.progressData[e.pubsubTopic]=r;var c=e.pubsubTopic;this._updateModel(c),PubSub.subscribe(c,(e,t)=>{this.jobCallback(e,t,c)}),n&&e.start()}getJobGroup(e){return this.jobGroups[e]}jobCallback(e,t,n){this.statuses[e]=t,t.status===DimRS.JobGroup.JobStatus.PROGRESS&&(this.progressData[e][t.jobId]=t.progressData),this._updateModel(n)}cancelJob(e){PubSub.unsubscribe(e),this.jobGroups[e].cancel(),delete this.statuses[e],this._updateModel(e)}getResultClient(e){return this.jobGroups[e].get_result()}}var S=null;class x{constructor(e,t,n,r,i){if(S)return S;S=this,this._width=i,this._mean=e,this._level=t,this._displayStdDev=n,this._scaleFactor=r,this.rawCanvas=document.createElement("canvas"),this.stddevOrScaleChanged(),this.calculatePdf()}get pdf(){return this.done?this._pdf:(this.calculatePdf(),this._pdf)}get canvas(){var e=this.rawCanvas.getContext("2d");e.fillRect(0,0,this._canvasWidth,this._canvasWidth);var t=e.getImageData(0,0,this._canvasWidth,this._canvasWidth),n=t.data;this.done||this.calculatePdf();for(var r=0;r<this._canvasWidth;r++)for(var i=4*this._canvasWidth*r,o=this._canvasWidth*r,a=0;a<this._canvasWidth;a++){var s=Math.round(this._pdf[o+a]);n[i+4*a]=s,n[i+4*a+1]=s,n[i+4*a+2]=s,n[i+4*a+3]=256}return e.putImageData(t,0,0),this.rawCanvas}set mean(e){this._mean!==e&&(this._mean=e,this.done=!1)}get mean(){return this._mean}set level(e){this._level!==e&&(this._level=e,this.done=!1)}get level(){return this._level}set stddev(e){this._displayStdDev!==e&&(this._displayStdDev=e,this.stddevOrScaleChanged())}get stddev(){return this._displayStdDev}set scaleFactor(e){this._scaleFactor!==e&&(this._scaleFactor=e,this.stddevOrScaleChanged())}get scaleFactor(){return this._scaleFactor}set width(e){this._width=e,this.canvasWidthChanged()}get width(){return this._width}calculatePdf(){for(var e=new Float32Array(this._canvasWidth),t=this._canvasWidth/2,n=0;n<this._canvasWidth;n++){var r=.5+n-t;e[n]=this._invdevroot2pi*Math.exp(-Math.pow(r-this._mean,2)/(2*this._variance))}for(var i=Math.max.apply(null,e),o=this._level/(i*i),a=0;a<this._canvasWidth;a++)for(var s=a*this._canvasWidth,l=0;l<this._canvasWidth;l++)this._pdf[s+l]=o*e[a]*e[l];this.done=!0}stddevOrScaleChanged(){this._stddev=Math.round(this._displayStdDev*this._scaleFactor),this.canvasWidthChanged(),this._variance=Math.pow(this._stddev,2),this._invdevroot2pi=1/(Math.sqrt(2*Math.PI)*this._stddev),this.done=!1}canvasWidthChanged(){var e=this._width*this._stddev;this._canvasWidth!==e&&(this._canvasWidth=e,this._pdf=new Float32Array(e*e),this.rawCanvas.width=e,this.rawCanvas.height=e,this.done=!1)}}var E=n(1),C=n.n(E);class _{constructor(e,t,r){this.renderer=e,this.passes=[this],this.plotSize=t,this.windowSize=r,this.vertexKdeSrc=n(55),this.fragmentKdeSrc=n(56),this.vertexFloatPackSrc=n(27),this.fragmentFloatPackSrc=n(57),this.vertexDeclipSrc=n(27),this.fragmentDeclipSrc=n(58),this.vertCoords=new Float32Array([-1,-1,-1,1,1,-1,1,1]),this.numVertices=4,this.texCoords=new Float32Array([0,1,0,0,1,1,1,0]),this.quadIndices=new Uint16Array([0,1,2,0,2,3]),this.textureSize=128}setPoints(e){var t=this.renderer.gl;this.scatterPlotShader=new C.a.GLShader(t,this.vertexKdeSrc,this.fragmentKdeSrc),this.scatterPlotShader.bind(),this.scatterPlotShader.uniforms.uSampler=0,this.pointCoords=e,this.numPoints=e.length/2;for(var n=new C.a.GLBuffer.createVertexBuffer(t,e),r=new Uint16Array(e.length/2),i=0;i<r.length;i++)r[i]=i;var o=new C.a.GLBuffer.createIndexBuffer(t,r);this.vao=new C.a.VertexArrayObject(t),this.vao.addAttribute(n,this.scatterPlotShader.attributes.aVertexPosition),this.vao.addIndex(o),this.floatPackShader=new C.a.GLShader(t,this.vertexFloatPackSrc,this.fragmentFloatPackSrc),this.floatPackShader.bind();var a=new C.a.GLBuffer.createVertexBuffer(t,this.vertCoords),s=new C.a.GLBuffer.createVertexBuffer(t,this.texCoords),l=new C.a.GLBuffer.createVertexBuffer(t,this.quadIndices);this.vaoPackQuad=new C.a.VertexArrayObject(t),this.vaoPackQuad.addAttribute(a,this.floatPackShader.attributes.aVertexPosition),this.vaoPackQuad.addAttribute(s,this.floatPackShader.attributes.aTextureCoord),this.vaoPackQuad.addIndex(l),this.declippingShader=new C.a.GLShader(t,this.vertexDeclipSrc,this.fragmentDeclipSrc),this.declippingShader.bind(),this.declippingShader.uniforms.uSampler=0;var c=new C.a.GLBuffer.createVertexBuffer(t,this.vertCoords),u=new C.a.GLBuffer.createVertexBuffer(t,this.texCoords),h=new C.a.GLBuffer.createVertexBuffer(t,this.quadIndices);this.vaoQuad=new C.a.VertexArrayObject(t),this.vaoQuad.addAttribute(c,this.declippingShader.attributes.aVertexPosition),this.vaoQuad.addAttribute(u,this.declippingShader.attributes.aTextureCoord),this.vaoQuad.addIndex(h)}__saveGLState(){var e=this.renderer.gl;this.glState={},this.glState.blend=e.getParameter(e.BLEND),this.glState.depthTest=e.getParameter(e.DEPTH_TEST),this.glState.colorClearValue=e.getParameter(e.COLOR_CLEAR_VALUE),this.glState.blendEquationSeparate={},this.glState.blendEquationSeparate.alpha=e.getParameter(e.BLEND_EQUATION_ALPHA),this.glState.blendEquationSeparate.rgb=e.getParameter(e.BLEND_EQUATION_RGB),this.glState.blendFuncSeparate={},this.glState.blendFuncSeparate.src_rgb=e.getParameter(e.BLEND_SRC_RGB),this.glState.blendFuncSeparate.dst_rgb=e.getParameter(e.BLEND_DST_RGB),this.glState.blendFuncSeparate.src_alpha=e.getParameter(e.BLEND_SRC_ALPHA),this.glState.blendFuncSeparate.dst_alpha=e.getParameter(e.BLEND_DST_ALPHA)}__restoreGLState(){var e=this.renderer.gl;void 0!==this.glState&&(this.glState.blend?e.enable(e.BLEND):e.disable(e.BLEND),this.glState.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),e.clearColor(this.glState.colorClearValue[0],this.glState.colorClearValue[1],this.glState.colorClearValue[2],this.glState.colorClearValue[3]),e.blendEquationSeparate(this.glState.blendEquationSeparate.rgb,this.glState.blendEquationSeparate.alpha),e.blendFuncSeparate(this.glState.blendFuncSeparate.src_rgb,this.glState.blendFuncSeparate.dst_rgb,this.glState.blendFuncSeparate.src_alpha,this.glState.blendFuncSeparate.dst_alpha))}draw(e,t){this.stddev=e,this.contours=t;var n=this.renderer.gl;this.__saveGLState();var r=new x(0,10,16,1,4);this.kernelTexture=new C.a.GLTexture.fromSource(n,r.canvas,!1),this.renderArray=new Float32Array(4*this.textureSize*this.textureSize);n.getExtension("OES_texture_float"),n.getExtension("OES_texture_float_linear"),n.getExtension("WEBGL_color_buffer_float"),n.getExtension("EXT_color_buffer_float"),n.getExtension("EXT_float_blend");this.fbo=C.a.GLFramebuffer.createFloat32(n,this.textureSize,this.textureSize,this.renderArray);var i=!0;this.fbo.texture.minFilter(i),this.fbo.texture.magFilter(i),this.fbo.texture.enableWrapClamp(),this.fbo.enableTexture(this.fbo.texture),n.disable(n.DEPTH_TEST);var o=n.checkFramebufferStatus(n.FRAMEBUFFER);if(n.FRAMEBUFFER_COMPLETE!==o)return console.log("Frame buffer object is incomplete: "+o.toString()),n.getError();this.scatterPlotShader.bind(),this.scatterPlotShader.uniforms.bounds=[this.plotSize,this.plotSize],this.scatterPlotShader.uniforms.uFourSigma=this.stddev,i=!0,this.kernelTexture.minFilter(i),this.kernelTexture.magFilter(i),this.kernelTexture.enableWrapClamp(),this.kernelTexture.bind(0),this.scatterPlotShader.uniforms.u_KernelSampler=0,n.enable(n.BLEND),n.blendFunc(n.ONE,n.ONE),n.viewport(0,0,this.textureSize,this.textureSize),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),this.vao.bind(),n.drawElements(n.POINTS,this.numPoints,n.UNSIGNED_SHORT,0),this.vao.unbind(),this.kernelTexture.unbind(),this.fbo.unbind(),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),this.fboPack=C.a.GLFramebuffer.createRGBA(n,this.textureSize,this.textureSize),this.fboPack.texture.minFilter(!1),this.fboPack.texture.magFilter(!1),this.fboPack.texture.enableWrapClamp(),this.fboPack.enableTexture(this.fboPack.texture),n.disable(n.BLEND),n.disable(n.DEPTH_TEST),n.viewport(0,0,this.textureSize,this.textureSize),this.vaoPackQuad.bind(),this.floatPackShader.bind(),this.fbo.texture.bind(0),this.floatPackShader.uniforms.uSampler=0,n.drawArrays(n.TRIANGLE_STRIP,0,this.numVertices);var a=this.__readPackedFloat();this.fbo.texture.unbind(),this.vaoPackQuad.unbind(),this.fboPack.unbind(),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT);for(var s=0,l=0;l<a.length;l+=4)a[l]>s&&(s=a[l]);n.viewport(0,0,this.windowSize,this.windowSize),this.declippingShader.bind(),this.declippingShader.uniforms.uRange=s,this.declippingShader.uniforms.uLevels=this.contours,this.vaoQuad.bind(),this.fbo.texture.bind(),n.drawArrays(n.TRIANGLE_STRIP,0,this.numVertices),this.fbo.texture.unbind(),this.vaoQuad.unbind(),this.rawCanvas=document.createElement("canvas"),this.rawCanvas.width=this.windowSize,this.rawCanvas.height=this.windowSize;var c=this.rawCanvas.getContext("2d"),u=c.createImageData(this.windowSize,this.windowSize);this.__imageDataFromGL(u,this.windowSize,this.windowSize),c.putImageData(u,0,0);var h=PIXI.Texture.fromCanvas(this.rawCanvas,PIXI.SCALE_MODES.LINEAR);return n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT),this.__restoreGLState(),h}__readPackedFloat(){var e=this.renderer.gl;e.finish();var t=new Uint8Array(this.textureSize*this.textureSize*4);return e.readPixels(0,0,this.textureSize,this.textureSize,e.RGBA,e.UNSIGNED_BYTE,t),e.finish(),new Float32Array(t.buffer)}__imageDataFromGL(e,t,n){var r=this.renderer.gl;r.finish();var i=new Uint8Array(t*n*4);r.readPixels(0,0,t,n,r.RGBA,r.UNSIGNED_BYTE,i),e.data.set(new Uint8ClampedArray(i)),r.finish()}}class R{constructor(e,t,n,r,i,o,a,s){this.parentPlot=e,this.label=t,this.selectionsRoot=n,this.container=new PIXI.Container,this.container.interactive=!1,this.container.visible=!1,this.selectionsRoot.addChild(this.container),this.kdeOn=!1,this.kernelTexture=void 0,this.pdf=void 0,this.zoomFactor=s||1,this.color=i,this.pointSize=r,this.spriteDrawingScale=4,this.pointTexture=this.__createPointTexture(r*this.spriteDrawingScale,16777215),this.xTexture=this.__createXTexture(r*this.spriteDrawingScale,16777215),this.oTexture=this.__createOTexture(r*this.spriteDrawingScale,16777215),this.pointSprites=[],this.origTextures=[],this.linkedPoints=[],this.points=[],this.scaleFuncX=o,this.scaleFuncY=a,this.outlineFilter=new PIXI.filters.DropShadowFilter,this.outlineFilter.alpha=1,this.outlineFilter.blur=0,this.outlineFilter.distance=1,this.outlineFilter.padding=2,this.outlineFilter.color=16777215,this.sizeOnActive=!1}get visible(){return this.container.visible}set visible(e){this.container.visible=e}get outline(){return void 0!==this.container.filters&&-1!==this.container.filters.indexOf(this.outlineFilter)}set outline(e){if(e)this.container.filters?-1===this.container.filters.indexOf(self.outlineFilter)&&this.container.filters.push(self.outlineFilter):this.container.filters=[self.outlineFilter];else{var t=this.container.filters.indexOf(this.outlineFilter);this.container.filters.splice(t,1)}}__createPointTexture(e,t){var n=new PIXI.Graphics;return n.beginFill(0,0),n.drawRect(0,0,e,e),n.endFill(),n.beginFill(t,1),n.drawCircle(0,0,e),n.endFill(),n.generateTexture(1,PIXI.SCALE_MODES.LINEAR)}__createXTexture(e){var t=new PIXI.Graphics;return t.lineStyle(2*this.spriteDrawingScale,0,1),t.moveTo(0,0),t.lineTo(e,e),t.moveTo(e,0),t.lineTo(0,e),t.generateTexture(1,PIXI.SCALE_MODES.LINEAR)}__createOTexture(e,t){var n=new PIXI.Graphics;return n.beginFill(0,1),n.drawRect(-e,-e,2*e,2*e),n.endFill(),n.lineStyle(2*this.spriteDrawingScale,t,1),n.drawCircle(0,0,e+2),n.generateTexture(1,PIXI.SCALE_MODES.LINEAR)}destroy(){for(var e=0,t=this.pointSprites.length;e<t;e++)this.container.removeChild(this.pointSprites[e]),this.pointSprites[e].destroy();this.container=void 0,this.pointSprites=[],this.points=[],this.pointTexture=void 0}colorToOverrideMatrix(e){return[((16711680&e)>>16)/255,0,0,0,0,0,((65280&e)>>8)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0]}colorToInactiveOverrideMatrix(e){var t=.21*((16711680&e)>>16)/255+.72*((65280&e)>>8)/255+.07*(255&e)/255;return[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0]}colorToLuminanceMatrix(){return[.21,.72,.07,0,0,.21,.72,.07,0,0,.21,.72,.07,0,0,0,0,0,1,0]}colorPreserveMatrix(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]}pointOver(e){var t=e.target,n=this.pointSprites.indexOf(t);n>-1&&(this.linkedPoints[n]&&this.parentPlot.annotatePoint(this.linkedPoints[n]))}addPoint(e,t,n,r,i){var o;return(o="X"===r?new PIXI.Sprite(this.xTexture):"O"===r?new PIXI.Sprite(this.oTexture):new PIXI.Sprite(this.pointTexture)).anchor.x=.5,o.anchor.y=.5,o.position.x=this.scaleFuncX(e.x),o.position.y=this.scaleFuncY(e.y),o.interactive=!0,o.point=e,o.tint=t||this.color,o.scale={x:(n||1)/(this.spriteDrawingScale*this.zoomFactor),y:(n||1)/(this.spriteDrawingScale*this.zoomFactor)},o.pointSize=n||1,this.container.addChild(o),this.pointSprites.push(o),this.origTextures.push(o.texture),this.linkedPoints.push(i),this.points.push(e),o}zoom(e){var t=this;this.zoomFactor=e,this.pointSprites.forEach((function(n){n.scale={x:n.pointSize/(e*t.spriteDrawingScale),y:n.pointSize/(e*t.spriteDrawingScale)}}))}setKdeOn(e,t){this.kdeOn||(this.kdeOn=!0,this.__addKDEToContainer(e,t))}updateKde(e,t){this.refreshKDE(e,t)}setKdeOff(){this.kdeOn=!1,this.__removeKDEFromContainer()}kdeValues(){var e={activate:this.kdeOn,sigma:12,contours:32};return this.kdeTexture&&(e.sigma=this.kdeTexture.stddev,e.contours=this.kdeTexture.contours),e}removePoint(e){var t=this.points.indexOf(e),n=this.pointSprites[t];this.container.removeChild(n),this.points.splice(t,1),this.pointSprites.splice(t,1)}setColor(e){this.container.children.map((function(t){t.tint=e}))}setAlpha(e){this.container.alpha=e}showBlur(){}hideBlur(){}__setupKDETexture(){this.kdeTexture=new _(this.parentPlot.renderer,this.parentPlot.plotSize,this.parentPlot.plotWindowSize);var e=new Float32Array(2*this.pointSprites.length);this.pointSprites.forEach((function(t,n){e[2*n]=t.position.x,e[2*n+1]=t.position.y})),this.kdeTexture.setPoints(e)}__addKDEToContainer(e,t){void 0===this.kdeTexture&&this.__setupKDETexture();var n=this.kdeTexture.draw(e,t);this.kdeSprite=new PIXI.Sprite(n),this.kdeSprite.anchor.x=.5,this.kdeSprite.anchor.y=.5,this.kdeSprite.position.x=this.parentPlot.plotSize/2,this.kdeSprite.position.y=this.parentPlot.plotSize/2,this.kdeSprite.alpha=1,this.kdeSprite.interactive=!1,this.kdeSprite.visible=!0,this.kdeSprite.width=this.parentPlot.plotSize,this.kdeSprite.height=this.parentPlot.plotSize,this.container.addChild(this.kdeSprite),this.container.setChildIndex(this.kdeSprite,0),this.pointSprites.forEach((function(e){e.alpha=0}))}refreshKDE(e,t){this.container.removeChild(this.kdeSprite),this.__addKDEToContainer(e,t)}__removeKDEFromContainer(){this.container.removeChild(this.kdeSprite),this.pointSprites.forEach((function(e){e.alpha=1}))}}var T=n(4),I=n(10);class P{constructor(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.elementId=e,this.plotElement=$("#"+this.elementId)[0],this.plotWindowSize=this.plotElement.clientWidth,this.renderer=PIXI.autoDetectRenderer(this.plotWindowSize,this.plotWindowSize,{autoResize:!0,forceFXAA:!0,preserveDrawingBuffer:!0},t),this.plotElement.appendChild(this.renderer.view),this.plotRoot=new PIXI.Container,this.plotRoot.interactive=!0,this.plotRoot.visible=!0,this.pointSprites}setScaling(e){var t=T(e,[this.numPoints,2]),n=I.sup(t.pick(null,0)),r=I.sup(t.pick(null,1)),i=I.inf(t.pick(null,0)),o=I.inf(t.pick(null,1)),a=n-i,s=r-o;this.yScaleFunc=e=>(e-o)*((this.plotWindowSize-20)/s)+10,this.xScaleFunc=e=>(e-i)*((this.plotWindowSize-20)/a)+10}plotPoints(e,t,n){if(this.numPoints=e.length/2,this.setScaling(e),this.pointSprites&&this.pointSprites.length>0)this.movePoints(e);else{this.pointSprites=new Array(this.numPoints),this.pointGroup=new R(this,"plot_"+this.elementId,this.plotRoot,3,8421504,this.xScaleFunc,this.yScaleFunc,null),this.pointGroup.visible=!1;for(var r=0;r<this.numPoints;r++)this.pointSprites[r]=this.pointGroup.addPoint({x:e[2*r],y:e[2*r+1]},n);this.pointGroup.visible=!0,this.renderer.render(this.plotRoot)}}movePoints(e){this.pointGroup.visible=!1;for(var t=0;t<this.numPoints;t++)this.pointSprites[t].position.x=this.xScaleFunc(e[2*t]),this.pointSprites[t].position.y=this.yScaleFunc(e[2*t+1]);this.pointGroup.visible=!0,this.renderer.render(this.plotRoot)}render(){this.renderer.gl&&this.renderer.render(this.plotRoot)}}var k=n(0),O=n.n(k),D=null;class M{constructor(e){return D||(this.containerId=e,this.monitors=new Map,this.jsonStatuses=[],this._initTable(),this.plotPopup=null,this.activePlots=null,this.visiblePlot=null,this.plotInterval=null,this.activeGroupId=null,this.activeMonitorId=null,this.plotUpdateInterval=500,D=this)}_initTable(){var e=document.getElementById(this.containerId);if(e){for(;e.firstChild;)e.removeChild(e.firstChild);this.jobMonitorControl=O.a.ui({view:"window",container:this.containerId,hidden:!0,move:!0,css:"tutorialWindow",sizeToContent:!0,id:"jobMonitorControlWindow",head:{view:"toolbar",margin:-4,cols:[{view:"label",label:"Replot Jobs"},{view:"icon",icon:"times-circle",css:"alter",on:{onItemClick:function(){D.hideControl()}}}]},body:{id:"jobMonitorControlTable",view:"datatable",columns:[{id:"jobid",header:"Job id",css:"rank",adjust:"data"},{id:"createtime",header:"Created",adjust:"data"},{id:"status",header:"Status",adjust:"data",minWidth:80},{id:"progress",header:"Completed",adjust:"data",minWidth:80},{id:"delete",header:"Remove",adjust:"data",template:"<input class='delbtn' type='button' value='Delete'>",minWidth:80},{id:"show",header:"Detail",adjust:"data",template:"<input class='showbtn' type='button' value='Show'>",minWidth:80},{id:"monitor",header:"Monitor",hidden:!0}],autoheight:!0,autowidth:!0,onClick:{delbtn:(e,t,n)=>{var r=this.table.getItem(t.row).jobid,i=this.table.getItem(t.row).monitor;return O.a.message("Deleting job: "+r),this.monitors.get(i).cancelJob(r),!1},showbtn:(e,t)=>{if(this.plotPopup&&this.destructPopup(),!this.plotPopup){var n=this.table.getItem(t.row).jobid,r=this.table.getItem(t.row).monitor;this.showJobPlotPopup(n,r)}}}}}),this.table=$$("jobMonitorControlTable")}}jobIdToCanvasId(e){return"plotCanvas_"+e.replace(/\W/g,"_")}showJobPlotPopup(e,t){var n=this.monitors.get(t);this.visiblePlot=null;for(var r=function(e){return'<div id="'+e.id+'" style="height 380px; width: 380px"></div><div><div class="title" style="display:inline, float:left">'+e.title+'</div><div class="text" id="ProgressPlot_'+e.id+'" style="display:inline, float:right"></div></div>'},i=n.getJobGroup(e),o=JSON.parse(JSON.stringify({view:"popup",move:!0,head:"Job data monitor",height:460,width:400,left:50,top:50,body:{view:"carousel",id:"jobPlotCarousel",cols:[],navigation:{type:"side",items:!1},template:"Some text"}})),a=i.jobIds,s=new Array(i.numSubJobs),l=0;l<s.length;l++){var c={id:"plotCarouselItem_"+l,template:r,data:{id:this.jobIdToCanvasId(a[l]),title:a[l],progress:"Job not started"}};s[l]=c}o.body.cols=s,this.plotPopup=O.a.ui(o),this.plotPopup.show(),this.visiblePlot=a[0],this.plotPopup.attachEvent("onHide",()=>{this.destructPopup()}),this.activeGroupId=e,this.activeMonitorId=t,$$("jobPlotCarousel").attachEvent("onShow",e=>{this.visiblePlot=$$("jobPlotCarousel").config.cols.find((function(t){return t.id===e})).data.title,this.plot()}),this.activePlots=new Map;var u=!0,h=!1,d=void 0;try{for(var f,p=a[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var g=f.value;this.activePlots.set(g,new P(this.jobIdToCanvasId(g),!0))}}catch(e){h=!0,d=e}finally{try{u||null==p.return||p.return()}finally{if(h)throw d}}this.plot(!0),this.plotInterval=setInterval(this.plot.bind(this),this.plotUpdateInterval)}destructPopup(){this.plotInterval&&clearInterval(this.plotInterval),this.activeGroupId=null,this.activeMonitorId=null,this.plotPopup.destructor(),this.activePlots.clear(),this.plotPopup=null}updateProgressText(e,t){document.getElementById("ProgressPlot_"+this.jobIdToCanvasId(e)).innerHTML=t}plot(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.plotPopup){var t=this.monitors.get(this.activeMonitorId),n=t.progressData[this.activeGroupId],r=t.getJobGroup(this.activeGroupId).jobIds;if(e){var i=!0,o=!1,a=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;n[c]&&n[c].data&&this.activePlots.has(c)&&(this.updateProgressText(c,n[c].string),this.activePlots.get(c).plotPoints(n[c].data,3,8421504,0))}}catch(e){o=!0,a=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw a}}}else n[this.visiblePlot]&&(this.updateProgressText(this.visiblePlot,n[this.visiblePlot].string),n[this.visiblePlot].data&&this.activePlots.get(this.visiblePlot).plotPoints(n[this.visiblePlot].data,3,8421504,0))}}subscribeToJobMonitor(e){if(!this.monitors.has(e.pubsubid)){this.monitors.set(e.pubsubid,e);var t=!0;PubSub.subscribe(e.pubsubid,(e,n)=>{if(this._updateView(e,n),t&&!this.plotPopup){var r=this.table.getLastId(),i=this.table.getItem(r).jobid,o=this.table.getItem(r).monitor;this.showJobPlotPopup(i,o),t=!1}})}}_updateView(){var e=[];this.monitors.forEach((t,n)=>{var r=t.jsonStatuses;r.forEach((e,t)=>{e.monitor=n,r[t]=e}),e.push(...t.jsonStatuses)}),this.table.clearAll(),this.table.parse(e)}getColumnData(e){var t=[];return this.table.eachRow(n=>{t.push(this.table.getItem(n)[e])}),t}showControl(){this.jobMonitorControl.show(),this.enabled=!0}hideControl(){this.jobMonitorControl.hide(),this.enabled=!1}toggleControlVisibility(){this.enabled?this.hideControl():this.showControl()}}var L=n(35),N=n.n(L);class B{static get StatusEnum(){return{UNITIALIZED:Symbol("Job not yet submitted - under construction"),SUBMITTED:Symbol("Job submitted to dimensionality reduction service (DimRS)"),SUCCESS:Symbol("Job successfully completed"),FAIL:Symbol("Job failed")}}static get SubJobIs(){return{ROW:Symbol("Row job"),COL:Symbol("Col job")}}static get SelectIs(){return{ROW:Symbol("Selection is row"),COL:Symbol("Selection is col")}}constructor(e,t){this.createdTime=Date.now(),this.selection=e,this.submittedTime=void 0,this.completedTime=void 0,this.selectType=t,this.subJobs=[],this.status=B.StatusEnum.UNITIALIZED,this.completionStatus=""}addSubJob(e,t){this.subJobs.push({data:e,jobType:t,resultMap:void 0,resultValue:void 0,tsneParams:{perplexity:30,n_iter:1e3,n_components:2}})}submit(){this.submittedTime=Date.now();var e=[];this.subJobs.forEach((t,n)=>{console.log("processing subjob: "+String(t.jobType));var r=new Promise((e,t)=>{setTimeout((function(){t.resultValue=n,e(n)}))});e.push(r)});var t=this;N()(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e;case 3:return r=n.sent,t.completedTime=Date.now(),t.status=B.StatusEnum.SUCCESS,console.log("Passed: "+r),n.abrupt("return",!0);case 10:return n.prev=10,n.t0=n.catch(0),console.log(n.t0),t.status=B.StatusEnum.FAIL,t.completedTime=Date.now(),console.log("Failed"+n.t0),n.abrupt("return",!1);case 17:case"end":return n.stop()}}),n,null,[[0,10]])})))}isStatus(e){return this.status===e}}var j=n(17);class U{constructor(){this.layoutDef=void 0,this.props={},this.plotDefs={},this.selectionDefs={},this.selectionPropKeys={},this.selectionProps={},this.dataCache=new ReScatter.data.DataCache}static get axis(){return{ROW:0,COL:1}}loadLayoutDefData(e,t){this.layoutDef=e;var n=[],r=[],i=[],o=[],a=[],s=!0,l=!1,c=void 0;try{for(var u,h=e.plots[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;ReScatter.layoutManager.isSpaceLayout(d)?i.push(-1):(n.push(d.data.points),a.push({path:d.data.points,type:"json"}),r.push(d.data.props),a.push({path:d.data.props,type:"json"}),i.push(n.length-1))}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}if(e.ontologies){var f=!0,p=!1,g=void 0;try{for(var v,m=e.ontologies[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=v.value;o.push(y.ontology_file),a.push({path:y.ontology_file,type:"json"})}}catch(e){p=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(p)throw g}}}this.dataCache.loadFiles(a,(function(){t(n,r,i,o)}))}putDataProps(e,t){this.props[e.id]=t,this.plotDefs[e.id]=e,this.selectionProps[e.selections.selectionOut]=t,this.selectionPropKeys[e.selections.selectionOut]=Object.keys(t),this.selectionDefs[e.selections.selectionOut]=e}getSelectionPropAtIndex(e,t,n,r){var i=this.selectionProps[e];return void 0===i?r:i[n][t]}getUniqueSelectionPropValues(e,t){return this.selectionProps[e][t].filter((function(e,t,n){return n.indexOf(e)===t}))}getSelectionPrimaryProp(e){return this.selectionDefs[e].format.primary}getAllSelectionPropsAtIndex(e,t){var n={};return this.selectionPropKeys[e].forEach((function(r){n[r]=this.selectionProps[e][r][t]}),this),n}getSelectionPropKeys(e){return Object.keys(this.selectionProps[e])}getSelectionIndexes(e,t,n,r){var i=this.selectionProps[e],o=!!r,a=[],s=String(n).toUpperCase();return i[t].forEach((function(e,t){o?String(e).toUpperCase()===s&&a.push(t):e===n&&a.push(t)})),a}getSelectionIndex(e,t,n){var r=this.selectionProps[e],i=[],o="number"==typeof r[t][0]?parseInt(n):n,a=r[t].indexOf(o);return a>0&&i.push(a),i}destroy(){this.props={},this.plotDefs={},this.selectionDefs={},this.selectionPropKeys={},this.selectionProps={},this.dataCache=void 0}getPlotPropSubSelection(e,t,n){var r=this.props[e];if(this.plotDefs[e].selections.selectionOut!==t)return{voxel_props:r};for(var i={},o=function(){var e=s[a];i[e]=[],n.forEach((function(t){i[e].push(r[e][t])}))},a=0,s=Object.keys(r);a<s.length;a++)o();return{voxel_props:i}}getPredefinedSelectionsSubSelection(e,t,n){this.layoutDef.predefinedSelections||n(void 0);var r=[],i=[],o=[],a=0,s=!0,l=!1,c=void 0;try{for(var u,h=this.layoutDef.predefinedSelections[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;r.push(JSON.parse(JSON.stringify(d))),e===d.targetId&&(i.push({path:d.preselect,type:"json"}),o.push(a)),a++}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}0===i.length&&n(r);var f=this;this.dataCache.loadFiles(i,(function(){i.forEach((function(e,n){var i=[],a=f.dataCache.getFromCache(e.path);"string"==typeof a&&(a=JSON.parse(a));var s=!0,l=!1,c=void 0;try{for(var u,h=function(){for(var e=u.value,n={},r=Object.keys(e),o=[],a=0,s=r;a<s.length;a++){var l=s[a];e[l]instanceof Array?("dataPoints"!==l&&o.push(l),n[l]=[]):n[l]=JSON.parse(JSON.stringify(e[l]))}t.forEach((function(t,r){var i=e.dataPoints.indexOf(t);if(-1!==i){n.dataPoints.push(r);var a=!0,s=!1,l=void 0;try{for(var c,u=o[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;n[h].push(e[h][i])}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}}})),n.dataPoints.length>0&&i.push(n)},d=a[Symbol.iterator]();!(s=(u=d.next()).done);s=!0)h()}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var p=o[n],g=j();this.dataCache.insertInCache(i,g,!0),r[p].preselect=g}),f),n(r)}))}}var V,F,z,G=n(7),Q=n(4),W=n(63);class H{constructor(){var e=ReScatter.dimres_url;this.jobGroup=new DimRS.JobGroup(e),this.jobMonitor=new w(H.getAlgorithmName())}static getAlgorithmName(){return"Approximated-tSNE (server)"}addJob(e,t,n){var r;if(t.calcAxis===U.axis.COL){e=e.transpose(1,0);var i=W.clone(e);r=G.serialize({data:i.data,sizes:i.shape.slice().reverse()}),W.free(i)}else r=G.serialize({data:e.data,sizes:e.shape.slice().reverse()});var o=DimRS.JobGroup.default_tsne_params;if(e.shape[1]<100){var a=Math.ceil(e.shape[1]/4)<2?2:Math.ceil(e.shape[1]/4);console.log("Reducing perplexity to: "+a+" for "+e.shape[1]+" points in plot: "+n),o.perplexity=a}t.parameters&&t.parameters.algorithmParams&&t.parameters.algorithmParams.perplexity&&(o.perplexity=t.parameters.tsne.perplexity),console.log("Added job, shape ".concat(e.shape,", perplexity: ").concat(o.perplexity));var s=this.getJobDataKey(t.data);return this.jobGroup.addJob(r,DimRS.JobGroup.JobType.ATSNE,n,o),s}getJobDataKey(e){return this.jobGroup.pubsubid+"_dataMap_"+e}start(e,t){var n=t=>{var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){for(var l=a.value,c=G.parse(l[1]),u=Q(c.data,c.sizes.slice().reverse()),h={dims:2,points:[]},d=u.shape[1],f=0;f<d;f++)h.points.push([u.get(0,f),u.get(1,f)]);n.push([l[0],h])}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}e(n)},r=(e,r)=>{(console.log("job: "+e+" status: "+r.status),"success"===r.status)&&this.jobMonitor.getResultClient(e).then(n,t)};PubSub.subscribe(this.jobGroup.pubsubid,(function(e,t){r(e,t)})),this.jobGroup.jobs.length>0&&this.jobMonitor.addJobGroup(this.jobGroup)}}class Y{constructor(e){if(this.instance)return e&&this.instance.init(e),this.instance;this.__init(e),this.instance=this}__init(e){this.predefinedSelections=[],this.staticSelections=[],this.dynamicSelections=[],this.combinedSelections=[],e.predefinedSelections&&(this.predefinedSelections=e.predefinedSelections);var t=!0,n=!1,r=void 0;try{for(var i,o=e.plots[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value.selections;a.selectionOut&&(this.staticSelections.includes(a.selectionOut)||(this.staticSelections.push(a.selectionOut),this.combinedSelections.push({id:a.selectionOut,dynamic:!1}))),a.dynamicSelectionOut&&(this.dynamicSelections.includes(a.dynamicSelectionOut)||(this.dynamicSelections.push(a.dynamicSelectionOut),this.combinedSelections.push({id:a.selectionOut,dynamic:!0})))}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}}getStaticSelectionsAsIdValueArray(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,o=this.staticSelections[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;e.push({id:a,value:a})}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return e}}z=void 0,(F="instance")in(V=Y)?Object.defineProperty(V,F,{value:z,enumerable:!0,configurable:!0,writable:!0}):V[F]=z;class q{constructor(e,t){this.mappings=t,this.configNames=e}static newFromPlotInfo(e){return new q(["Default"],{Default:{selectionIn:e.selections.selectionIn,dynamicSelectionIn:e.selections.dynamicSelectionIn}})}getSelectionMapping(e){return this.mappings[e].selectionIn}getDynamicSelectionMapping(e){return this.mappings[e].dynamicSelectionIn}}var K=n(71);K.keys().map(K);class X{constructor(){this.lutNameGroups={"Diverging maps":["BrBG","bwr","coolwarm","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral","seismic"],"Perceptually Uniform":["viridis","inferno","plasma","magma"],"Sequential Maps":["Blues","BuGn","BuPu","GnBu","Greens","Greys","Oranges","OrRd","PuBu","PuBuGn","PuRd","Purples","RdPu","Reds","YlGn","YlGnBu","YlOrBr","YlOrRd"],"Sequential(2) Maps":["afmhot","autumn","bone","cool","copper","gist_heat","gray","hot","pink","spring","summer","winter"]}}getLutNameGroups(){return this.lutNameGroups}getLutTexture(e,t){var n=new Image;n.onload=()=>{var e=new PIXI.Texture(new PIXI.BaseTexture(n));e.scaleMode=PIXI.SCALE_MODES.NEAREST,t(e)},n.src=K("./"+e+".png")}}class J extends PIXI.AbstractFilter{constructor(e){var t=n(143),r=document.createElement("canvas");r.width=16,r.height=16;var i=J.__getDynamicLutTexture(r,2851271,16119236,12200544);super(null,t,{colorSampler:{type:"sampler2D",value:i}}),this.fragmentSrc=t,this.passes=[this],this.rawCanvas=r,this.begin=2851271,this.middle=16119236,this.end=12200544,this.texture=i,this.lutTexture=new X,this.currentName="",this.background=e,this.background_red=((16711680&e)>>16)/255,this.background_green=((65280&e)>>8)/255,this.background_blue=(255&e)/255}setColorMapPoints(e,t,n){this.begin=e,this.end=n,this.middle=t,this.texture=J.__getDynamicLutTexture(this.rawCanvas,this.begin,this.middle,this.end),this.uniforms={colorSampler:{type:"sampler2D",value:this.texture},background:{type:"3f",value:[this.background_red,this.background_green,this.background_blue]}},PIXI.AbstractFilter.call(this,null,this.fragmentSrc,this.uniforms)}static __getDynamicLutTexture(e,t,n,r){var i=e.getContext("2d");i.fillRect(0,0,16,16);var o=i.getImageData(0,0,16,16),a=o.data,s=new ReScatter.utils.ColorRamp;s.colorIntervals=[t,n,r],s.range=[0,255];for(var l=0;l<16;l++)for(var c=16*l*4,u=0;u<16;u++){var h=c+4*u,d=s.getColorInRange(16*l+u);d=parseInt(d,16),a[h]=d>>>16&255,a[h+1]=d>>>8&255,a[h+2]=255&d,a[h+3]=256}return a[0]=a[1]=a[2]=0,i.putImageData(o,0,0),new PIXI.Texture.fromCanvas(e,PIXI.SCALE_MODES.NEAREST)}setLut(e,t){this.currentName=e,this.lutTexture.getLutTexture(e,e=>{this.texture=e,this.uniforms={colorSampler:{type:"sampler2D",value:this.texture},background:{type:"3f",value:[this.background_red,this.background_green,this.background_blue]}},PIXI.AbstractFilter.call(this,null,this.fragmentSrc,this.uniforms),t()})}getLutNames(){return this.lutTexture.getLutNames()}}var Z=d.define(["index"],{getNumberofCanvases:[],getCanvasNameAtIndex:["index"],getCanvasAtIndex:["index"]}),ee=d.define(["index"],{getNumberofSVGFragments:[],getSVGNameAtIndex:["index"],getSVGTextAtIndex:["index"],getCSSTextAtIndex:["index"]});class te{constructor(e){this.svgId=e}}f.impl(te,[],{onPlethResize(){},loadPleth(){this.locatorRoot=document.body.querySelector("#"+this.svgId)},clearPlethColors(){$(this.locatorRoot).find("path[structure_id]").each((function(){$(this).css("fill","#ffffff")}))},savePlethColors(){$(this.locatorRoot).find("path[structure_id]").each((function(){var e=$(this).css("fill");$(this).attr("iedata:savefill",e)}))},restorePlethColors(){$(this.locatorRoot).find("path[structure_id]").each((function(){var e=$(this).attr("iedata:savefill");$(this).css("fill",e)}))},setPlethColorsFromMap(e){var t=e=>e;"number"==typeof e[0]&&(t=e=>"#"+e.toString(16));var n=Object.keys(e),r=this;n.map((function(n){$(r.locatorRoot).find('path[structure_id="'+n+'"]').css("fill",t(e[n]))}))}}),ee.impl(te,[],{getNumberofSVGFragments(){var e=ReScatter.layoutManager.getCanvasSvgId();return null!==e?document.getElementById(e).childNodes.length:0},getSVGNameAtIndex:e=>"thematicmap_"+e,getSVGTextAtIndex(e){var t=ReScatter.layoutManager.getCanvasSvgId();return null!==t?document.getElementById(t).childNodes[e].innerHTML:""},getCSSTextAtIndex:()=>""});var ne=te;class re{static get InterpolationEnum(){return{RGB:0,HSV:1}}constructor(){this._range=[0,255],this._colorArray=[16711680,16777215,255],this._intervals=[]}get range(){return this._range}set range(e){2===e.length&&(e[1]<=e[0]||(this._range=e,this._refreshColorIntervals()))}get colorIntervals(){return this._colorArray}set colorIntervals(e){e.map((function(e){return Math.round(e)})),e.forEach((function(e){if(0>e||e>16777215)throw new Error("Color value outside RGB range")})),this._colorArray=e,this._refreshColorIntervals()}getColorInRange(e){return e<this._range[0]&&(e=this._range[0]),e>this._range[1]&&(e=this._range[1]),this._rgbInterpolate(e)}_rgbInterpolate(e){var t=this._range[1]-this._range[0],n=this._colorArray.length-1,r=e-this._range[0],i=r<t?Math.floor(r/t*n):n-1,o=this._intervals[i],a=r-t/n*i;return o.cr+Math.round(o.crStep*a)<<16|o.cg+Math.round(o.cgStep*a)<<8|o.cb+Math.round(o.cbStep*a)}_hsvInterpolate(){}_refreshColorIntervals(){var e=this._range[1]-this._range[0],t=this._colorArray.length-1;if(!(t<1)){var n=e/t;this._intervals=new Array(t);for(var r=0;r<t;r++){var i=this._colorArray[r],o=(16711680&i)>>>16,a=(65280&i)>>>8,s=255&i,l=this._colorArray[r+1],c=(16711680&l)>>>16,u=(65280&l)>>>8,h=255&l;this._intervals[r]={c:i,cr:o,crStep:(c-o)/n,cg:a,cgStep:(u-a)/n,cb:s,cbStep:(h-s)/n}}}}}var ie=n(144);HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,n){for(var r=atob(this.toDataURL(t,n).split(",")[1]),i=r.length,o=new Uint8Array(i),a=0;a<i;a++)o[a]=r.charCodeAt(a);e(new Blob([o],{type:t||"image/png"}))}});class oe{static __getCleanupLinkFn(e){return function(){document.body.removeChild(e)}}static saveCanvasToPng(e,t){var n=document.getElementById(e).childNodes[0];this.saveRawCanvasToPng(n,t)}static saveRawCanvasToPng(e,t){console.log("Calling canvas toBlob"),e.toBlob(e=>{ie.saveAs(e,t)})}static saveTextToFile(e,t){var n=$(e).text();ie.saveAs(new Blob([n],{type:"text/plain;charset="+document.characterSet}),t)}static __createImgOnLoad(e,t){return function(){var n=document.createElement("canvas");n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(t,0,0,n.width,n.height),n.toBlob(t=>{ie.saveAs(t,e)})}}static __formatSVGForRendering(e,t){var n=e.match(/viewBox="\d+ \d+ (\d+) (\d+)"/i),r=(new DOMParser).parseFromString(e,"image/svg+xml"),i=0,o=0;if(r.children[0].hasAttribute("width")&&r.children[0].hasAttribute("height")?(i=parseInt(r.children[0].getAttribute("width")),o=parseInt(r.children[0].getAttribute("height"))):n.length>=3&&(i=n[1],o=n[2],r.children[0].setAttribute("width",i+"px"),r.children[0].setAttribute("height",o+"px")),r.children[0].hasAttribute("xmlns")||r.children[0].setAttribute("xmlns","http://www.w3.org/2000/svg"),t){var a=r.createElement("style");a.innerHTML="/* <![CDATA[ */"+t+"/* ]]> */",r.children[0].appendChild(a)}return{svgString:(new XMLSerializer).serializeToString(r),width:i,height:o}}static saveSvgChildrenToPng(e,t){for(var n=document.getElementById(e),r=0;r<n.childNodes.length;r++){var i=n.childNodes[r];this.saveSvgFragmentToPng(i.innerHTML,t)}}static saveSvgFragmentToPng(e,t,n){var r=this.__formatSVGForRendering(e,t),i=r.svgString,o=r.width,a=r.height,s=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),l=window.URL||window.webkitURL||window,c=n+".png",u=new Image(2*o,2*a);u.onload=this.__createImgOnLoad(c,u),u.src=l.createObjectURL(s)}}class ae{constructor(e){this.enum={},this.revEnum={},Object.keys(e).forEach((function(t){this.enum[t]=e[t],this.revEnum[e[t]]=t}),this)}}var se={WIDGETS:"ReScatter_ControlId_Widgets",CHOROPLETH:"ReScatter_ControlId_Choropleth",IMAGESTRIPFOOTER:"ReScatter_ControlId_ImageStripFooter",CHARTS:"ReScatter_ControlId_Charts",LEFTSPLITTER:"ReScatter_ControlId_LeftSplitter",RIGHTSPLITTER:"ReScatter_ControlId_RightSplitter",TUTORIAL:"ReScatter_ControlId_Tutorial",TUTORIALCHECKBOX:"ReScatter_ControlId_TutorialCheckbox",TOOLTIPCHECKBOX:"ReScatter_ControlId_TooltipCheckbox",ANNOTATECHOROPLETH:"ReScatter_ControlId_AnnotateChoropleth",SELECTIONINFO:"ReScatter_ControlId_SelectionInfo",PLOTMENU:"ReScatter_ControlId_PlotMenu",EXTERNCONTAINER:"ReScatter_ControlId_ExternContainer",LOADINGOVERLAY:"ReScatter_ControlId_LoadingOverlay",LOADINGPROMPT:"ReScatter_ControlId_LoadingPrompt",JOBMONITOR:"ReScatter_ControlId_JobMonitor"};function le(e){var t=[];return Object.keys(e.enum).forEach((function(n){t.push(e.enum[n])})),t}function ce(e){var t=e.toString(16);if(t.length>6)throw new RangeError("Value too large to convert to 6 digit hexadecimal: "+e);return"#000000".slice(0,-t.length)+t}function ue(){return navigator.userAgent.indexOf("Vivaldi")>-1}function he(e){return e.sort().filter((function(e,t,n){return 0===t||e!==n[t-1]}))}function de(e){return{color:parseInt("0x"+e,16)>8388607.5?"black":"white","background-color":"#"+e}}function fe(e){var t=de(e),n=" style='";for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n=n+r+":"+t[r]+"; ");return n+="' "}function pe(e){return parseInt(e.replace("#","0x"))}function ge(){var e=document.querySelectorAll("[id^='ReScatter.CONTROL_ID']"),t=new Set,n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.add(s.id)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}var l="ReScatter.CONTROL_ID.",c=Object.getOwnPropertyNames(se),u=c.map(e=>l+e),h=new Set([...t].filter(e=>!u.includes(e)));ReScatter.debugOn&&h.size>0&&alert("ReScatter config detected unknown control ids in the html: "+Array.from(h));var d=new Set;return c.forEach((function(e){var t="[id='"+l+e+"']",n=document.querySelectorAll(t);0===n.length&&d.add(e);var r=!0,i=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){a.value.id=se[e]}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}})),ReScatter.debugOn&&d.size>0&&alert("ReScatter config detected unused control ids in the html: "+Array.from(d)),Array.from(t)}function ve(e){e.parentNode.style.display="none",e.parentNode.style.zIndex=-200}function me(e){ReScatter.debugOn&&console.log(e)}function ye(e){ReScatter.debugOn&&console.warn(e)}function Ae(e){ReScatter.debugOn&&console.error(e)}var be=d.define(["context"],{onControlEvent:["context"]});class we{constructor(){this.observerList=[]}add(e){return this.observerList.push(e)}count(){return this.observerList.length}get(e){if(e>-1&&e<this.observerList.length)return this.observerList[e]}indexOf(e,t){for(var n=t;n<this.observerList.length;){if(this.observerList[n]===e)return n;n++}return-1}removeAt(e){this.observerList.splice(e,1)}}class Se{constructor(e){this.observers=new we,this.notifyName=e}addObserver(e){this.observers.add(e)}removeObserver(e){this.observers.removeAt(this.observers.indexOf(e,0))}removeAllObservers(){for(var e=this.observers.count(),t=0;t<e;t++)this.observers.removeAt(0)}notify(e){for(var t=this.observers.count(),n=0;n<t;n++){var r=this.observers.get(n),i=r[this.notifyName];void 0!==i&&i.call(r,e)}}}class xe extends Se{constructor(){super("onControlEvent"),this.activeSelection=void 0}putControlEventModel(e,t){this.notify({eventName:e,event:t})}addObserver(e){be.hasImpl(e)||alert("ControlEvent observer: "+e.constructor.name+" must implement the ControlProtocol"),super.addObserver(e)}}class Ee extends Se{constructor(){super("update"),this.activeSelection=void 0}putDynamicSelection(e,t,n,r,i){n=void 0!==n?n:7807522,this.activeSelection={originator:e,dataPoints:t,color:n,selectionId:r,sourceProps:i},this.notify({type:"dyna",op:"create",sel:this.activeSelection,id:r,background:!1})}putTransitiveSelection(e,t,n,r){var i={originator:e,dataPoints:t,color:n=void 0!==n?n:7807522,selectionId:r};this.notify({type:"dyna",op:"transitive",sel:i,id:r})}removeDynamicSelection(e){this.activeSelection&&this.activeSelection.selectionId===e&&(this.notify({type:"dyna",op:"delete",sel:this.activeSelection,id:this.activeSelection.selectionId}),this.activeSelection=void 0)}}class Ce{constructor(){}performStartupAction(){if(this.registerSelectionMessageListener(),$("#rescatter-data")&&$("#rescatter-data").attr("data-start-selection")){var e=JSON.parse($("#rescatter-data").attr("data-start-selection"));if(ReScatter.dimres_url=null,e.dimres_url&&(ReScatter.dimres_url=e.dimres_url),!e.display)return void Ce.sendReadyMessageToOpener();ReScatter.viewController.loadLayoutByIndex(e.display,()=>{Ce.addSelection(e),ReScatter.selectionDataWidget.expand()})}}static addSelection(e){try{var t=e.selection.split(","),n=e.description,r=e.group,i=e.property,o=e.color||7807522,a=[];t.forEach((function(e){a=a.concat(ReScatter.dataModel.getSelectionIndex(r,i,e))}));var s=ReScatter.selectionModel.getNewLabel(r);ReScatter.selectionModel.putSelection(s,"data-start-selection",a,o,n,r,void 0,!0)}catch(e){console.log("Could not process query:"+e)}}static sendReadyMessageToOpener(){window.opener&&window.opener.postMessage("BrainScope ready","*")}registerSelectionMessageListener(){window.addEventListener("message",Ce.receiveSelectionMessage,{capture:!0})}static receiveSelectionMessage(e){if("string"==typeof e.data){var t;try{t=JSON.parse(e.data)}catch(e){return}t.display&&t.group&&t.property&&t.selections&&(e.stopPropagation(),window.removeEventListener("message",Ce.receiveSelectionMessage),ReScatter.viewController.loadLayoutByIndex(t.display,()=>{ReScatter.controlEventModel.putControlEventModel("showProgress",{}),ReScatter.controlEventModel.putControlEventModel("selectionsProgress",{selectionState:"Loading additional selections"}),ReScatter.selectionDataWidget.expand(),function e(n,r){var i=r[n].split(":"),o={description:i[0],selection:i[2],group:t.group,property:t.property,display:t.display,color:parseInt(i[1])};ReScatter.controlEventModel.putControlEventModel("selectionsProgress",{selectionState:"Loading selection: "+o.description}),Ce.addSelection(o),n+1<r.length?setTimeout(e(n+1,r),100):ReScatter.controlEventModel.putControlEventModel("hideProgress",{})}(0,t.selections.split(";"))}))}}}class _e{constructor(e,t){this.svgidList=t,this.svgRetrieveTemplate=e}loadImages(e){var t=[];e.forEach((function(e){var n=this.svgidList.indexOf(e);n>=0&&t.push({id:e,index:n})}),this),ReScatter.choroplethControl.addSvgs(t,this.svgRetrieveTemplate)}}var Re=null;class Te{constructor(){return Re||(this.enabled=!1,Re=this)}setupToolTip(e){var t=e.getAttribute("data-ime-tooltip-id"),n=document.querySelector("#"+t);null!==n&&(e.setAttribute("data-toggle","tooltip"),e.setAttribute("data-html","true"),e.setAttribute("title",n.innerHTML))}setupAllToolTips(){var e=document.querySelectorAll("[data-IME-tooltip-id]");if(null!==e)for(var t=0,n=e.length;t<n;t++)this.setupToolTip(e.item(t))}enableToolTips(){$('[data-toggle="tooltip"]').tooltip("enable"),this.enabled=!0,this.updateCheckBox()}disableToolTips(){$('[data-toggle="tooltip"]').tooltip("disable"),this.enabled=!1,this.updateCheckBox()}syncToolTips(){$('[data-toggle="tooltip"]').tooltip(this.getEnabledState())}getEnabledState(){return this.enabled?"enable":"disable"}addTooltip(e,t,n,r){if(document.querySelector("#"+ReScatter.CONTROL_ID.TOOLTIPCHECKBOX)){var i=document.querySelector("#"+e);null===i.getAttribute("data-ime-tooltip-id")&&(i.setAttribute("data-ime-tooltip-id",t),i.setAttribute("data-placement",n),void 0!==r&&i.setAttribute("data-container",r),this.setupToolTip(i),$("#"+e).tooltip&&$("#"+e).tooltip(this.getEnabledState()))}}addTooltipToWebixControl(e,t,n,r){var i=e.getNode();i.setAttribute("data-ime-tooltip-id",t),i.setAttribute("data-placement",n),void 0!==r&&i.setAttribute("data-container",r)}removeToolTips(){}changedToolTipVisibility(){var e=document.querySelector("#"+ReScatter.CONTROL_ID.TOOLTIPCHECKBOX);e&&(e.checked?this.disableToolTips():this.enableToolTips())}updateCheckBox(){var e=document.querySelector("#"+ReScatter.CONTROL_ID.TOOLTIPCHECKBOX);e&&(this.enabled?e.nextSibling.data="Disable tooltips":e.nextSibling.data="Enable tooltips")}}var Ie=new Te;class Pe{constructor(e,t,n,r){this.svgRetrieveTemplate=t,this.thumbnailTemplate=n,this.svgidList=r,this.stripElementId=e,this.imageElements={},this.selected=[],this.__initialize()}imageClicked(e,t){var n,r=t.target;"selected_thumbnail"===r.className?(r.className="unselected_thumbnail",ReScatter.choroplethControl.removeSvg(r.dataset.svgindex),(n=this.selected.indexOf(r.dataset.svgid))>=0&&this.selected.splice(n,1)):(r.className="selected_thumbnail",ReScatter.choroplethControl.addSvg(r.dataset.svgid,r.dataset.svgindex,e),-1===(n=this.selected.indexOf(r.dataset.svgid))&&this.selected.push(r.dataset.svgid))}__initialize(){window.setTimeout(this.__populateImageStrip.bind(this),2e3)}__populateImageStrip(){var e=document.getElementById(this.stripElementId);Ie.addTooltip(this.stripElementId,"IMEChoroplethStrip","top"),this.svgidList.forEach((function(t,n){var r=document.createElement("img");r.src=this.thumbnailTemplate.replace("<svgid>",t),r.className="unselected_thumbnail",r.onclick=this.imageClicked.bind(this,this.svgRetrieveTemplate),r.setAttribute("data-svgid",t),r.setAttribute("data-svgindex",n),this.imageElements[t]=r,e.appendChild(r)}),this),this.selected.forEach((function(e){this.imageElements[e].className="selected_thumbnail"}),this)}loadImages(e){var t=[];e.forEach((function(e){var n=this.svgidList.indexOf(e);n>=0&&t.push({id:e,index:n}),-1===this.selected.indexOf(e)&&this.selected.push(e),this.imageElements[e]&&(this.imageElements[e].className="selected_thumbnail")}),this),ReScatter.choroplethControl.addSvgs(t,this.svgRetrieveTemplate)}}var ke=d.define(["context"],{processSelectionEvent:["context"]});class Oe{constructor(e){ke.hasImpl(new.target)||alert("SelectionSubscriber child: "+new.target.name+" must implement the SelectionProtocol"),this.selectionEventQueue=[],this.dynamicEventQueue=[],this.dynamicLimit=e,this.processingSelectionEventQueue=!1,this.ready=!1,this.processLoopTimer=void 0,this.processWatchdogTimer=void 0,this.processTimedout=!0}update(e){"dyna"===e.type&&void 0!==this.dynamicLimit?(this.dynamicEventQueue.push(e),this.dynamicEventQueue.length>this.dynamicLimit&&this.dynamicEventQueue.splice(0,this.dynamicEventQueue.length-this.dynamicLimit)):this.selectionEventQueue.push(e),this.processTimedout&&this.processingLoop(!0)}processingDone(){this.processWatchdogTimer&&clearTimeout(this.processWatchdogTimer),this.processTimedout=!1,this.ready=!0}processingLoop(e){var t=this;e&&void 0!==this.processLoopTimer&&(clearTimeout(this.processLoopTimer),this.processWatchdogTimer&&clearTimeout(this.processWatchdogTimer),this.processTimedout=!1),this.ready=e||this.ready,this.ready&&this.__processNextEvent(),this.processLoopTimer=setTimeout((function(){t.processingLoop(!1)}),10)}__getNextSelectionEvent(){var e;try{this.selectionEventQueue.length>0?e=this.selectionEventQueue.shift():this.dynamicEventQueue.length>0&&(e=this.dynamicEventQueue.shift())}catch(e){console.log("Error fetching next event "+e)}return e}__processNextEvent(){var e=this,t=this.__getNextSelectionEvent();t&&(this.ready=!1,this.processTimedout=!1,this.processWatchdogTimer&&clearTimeout(this.processWatchdogTimer),this.processWatchdogTimer=setTimeout((function(){e.processTimedout=!0}),1e3),this.processSelectionEvent(t))}}var De={_svgs:[],_canvases:[],addComponent(e){Z.hasImpl(e)?De._canvases.push(e):ee.hasImpl(e)&&De._svgs.push(e)},snapshotAll(){var e=!0,t=!1,n=void 0;try{for(var r,i=De._svgs[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;De.__snapShotSvgComponent(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}var a=!0,s=!1,l=void 0;try{for(var c,u=De._canvases[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;De.__snapShotCanvasComponent(h)}}catch(e){s=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(s)throw l}}},snapShotSelected(e){De._canvases.includes(e)?De.__snapShotCanvasComponent(e):De._svgs.includes(e)&&De.__snapShotSvgComponent(e)},clearAll(){De._svgs=[],De._canvasses=[]},__snapShotCanvasComponent(e){for(var t=e.getNumberofCanvases(),n=0;n<t;n++){var r=e.getCanvasNameAtIndex(n),i=e.getCanvasAtIndex(n);ReScatter.utils.SnapshotSaver.saveRawCanvasToPng(i,r)}},__snapShotSvgComponent(e){for(var t=e.getNumberofSVGFragments(),n=0;n<t;n++){var r=e.getSVGNameAtIndex(n),i=e.getSVGTextAtIndex(n),o=e.getCSSTextAtIndex(n);ReScatter.utils.SnapshotSaver.saveSvgFragmentToPng(i,o,r)}}},Me=De,Le=new Te;class Ne extends Oe{constructor(e,t,n){super(2),this.index_to_brain_regions=[],this.svgId=e,this.annotateId=t,this.id=n.id,this.selectionIn=n.selectionIn,this.dynamicSelectionIn=n.dynamicSelectionIn,this.dynamicSelectionOut=n.dynamicSelectionOut,this.regionsIndexPath=n.region_ids,this.propsPath=n.props,this.preselect=n.preselect,this.popupAttributeList=n.popupAttributeList||[],this.lastColorSet=void 0,this.loadedSvgs={},this.cachedSvgs={},this.lastVisibleSelectionContext=void 0,this.selectedIds=[],this.regionsOrdered=[],this.regionMaps={},this.view=void 0}initialize(e){var t=this;this.view=e;var n=[{path:this.regionsIndexPath,type:"json"},{path:this.propsPath,type:"json"}];ReScatter.dataModel.dataCache.loadFiles(n,(function(){var e=ReScatter.dataModel.dataCache.getFromCache(t.regionsIndexPath),n=ReScatter.dataModel.dataCache.getFromCache(t.propsPath);t.locatorRoot=document.body.querySelector("#"+t.svgId),t.locatorRoot.oncontextmenu=t.onContextEvent.bind(t),t.annotateRoot=$("#"+t.annotateId),t.__loadRegionMap(e),t.props={},t.__flattenOntology(n,t.props),t.view.loadPleth(),ReScatter.thematicMapController.loadImages(t.preselect),Le.addTooltip(t.svgId,"IMEChoropleth","left"),t.dispatchLoadedEvent(t)}))}destroy(){ReScatter.selectionModel&&ReScatter.selectionModel.removeObserver(this),self.locatorRoot&&(self.locatorRoot.innerHTML="")}__addMouseEventsToSvg(){var e=this.mouseoverSvgRegion.bind(this),t=this.mouseoutSvgRegion.bind(this),n=this.clickSvgRegion.bind(this);Object.keys(this.props).map((function(r){for(var i=this.locatorRoot.querySelectorAll('path[structure_id="'+r+'"]'),o=0;o<i.length;++o){var a=i[o];a.onclick=n,a.onmouseover=e,a.onmouseout=t}}),this)}__loadRegionMap(e){this.regionsOrdered=[],this.regionMaps={},e.ordered_region_map.forEach((function(e){this.regionsOrdered.push(e[0]),this.regionMaps[e[0]]=e[1]}),this)}mouseoverSvgRegion(e){var t=e.currentTarget.attributes.structure_id,n=this.props[t.value],r=Object.keys(n),i="<table>",o=this.popupAttributeList;r.map((function(e){o.indexOf(e)>=0&&(i+="<tr><td>"+e+"&nbsp;</td><td style='word-wrap:break-word'>"+n[e]+"&nbsp;</td></tr>")})),i+="</table>",this.inSvgRegion=!0,this.annotateRoot.html(i),this.annotateRoot.css({display:"inline",top:e.clientY-50,left:e.clientX-400,position:"fixed","z-index":"999",color:"#fff","background-color":"#000",opacity:"0.6","text-align":"left","table-layout":" fixed",width:"350"})}mouseoutSvgRegion(){var e=this;this.inSvgRegion=!1,setTimeout((function(){e.inSvgRegion||e.annotateRoot.css("display","none")}),100)}clickSvgRegion(e){var t=e.currentTarget.attributes.structure_id;this.__peformRegionSelection(t.value,e.ctrlKey)}onContextEvent(e){e.preventDefault(),console.log("Saving SVGs as thematicmap_N.png"),Me.snapShotSelected(this.view),e.stopPropagation()}__peformRegionSelection(e,t){t||(this.selectedIds=[],this.view.clearPlethColors()),this.selectedIds.push(e);var n=this.__mapSelectedRegionIds();n.length>0&&ReScatter.dynamicSelectionModel.putTransitiveSelection("ThematicMap",n,7807522,this.dynamicSelectionOut)}__mapSelectedRegionIds(){var e=[];return this.selectedIds.forEach((function(t){Object.prototype.hasOwnProperty.call(this.regionMaps,t)&&Array.prototype.push.apply(e,this.regionMaps[t])}),this),e.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}__flattenOntology(e,t){var n=e.msg[0];this.__flattenOntChildren(n,t)}__flattenOntChildren(e,t){var n=Object.keys(e),r={};void 0!==e.id&&(n.map((function(t){"children"!==t&&(r[t]=e[t])})),t[r.id]=r),void 0!==e.children&&e.children.map((function(e){this.__flattenOntChildren(e,t)}),this)}__mapProperty(e,t,n,r,i,o){var a=n.propMap[e].mapOp,s=n.propMap[e].mapFn,l=this;return new Promise((function(c){void 0===a?(o[e]=void 0===s?t:s(t,l.props,r,l.regionsOrdered,l.regionMaps,i),c(o)):ReScatter.data.DataMapper.getDataMap(n.dataMap).mapData(t,a).then((function(t){o[e]=s(t,l.props,r,l.regionsOrdered,l.regionMaps,i),c(o)})).catch((function(e){console.log("Error in choropleth datamapping "+e),c(o)}))}))}onPlethResize(){this.view.onPlethResize()}dispatchLoadedEvent(e){ReScatter.controlEventModel.putControlEventModel("rendererLoadComplete",{renderer:e,rendererId:e.id,type:"choropleth"})}addSvg(e,t,n){if(this.isCached(t))return this.loadedSvgs[t]=this.cachedSvgs[t],this.refreshLocator(),this.view.savePlethColors(),void this.reloadLastVisibleSelection();var r=n.replace("<svgid>",e),i=new XMLHttpRequest;i.open("GET",r,!0),i.responseType="text";var o=this;this.fetchSvg(r,t,(function(){o.refreshLocator(),o.view.savePlethColors(),o.reloadLastVisibleSelection()}))}addSvgs(e,t){if(0===e.length)return this.view.clearPlethColors(),this.refreshLocator(),this.view.savePlethColors(),void this.reloadLastVisibleSelection();var n=e.splice(0,1),r=t.replace("<svgid>",n[0].id),i=this.addSvgs.bind(this,e,t);this.fetchSvg(r,n[0].index,i)}fetchSvg(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="text";var i=this;r.onload=function(){var e=this.response.replace(/width="(\d*)" height="(\d*)"/,'xmlns:iedata="http://www.brainscope.nl/brainscope" width="100%" viewbox="0 0 $1 $2"');i.loadedSvgs[t]=e,i.cachedSvgs[t]=e,n()},r.onerror=function(t){alert("Error Loading SVG From source URL: "+e+" "+t.target.status),n()},this.displayLoading(),r.send()}removeSvg(e){delete this.loadedSvgs[e],this.refreshLocator(),this.reloadLastVisibleSelection()}isCached(e){return void 0!==this.cachedSvgs[e]}displayLoading(){this.locatorRoot.innerHTML="<h4>Loading vector images</h4>"}refreshLocator(){this.locatorRoot.innerHTML="";var e=document.createDocumentFragment(),t=Object.keys(this.loadedSvgs);t.sort((function(e,t){var n=parseInt(e),r=parseInt(t);return n===r?0:n>r?1:-1})),t.forEach((function(t){var n=document.createElement("div");n.innerHTML=this.loadedSvgs[t],e.appendChild(n)}),this),this.locatorRoot.appendChild(e),this.__addMouseEventsToSvg()}reloadLastVisibleSelection(){this.lastVisibleSelectionContext&&this.processSelectionEvent(this.lastVisibleSelectionContext)}}ke.impl(Ne,[],{processSelectionEvent(e){var t;if(void 0!==(t="dyna"===e.type?this.dynamicSelectionIn[e.id]:this.selectionIn[e.id])){if("show"===e.op||"create"===e.op&&"dyna"===e.type){this.lastVisibleSelectionContext=e;var n=Promise.resolve({color:void 0}),r=this,i=e.sel.dataPoints,o=e.sel.color,a=e.sel.sourceProps;n.then((function(e){return r.__mapProperty("color",i,t,o,a,e)})).then((function(t){r.view.clearPlethColors(),r.view.setPlethColorsFromMap(t.color),"dyna"!==e.type&&(r.lastColorSet=$.extend(!0,{},t.color)),r.processingDone()})).catch((function(e){console.log("Error adding selection:"+e),r.processingDone()}))}else"delete"===e.op&&"dyna"===e.type?(this.lastVisibleSelectionContext=void 0,this.view.clearPlethColors(),void 0!==this.lastColorSet?this.view.setPlethColorsFromMap(this.lastColorSet):this.view.restorePlethColors()):"hide"===e.op?(this.lastVisibleSelectionContext=void 0,this.lastColorSet=void 0,this.view.clearPlethColors(),this.view.restorePlethColors()):"delete"===e.op&&"dyna"!==e.type&&(this.lastColorSet=void 0);this.processingDone()}else this.processingDone()}}),be.impl(Ne,[],{onControlEvent(){}});var Be=Ne;class je{static get LoaderType(){return{SIMPLE_LOADER:0,IMAGE_STRIP_LOADER:1,NO_LOADER:9999}}constructor(e,t,n,r){switch(this.containerId=t,this.annotationId=n,this.imageStripId=r,this.loaderType=null,e.type){case je.LoaderType.SIMPLE_LOADER:this.loader=new _e(e.svgTemplate,e.svgList),this.loaderType=je.LoaderTypes.SIMPLE_LOADER;break;case je.LoaderType.IMAGE_STRIP_LOADER:this.loader=new Pe(this.imageStripId,e.svgTemplate,e.thumbnailTemplate,e.svgList),this.loaderType=je.LoaderTypes.IMAGE_STRIP_LOADER;break;default:this.loader=void 0,this.loaderType=je.LoaderTypes.NO_LOADER}return this.plethDescrip=e,this}static get LoaderTypes(){return{SIMPLE_LOADER:0,IMAGE_STRIP_LOADER:1,NO_LOADER:9999}}initialize(){ReScatter.choroplethControl=new Be(this.containerId,this.annotationId,this.plethDescrip),this.plethDescrip.plugin?ReScatter.choroplethView=ReScatter.config.PluginFactory.createChoroplethType(this.plethDescrip.plugin,this.containerId):ReScatter.choroplethView=new ne(this.containerId),Me.addComponent(ReScatter.choroplethView),ReScatter.choroplethControl.initialize(ReScatter.choroplethView)}destroy(){ReScatter.choroplethControl&&(ReScatter.choroplethControl.destroy(),ReScatter.choroplethControl=void 0),this.plethDescrip=void 0,this.loader=void 0}loadImages(e){this.loader&&this.loader.loadImages(e)}getMapContainerId(){return this.containerId}}var Ue=new Te,Ve=null;class Fe{static get LayoutFlags(){return{CHOROPLETH:1,MASTERGRID:2}}static get LayoutTarget(){return{SPACER:0,MASTER:1,GRID:2}}constructor(){return Ve||(Ve=this,this.__init(),this.clear(),Ve)}__init(){}clear(){this.idSuffix="",this.layoutDef={},this.gridPlots=[],this.masterPlots=[],this.idPrefix="",this.totalPlotItems=0,this.numSpacers=0,ReScatter.thematicMapController&&(ReScatter.thematicMapController.destroy(),ReScatter.thematicMapController=void 0),this.ontologyTree&&(this.ontologyTree.destroy(),this.ontologyTree=void 0),this.layoutDef={},this.chartNode=document.getElementById(ReScatter.CONTROL_ID.CHARTS),this.chartNode.innerHTML=""}setLayout(e,t){this.clear(),this.controlsEnabled=t,this.layoutDef=e,e.plots.forEach((function(e){switch(e.layoutTarget){case Fe.LayoutTarget.MASTER:this.masterPlots.push(e);break;case Fe.LayoutTarget.GRID:this.gridPlots.push(e);break;default:this.gridPlots.push(e),this.numSpacers+=1}}),this),this.totalPlotItems=this.gridPlots.length+this.masterPlots.length;var n=0;void 0!==e.choropleths&&(n|=Fe.LayoutFlags.CHOROPLETH),this.masterPlots.length>0&&(n|=Fe.LayoutFlags.MASTERGRID);var r=this.gridPlots.length;if(n&Fe.LayoutFlags.MASTERGRID?(this.chartNode.innerHTML=ReScatter.masterGridLayout,this.idPrefix="mg-subPlot-",this.idSuffix="-8"):(1===r?(this.idSuffix="-1",this.chartNode.innerHTML=ReScatter.singlePlotLayout):r>=2&&(this.chartNode.innerHTML=ReScatter.gridPlotLayout,this.idSuffix="-8"),this.idPrefix="subPlot-"),this.choroplethEnabled=this.controlsEnabled.includes("ReScatter.CONTROL_ID.CHOROPLETH"),this.choroplethEnabled){var i=document.getElementById(ReScatter.CONTROL_ID.IMAGESTRIPFOOTER);if(n&Fe.LayoutFlags.CHOROPLETH){document.getElementById(ReScatter.CONTROL_ID.CHOROPLETH).style.display="inline-block",i&&(i.classList.add("visible_strip_footer"),i.classList.remove("hidden_strip_footer"));var o=e.choropleths[0];ReScatter.thematicMapController=new je(o,ReScatter.CONTROL_ID.CHOROPLETH,ReScatter.CONTROL_ID.ANNOTATECHOROPLETH,ReScatter.CONTROL_ID.IMAGESTRIPFOOTER),ReScatter.thematicMapController.initialize()}else document.getElementById(ReScatter.CONTROL_ID.CHOROPLETH).style.display="none",i&&(i.classList.add("hidden_strip_footer"),i.classList.remove("visible_strip_footer"),i.innerHTML="")}return Ue.addTooltip(ReScatter.CONTROL_ID.CHARTS,"IMEScatterPlot","left","body"),this.idSuffix}getLayoutElementId(e){var t=this.gridPlots.indexOf(e);return-1!==t?this.idPrefix+(t+1)+this.idSuffix:"mg-master"}isSpaceLayout(e){return e.layoutTarget===Fe.LayoutTarget.SPACER}getTotalPlots(){return this.totalPlotItems-this.numSpacers}clearTitles(){for(var e=document.getElementsByClassName("plot_title"),t=0,n=e.length;t<n;t++)e.item(t).innerHTML=""}getCanvasPlotIds(){var e=[];return this.layoutDef.plots.forEach((function(t){var n=this.getLayoutElementId(t);this.isSpaceLayout(t)||e.push([n,t.id])}),this),e}getCanvasSvgId(){return void 0!==ReScatter.thematicMapController?ReScatter.thematicMapController.getMapContainerId():null}getNumberOfChoroplethsToLoad(){return void 0!==this.layoutDef.choropleths?1:0}getOntology(){if(this.layoutDef.ontologies)return this.layoutDef.ontologies[0]}getPredefinedSelections(){return this.layoutDef.predefinedSelections}getPlots(){return this.layoutDef.plots}getRecalculation(){return this.layoutDef.recalculation}getChoropleths(){return this.layoutDef.choropleths?this.layoutDef.choropleths:[]}getDataMaps(){return this.layoutDef.dataMaps}getBaseDataMaps(){if(this.layoutDef.recalculation)return this.layoutDef.recalculation.baseDataMaps}getId(){return this.layoutDef.id}}class ze{constructor(){return this.controlLayout=O.a.ui({container:ReScatter.CONTROL_ID.WIDGETS,id:"controlLayout",type:"clean",rows:[{gravity:1,type:"clean",animate:!1,rows:[{view:"tabbar",id:"toolTabs",multiview:!0,animate:!1,minHeight:35,align:"center",options:[]},{view:"multiview",id:"multiViewCellsId",animate:!1,type:"clean",cells:[{view:"template",id:"tpl",template:"ToolTabsPlaceholder"}]}]},{view:"resizer"},{gravity:3,multi:!0,id:"selectionAccordion",view:"accordion",type:"clean",rows:[{collapsed:!0,id:"selectionEditingId",body:{rows:[]}}]}]}),O.a.event(window,"resize",(function(){$$("controlLayout").adjust()})),this.layoutWidgetTabs=[],this}addTabOption(e,t,n){$$("toolTabs").addOption(e,t,n),$$("toolTabs").refresh(),$$("multiViewCellsId").adjust()}removeTabOption(e){$$("toolTabs").removeOption(e),$$("toolTabs").refresh(),$$("multiViewCellsId").adjust()}resize(){$$("controlLayout").adjust()}addTabView(e,t,n){var r=$$("multiViewCellsId").addView(e);return this.addTabOption(r,t,n),r}addLayoutTabView(e,t,n){var r={rows:[{id:e+"_in_tab",template:"html->"+e}]},i=this.addTabView(r,t,n);return this.layoutWidgetTabs.push(i),i}removeTabView(e){$$("multiViewCellsId").removeView(e),this.removeTabOption(e)}removeLayoutTabs(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.layoutWidgetTabs[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;this.removeTabView(o)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.layoutWidgetTabs=[]}collapseSelectionEdit(){$$("selectionEditingId").collapse()}expandSelectionEdit(){$$("selectionEditingId").expand()}switchTabViewTo(e){$$("toolTabs").setValue(e),$$("multiViewCellsId").setValue(e)}addAccordionView(e){return $$("selectionAccordion").addView(e)}getMultiViewParent(){return $$("multiViewCellsId").getParentView()}}var Ge=n(147),Qe=null;class We{static get PluginTypeEnum(){return{EXTERNAL_WEBSITE_ANALYSIS:0,PROCESS_GENERATE_DATA:1}}constructor(){if(Qe)return Qe;return this.analysisPluginMap=new Map,this.recalculatePluginMap=new Map,this.jobMonitorDiv=$("#"+ReScatter.CONTROL_ID.JOBMONITOR),this.jobMonitorControl=new M(ReScatter.CONTROL_ID.JOBMONITOR),this.selectionEditMenu=O.a.ui({id:"editSubMenuId",view:"submenu",data:["Edit","Union","Intersect","Subtract","Cancel"],on:{onItemClick:function(e){var t=this.getTopMenu().getContext(),n=this.getItem(e),r=t.obj,i=t.id,o=r.getItem(i);switch(n.value){case"Edit":ReScatter.selectionDataWidget.startEditOp(He.modeEnum.EDIT,o.label,o.id);break;case"Union":ReScatter.selectionDataWidget.startEditOp(He.modeEnum.UNION,o.label,o.id);break;case"Intersect":ReScatter.selectionDataWidget.startEditOp(He.modeEnum.INTERSECT,o.label,o.id);break;case"Subtract":ReScatter.selectionDataWidget.startEditOp(He.modeEnum.SUBTRACT,o.label,o.id);break;case"Cancel":ReScatter.selectionDataWidget.startEditOp(He.modeEnum.NONE,o.label,o.id)}}}}),this.selectionAnalysisMenu=O.a.ui({id:"analysisSubMenuId",view:"submenu",autowidth:!0,data:[],on:{onItemClick:function(e){var t=this.getTopMenu().getContext(),n=this.getItem(e),r=t.obj,i=t.id,o=r.getItem(i);Qe.callPlugins(n.value,o.selectionId,o.label)}}}),this.replotItemFixed=[{value:"Show jobs"}],this.selectionReplotMenu=O.a.ui({id:"replotSubMenuId",view:"submenu",data:this.replotItemFixed,autowidth:!0,on:{onItemClick:function(e){var t=this.getTopMenu().getContext(),n=this.getItem(e),r=t.obj,i=t.id,o=r.getItem(i);switch(n.value){case"Show jobs":Qe.jobMonitorControl.showControl();break;default:Qe.callPlugins(n.value,o.selectionId,o.label)}}}}),this.menuItemFixed=[{value:"Edit...",submenu:this.selectionEditMenu},{value:"Analysis...",submenu:this.selectionAnalysisMenu},{value:"Replot...",submenu:this.selectionReplotMenu},{value:"Delete"},{value:"Export CSV"}],this.selectionContextMenu=O.a.ui({id:"selectionContextId",view:"contextmenu",width:200,data:this.menuItemFixed,on:{onItemClick:function(e,t){var n=this.getContext(),r=n.obj,i=n.id,o=this.getItem(e).value,a=r.getItem(i);switch(o){case"Delete":ReScatter.selectionModel.deleteSelection(a.label),ReScatter.selectionEditWidget.editExistingSelection(void 0);break;case"Export CSV":Qe.selectionToClipboard(t,a.selectionId,a.label)}}}}),Qe=this}static saveToFile(e,t){ReScatter.utils.SnapshotSaver.saveTextToFile(e,t)}static closeSelectionCSV(e){var t=$(e);t.css({display:"none"}),t.html(""),We.clipboard.destroy()}refreshAnalysisMenu(){var e=[];this.analysisPluginMap.forEach((t,n)=>{e.push({value:n})}),this.selectionAnalysisMenu.data.clearAll(),e.forEach(e=>{this.selectionAnalysisMenu.data.add(e)}),this.selectionAnalysisMenu.refresh(),this.selectionAnalysisMenu.resize()}refreshReplotMenu(){var e=[];this.recalculatePluginMap.forEach((t,n)=>{e.push({value:n})}),this.selectionReplotMenu.data.clearAll(),this.replotItemFixed.concat(e).forEach(e=>{this.selectionReplotMenu.data.add(e)}),this.selectionReplotMenu.refresh(),this.selectionReplotMenu.resize()}registerExternalAnalysisPlugin(e,t,n){this.analysisPluginMap.set(e,{type:We.PluginTypeEnum.EXTERNAL_WEBSITE_ANALYSIS,symbol:t,callback:n}),this.refreshAnalysisMenu()}registerGenerateDataPlugin(e){this.recalculatePluginMap.set(e,{type:We.PluginTypeEnum.PROCESS_GENERATE_DATA}),this.refreshReplotMenu()}callPlugins(e,t,n){if(this.analysisPluginMap.has(e)){var r=this.analysisPluginMap.get(e).callback,i=ReScatter.selectionModel.getSelection(n),o=[],a=this.analysisPluginMap.get(e).symbol;i.dataPoints.forEach((function(e){o.push(ReScatter.dataModel.getSelectionPropAtIndex(t,e,a))})),r(o,n)}else if(this.recalculatePluginMap.has(e)){var s=ReScatter.selectionModel.getSelection(n);this.launchRecalculateDataPlugin(e,s)}}enablePlugins(){}getMenuUi(){return this.selectionContextMenu}getEditMenuUi(){return this.selectionEditMenu}selectionToClipboard(e,t,n){var r=ReScatter.selectionModel.getSelection(n).dataPoints,i=Object.keys(ReScatter.dataModel.getAllSelectionPropsAtIndex(t,0)),o="__label__, "+i.join(",")+"\r\n";o+=r.map((function(e){var r=ReScatter.dataModel.getAllSelectionPropsAtIndex(t,e);return'"'+n+'",'+i.map((function(e){return'"'+(r[e]||"")+'"'})).join(",")})).join("\r\n");var a="#"+ReScatter.CONTROL_ID.SELECTIONINFO,s=$(a),l='<textarea id="selectionDataAsCSV", cols="80" rows="20" readonly>'+o+"</textarea>",c=this;l+='<br/><button id="clipToKeyboardButton" class="btn" data-clipboard-action="copy" data-clipboard-target="#selectionDataAsCSV">Copy to clipboard</button>',l+='<br/><button id="saveToFileButton" class="btn" onclick="ReScatter.widget.SelectionContextMenu.saveToFile(\'#selectionDataAsCSV\',\''+n+"')\">Save to file</button>",l+='<br/><button id="cancelClipButton" class="btn" onclick="ReScatter.widget.SelectionContextMenu.closeSelectionCSV(\''+a+"')\">Close</button>",s.html(l),s.css({display:"inline",top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed","z-index":"999","text-align":"left"}),We.clipboard=new Ge("#clipToKeyboardButton"),We.clipboard.on("success",(function(){setTimeout(c.closeSelectionCSV(a),1)}))}launchRecalculateDataPlugin(e,t){var n=new b(e);this.jobMonitorControl.subscribeToJobMonitor(n.monitor),n.run(t)}}class He{constructor(){this.tableWebixId="selectionsDataTableId",this.editMode=He.modeEnum.NONE,this.editLabels=[];var e=this;this.selectionTableDef={view:"accordionitem",header:"Loaded selections",headerHeight:35,headerAltHeight:35,collapsed:!0,body:{view:"layout",rows:[{view:"datatable",id:this.tableWebixId,multiselect:!1,editable:!0,select:"row",columns:[{id:"label",header:"Selection",gravity:1,minWidth:80,sort:"string"},{id:"selectionId",header:"Group",gravity:1,minWidth:80,sort:"string"},{id:"description",header:"Description",gravity:2,minWidth:160,sort:"string"},{id:"color",header:"Color picker",editor:"color",template:"<span style='background:#color#; border-radius:4px; text-shadow: 1px 0px 1px #000,0px 1px 1px #000; font-family: monospace'>#color#</span>"}],fixedRowHeight:!1,rowHeight:25,rowLineHeight:25,autoConfig:!0,resizeColumn:!0,checkboxRefresh:!0,scrollX:!1,onContext:{},on:{onAfterEditStop:function(t,n){if(t.value!==t.old){var r=this.getItem(n.row);e.selectionRowChanged(r,n.column),console.log("Changed selection: "+r)}},onSelectChange:function(){var t=this.getSelectedItem(!0);if(1===t.length){e.editLabels.push(t[0].label);var n=e.editMode;switch(e.setMode(He.modeEnum.NONE),n){case He.modeEnum.NONE:t&&1!==t[0].show&&(ReScatter.selectionEditWidget.editExistingSelection(void 0),ReScatter.selectionModel.showSelection(t[0].label));break;case He.modeEnum.UNION:ReScatter.selectionModel.unionSelections(e.editLabels,"User union");break;case He.modeEnum.INTERSECT:ReScatter.selectionModel.intersectSelections(e.editLabels,"User intersect");break;case He.modeEnum.SUBTRACT:ReScatter.selectionModel.subtractSelections(e.editLabels,"User subtract")}e.editLabels=[]}else 0===t.length&&ReScatter.selectionModel.hideVisibleSelection()}}},{view:"layout",id:"selectionButtonsLayout",rows:[{template:"Clear/delete",type:"section"},{margin:5,cols:[{view:"button",id:"hideVisibleSelection",value:"Deselect",click:function(){$$("selectionsDataTableId").clearSelection()}},{view:"button",id:"deleteLastSelectionButton",value:"Delete last",click:function(){ReScatter.selectionModel.deleteLastSelection()}},{view:"button",id:"deleteAllSelectionsButton",value:"Delete all",click:function(){ReScatter.selectionModel.deleteAllSelections()}}]}]}]}},this.accordionId=ReScatter.controlWidgetLayout.addAccordionView(this.selectionTableDef),this.selectionTable=$$(this.tableWebixId),this.selectionContextMenu=new We,this.selectionContextMenu.getMenuUi().attachTo(this.selectionTable)}static get modeEnum(){return{NONE:0,EDIT:1,UNION:2,INTERSECT:3,SUBTRACT:4}}selectionRowChanged(e,t){switch(t){case"color":ReScatter.selectionModel.setColor(e.label,pe(e.color));break;default:console.log("Column: "+t+" not handled when selection edited")}}startEditOp(e,t){if(this.editMode=He.modeEnum.NONE,ReScatter.selectionModel.showSelection(t),this.setMode(e),e===He.modeEnum.EDIT)return this.editLabels=[],void ReScatter.selectionEditWidget.editExistingSelection(t);e!==He.modeEnum.NONE&&(this.editLabels=[t])}setMode(e){this.editMode=e;var t=this.selectionTable.getNode().querySelector("div.webix_ss_body");switch(e){case He.modeEnum.UNION:t.style.cursor="url("+ReScatter.cursors("./union.png")+"), auto";break;case He.modeEnum.INTERSECT:t.style.cursor="url("+ReScatter.cursors("./intersect.png")+"), auto";break;case He.modeEnum.SUBTRACT:t.style.cursor="url("+ReScatter.cursors("./subtract.png")+"), auto";break;default:t.style.cursor="default"}}update(e){var t=this;switch(e.op){case"create":(new PIXI.Graphics).beginFill(e.sel.color),this.selectionTable.add({label:e.sel.label,selectionId:e.sel.selectionId,description:e.sel.description,color:ce(e.sel.color)}),ReScatter.selectionEditWidget.editExistingSelection(void 0);break;case"delete":for(var n=this.selectionTable.find((function(t){return t.label===e.sel.label})),r=0,i=n.length;r<i;r++)this.selectionTable.remove(n[r].id);break;case"show":this.selectionTable.find((function(n){e.sel.label===n.label?(n.active=1,t.selectionTable.select(n.id)):n.active=0,t.selectionTable.updateItem(n.id,n)}));break;case"hide":this.selectionTable.find((function(n){e.sel.label===n.label&&0!==n.active&&(n.active=0,t.selectionTable.unselect(n.id)),t.selectionTable.updateItem(n.id,n)}));break;default:console.log("Unrecognized selection operation in SelectionDataWidget, op: "+e.op)}this.selectionTable.adjustRowHeight("description")}expand(){$$(this.accordionId).expand()}}class Ye{constructor(){this.tableWebixId="existingSelectionEditFormId";var e=this;this.selectionTableDef={view:"accordionitem",header:"Edit selections",headerHeight:35,headerAltHeight:35,collapsed:!0,body:{id:this.tableWebixId,view:"form",hidden:!1,type:"clean",complexData:!0,elements:[{template:"Edit existing selection",type:"section"},{view:"select",id:"editModeId",label:"Edit mode",inputWidth:250,labelWidth:100,value:ReScatter.data.PermanentSelection.editModeEnum.enum.ADDPOINTS,yCount:"2",readonly:!0,options:ReScatter.utils.enumToOptions(ReScatter.data.PermanentSelection.editModeEnum)},{view:"text",name:"label",label:"Name",inputWidth:400,labelWidth:100,readonly:!0},{view:"text",name:"selectionId",label:"Group",inputWidth:400,labelWidth:100,readonly:!0},{view:"text",name:"description",label:"Description",inputWidth:400,labelWidth:100},{view:"text",name:"numPoints",label:"Num points",inputWidth:400,labelWidth:100,readonly:!0},{margin:5,cols:[{view:"button",id:"saveButton",value:"Save",click:function(){ReScatter.selectionModel.saveEditingSelection(),e.editExistingSelection(void 0)}},{view:"button",id:"cancelButton",value:"Cancel",click:function(){ReScatter.selectionModel.cancelEditingSelection(),e.editExistingSelection(void 0)}}]}]}},this.accordionView=ReScatter.controlWidgetLayout.addAccordionView(this.selectionTableDef),this.editForm=$$(this.tableWebixId),$$("editModeId").attachEvent("onChange",(function(e){ReScatter.controlEventModel.putControlEventModel("editOp",{editOp:e}),ReScatter.selectionModel.setPutOperation(e)})),this.editForm.attachEvent("onValues",(function(){var e=$$("editModeId").getValue();ReScatter.controlEventModel.putControlEventModel("editOp",{editOp:e}),ReScatter.selectionModel.setPutOperation(e)})),this.editForm.hide()}editExistingSelection(e){if(void 0!==e){var t=ReScatter.selectionModel.getSelection(e);ReScatter.selectionModel.setEditingSelection(e);var n=jQuery.extend(!0,{},t);n.numPoints=n.dataPoints.length,this.editForm.setValues(n),ReScatter.controlEventModel.putControlEventModel("editMode",{editMode:"EXISTING",editTarget:e,selectionId:n.selectionId}),this.editForm.show(),$$(this.accordionView).expand()}else this.editForm.hide(),$$(this.accordionView).collapse(),ReScatter.selectionModel.cancelEditingSelection(),ReScatter.controlEventModel.putControlEventModel("editMode",{editMode:"NEW"})}}class qe{constructor(){this.tableWebixId="loadSelectionsLayoutId";var e=this;this.uploadFormDef={view:"accordionitem",header:"Upload selections",headerHeight:35,headerAltHeight:35,collapsed:!0,body:{view:"layout",id:"loadSelectionsLayoutId",rows:[{template:"Load selection from CSV file, or enter ids manually",type:"section"},{margin:5,cols:[{view:"select",id:"uploadTargetId",label:"Type",inputWidth:200,labelWidth:70,readonly:!0,options:[]},{view:"select",id:"selectPropId",label:"Property",inputWidth:200,labelWidth:70,readonly:!0,options:[]}]},{type:"space",cols:[{view:"htmlform",minHeight:20,template:"<form><input type='file' id='selectionFileInput' onchange='self.loadSelectionFile(this.files, $$(\"uploadTargetId\").getValue())'></form>"},{view:"form",type:"clean",elements:[{view:"textarea",id:"manualTextAreaId",name:"manualSelText",height:100,placeholder:"Enter comma, semicolon, or LF separated ids here"},{view:"button",id:"enterManualSelection",value:"Select",click:function(){var t=$$("manualTextAreaId").getValue().split(/\s*[,;\n]\s*/i);t.length>0&&e.loadValues(t,$$("uploadTargetId").getValue())}}]}]}]}},ReScatter.controlWidgetLayout.addAccordionView(this.uploadFormDef),this.uploadForm=$$(this.tableWebixId),$$("uploadTargetId").attachEvent("onChange",(function(e){if("1"!==e){var t=ReScatter.dataModel.getSelectionPropKeys(e);t.sort();var n=[];t.forEach((function(e){var t={id:e,value:e};n.push(t)})),$$("selectPropId").define("options",n),$$("selectPropId").setValue(ReScatter.dataModel.getSelectionPrimaryProp(e)),$$("selectPropId").refresh()}}))}updateOptionsFromSelections(e){$$("uploadTargetId").define("options",e),$$("uploadTargetId").refresh(),$$("uploadTargetId").setValue(e[0].id)}loadSelection(e,t,n,r){if(0!==e.length){var i=ReScatter.selectionModel.getNewLabel(r);ReScatter.selectionModel.putSelection(i,t,e,7479842,n,r)}else alert("No selection created - check the property selection and property names")}selectionFileLoaded(e,t,n){var r=n.target.result,i=-1!==r.search("\r\n"),o=!i&&-1!==r.search("\n"),a=!i&&!o&&-1!==r.search(";");if(!(-1!==r.search(",")))if(i){var s=new RegExp("\r\n","g");r=r.replace(s,",")}else if(o){var l=new RegExp("\n","g");r=r.replace(l,",")}else if(a){var c=new RegExp(";","g");r=r.replace(c,",")}var u=r.split(","),h=[];u.forEach((function(e){h.push(e.trim())}));var d=[],f=$$("selectPropId").getValue();h.forEach((function(t){d=d.concat(ReScatter.dataModel.getSelectionIndexes(e,f,t,!1))})),this.loadSelection(d,"From file","Loaded from "+t,e)}loadSelectionFile(e,t){var n=e[0],r=new FileReader;r.onload=this.selectionFileLoaded.bind(this,t,n.name),r.readAsText(n)}loadValues(e,t){var n=$$("selectPropId").getValue(),r=[];e.forEach((function(e){r=r.concat(ReScatter.dataModel.getSelectionIndexes(t,n,e,!0))})),this.loadSelection(r,"Manual","Manual selection: "+r.length+" points",t)}}var Ke=n(7),Xe=n(4),Je=n(10),Ze={mapDict:{}};class $e{constructor(e){this.filePath=e,this.array=void 0,this.status=$e.status.NULL}static get maps(){return Ze}static setDataMaps(e){$e.maps.mapDict={},e?e.forEach((function(e){$e.maps.mapDict[e.id]=new $e(e.filePath)})):ReScatter.utils.warn("No data maps defined")}static get mapOp(){return{SUMROW:0,AVGROW:1,SUMCOL:2,AVGCOL:3,ALLROW:4,ALLCOL:5,PASSROW:6,PASSCOL:7,PASSALLROW:8,PASSALLCOL:9}}static get propAssign(){return{POINT:0}}static get groupdef(){return{ALL:0}}static get status(){return{NULL:0,BUSY:1,AVAIL:2,FAIL:3}}setData(e){this.filePath=e,this.array=void 0,this.status=$e.status.NULL}mapData(e,t){var n=this;switch(this.status){case $e.status.NULL:this.status=$e.status.BUSY;var r=[{path:this.filePath,type:"arraybuffer"}];return new Promise((function(i,o){ReScatter.dataModel.dataCache.loadFiles(r,(function(){var r=ReScatter.dataModel.dataCache.getFromCache(n.filePath),o=Ke.parse(r);n.array=Xe(o.data,o.sizes.slice().reverse()),n.__resolveMapping(i,n,e,t)}),(function(e){n.status=$e.status.FAIL,console.log("Error retrieving: "+n.filePath),o(e)}))}));case $e.status.BUSY:var i=function(e){setTimeout((function(){e()}),200)};return new Promise((function(r){setTimeout((function(){!function o(){if(n.status!==$e.status.AVAIL)return new Promise(i).then(o).catch((function(e){console.log("Error in DataMapper delay "+e)}));n.__resolveMapping(r,n,e,t)}()}),1)}));case $e.status.AVAIL:return this.status=$e.status.BUSY,new Promise((function(r){n.__resolveMapping(r,n,e,t)}))}}__resolveMapping(e,t,n,r){var i;try{i=t.__performMapping(n,r)}catch(e){console.log("Error in data mapping: "+e)}finally{t.status=$e.status.AVAIL,e(i)}}__performMapping(e,t){switch(t){case $e.mapOp.AVGROW:return this.averageRows(e);case $e.mapOp.SUMROW:return this.sumRows(e);case $e.mapOp.AVGCOL:return this.averageCols(e);case $e.mapOp.SUMCOL:return this.sumCols(e);case $e.mapOp.ALLROW:var n=this.array.shape[1];return this.getIndexArray(n);case $e.mapOp.ALLCOL:var r=this.array.shape[0];return this.getIndexArray(r);case $e.mapOp.PASSROW:return this.passRow(e);case $e.mapOp.PASSCOL:return this.passCol(e);case $e.mapOp.PASSALLROW:return this.passAllRow(e);case $e.mapOp.PASSALLCOL:return this.passAllCol(e);default:return this.sumRows(e)}}getIndexArray(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=n;return t}sumRows(e){if(!this.array)return[];for(var t=Xe(new Float32Array(this.array.shape[0]),[this.array.shape[0]]),n=0,r=e.length;n<r;n++){var i=this.array.pick(null,e[n]);Je.add(t,t,i)}return Array.prototype.slice.call(t.data)}averageRows(e){for(var t=this.sumRows(e),n=e.length,r=0,i=t.length;r<i;r++)t[r]=t[r]/n;return t}sumCols(e){if(!this.array)return[];for(var t=Xe(new Float32Array(this.array.shape[1]),[this.array.shape[1]]),n=0,r=e.length;n<r;n++){var i=this.array.pick(e[n],null);Je.add(t,t,i)}return Array.prototype.slice.call(t.data)}averageCols(e){for(var t=this.sumCols(e),n=e.length,r=0,i=t.length;r<i;r++)t[r]=t[r]/n;return t}passCol(e){if(!this.array)return[];for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=this.array.get(0,e[n]);return t}passRow(e){if(!this.array)return[];for(var t=new Array(e.length),n=0,r=e.length;n<r;n++)t[n]=this.array.get(e[n],0);return t}passAllCol(e){if(!this.array)return[];for(var t=new Array(e.length),n=0,r=e.length;n<r;n++){for(var i=new Array(this.array.shape[0]),o=0;o<this.array.shape[0];o++)i[o]=this.array.get(o,e[n]);t[n]=i}return t}passAllRow(e){if(!this.array)return[];for(var t=new Array(e.length),n=0,r=e.length;n<r;n++){for(var i=new Array(this.array.shape[1]),o=0;o<this.array.shape[1];o++)i[o]=this.array.get(e[n],o);t[n]=i}return t}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}($e,"getDataMap",(function(e){return $e.maps.mapDict[e]}));class et{constructor(e,t){this.props=e,this.propKeys=Object.keys(e),this.plotFormat=t}getPlotProp(e,t,n){var r=this.getAllPropsAtPoint(e);switch(typeof this.plotFormat[t]){case"undefined":return r[t]?r[t]:n;case"object":return r[this.plotFormat[t[t]]];case"function":return this.plotFormat[t](r);case"string":return r[this.plotFormat[t]];default:return this.plotFormat[t]}}getColor(e){return this.getPlotProp(e,"color",7109515)}getId(e){return this.getPlotProp(e,"id","")}getSymbol(e){return this.getPlotProp(e,"symbol","")}getShape(e){return this.getPlotProp(e,"shape","circle")}getSize(e){return this.getPlotProp(e,"size",3)}getGroup(e){return this.getPlotProp(e,"group",void 0)}getPrimaryProp(){return this.getPlotProp(0,"primary",void 0)}getBackgroundColor(){return this.getPlotProp(0,"background",0)}getAllPropsAtPoint(e){var t={},n=this;return this.propKeys.forEach((function(r){t[r]=n.props[r][e]})),t}getPointIndexFromProp(e,t,n){var r=!!n,i=[];return this.props[e].forEach((function(e,n){r?String(e).toUpperCase()===String(t).toUpperCase()&&i.push(n):e===t&&i.push(n)})),i}}var tt=n(155);class nt extends Oe{constructor(e,t,n){super(3),this.elementId=e,this.id=t.id,this.selectionOutId=t.selections.selectionOut,this.dynamicSelectionId=t.selections.dynamicSelectionOut,void 0===n?(this.switchableSelections=ReScatter.config.SwitchableSelections.newFromPlotInfo(t),n=this.switchableSelections.configNames):this.switchableSelections=t.selections.switchableSelections,this.currentConfig=n[0],this.selectionIn=this.switchableSelections.getSelectionMapping(this.currentConfig),this.dynamicSelectionIn=this.switchableSelections.getDynamicSelectionMapping(this.currentConfig),this.selectionConfigs=n,this.brushType="Circle",this.mouseOverIndexes=[],this.propertyOverIndexes=[],this.processingDynamicSelecton=!1,$("#"+e).mouseover((function(){$("#"+e).css("cursor","url("+ReScatter.cursors("./drawtarget.png")+") 20 20, auto")})).mouseout((function(){$("#"+e).css("cursor","default")})),this.frameDelay=20,this.plotElement=$("#"+this.elementId)[0],this.plotWindowSize=this.plotElement.clientWidth,this.originalSize=this.plotWindowSize,this.renderer=PIXI.autoDetectRenderer(this.plotWindowSize,this.plotWindowSize,{autoResize:!0,forceFXAA:!0,preserveDrawingBuffer:!0}),this.interactionElement=this.renderer.plugins.interaction.interactionDOMElement,this.plotElement.appendChild(this.renderer.view),window.addEventListener("resize",this.onResize.bind(this));var r=this;this.plotSize=this.plotWindowSize,this.plotRoot=new PIXI.Container,this.plotRoot.interactive=!0,this.basePlotContainer=new PIXI.Container,this.basePlotContainer.interactive=!0,this.basePlotContainer.filters=void 0,this.plotRoot.addChild(this.basePlotContainer),this.contextMenuLinked=!1,this.zoomed=!1,this.resizeZoom=1,this.maxZoomLevel=16,this.zoomLevels=Array.apply(null,{length:r.maxZoomLevel+1}).map((function(e,t){return Math.pow(2,t/4)})),this.currentZoomLevel=0,this.zoomFactor=this.zoomLevels[this.currentZoomLevel],this.selections=[];var i=t.selections.selectionDefaults||{};this.numNeighbours=Object.prototype.hasOwnProperty.call(i,"numNeighbours")?i.numNeighbours:49,this.selectOver=Object.prototype.hasOwnProperty.call(i,"selectOver")?i.selectOver:nt.SelectionEnum.MOUSEOVER,this.mouseOverExcludeSeed=!!Object.prototype.hasOwnProperty.call(i,"mouseOverExcludeSeed")&&i.mouseOverExcludeSeed,this.mouseOverSeedIndex=-1,this.selectionsRoot=new PIXI.Container,this.selectionsRoot.interactive=!1,this.plotRoot.addChild(this.selectionsRoot),this.dynamicRoot=new PIXI.Container,this.dynamicRoot.interactive=!1,this.dynamicRoot.visible=!1,this.plotRoot.addChild(this.dynamicRoot),this.plotRoot.visible=!1,this.selectionViews={},this.popupContainer=new PIXI.Container,this.popupContainer.interactive=!1,this.plotRoot.addChild(this.popupContainer),this.plotRoot.brushViewTree=new PIXI.Container,this.plotRoot.brushViewTree.interactive=!1,this.plotRoot.mousedown=this.plotRoot.touchstart=this.startDrawing,this.plotRoot.mouseup=this.plotRoot.touchend=this.endDrawing,this.plotRoot.click=this.selectOnClick.bind(this),this.renderer.view.oncontextmenu=this.onContextMenu.bind(this),this.interactionElement.addEventListener("wheel",r.zoomWheel.bind(r),!1),this.interactionElement.addEventListener("mouseover",r.startAnimationFn.bind(r)),this.interactionElement.addEventListener("mouseout",r.stopAnimationFn.bind(r)),this.interactionElement.addEventListener("touchstart",r.startAnimationFn.bind(r)),this.interactionElement.addEventListener("touchmove",r.startAnimationFn.bind(r)),this.interactionElement.addEventListener("touchleave",r.stopAnimationFn.bind(r)),this.plotRoot.mousemove=this.plotRoot.touchmove=null,this.plotRoot.brushMousemove=this.brushMousemove,this.plotRoot.activeBrushView=void 0,this.plotRoot.activeBrushModel=void 0,this.plotRoot.renderer=this,this.plotRoot.captureMouse=!1;var o=this.endDrawing.bind(this.plotRoot);document.body.addEventListener("mouseup",(function(e){r.plotRoot.captureMouse&&o(e)})),document.body.addEventListener("touchend",(function(e){r.plotRoot.captureMouse&&o(e)})),document.body.addEventListener("touchcancel",(function(e){r.plotRoot.captureMouse&&o(e)})),this.plotRoot.addChild(this.plotRoot.brushViewTree),this.annotations=[],this.annotationsColor=[],this.allPointSprites=[],this.dimensions=2,this.then=Date.now(),this.inRender=!1,this.stopAnimation=!0,this.plotRoot.hitArea=new PIXI.Rectangle(0,0,this.plotWindowSize,this.plotWindowSize),this.plotAreaRect=new PIXI.Graphics,this.plotAreaRect.lineStyle(2,3092271,1),this.plotAreaRect.drawRect(0,0,this.plotWindowSize,this.plotWindowSize),this.plotRoot.addChild(this.plotAreaRect)}startAnimationFn(){this.hasFocus=!0,this.plotRoot.visible=!0,this.stopAnimation&&(this.stopAnimation=!1,this.animate())}stopAnimationFn(){this.popupContainer.removeChildren(),this.render(),this.hasFocus=!1,this.stopAnimation=!0,this.plotRoot.visible=!1,this.dynamicSelectionId&&ReScatter.dynamicSelectionModel&&ReScatter.dynamicSelectionModel.removeDynamicSelection(this.dynamicSelectionId)}animate(){this.now=0;var e=this;return function t(){if(!e.stopAnimation){e.animationId=window.requestAnimationFrame(t),e.now=Date.now();var n=e.now-e.then;if(n>e.frameDelay&&(e.then=e.now-n%e.frameDelay,!e.inRender)){e.inRender=!0;var r=Date.now();e.render();var i=Date.now()-r;e.hasFocus?(e.frameDelay=i>120?120:i,e.frameDelay=i<20?20:e.frameDelay):(e.frameDelay=i>800?800:10*i,e.frameDelay=i<120?120:e.frameDelay)}}}()}render(e){var t=this.plotRoot.visible;this.plotRoot.visible=!0,e&&(this.basePlotContainer.cacheAsBitmap=!0),this.renderer.gl&&this.renderer.render(this.plotRoot),this.basePlotContainer.cacheAsBitmap=!1,this.inRender=!1,this.plotRoot.visible=t}destroy(){if(document.getElementById(this.elementId+"-title").innerHTML="",this.stopAnimation=!0,this.animationId&&window.cancelAnimationFrame(this.animationId),this.plotPoints={},this.scatter={},this.renderer.gl)try{this.renderer.gl.getExtension("WEBGL_lose_context").loseContext()}catch(e){console.log("Error forcing WebGL context release: "+e)}for(this.renderer.destroy();this.plotElement.firstChild;)this.plotElement.removeChild(this.plotElement.firstChild)}getParentWidth(){var e=window.getComputedStyle(this.plotElement);return this.plotElement.offsetWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderLeftWidth)-parseFloat(e.borderRightWidth)}captureKeys(e){e?(this.keyListener=this.keyInput.bind(this),window.addEventListener("keydown",this.keyListener)):window.removeEventListener("keydown",this.keyListener)}keyInput(e){if(this.selectOver!==nt.SelectionEnum.NONE&&this.hasFocus)switch(e.keyCode){case 78:this.numNeighbours>0&&ReScatter.controlEventModel.putControlEventModel("numNeighbours",{number:this.numNeighbours-1,selector:this.dynamicSelectionId});break;case 77:ReScatter.controlEventModel.putControlEventModel("numNeighbours",{number:this.numNeighbours+1,selector:this.dynamicSelectionId})}}startDrawing(e){this.renderer.selectOver!==nt.SelectionEnum.MOUSEOVER&&($("#"+this.renderer.elementId).css("cursor","url("+ReScatter.cursors("./drawtarget2.png")+") 20 20, auto"),this.selectionShapeOrigin=e.data.getLocalPosition(this.renderer.plotRoot),this.activeBrushView=new PIXI.Graphics,this.activeBrushView.lineStyle(2/this.renderer.zoom,16711680,1),this.activeBrushModel=void 0,this.brushViewTree.addChild(this.activeBrushView),this.freehandPath=[],this.mousemove=this.touchmove=this.brushMousemove,this.captureMouse=!0)}brushMousemove(e){if(void 0!==this.activeBrushView){var t=e.data.getLocalPosition(this.renderer.plotRoot);switch(this.activeBrushView.clear(),this.activeBrushView.lineStyle(2/this.renderer.zoom,16711680,1),this.renderer.brushType){case"Circle":var n={x:this.selectionShapeOrigin.x+(t.x-this.selectionShapeOrigin.x)/2,y:this.selectionShapeOrigin.y+(t.y-this.selectionShapeOrigin.y)/2},r=Math.sqrt(Math.pow(this.selectionShapeOrigin.x-t.x,2)+Math.pow(this.selectionShapeOrigin.y-t.y,2))/2;this.activeBrushView.drawCircle(n.x,n.y,r),this.activeBrushModel=new PIXI.Circle(n.x,n.y,r);break;case"Rectangle":var i=this.selectionShapeOrigin.x<t.x?this.selectionShapeOrigin.x:t.x,o=this.selectionShapeOrigin.y<t.y?this.selectionShapeOrigin.y:t.y;this.activeBrushView.drawRect(i,o,Math.abs(t.x-this.selectionShapeOrigin.x),Math.abs(t.y-this.selectionShapeOrigin.y)),this.activeBrushModel=new PIXI.Rectangle(i,o,Math.abs(t.x-this.selectionShapeOrigin.x),Math.abs(t.y-this.selectionShapeOrigin.y));break;case"Freehand":this.freehandPath.push(t.clone()),this.activeBrushView.drawPolygon(this.freehandPath),this.activeBrushModel=new PIXI.Polygon(this.freehandPath)}}}endDrawing(){if(this.captureMouse=!1,$("#"+this.renderer.elementId).css("cursor","url("+ReScatter.cursors("./drawtarget.png")+") 20 20, auto"),this.mousemove=this.touchmove=null,void 0!==this.activeBrushView&&void 0!==this.activeBrushModel){var e="Circle";if(this.activeBrushModel.type===PIXI.SHAPES.POLY){var t=this.freehandPath.slice(0);t.push(this.freehandPath[0]),this.activeBrushView.drawPolygon(t),this.activeBrushModel=new PIXI.Polygon(t),e="Freehand "}else this.activeBrushModel.type===PIXI.SHAPES.CIRC?e="Circle ":this.activeBrushModel.type===PIXI.SHAPES.RECT&&(e="Rectangle ");for(var n=[],r=0,i=this.renderer.allPointSprites.length;r<i;r++)this.activeBrushModel.contains(this.renderer.allPointSprites[r].position.x,this.renderer.allPointSprites[r].position.y)&&n.push(r);if(n.length>0){var o=this.renderer.selectionOutId;this.activeBrushModel.label=ReScatter.selectionModel.getNewLabel(o),ReScatter.selectionModel.putSelection(this.activeBrushModel.label,this.renderer.elementId,n,7807522,"User: "+e+", "+n.length+" points.",o,this.renderer.plotPropReader.props),this.activeBrushView.hitArea=this.activeBrushModel,this.activeBrushView.interactive=!0,this.activeBrushView.visible=!1,this.activeBrushView.mouseover=function(){console.log("Shape contains: "+n.length+" points.")},this.activeBrushView.clear(),delete this.activeBrushView,delete this.activeBrushModel}else this.activeBrushView.clear(),delete this.activeBrushView,delete this.activeBrushModel;this.activeBrushView=void 0,this.activeBrushModel=void 0,this.activeBrushModel=void 0}}onContextMenu(e){e.preventDefault();var t=this.scatterPoints.kdeValues();t.color="Grey",this.basePlotContainer.filters&&2===this.basePlotContainer.filters.length&&(t.color=this.lutFilter.currentName),ReScatter.controlEventModel.putControlEventModel("plotContextMenu",{plot:this,coords:{x:e.clientX,y:e.clientY},kde:t}),this.contextMenuLinked=!0,e.stopPropagation()}__mapProperty(e,t,n,r,i){var o=n.propMap[e].mapOp,a=n.propMap[e].mapFn,s=this,l=i;return new Promise((function(i){if(void 0===o){if(void 0===a){var c=l.group;if("group"===e)l[e]=t;else if("color"===e){var u=new Array(c.length);c.map((function(e,t){var n=s.allPointSprites[e];u[t]=n.tint})),l[e]=u}else if("size"===e){var h=new Array(c.length);c.map((function(e,t){var n=s.allPointSprites[e];h[t]=n.pointSize})),l[e]=h}}else l[e]=a(t,s.plotPropReader.props,r);i(l)}else{ReScatter.data.DataMapper.getDataMap(n.dataMap).mapData(t,o).then((function(t){l[e]=a?a(t,s.plotPropReader.props,r):t,i(l)})).catch((function(e){console.log("Error in property mapping: "+e+" for "+s.id),i(l)}))}}))}processDynamicSelection(e,t){switch(e.op){case"create":this.addSelectionToContainer(this.dynamicRoot,void 0,e,t);break;case"transitive":this.applyTransitiveSelection(e,t);break;case"delete":try{this.dynamicRoot.removeChildren(),this.dynamicRoot.visible=!1,this.selectionsRoot.visible=!0,this.render()}catch(e){console.log("Error processing dynamic selection "+e)}finally{var n=this;setTimeout((function(){n.processingDone()}),0)}break;default:this.processingDone()}}addSelectionToContainer(e,t,n,r){var i=Promise.resolve({color:void 0,size:void 0,group:void 0}),o=this;i.then((function(e){return o.__mapProperty("group",n.sel.dataPoints,r,void 0,e)})).then((function(e){return o.__mapProperty("color",n.sel.dataPoints,r,n.sel.color,e)})).then((function(e){return o.__mapProperty("size",n.sel.dataPoints,r,void 0,e)})).then((function(i){try{var a=r.propMap,s=a.color.propAssign!==$e.propAssign.POINT,l=a.size.propAssign!==$e.propAssign.POINT,c=s?i.color:void 0,u=l?i.size:4;"dyna"===n.type&&o.dynamicRoot.removeChildren();var h,d=new ReScatter.view.PointGroupView(o,n.sel.label,e,u,c,o.xScaleFunc,o.yScaleFunc,o.zoom);a.effects&&a.effects.map((function(e){switch(e){case"Outline":d.outline=!0;break;case"X":case"O":h=e}}));for(var f=function(e){o.annotateInteractionTarget(e)},p=0,g=i.group.length;p<g;p++){var v=s?void 0:i.color[p],m=l?void 0:i.size[p],y=i.group[p];d.addPoint(o.allPointSprites[y].point,v,m,h,o.allPointSprites[y]).mouseover=f}t&&(o.selectionViews[n.sel.label]=d),"dyna"===n.type?(o.dynamicRoot.visible=!0,o.selectionsRoot.visible=!1,d.visible=!0):n.sel.background&&(d.visible=!1)}catch(e){console.log("Error adding selection "+e+" for "+o.id)}finally{setTimeout((function(){o.processingDone()}),0),o.render()}})).catch((function(e){console.log("Error adding selection:"+e+" in plot: "+o.id),setTimeout((function(){o.processingDone()}),0)}))}applyTransitiveSelection(e,t){var n=this;try{var r=t.propFilter.mapFn,i=[];if(e.sel.dataPoints.forEach((function(e){var t=r(e,n.plotPropReader.props);-1!==t&&i.push(t)})),i.length>0){var o=ReScatter.selectionModel.getNewLabel(this.selectionOutId);ReScatter.selectionModel.putSelection(o,this.elementId,i,7807522,this.selectionOutId+" selection via: "+e.sel.originator+", points: "+i.length,this.selectionOutId,this.plotPropReader.props)}}catch(e){console.log("Error performing transitive selection:"+e+" in plot: "+n.id)}finally{setTimeout((function(){n.processingDone()}),0)}}__deletePointGroup(e){var t=this.selectionViews[e];void 0!==t&&(delete this.selectionViews[e],t.destroy(),this.render())}displayPlotData(e){console.log("display plot data for: "+this.annotations.length);var t,n=this,r=Math.max.apply(Math,this.plotPoints.map((function(e){return e.x}))),i=Math.min.apply(Math,this.plotPoints.map((function(e){return e.x}))),o=r-i,a=Math.max.apply(Math,this.plotPoints.map((function(e){return e.y}))),s=Math.min.apply(Math,this.plotPoints.map((function(e){return e.y}))),l=a-s;this.yScaleFunc=function(e){return(e-s)*((n.plotSize-40)/l)+20},this.xScaleFunc=function(e){return(e-i)*((n.plotSize-40)/o)+20},t=function(e){n.annotateInteractionTarget(e)},console.log("using single container, annotations: "+n.annotations.length),n.scatterPoints=new ReScatter.view.PointGroupView(n,"pointGroup_0",n.basePlotContainer,3,void 0,n.xScaleFunc,n.yScaleFunc,n.zoom),function(r){console.log("Sprites in container for: "+n.elementId);for(var i=r;i<n.plotPoints.length;i++){var o=n.plotPoints[i];n.allPointSprites[i]=n.scatterPoints.addPoint(o,e[i]),n.allPointSprites[i].mouseover=t}n.scatterPoints.visible=!0,n.render(),console.log("Start rendering"),n.frameDelay=50,n.processingLoop(!0),setTimeout((function(){!function(e){ReScatter.controlEventModel.putControlEventModel("rendererLoadComplete",{renderer:e,rendererId:e.elementId,type:"plot"})}(n)}),100)}(0)}annotateInteractionTarget(e){var t=e.target;t.point&&this.annotatePoint(t,e)}annotatePoint(e,t){if(!this.plotRoot.captureMouse){void 0!==t&&t.stopPropagation(),this.popupContainer.removeChildren(),this.annotationTarget=e;var n=e.point.sym,r=Math.round(14/this.zoom),i=Math.round(5/this.zoom),o=PIXI.RESOLUTION*this.zoom;this.textPopup=new PIXI.Text(n,{font:"bold "+r+"px Arial",fill:"white",stroke:"black",strokeThickness:i},o);var a=Math.sqrt(Math.pow(e.point.x,2)+Math.pow(e.point.y,2)),s=20/this.zoom,l=2/this.zoom,c=-s*e.point.x/a,u=-s*e.point.y/a;this.textPopup.x=e.position.x+c,this.textPopup.y=e.position.y+u,this.textPopup.anchor.x=e.point.x<0?0:1,this.textPopup.anchor.y=e.point.y<0?0:1,this.annotLine=new PIXI.Graphics,this.annotLine.lineStyle(l,16711680,1),this.annotLine.moveTo(e.position.x,e.position.y),this.annotLine.lineTo(this.textPopup.x,this.textPopup.y),this.popup=this.popupContainer.addChild(this.textPopup),this.popup=this.popupContainer.addChild(this.annotLine),this.dynamicSelectionId&&this.selectOver===nt.SelectionEnum.MOUSEOVER&&this.mouseOverDynamicSelection(e.point.index)}}mouseOverDynamicSelection(e){if(this.mouseOverSeedIndex=e,this.mouseOverIndexes=[],this.numNeighbours>=0)for(var t=this.tree.nearest(this.plotPoints[e],this.numNeighbours+1),n=0;n<t.length;n++)(!this.mouseOverExcludeSeed||this.mouseOverExcludeSeed&&e!==t[n][0].i)&&this.mouseOverIndexes.push(t[n][0].i);e>-1&&this.mouseOverIndexes.length>0&&ReScatter.dynamicSelectionModel.putDynamicSelection(this.elementId,this.mouseOverIndexes,7807522,this.dynamicSelectionId,this.plotPropReader.props)}applyZoomToPoint(e){var t=this.plotRoot.position,n=this.zoom,r=0,i=0;if(1!==this.zoomFactor){var o=this.plotRoot.scale.x,a=e.offsetX,s=e.offsetY;r=n/o*(t.x-a)+a,i=n/o*(t.y-s)+s}this.plotRoot.position=new PIXI.Point(r,i),this.plotRoot.scale=new PIXI.Point(this.zoom,this.zoom),this.zoomActiveOverlays(this),this.render()}zoomActiveOverlays(e){e.scatterPoints.zoom(e.zoom),Object.keys(e.selectionViews).forEach((function(t){e.selectionViews[t].visible&&e.selectionViews[t].zoom(e.zoom)})),e.popupContainer.children.length>0&&e.annotatePoint(e.annotationTarget)}zoomWheel(e){(e.ctrlKey||e.metaKey)&&(e.preventDefault(),e.deltaY<0&&this.currentZoomLevel<this.maxZoomLevel?(this.currentZoomLevel++,this.zoomFactor=this.zoomLevels[this.currentZoomLevel],this.applyZoomToPoint(e)):e.deltaY>0&&this.currentZoomLevel>0&&(this.currentZoomLevel--,this.zoomFactor=this.zoomLevels[this.currentZoomLevel],this.applyZoomToPoint(e)))}selectOnClick(){if(this.selectOver===nt.SelectionEnum.MOUSEOVER&&0!==this.mouseOverIndexes.length){var e=ReScatter.selectionModel.getNewLabel(this.selectionOutId);ReScatter.selectionModel.putSelection(e,this.renderer.elementId,this.mouseOverIndexes,7807522,"Seed: "+this.plotPropReader.getSymbol(this.mouseOverSeedIndex)+(this.mouseOverExcludeSeed?" (excluded) ":" ")+this.mouseOverIndexes.length+" points.",this.selectionOutId)}}getPropertyIndexNeighbours(e){var t=[],n=this;return e.forEach((function(e){if(n.numNeighbours>=0)for(var r=n.tree.nearest(n.plotPoints[e],n.numNeighbours+1),i=0;i<r.length;i++)(!n.mouseOverExcludeSeed||n.mouseOverExcludeSeed&&e!==r[i][0].i)&&t.push(r[i][0].i)})),t}neighbourhoodSelectIndexes(e){this.mouseOverIndexes=[],this.propertyOverIndexes=e;var t=this.getPropertyIndexNeighbours(e);t.length>0&&ReScatter.dynamicSelectionModel.putDynamicSelection(this.elementId,t,7807522,this.dynamicSelectionId,this.plotPropReader.props)}selectOnProperty(){if(0!==this.propertyOverIndexes.length){var e=this.getPropertyIndexNeighbours(this.propertyOverIndexes),t=ReScatter.selectionModel.getNewLabel(this.selectionOutId);ReScatter.selectionModel.putSelection(t,this.elementId,e,7807522,"Seed: "+this.plotPropReader.getSymbol(this.propertyOverIndexes[0])+(this.mouseOverExcludeSeed?" (excluded) ":" ")+e.length+" points.",this.selectionOutId)}}get zoom(){return this.resizeZoom*this.zoomFactor}static get SelectionEnum(){return{NONE:0,MOUSEOVER:1,PROPOVER:2}}}!function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(nt,"brushModeEnum",new ae({CIRCLE:"Circle",RECTANGLE:"Rectangle",FREEHAND:"Freehand"})),p.impl(nt,[],{loadPlotData(e,t,n){this.plotPoints=new Array(e.length),this.allPointSprites=new Array(e.length);var r=new Array(e.length);this.annotationPoints={},this.plotPropReader=new et(t,n);var i=function(e,t){return void 0===e||void 0===t?1e3:Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)};this.renderer.backgroundColor=this.plotPropReader.getBackgroundColor();var o=[],a=this;!function t(n){var s;for(s=n;s<e.length;s++){var l={x:e[s][0],y:-e[s][1],id:a.plotPropReader.getId(s),sym:a.plotPropReader.getSymbol(s),properties:a.plotPropReader.props,index:s};r[s]={x:e[s][0],y:-e[s][1],i:s},o.push(a.plotPropReader.getColor(s)),a.plotPoints[s]=l;var c=a.plotPropReader.getGroup(s);if(c&&(-1===a.annotations.indexOf(c)&&(a.annotations.push(c),a.annotationsColor.push(o[s]),a.annotationPoints[c]=[]),a.annotationPoints[c].push(l)),s%1e3==999)break}s<e.length-1?(ReScatter.controlEventModel.putControlEventModel("loadingProgress",{id:a.id,total:e.length,loaded:s+1}),setTimeout(t,10,s+1)):(a.tree=new tt.kdTree(r,i,["x","y","i"]),setTimeout(a.displayPlotData.bind(a,o),10))}(0)},onResize(){this.plotWindowSize=this.plotElement.clientWidth;var e=this.zoom;this.resizeZoom=this.plotWindowSize/this.originalSize;var t=this.zoom/e,n=this.plotRoot.position;n.x=t*n.x,n.y=t*n.y,this.plotRoot.position=n,this.plotRoot.scale=new PIXI.Point(this.zoom,this.zoom),this.renderer.resize(this.plotWindowSize,this.plotWindowSize),this.zoomActiveOverlays(this),this.render()}}),ke.impl(nt,[],{processSelectionEvent(e){var t;if("dyna"!==e.type)if(t=this.selectionIn[e.id],"create"!==e.op)try{switch(e.op){case"delete":this.__deletePointGroup(e.sel.label);break;case"color":if(t.propMap.color.propAssign!==$e.propAssign.POINT){var n=this.selectionViews[e.sel.label];n.setColor(e.sel.color),n.visible&&this.render()}break;case"hide":var r=this.selectionViews[e.sel.label];r&&(r.visible=!1,this.render());break;case"show":var i=this.selectionViews[e.sel.label];i&&(this.dynamicRoot.visible=!1,this.selectionsRoot.visible=!0,i.visible=!0,i.zoom(this.zoom),this.render());break;case"update":if(this.selectionOutId===e.sel.selectionId){this.__deletePointGroup(e.sel.label);var o=$.extend({},e);o.op="create",this.addSelectionToContainer(this.selectionsRoot,this.selectionViews,o,t)}break;default:console.log("Unmatched context operation "+e)}}catch(e){console.log("Error processing context op "+e)}finally{this.processingDone()}else this.addSelectionToContainer(this.selectionsRoot,this.selectionViews,e,t);else void 0!==(t=this.dynamicSelectionIn[e.id])?this.processDynamicSelection(e,t):this.processingDone()}}),be.impl(nt,[],{onControlEvent(e){switch(e.eventName){case"brushMode":this.brushType=e.event.brushType;break;case"editOp":this.editOp=e.event.editOp;break;case"editMode":if(this.editMode="NEW","EXISTING"===e.event.editMode&&this.selectionOutId===e.event.selectionId){var t=this.selectionViews[e.event.editTarget];t&&(t.visible=!0,this.editMode="EXISTING")}break;case"numNeighbours":if(e.event.selector===this.dynamicSelectionId&&(this.numNeighbours=e.event.number,this.selectOver!==nt.SelectionEnum.NONE&&this.contextMenuLinked))switch(this.selectOver){case nt.SelectionEnum.MOUSEOVER:this.mouseOverDynamicSelection(this.mouseOverSeedIndex);break;case nt.SelectionEnum.PROPOVER:this.neighbourhoodSelectIndexes(this.propertyOverIndexes)}break;case"plotContextMenuClosed":e.event.selector===this.dynamicSelectionId&&this.id===e.event.value.formId&&(this.contextMenuLinked=!1);break;case"mouseOverActive":e.event.selector===this.dynamicSelectionId&&(this.selectOver=e.event.active,this.mouseOverExcludeSeed=e.event.noSeed,this.captureKeys(this.selectOver!==nt.SelectionEnum.NONE));break;case"kdePlotActive":if(e.event.selector===this.dynamicSelectionId){var n=e.event.value;if(n.active){this.scatterPoints.setKdeOn(n.sigma,n.contours),this.colorSet||(this.lutFilter=new ReScatter.view.LUTFilter(this.plotPropReader.getBackgroundColor()),this.colorSet=[this.lutFilter]),this.basePlotContainer.filters=this.colorSet;var r="Grey"===n.color?"gray":n.color,i=this;this.lutFilter.setLut(r,(function(){i.basePlotContainer.filters=i.colorSet,i.render()}))}else this.scatterPoints.setKdeOff(),this.basePlotContainer.filters=void 0,this.render()}break;case"kdePlotChanged":if(e.event.selector===this.dynamicSelectionId){var o=e.event.value;if(o.active){this.scatterPoints.updateKde(o.sigma,o.contours);var a="Grey"===o.color?"gray":o.color,s=this;this.lutFilter.setLut(a,(function(){s.basePlotContainer.filters=s.colorSet,s.render()}))}}break;case"propertySelect":e.event.selector===this.dynamicSelectionId&&e.event.targetPlotId===this.id&&this.neighbourhoodSelectIndexes(e.event.indexes);break;case"savePropertySelect":e.event.selector===this.dynamicSelectionId&&e.event.targetPlotId===this.id&&this.selectOnProperty();break;case"changePointMode":this.currentConfig=e.event.pointMode,this.selectionIn=this.switchableSelections.getSelectionMapping(this.currentConfig),this.dynamicSelectionIn=this.switchableSelections.getDynamicSelectionMapping(this.currentConfig);break;default:return}}}),Z.impl(nt,[],{getNumberofCanvases:()=>1,getCanvasNameAtIndex(){return this.id},getCanvasAtIndex(){return this.renderer.view}});var rt=new Te,it=null;class ot{constructor(){if(it)return it;this.currentPlot=void 0,this.inInitialize=!1,this.controlGroups=new Map,this.controlGroups.set(ot.selectionState.ALL,["seedPropId","seedPropValueId","savePropSelectionId","excludeSeedId","NumNeighboursId","neighboursSectionId","brushModeId"]),this.controlGroups.set(ot.selectionState.DRAW,["brushModeId"]),this.controlGroups.set(ot.selectionState.MOUSEOVER,["excludeSeedId","NumNeighboursId","neighboursSectionId"]),this.controlGroups.set(ot.selectionState.PROPERTY,["seedPropId","seedPropValueId","savePropSelectionId","excludeSeedId","NumNeighboursId","neighboursSectionId"]);var e=(new X).getLutNameGroups(),t=Object.keys(e);this.lutNames=["Grey"],t.forEach((function(t){this.lutNames.push({id:" "+t+"' disabled '",value:t}),e[t].forEach((function(e){this.lutNames.push(e)}),this)}),this);var n=this;return this.plotContextMenu=O.a.ui({view:"window",container:ReScatter.CONTROL_ID.PLOTMENU,hidden:!0,move:!0,zindex:999,sizeToContent:!0,id:"plotContextMenuUI",head:{view:"toolbar",margin:-4,height:25,cols:[{view:"label",label:"Settings"},{view:"icon",icon:"times-circle",css:"alter",on:{onItemClick:function(){n.hideMe()}}}]},body:{id:"plotProperties",view:"form",autoheight:!0,width:350,type:"clean",complexData:!0,elements:[{view:"text",label:"Plot",name:"plotId",id:"ReScatter_context_plotId",readonly:!0},{view:"text",name:"staticSelectionLabel",readonly:!0,hidden:!0},{view:"text",name:"dynamicSelectionLabel",readonly:!0,hidden:!0},{view:"text",name:"canvasSelectorLabel",readonly:!0,hidden:!0},{view:"template",template:"Selection",type:"section",height:25},{rows:[{view:"radio",label:"Method:",name:"activeSelection",id:"ReScatter_context_selectionRadio",value:0,height:25,optionHeight:12,options:[{id:ReScatter.control.PixijsPlotController.SelectionEnum.NONE,value:"Draw"},{id:ReScatter.control.PixijsPlotController.SelectionEnum.MOUSEOVER,value:"Mouse"},{id:ReScatter.control.PixijsPlotController.SelectionEnum.PROPOVER,value:"Property"}],on:{onChange:function(e,t){n.changeSelectionControlState(e),n.changeActiveSelection(this,e,t)}}},{view:"select",id:"brushModeId",label:"Brush mode",inputWidth:250,labelWidth:100,value:"Circle",yCount:"3",autoheight:!0,readonly:!0,options:le(nt.brushModeEnum),on:{onChange:function(e){ReScatter.controlEventModel.putControlEventModel("brushMode",{brushType:e})}}},{view:"select",id:"seedPropId",label:"Prop",inputWidth:250,labelWidth:70,inputHeight:30,readonly:!0,options:[],on:{onChange:function(e){var t=this.getFormView().elements.staticSelectionLabel.getValue();document.body.style.cursor="wait",setTimeout((function(){var n=ReScatter.dataModel.getUniqueSelectionPropValues(t,e);n=n.map((function(e){return e.toString()})),$$("seedPropSuggest").getList().clearAll(),$$("seedPropSuggest").getList().parse(n.sort()),document.body.style.cursor="auto"}),0)}}},{view:"text",id:"seedPropValueId",label:"Value",inputWidth:250,labelWidth:70,inputHeight:30,suggest:{id:"seedPropSuggest",keyPressTimeout:50,filter:function(e,t){return void 0!==e.value&&(e.value.toString().length<=1?0===e.value.toString().toLowerCase().indexOf(t.toLowerCase()):t.length>0&&0===e.value.toString().toLowerCase().indexOf(t.toLowerCase()))},on:{onValueSuggest:function(){n.doPropertySelection()}},data:[]},on:{onKeyPress:function(e){e==="\r".charCodeAt(0)&&n.doPropertySelection()}}},{view:"button",id:"savePropSelectionId",label:"Save prop selection",align:"center",height:25,width:175,on:{onItemClick:function(){var e=this.getFormView().elements.dynamicSelectionLabel.getValue();ReScatter.controlEventModel.putControlEventModel("savePropertySelect",{selector:e,targetPlotId:$$("plotProperties").elements.plotId.getValue()})}}},{view:"template",template:"Nearest Neighbours",type:"section",id:"neighboursSectionId",height:25},{cols:[{view:"checkbox",label:"Exclude seed",labelPosition:"top",id:"excludeSeedId",width:140,name:"mouseInteractionNoSeed",value:!0,height:35,gravity:3,on:{onItemClick:function(){var e=$$("plotProperties").elements.dynamicSelectionLabel.getValue();ReScatter.controlEventModel.putControlEventModel("mouseOverActive",{active:parseInt(this.getFormView().elements.activeSelection.getValue()),noSeed:this.getFormView().elements.mouseInteractionNoSeed.getValue(),selector:e})}}},{view:"slider",id:"NumNeighboursId",title:"Neighbors: 15",name:"numNeighbours",width:190,height:35,value:15,step:1,min:0,disabled:!1,on:{onSliderDrag:function(){n.neighboursChange(this)},onChange:function(){n.neighboursChange(this)}}}]},{view:"template",template:"Display effect",type:"section",id:"effectsSectionId",height:25},{view:"select",id:"pointDisplayId",name:"pointDisplayMode",label:"Point color",labelWidth:100,readonly:!0,options:["Default"],on:{onChange:function(e){ReScatter.controlEventModel.putControlEventModel("changePointMode",{pointMode:e})}}}]},{view:"template",template:"Density plot",type:"section",height:25},{cols:[{view:"checkbox",label:"Active",name:"kdePlotActivate",id:"kdePlotActivateId",value:!1,on:{onItemClick:function(){var e=this.getFormView().elements.dynamicSelectionLabel.getValue(),t=this.getFormView().elements.kdekernelSigma.getValue(),n=this.getFormView().elements.kdekernelContours.getValue(),r=this.getFormView().elements.kdePlotColor.getValue();ReScatter.controlEventModel.putControlEventModel("kdePlotActive",{selector:e,value:{active:this.getValue(),sigma:t,contours:n,color:r}})}}},{view:"select",name:"kdePlotColor",id:"lutColorId",label:"Color",disabled:!0,inputWidth:175,labelWidth:70,readonly:!0,options:[],on:{onChange:function(){it.kdeChange(this)}}}],height:25},{view:"slider",id:"kdeSigmaSlider",title:"Sigma: 12",height:35,name:"kdekernelSigma",value:12,min:1,max:80,step:1,on:{onChange:function(){n.kdeChange(this,"Sigma")},onSliderDrag:function(){n.kdeChange(this,"Sigma")}}},{view:"counter",id:"kdeContourCounter",label:"Contours",height:35,name:"kdekernelContours",value:32,min:5,max:63,step:1,on:{onChange:function(){n.kdeChange(this)}}},{view:"template",template:"Plot to image",type:"section",height:25},{cols:[{view:"button",id:"savePlot",label:"Current",height:25,on:{onItemClick:function(){var e=this.getFormView().elements.canvasSelectorLabel.getValue(),t=this.getFormView().elements.plotId.getValue();ReScatter.utils.SnapshotSaver.saveCanvasToPng(e,t+".png")}}},{view:"button",id:"saveAllPlots",label:"All",height:25,on:{onItemClick:function(){Me.snapshotAll()}}}]}],on:{onValues:function(){this.elements.numNeighbours.define("max",this.getValues().maxNeighbours),this.elements.numNeighbours.define("title","Neighbours: "+this.elements.numNeighbours.getValue())},onHide:function(){this.hideMe()}}}}),rt.addTooltipToWebixControl(this.plotContextMenu,"IMEPlotContextMenu","top-right"),it=this}__setDisplayEffects(e){$$("effectsSectionId").show(),$$("pointDisplayId").show(),$$("pointDisplayId").define("options",Array.from(e)),$$("pointDisplayId").refresh()}__setDisplayEffectVisibility(e){e.length<=1&&($$("effectsSectionId").hide(),$$("pointDisplayId").hide())}kdeChange(e,t){if(void 0!==t&&e.define("title",t+": "+e.getValue()),e.refresh(),e.getFormView().elements.kdePlotActivate.getValue()){var n=e.getFormView().elements.dynamicSelectionLabel.getValue(),r=e.getFormView().elements.kdekernelSigma.getValue(),i=e.getFormView().elements.kdekernelContours.getValue(),o=e.getFormView().elements.kdePlotColor.getValue();this.inInitialize||ReScatter.controlEventModel.putControlEventModel("kdePlotChanged",{selector:n,value:{active:!0,sigma:r,contours:i,color:o}})}}neighboursChange(e){var t=e.getFormView().elements.dynamicSelectionLabel.getValue();e.define("title","Neighbours: "+e.getValue()),e.refresh(),this.inInitialize||ReScatter.controlEventModel.putControlEventModel("numNeighbours",{number:e.getValue(),selector:t})}changeActiveSelection(e,t){if(!this.inInitialize){var n=parseInt(t),r=e.getFormView().elements.dynamicSelectionLabel.getValue();ReScatter.controlEventModel.putControlEventModel("mouseOverActive",{active:n,noSeed:e.getFormView().elements.mouseInteractionNoSeed.getValue(),selector:r})}}changeSelectionControlState(e){var t="string"==typeof e?parseInt(e):e;this.controlGroups.get(ot.selectionState.ALL).forEach((function(e){$$(e).hide()})),this.controlGroups.get(t).forEach((function(e){$$(e).show()}))}hideMe(){if(this.currentPlot){var e=$$("plotProperties");ReScatter.controlEventModel.putControlEventModel("plotContextMenuClosed",{selector:e.elements.dynamicSelectionLabel.getValue(),value:{formId:this.currentPlot.id}})}$$("plotContextMenuUI").hide()}doPropertySelection(){var e=$$("plotProperties").elements.staticSelectionLabel.getValue(),t=$$("plotProperties").elements.dynamicSelectionLabel.getValue(),n=$$("seedPropId").getValue(),r=$$("seedPropValueId").getValue(),i=ReScatter.dataModel.getSelectionIndexes(e,n,r,!0);ReScatter.controlEventModel.putControlEventModel("propertySelect",{indexes:i,selector:t,targetPlotId:$$("plotProperties").elements.plotId.getValue()})}static get selectionState(){return{ALL:nt.SelectionEnum.NONE-1,DRAW:nt.SelectionEnum.NONE,MOUSEOVER:nt.SelectionEnum.MOUSEOVER,PROPERTY:nt.SelectionEnum.PROPOVER}}}be.impl(ot,[],{onControlEvent(e){switch(e.eventName){case"plotContextMenu":try{this.inInitialize=!0,this.currentPlot=e.event.plot,this.__setDisplayEffects(this.currentPlot.selectionConfigs),this.plotContextMenu.show(),$$("plotProperties").setValues({dynamicSelectionLabel:e.event.plot.dynamicSelectionId,staticSelectionLabel:e.event.plot.selectionOutId,canvasSelectorLabel:e.event.plot.elementId,plotId:e.event.plot.id,activeSelection:e.event.plot.selectOver,mouseInteractionNoSeed:e.event.plot.mouseOverExcludeSeed,numNeighbours:e.event.plot.numNeighbours,maxNeighbours:Math.ceil(Math.sqrt(e.event.plot.plotPoints.length)),kdekernelSigma:e.event.kde.sigma,kdekernelContours:e.event.kde.contours,kdePlotColor:e.event.kde.color},!0),$$("plotProperties").callEvent("onValues",[]),$$("kdePlotActivateId").setValue(e.event.kde.activate);var t=ReScatter.dataModel.getSelectionPropKeys(e.event.plot.selectionOutId),n=[];t.forEach((function(e){n.push({id:e,value:e})}));var r=$$("seedPropId").isVisible();$$("seedPropId").show(),$$("seedPropId").define("options",t.sort()),$$("seedPropId").setValue(ReScatter.dataModel.getSelectionPrimaryProp(e.event.plot.selectionOutId)),$$("seedPropId").refresh(),r||$$("seedPropId").hide(),r=$$("lutColorId").isVisible(),$$("lutColorId").show(),$$("lutColorId").define("options",this.lutNames),$$("lutColorId").refresh(),$$("lutColorId").setValue(e.event.kde.color),$$("lutColorId").enable(),r||$$("lutColorId").hide(),this.__setDisplayEffectVisibility(this.currentPlot.selectionConfigs),this.plotContextMenu.setPosition(e.event.coords.x,e.event.coords.y)}catch(e){console.log("Error displaying plot context menu: "+e)}finally{this.inInitialize=!1}break;case"numNeighbours":$$("plotProperties").getValues().dynamicSelectionLabel===e.event.selector&&$$("plotProperties").setValues({numNeighbours:e.event.number},!0);break;case"hidePlotContextMenu":this.hideMe();break;default:return}}});var at=null;class st{constructor(){if(at)return at;this.id="loadPredefinedSelectionsId",this.lastLoaded="";var e=this;return this.predefSelectionsDef={id:e.id,view:"datatable",columns:[{id:"title",header:"Name",width:250,template:"<p>#title#<p>"},{id:"description",hidden:!0,header:"Description",minWidth:120,template:"<p>#description#<p>"},{id:"targetId",hidden:!0,header:"Type",minWidth:60,template:"<p>#targetId#</p>"}],header:!1,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:25,rowHeight:25,select:"row",scrollX:!1,multiselect:!1,on:{onResize:O.a.once((function(){this.myAdjustRowHeight(["title"],!0),this.render()})),onSelectChange:function(){var t=this.getSelectedItem();e.loadPredefinedSelections(t)}}},this.formId=ReScatter.controlWidgetLayout.addTabView(this.predefSelectionsDef,"Predefined selections",!1),at=this}renewSelections(e){$$(this.formId).clearAll(),e&&$$(this.formId).parse(e)}getLastLoaded(){return this.lastLoaded}getPreloadControlDef(){return this.predefSelectionsDef}clearLastLoaded(){this.lastLoaded=""}loadPredefinedSelections(e){if(void 0!==e){ReScatter.selectionTable.clearAll();var t=e.preselect,n=[{path:t,type:"json"}],r=this;ReScatter.dataModel.dataCache.loadFiles(n,(function(){r.addSelections(e.id,e.targetId,t)})),ReScatter.selectionDataWidget.expand()}}addSelections(e,t,n){var r=ReScatter.dataModel.dataCache.getFromCache(n);ReScatter.selectionTable.render(),this.lastLoaded=e;for(var i=0,o=r.length;i<o;i++)$("#"+ReScatter.CONTROL_ID.LOADINGPROMPT).text("Loading selection:  "+r[i].description),ReScatter.selectionModel.putSelection(r[i].selection,"Predefined",r[i].dataPoints,parseInt(r[i].color.replace("#","0x")),r[i].description,t,void 0,!0);$("#loading").css("display","none")}hidePrivateColumns(){["description","targetId"].forEach((function(e){$$(this.id).hideColumn(e)}))}getId(){return this.id}}var lt=null,ct=n(28);class ut{constructor(e){return lt||(this.layoutData=e,this.ids=[],this.__updateIds(),this.pubsubid="DYNAMICCONTENT_"+Date.now(),lt=this)}getNextId(){return this.ids.length>0?this.ids.slice(-1)[0]+10:10}addLayout(e){if(-1!==this.ids.indexOf(e.id))throw new Error("Plot data plot ids must be unique");this.layoutData.push(e),this.__updateIds(),ct.publish(this.pubsubid,{layouts:this})}removeLayout(e){this.layoutData=this.layoutData.filter((function(t){return t.id!==e})),this.__updateIds()}cloneLayout(e){var t=JSON.parse(JSON.stringify(e));e.selectionConfigs&&(t.selectionConfigs=Array.from(e.selectionConfigs)),e.recalculation&&(t.recalculation=e.recalculation);for(var n=0;n<e.plots.length;n++){var r=e.plots[n],i=t.plots[n];if(i.layoutTarget!==ReScatter.control.LayoutController.LayoutTarget.SPACER){for(var o=0,a=Object.keys(r.format);o<a.length;o++){var s=a[o];"function"==typeof r.format[s]&&(i.format[s]=r.format[s])}if(i.selections||(i.selections={}),r.selections.selectionIn){i.selections.selectionIn={};for(var l=0,c=Object.keys(r.selections.selectionIn);l<c.length;l++){var u=c[l];i.selections.selectionIn[u]=r.selections.selectionIn[u]}}if(r.selections.dynamicSelectionIn){i.selections.dynamicSelectionIn={};for(var h=0,d=Object.keys(r.selections.dynamicSelectionIn);h<d.length;h++){var f=d[h];i.selections.dynamicSelectionIn[f]=r.selections.dynamicSelectionIn[f]}}r.selections.switchableSelections&&(i.selections.switchableSelections=r.selections.switchableSelections)}}if(e.choropleths)for(var p=0;p<e.choropleths.length;p++){for(var g=e.choropleths[p],v=t.choropleths[p],m=0,y=Object.keys(g.selectionIn);m<y.length;m++){var A=y[m];v.selectionIn[A]=g.selectionIn[A]}for(var b=0,w=Object.keys(g.dynamicSelectionIn);b<w.length;b++){var S=w[b];v.dynamicSelectionIn[S]=g.dynamicSelectionIn[S]}}return t}addDerivedLayout(e,t,n,r,i,o,a,s){var l=this.layoutData.filter((function(t){return t.id===e}));if(1!==l.length)throw new Error("No plot found to clone");var c=this.cloneLayout(l[0]);c.id=this.getNextId(),c.title=t,c.description=n,Object.keys(r).forEach((function(e){var t=c.plots.find((function(t){return t.id===e}));t.data.points=r[e],t.data.props=i[e]}));for(var u=[],h=0,d=Object.keys(o);h<d.length;h++){var f=d[h],p={id:f,filePath:o[f]};u.push(p)}c.dataMaps=u;var g=this;ReScatter.dataModel.getPredefinedSelectionsSubSelection(a,s,(function(e){e||g.addLayout(c),c.predefinedSelections=e,g.addLayout(c)}))}__updateIds(){var e=[];this.layoutData.forEach((function(t){if(e.indexOf(t.id)>-1)throw new Error("Plot data plot ids must be unique");if("number"!=typeof t.id)throw new Error("Plot ids must be numeric");e.push(t.id)})),e.sort((function(e,t){return e-t})),this.ids=e}getLayoutConfig(){return this.layoutData}}var ht=d.define([],{beforeContentChange:[],afterContentChange:[],resize:[]}),dt=d.define(["menuName","symbol","selectionList","selectionDescription"],{getMenuName:[],getPropertySymbol:[],getSupportedSelectionIds:[],exportSelection:["selectionList","selectionDescription"]}),ft=d.define(["operationGuid","dataCache","recalcConfig","dataMap","selectionIndexes","selectionId"],{getRecalculationData:["operationGuid","dataCache","recalcConfig","dataMap","selectionIndexes","selectionId"],getDataMap:[]}),pt=n(28);class gt{constructor(){ht.hasImpl(new.target)||alert("LayoutTableWidgetBase child: "+new.target.name+" must implement the LayoutWidgetProtocol"),this.layouts=new ut,this.layoutData=this.layouts.getLayoutConfig();var e=this;pt.subscribe(this.layouts.pubsubid,(t,n)=>{e._contentChanged(t,n)})}_contentChanged(e,t){this.beforeContentChange(),this.layoutData=t.layouts.getLayoutConfig(),this.afterContentChange()}loadLayout(e){ReScatter.viewController.loadLayout(e)}}class vt extends gt{constructor(){function e(e){var t="";if(void 0!==e)for(var n=0,r=e.length;n<r;n++)t+=e[n].id,n<r-1&&(t+=",<br>");else t="None";return t}super(),this.__id="selectPlotsId";var t=this;this.tableData=this.parseDataFromLayouts(this.layoutData),this.contentTableDef={id:this.id,view:"datatable",columns:[{id:"title",header:"Name",width:250,template:"<p class='rescatter-layout-title' style='word-wrap: break-word'>#title#<p>"},{id:"description",hidden:!0,header:"Description",template:"<p style='word_wrap: break-word'>#description#<p>"},{id:"plots",hidden:!0,header:"Plots",template:function(t){return"<p style='word-wrap: break-word'>"+e(t.plots)+"</p>"}},{id:"ontology",hidden:!0,header:"Ontology",template:function(t){return"<p style='word-wrap: break-word'>"+e(t.ontologies)+"</p>"}},{id:"choropleth",hidden:!0,header:"Choropleth",template:function(t){return"<p style='word-wrap: break-word'>"+e(t.choropleths)+"</p>"}}],autoheight:!0,header:!1,resizeColumn:!0,fixedRowHeight:!1,rowLineHeight:25,rowHeight:25,select:"row",multiselect:!1,scrollX:!1,on:{onResize:O.a.once((function(){this.myAdjustRowHeight(["title"],!0),this.render()}))},data:this.tableData},this.contentTableId=ReScatter.controlWidgetLayout.addTabView(this.contentTableDef,"Data sets",!1),this.contentTable=$$(this.contentTableId),this.selectChangeEvent=this.contentTable.attachEvent("onSelectChange",(function(){t.doLoadLayout.bind(t)()})),this.sortingCol="id",this.sortByCol(this.sortingCol)}get id(){return this.__id}doLoadLayout(){var e,t=this.contentTable.getSelectedId(),n=!0,r=!1,i=void 0;try{for(var o,a=this.layoutData[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.id===t.id&&(e=s)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}super.loadLayout(e)}parseDataFromLayouts(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l={};l.id=s.id,l.title=s.title,l.description=s.description,l.plots=JSON.parse(JSON.stringify(s.plots)),s.choropleths&&(l.choropleths=JSON.parse(JSON.stringify(s.choropleths))),l.ontologies&&(l.ontologies=JSON.parse(JSON.stringify(s.ontologies))),t.push(l)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}return t}hideColumns(e){e.forEach((function(e){this.contentTable.hideColumn(e)}),this)}sortByCol(e){this.contentTable.sort(e),this.sortingCol=e}}ht.impl(vt,[],{beforeContentChange(){this.contentTable.detachEvent(this.selectChangeEvent),this.contentTable.clearAll()},afterContentChange(){this.tableData=this.parseDataFromLayouts(this.layoutData),this.contentTable.parse(this.layoutData),this.sortByCol(this.sortingCol);var e=this;this.selectChangeEvent=this.contentTable.attachEvent("onSelectChange",(function(){e.doLoadLayout.bind(e)()}))},resize(){}});var mt=null;class yt{constructor(e){if(mt)return mt;this.enabled=!1,this.containerId=ReScatter.CONTROL_ID.TUTORIAL,this.loadedVideos={},this.titles=[],e.forEach((e,t)=>{this.loadedVideos[String(t)]=e.location,this.titles.push({id:t,value:e.title})});var t=this;return this.tutorialsControl=O.a.ui({view:"window",container:t.containerId,hidden:!0,move:!0,css:"tutorialWindow",sizeToContent:!0,id:"tutorialVideosFormWindow",head:{view:"toolbar",margin:-4,cols:[{view:"label",label:"Tutorial videos"},{view:"icon",icon:"times-circle",css:"alter",on:{onItemClick:function(){t.changedTutorialVisibility()}}}]},body:{id:"tutorialVideosForm",view:"form",height:516,width:850,type:"clean",complexData:!0,elements:[{view:"video",id:"tutorialVideoPlayer",hidden:!0,src:[]},{view:"iframe",id:"youtubeembedding",hidden:!1,src:t.loadedVideos[1],width:854,height:480,on:{onBeforeLoad:function(){$$("youtubeembedding").getIframe().setAttribute("allowfullscreen","allowfullscreen")}}},{view:"select",id:"tutorialVideosList",label:"Select tutorial video:",labelWidth:250,value:1,options:t.titles,on:{onChange:function(){var e=t.loadedVideos[this.getValue()];if(e.startsWith("https://www.youtube.com/")||e.startsWith("https://www.youtube-nocookie.com/"))$$("tutorialVideoPlayer").hide(),$$("youtubeembedding").show(),$$("youtubeembedding").load(e);else{$$("tutorialVideoPlayer").show(),$$("youtubeembedding").hide();var n=$$("tutorialVideoPlayer").getVideo();if($$("tutorialVideoPlayer").getNode().getElementsByTagName("source")[0].getAttribute("src")===e)return;n.pause(),$$("tutorialVideoPlayer").getNode().getElementsByTagName("source")[0].setAttribute("src",e),$$("tutorialVideoPlayer").getNode().getElementsByTagName("source")[0].setAttribute("type","video/mp4"),n.play()}}}}]},on:{onShow:function(){var e=$$("tutorialVideoPlayer").getVideo();e.hasAttribute("preload")||e.setAttribute("preload","auto");var t=$$("youtubeembedding").getIframe().getAttribute("src");$$("youtubeembedding").load(t)},onHide:function(){$$("tutorialVideoPlayer").getVideo().pause()}}}),mt}enableTutorial(){this.tutorialsControl.show(),this.enabled=!0,this.updateCheckBox()}disableTutorial(){this.tutorialsControl.hide(),this.enabled=!1,this.updateCheckBox()}changedTutorialVisibility(){this.enabled?this.disableTutorial():this.enableTutorial()}updateCheckBox(){var e=document.querySelector("#"+ReScatter.CONTROL_ID.TUTORIALCHECKBOX);this.enabled?e.nextSibling.data="Hide tutorial":e.nextSibling.data="Show tutorial"}destroy(){}}var At=null;class bt{constructor(e,t){return At||(this.siteConfig=e,this.controlsEnabled=t,this.pluginWidgets=[],At=this)}defineControls(){if(this.widgetsEnabled=this.controlsEnabled.includes("ReScatter.CONTROL_ID.WIDGETS"),this.widgetsEnabled&&(ReScatter.controlWidgetLayout=new ze,ReScatter.preselectionController=new st,ReScatter.layoutTableWidget=new vt,ReScatter.selectionDataWidget=new He,ReScatter.selectionEditWidget=new Ye,ReScatter.selectionUploadWidget=new qe,ReScatter.controlWidgetLayout.switchTabViewTo(ReScatter.layoutTableWidget.id),ReScatter.selectionTable=ReScatter.selectionDataWidget.selectionTable),this.controlsEnabled.includes("ReScatter.CONTROL_ID.TOOLTIPCHECKBOX")){var e=ReScatter.selectionTable.getParentView();ReScatter.control.toolTipController.addTooltipToWebixControl(e,"IMESelections","right","body"),ReScatter.control.toolTipController.addTooltipToWebixControl(e,"IMESelectionEditing","right","body");var t=ReScatter.controlWidgetLayout.getMultiViewParent();ReScatter.control.toolTipController.addTooltipToWebixControl(t,"IMEDataSets","right","body"),ReScatter.control.toolTipController.setupAllToolTips(),ReScatter.control.toolTipController.disableToolTips()}this.controlsEnabled.includes("ReScatter.CONTROL_ID.PLOTMENU")&&(ReScatter.plotContextMenu=new ot),this.controlsEnabled.includes("ReScatter.CONTROL_ID.TUTORIAL")&&(ReScatter.tutorialControl=new yt(this.siteConfig.Tutorials))}setLayoutWidgets(e){var t=e.Widgets,n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value,l=s.plugin,c=s.contentId,u=s.title;ReScatter.controlWidgetLayout.addLayoutTabView(c,u,!0);var h=ReScatter.config.PluginFactory.createWidgetType(l,s,e);Me.addComponent(h),this.pluginWidgets.push(h)}}catch(e){r=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}clearLayoutWidgets(){this.pluginWidgets=[],ReScatter.controlWidgetLayout.removeLayoutTabs()}resize(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.pluginWidgets[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){r.value.resize()}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}}}var wt=null;class St{constructor(){return wt||(this.pointGroup={},wt=this)}makeProgressString(){var e="Loaded: ",t=0,n=0;return Object.getOwnPropertyNames(this.totals).forEach(r=>{e+=r+": "+Math.round(100*this.totals[r].loaded/this.totals[r].total)+"% <br/>",t+=this.totals[r].total,n+=this.totals[r].loaded}),e+=" Loaded: "+n+" of "+t}loadingComplete(){this.totals={}}showPrompt(){$("#"+ReScatter.CONTROL_ID.LOADINGOVERLAY).css("display","inline")}hidePrompt(){$("#"+ReScatter.CONTROL_ID.LOADINGOVERLAY).css("display","none")}}be.impl(St,[],{onControlEvent(e){switch(e.eventName){case"showProgress":console.log("Show progress"),this.showPrompt(),setTimeout(()=>{},10);break;case"hideProgress":console.log("Hide progress"),setTimeout(()=>{},10),this.hidePrompt();break;case"startLoading":this.showPrompt(),$("#"+ReScatter.CONTROL_ID.LOADINGPROMPT).text("Loading:  "+e.event.info),this.totals={};break;case"loadingProgress":this.totals[e.event.id]={total:e.event.total,loaded:e.event.loaded},$("#"+ReScatter.CONTROL_ID.LOADINGPROMPT).html(this.makeProgressString()),setTimeout(()=>{},10);break;case"selectionsProgress":$("#"+ReScatter.CONTROL_ID.LOADINGPROMPT).html(e.event.selectionState),setTimeout(()=>{},10);break;default:return}}});var xt=n(29),Et=(n(156),null);class Ct{constructor(e,t){return Et||(Et=this,this.controlsEnabled=t,this.__init(e),Et)}__init(e){this.plotRenderers=[],this.allRenderers={},this.ontologyTree=void 0,this.siteConfig=e,this.layoutCollection=new ut(this.siteConfig.Layouts),this.layoutController=new Fe(this.controlsEnabled),ReScatter.layoutManager=this.layoutController,this.widgetController=new bt(this.siteConfig,this.controlsEnabled),this.progressController=new St,this.dataModel=new U,this.controlEventModel=ReScatter.controlEventModel,this.siteTitle=this.siteConfig.SiteTitle,this.title="",this.renderPlotIndexes=[],this.widgetController.defineControls(),this.selectionConfig=void 0,this.startupCallback=void 0,this.setupSliders(this),ReScatter.dataModel=this.dataModel,this.siteConfig.Widgets&&this.widgetController.setLayoutWidgets(this.siteConfig),xt(window).on("unload",()=>{this.unload()})}setupSliders(){this.controlsEnabled.includes("ReScatter.CONTROL_ID.LEFTSPLITTER")&&xt("#"+ReScatter.CONTROL_ID.LEFTSPLITTER).prev().resizable({handleSelector:"#"+ReScatter.CONTROL_ID.LEFTSPLITTER,resizeHeight:!1,resizeWidth:!0,resizeWidthFrom:"right",onDrag:e=>{ReScatter.controlWidgetLayout.resize(),this.contentResize(e)},onDragEnd:e=>{ReScatter.controlWidgetLayout.resize(),this.contentResize(e)}});this.controlsEnabled.includes("ReScatter.CONTROL_ID.RIGHTSPLITTER")&&xt("#"+ReScatter.CONTROL_ID.RIGHTSPLITTER).next().resizable({handleSelector:"#"+ReScatter.CONTROL_ID.RIGHTSPLITTER,resizeHeight:!1,resizeWidth:!0,resizeWidthFrom:"left",onDrag:e=>{this.contentResize(e)},onDragEnd:e=>{this.contentResize(e)}})}contentResize(e){ReScatter.viewController.plotRenderers.forEach((function(t){t.onResize(e)})),ReScatter.choroplethControl&&ReScatter.choroplethControl.onPlethResize(e),this.widgetController.resize()}loadLayout(e,t){this.unload(),this.startupCallback=t,this.controlEventModel.addObserver(this),this.controlEventModel.addObserver(this.progressController),this.plotRenderers=[],this.numPlotsToLoad=0,this.numChoroplethsToLoad=0,this.title=e.title,this.controlEventModel.putControlEventModel("startLoading",{info:this.title}),this.layoutDef=e,this.layoutController.setLayout(e,this.controlsEnabled),ReScatter.data.DataMapper.setDataMaps(e.dataMaps),this.selectionConfig=new ReScatter.config.SelectionConfig(e),this.dataModel.loadLayoutDefData(e,(e,t,n,r)=>{this.loadRenderers(e,t,n,r)})}loadLayoutByIndex(e,t){var n=this.layoutCollection.getLayoutConfig();e>=0&&e<n.length&&this.loadLayout(n[e],t)}loadRenderers(e,t,n,r){this.pointData=this.dataModel.dataCache.getCachedList(e),this.propData=this.dataModel.dataCache.getCachedList(t),this.renderPlotIndexes=n,this.ontologyData=this.dataModel.dataCache.getCachedList(r),this.numChoroplethsToLoad=this.layoutController.getNumberOfChoroplethsToLoad(),this.numPlotsToLoad=this.layoutController.getTotalPlots(),setTimeout((function(){xt("#main-block").resize()}),0),this.ontologyData.length>0&&(this.ontology=this.ontologyData[0]);for(var i=0,o=this.layoutDef.plots.length;i<o;i++)setTimeout(e=>this.createRenderer(e),10,i)}createRenderer(e){var t=this.layoutDef.plots[e];if(!this.layoutController.isSpaceLayout(t)){var n=this.renderPlotIndexes[e];if(-1!==n){var r=this.pointData[n],i=this.propData[n],o=this.layoutController.getLayoutElementId(t),a=void 0;a=t.plugin?ReScatter.config.PluginFactory.createPlotType(t.plugin,o,t,this.layoutDef.selectionConfigs):new nt(o,t,this.layoutDef.selectionConfigs),document.getElementById(o+"-title").innerHTML=t.id,Me.addComponent(a),this.plotRenderers.push(a);var s=r.points;a.loadPlotData(s,i.voxel_props,t.format),this.dataModel.putDataProps(t,i.voxel_props)}}}unload(){for(var e=0,t=Object.keys(this.allRenderers);e<t.length;e++){var n=t[e];this.allRenderers[n].destroy()}this.allRenderers={},this.ontologyTree&&(this.ontologyTree.destroy(),this.ontologyTree=void 0),this.renderPlotIndexes=[],this.controlEventModel.removeAllObservers(),this.ontologyTree&&(this.ontologyTree.destroy(),this.ontologyTree=void 0),this.ontology=void 0,this.startupCallback=void 0}loadOntologyData(){if(this.ontologyTree=void 0,this.ontology){this.ontologyTree=new ReScatter.widget.OntologyTree;var e=this.ontology.msg[0];this.ontologyTree.loadOntologyData(ReScatter.layoutManager.getOntology(),e)}}setupSelections(){var e=ReScatter.layoutManager.getPredefinedSelections();ReScatter.preselectionController.renewSelections(e),this.loadOntologyData(),ReScatter.selectionTable.clearAll(),ReScatter.selectionModel.clear(),ReScatter.selectionModel.addObserver(ReScatter.selectionDataWidget),ReScatter.dynamicSelectionModel=new ReScatter.events.DynamicSelection;var t,n,r=ReScatter.layoutManager.getPlots().concat(ReScatter.layoutManager.getChoropleths());for(t=0,n=r.length;t<n;t++){var i=r[t];void 0!==i.id&&(ReScatter.selectionModel.addObserver(this.allRenderers[i.id]),this.controlEventModel.addObserver(this.allRenderers[i.id]),ReScatter.dynamicSelectionModel.addObserver(this.allRenderers[i.id]))}this.controlEventModel.addObserver(ReScatter.plotContextMenu);var o=this.selectionConfig.getStaticSelectionsAsIdValueArray();ReScatter.selectionUploadWidget.updateOptionsFromSelections(o),ReScatter.controlWidgetLayout.collapseSelectionEdit(),this.progressController.hidePrompt(),this.ontologyTree?ReScatter.controlWidgetLayout.switchTabViewTo(this.ontologyTree.getId()):e&&ReScatter.controlWidgetLayout.switchTabViewTo(ReScatter.preselectionController.getId()),xt(window).trigger("resize"),xt("#title").text(this.siteTitle),this.startupCallback&&this.startupCallback()}}be.impl(Ct,[],{onControlEvent(e){switch(e.eventName){case"rendererLoadComplete":"plot"!==e.event.type&&"choropleth"!==e.event.type||(this.allRenderers[e.event.renderer.id]=e.event.renderer),Object.keys(this.allRenderers).length===this.numPlotsToLoad+this.numChoroplethsToLoad&&(this.progressController.loadingComplete(),this.setupSelections());break;default:return}}});var _t=null;class Rt{constructor(e,t){return _t||(e||alert("Set up a siteConfig before starting the SiteInstance"),ReScatter.debugOn=Boolean(t),v.registerChoroplethType("ChoroplethSVGView",ReScatter.view.ChoroplethSVGView),e.ChoroplethPlugins&&Object.entries(e.ChoroplethPlugins).forEach(e=>{v.registerChoroplethType(e[0],e[1])}),v.registerPlotType("PixijsPlotController",ReScatter.control.PixijsPlotController),e.PlotPlugins&&Object.entries(e.PlotPlugins).forEach(e=>{v.registerPlotType(e[0],e[1])}),v.registerWidgetType("LayoutTableWidget",ReScatter.widget.LayoutTableWidget),e.LayoutPlugin&&Object.entries(e.LayoutPlugin).forEach(e=>{v.registerWidgetType(e[0],e[1])}),this.controlsEnabled=ReScatter.utils.control_ids_to_strings(),this.siteConfig=e,this.__addRowHeightFuncToWebix(),ReScatter.viewController=new ReScatter.control.ViewController(this.siteConfig,this.controlsEnabled),this.startupSelection=new Ce,this.startupSelection.performStartupAction(),ReScatter.dimres_url&&v.registerDataJobType(H.getAlgorithmName(),ReScatter.jobs.TsnePlugin),_t=this,this)}__addRowHeightFuncToWebix(){O.a.extend(O.a.ui.datatable,{myAdjustRowHeight:function(e,t,n){function r(t,n){for(var r,o=[t.config.rowHeight],a=0;a<e.length;a++)r=t.getColumnConfig(e[a]),i.style.width=r.width+"px",i.innerHTML=t.getText(n.id,r.id),o.push(i.scrollHeight);n.$height=Math.max.apply(null,o)}"string"==typeof e&&(e=[e]);var i=O.a.html.create("DIV",{class:"webix_table_cell webix_measure_size webix_cell"},"");(i.style.cssText="height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;",this.$view.appendChild(i),n)?r(this,this.getItem(n)):this.data.each((function(e){r(this,e)}),this);i=O.a.html.remove(i),t||this.refresh()}})}}var Tt=new Te,It=n(12),Pt=null;class kt{constructor(){if(Pt)return Pt;this.cache={},Pt=this}__makePromise(e,t,n){Object.prototype.hasOwnProperty.call(this.cache,t)||e.push(new Promise((e,r)=>{var i=new XMLHttpRequest;i.timeout=1e4,i.open("GET",t,!0),t.endsWith(".gz")?i.responseType="arraybuffer":i.responseType=n;var o=this;i.onload=function(){if(t.endsWith(".gz")){var r=new Uint8Array(this.response);o.cache[t]="json"===n?{data:JSON.parse(Object(It.inflate)(r,{to:"string"}))}:{data:Object(It.inflate)(r)}}else o.cache[t]={data:this.response};e()},i.onerror=function(){console.log("Error retrieving: "+t+" status: "+i.statusText+" response: "+i.responseText),r({status:i.statusText,response:i.responseText})},i.send()}))}loadFiles(e,t,n){var r=[],i=[];e.forEach((function(e){i.push(e.path),this.__makePromise(r,e.path,e.type)}),this),r.length>0?Promise.all(r).then((function(){t()})).catch((function(e){n&&n(e)})):t()}asyncLoadFiles(e){var t,n,r,i=this;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=function(e){n.push(e.path),this.__makePromise(t,e.path,e.type)},t=[],n=[],e.forEach(r,i),!(t.length>0)){o.next=8;break}return o.next=7,regeneratorRuntime.awrap(Promise.all(t));case 7:return o.abrupt("return",o.sent);case 8:return o.abrupt("return");case 9:case"end":return o.stop()}}))}isInCache(e){return Object.prototype.hasOwnProperty.call(this.cache,e)}getFromCache(e){return this.cache[e].data}insertInCache(e,t,n){if(!(void 0!==n&&n)&&this.isInCache(t))throw new Error("Trying to overwrite cache without explicit force");this.cache[t]={data:e}}getCachedList(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(this.cache[e[n]].data);return t}}function Ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Dt extends Se{constructor(){super("update"),Ot(this,"use strict",void 0),Ot(this,"use strict",void 0),this.selections={},this.orderedLabels=[],this.labelCount=0,this.visibleSelection=void 0,this.editingLabel=void 0,this.editingSelection=void 0,this.selPriorToEdit=void 0,this.putOperation=Dt.editModeEnum.enum.ADDPOINTS}putSelection(e,t,n,r,i,o,a){var s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(void 0!==this.selections[e]&&(e=this.getNewLabel(e)),void 0===this.editingSelection)return r=void 0!==r?r:7807522,this.selections[e]={label:e,originator:t,dataPoints:n,color:r,description:i,selectionId:o,sourceProps:a,background:s},this.orderedLabels.push(e),this.notify({type:"perm",op:"create",sel:this.selections[e],id:o}),s||this.showSelection(e),e;o===this.editingSelection&&this.__editExisting(e,n)}unionSelections(e,t){this.combineSelections(e,t,"Union")}intersectSelections(e,t){this.combineSelections(e,t,"Intersect")}subtractSelections(e,t){this.combineSelections(e,t,"Subtract")}combineSelections(e,t,n){var r,i,o,a,s=t+":",l="";return e.forEach((function(e,t){var c=this.selections[e];if(void 0===r&&(r=c.color),void 0===i&&(i=c.selectionId),void 0===o&&(o=c.sourceProps),i===c.selectionId){if(s+=" "+e,0===t)a=new Set(c.dataPoints);else switch(n){case"Intersect":a=new Set([...a].filter(e=>c.dataPoints.includes(e)));break;case"Union":a=new Set([...a,...c.dataPoints]);break;case"Subtract":a=new Set([...a].filter(e=>!c.dataPoints.includes(e)))}l+=e+"/"}}),this),l=l.slice(0,-1),this.putSelection(l,t,[...a],r,s,i,o)}__editExisting(e,t){var n=this.selections[this.editingLabel];switch(this.putOperation){case Dt.editModeEnum.enum.ADDPOINTS:n.dataPoints=n.dataPoints.concat(t),n.dataPoints.sort();break;case Dt.editModeEnum.enum.REMOVEPOINTS:n.dataPoints=n.dataPoints.filter((function(e){return-1===t.indexOf(e)}));break;default:return}this.notify({type:"perm",op:"update",sel:n,id:n.selectionId}),this.showSelection(n.label)}setPutOperation(e){this.putOperation=e}setEditingSelection(e){this.showSelection(e);var t=this.selections[e];void 0!==t&&(this.selPriorToEdit=jQuery.extend({},t,!0),this.editingLabel=e,this.editingSelection=t.selectionId)}saveEditingSelection(){this.editingSelection=void 0,this.editingLabel=void 0,this.selPriorToEdit=void 0}cancelEditingSelection(){if(void 0!==this.editingLabel){var e=this.selPriorToEdit.label;this.selections[e]=this.selPriorToEdit,this.selPriorToEdit=void 0,this.editingLabel=void 0,this.editingSelection=void 0,this.notify({type:"perm",op:"update",sel:this.selections[e],id:this.selections[e].selectionId}),this.showSelection(e)}}addPoints(e,t){var n=this.selections[e];void 0!==n&&this.deleteSelection(e);var r=[];n.dataPoints.forEach((function(e){r[e]=1})),t.forEach((function(e){r[e]=1}));var i=[];r.forEach((function(e){void 0!==e&&i.push(e)})),this.putSelection(e,n.originator,i,n.color,n.description,n.id)}removePoints(e,t){var n=this.selections[e];if(void 0!==n){this.deleteSelection(e);var r=[];n.dataPoints.forEach((function(e){r[e]=1})),t.forEach((function(e){1===r[e]&&(r[e]=void 0)}));var i=[];r.forEach((function(e){void 0!==e&&i.push(e)})),this.putSelection(e,n.originator,i,n.color,n.description,n.id)}}getSelection(e){return this.selections[e]}deleteSelection(e){var t=this.orderedLabels.indexOf(e);if(t>=0){var n=this.selections[e];delete this.selections[e],this.orderedLabels.splice(t,1),this.visibleSelection===e&&(this.visibleSelection=void 0,this.notify({type:"perm",op:"hide",sel:n,id:n.selectionId})),this.notify({type:"perm",op:"delete",sel:n,id:n.selectionId})}}showSelection(e){var t;this.visibleSelection&&e!==this.visibleSelection&&(t=this.selections[this.visibleSelection],this.notify({type:"perm",op:"hide",sel:t,id:t.selectionId})),this.visibleSelection=e,t=this.selections[this.visibleSelection],this.notify({type:"perm",op:"show",sel:t,id:t.selectionId})}deleteLastSelection(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.orderedLabels.length;t>0&&(this.deleteSelection(this.orderedLabels[t-1]),e&&this.orderedLabels.length>0&&this.showSelection(this.orderedLabels[this.orderedLabels.length-1]))}hideVisibleSelection(){if(this.visibleSelection){var e=this.selections[this.visibleSelection];if(this.visibleSelection=void 0,void 0===e)return;this.notify({op:"hide",sel:e,id:e.selectionId})}}setColor(e,t){if(Object.prototype.hasOwnProperty.call(this.selections,e)){var n=this.selections[e];n.color=t,this.notify({type:"perm",op:"color",sel:n,id:n.selectionId})}}getNewLabel(e){var t=e+"_"+this.labelCount;return this.labelCount+=1,t}deleteAllSelections(){for(;Object.keys(this.selections).length>0;)this.deleteLastSelection(!1)}clear(){this.deleteAllSelections(),this.removeAllObservers()}}Ot(Dt,"editModeEnum",new ae({ADDPOINTS:"Add points",REMOVEPOINTS:"Remove points"}));class Mt{constructor(e){this.unvalidatedSiteConfig=e,this.validatedConfig}get siteConfig(){return this.validatedConfig||(this.validatedConfig=this.unvalidatedSiteConfig),this.validatedConfig}}class Lt extends Oe{constructor(){super(1),$("div.c select option").css("color","black"),$("li.cr.string .c").css("color","black");var e=[{id:"acronym",sort:"string",header:["Search:",{content:"textFilter",compare:function(e,t,n){return-1!==n.acronym.toLowerCase().indexOf(t.toLowerCase())||-1!==n.name.toLowerCase().indexOf(t.toLowerCase())},placeholder:"Enter name/acronym"}],template:function(e,t,n,r){var i=ReScatter.utils.style_from_hextriplet(e.color_hex_triplet),o=t.treetable(e,t);return o=(o=o.replace("class='webix_tree_close'","class='webix_tree_close' "+i)).replace("class='webix_tree_open'","class='webix_tree_open' "+i),(o+=t.treecheckbox(e,t,n,r))+"<span><b>"+e.acronym+"</b> "+e.name+"</span>"},width:350},{id:"name",hidden:!0}];this.id="atlasTableId";var t={id:this.id,view:"treetable",select:"row",css:"ontology_style",scrollX:!1,threeState:!0,columns:e,fixedRowHeight:!1,rowHeight:30,autoConfig:!0,resizeColumn:!0};this.atlasId=ReScatter.controlWidgetLayout.addTabView(t,"Ontology",!0),this.atlasTable=$$(this.atlasId),this.atlasTable.attachEvent("onItemCheck",this.atlasItemsChecked.bind(this)),O.a.event(window,"resize",()=>{this.adjust()})}destroy(){this.atlasTable.clearAll(),ReScatter.controlWidgetLayout.removeTabView(this.atlasId)}loadOntologyData(e,t){this.ontologyData=t,this.selectionConfig=e,this.dynamicSelectionId=e.dynamicSelectionOut,this.atlasTable.clearAll(),(O.a.DataDriver.myjson=O.a.copy(O.a.DataDriver.json)).child=function(e){return e.children};try{if(this.atlasTable.parse(t,"myjson"),Object.prototype.hasOwnProperty.call(e,"openId")){var n=this;e.openId.forEach((function(e){n.getPathToId(e).forEach((function(e){n.atlasTable.open(e)}))}))}}catch(e){console.log("Failed to parse or open ontology - check ontology file and configuration")}finally{this.atlasTable.render()}}getPathToId(e){var t=this.atlasTable.getFirstId(),n=[],r=e;for(n.splice(0,0,r);r!==t;)r=this.atlasTable.getParentId(r),n.splice(0,0,r);return n}adjust(){this.atlasTable.adjust()}atlasItemsChecked(){var e=this.atlasTable.getChecked();this.outputSelection(e)}atlasItemCheck(){}outputSelection(e){ReScatter.dynamicSelectionModel.putTransitiveSelection("OntologyTable",e,7807522,this.dynamicSelectionId)}getId(){return this.id}}ke.impl(Lt,[],{processSelectionEvent(){this.processingDone()}}),n.d(t,"controlEventModel",(function(){return Nt})),n.d(t,"selectionModel",(function(){return Bt})),n.d(t,"cursors",(function(){return jt})),n.d(t,"initialize",(function(){return Ut})),n.d(t,"jobs",(function(){return r})),n.d(t,"config",(function(){return i})),n.d(t,"view",(function(){return o})),n.d(t,"utils",(function(){return a})),n.d(t,"events",(function(){return s})),n.d(t,"control",(function(){return c})),n.d(t,"data",(function(){return u})),n.d(t,"widget",(function(){return h})),n.d(t,"protocols",(function(){return l})),n.d(t,"CONTROL_ID",(function(){return se}));var Nt=new xe,Bt=new Dt,jt=n(165);function Ut(){ge()}jt.keys().map(jt)}])}));
//# sourceMappingURL=rescatter.js.map