{"version":3,"sources":["webpack://ReScatter/webpack/universalModuleDefinition","webpack://ReScatter/webpack/bootstrap","webpack://ReScatter/./node_modules/pixi-gl-core/src/index.js","webpack://ReScatter/./node_modules/protoduck/index.js","webpack://ReScatter/./node_modules/ndarray/ndarray.js","webpack://ReScatter/./node_modules/pako/lib/utils/common.js","webpack://ReScatter/./node_modules/ndarray-ops/ndarray-ops.js","webpack://ReScatter/(webpack)/buildin/global.js","webpack://ReScatter/./node_modules/nrrd-js/nrrd.js","webpack://ReScatter/./node_modules/typedarray-pool/pool.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/mapType.js","webpack://ReScatter/./node_modules/pako/lib/zlib/messages.js","webpack://ReScatter/./node_modules/pako/index.js","webpack://ReScatter/./node_modules/uuid/v4.js","webpack://ReScatter/./node_modules/genfun/lib/role.js","webpack://ReScatter/./node_modules/genfun/lib/util.js","webpack://ReScatter/./node_modules/util-extend/extend.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/setVertexAttribArrays.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/GLTexture.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/compileProgram.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/extractAttributes.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/mapSize.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/extractUniforms.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/defaultValue.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/setPrecision.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/generateUniformAccessObject.js","webpack://ReScatter/./src/view/plot/scanTextureCoords.vert","webpack://ReScatter/./node_modules/pubsub-js/src/pubsub.js","webpack://ReScatter/./node_modules/pako/lib/zlib/adler32.js","webpack://ReScatter/./node_modules/pako/lib/zlib/crc32.js","webpack://ReScatter/./node_modules/pako/lib/utils/strings.js","webpack://ReScatter/./node_modules/pako/lib/zlib/zstream.js","webpack://ReScatter/./node_modules/pako/lib/zlib/constants.js","webpack://ReScatter/./node_modules/co/index.js","webpack://ReScatter/./node_modules/uuid/lib/rng-browser.js","webpack://ReScatter/./node_modules/uuid/lib/bytesToUuid.js","webpack://ReScatter/./node_modules/genfun/lib/genfun.js","webpack://ReScatter/./node_modules/genfun/lib/method.js","webpack://ReScatter/./node_modules/assert/assert.js","webpack://ReScatter/./node_modules/util/util.js","webpack://ReScatter/./node_modules/process/browser.js","webpack://ReScatter/./node_modules/util/support/isBufferBrowser.js","webpack://ReScatter/./node_modules/inherits/inherits_browser.js","webpack://ReScatter/./node_modules/iota-array/iota.js","webpack://ReScatter/./node_modules/is-buffer/index.js","webpack://ReScatter/./node_modules/ndarray-scratch/scratch.js","webpack://ReScatter/./node_modules/ndarray-ops/node_modules/cwise-compiler/compiler.js","webpack://ReScatter/./node_modules/ndarray-ops/node_modules/cwise-compiler/lib/thunk.js","webpack://ReScatter/./node_modules/ndarray-ops/node_modules/cwise-compiler/lib/compile.js","webpack://ReScatter/./node_modules/ndarray-ops/node_modules/uniq/uniq.js","webpack://ReScatter/./node_modules/node-libs-browser/node_modules/buffer/index.js","webpack://ReScatter/./node_modules/node-libs-browser/node_modules/base64-js/index.js","webpack://ReScatter/./node_modules/ieee754/index.js","webpack://ReScatter/./node_modules/isarray/index.js","webpack://ReScatter/./node_modules/bit-twiddle/twiddle.js","webpack://ReScatter/./node_modules/dup/dup.js","webpack://ReScatter/./node_modules/ndarray-unsqueeze/index.js","webpack://ReScatter/./node_modules/ndarray-concat-cols/index.js","webpack://ReScatter/./node_modules/ndarray-concat-cols/node_modules/ndarray-scratch/scratch.js","webpack://ReScatter/./node_modules/ndarray-concat-rows/index.js","webpack://ReScatter/./node_modules/ndarray-concat-rows/node_modules/ndarray-scratch/scratch.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/createContext.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/GLBuffer.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/GLFramebuffer.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/GLShader.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/VertexArrayObject.js","webpack://ReScatter/./node_modules/pixi-gl-core/src/shader/index.js","webpack://ReScatter/./src/view/plot/kde.vert","webpack://ReScatter/./src/view/plot/kde.frag","webpack://ReScatter/./src/view/plot/packFloat.frag","webpack://ReScatter/./src/view/plot/declip.frag","webpack://ReScatter/./src/view/filters/colormaps sync ^\\.\\/.*\\.png$","webpack://ReScatter/./src/view/filters/colormaps/Accent.png","webpack://ReScatter/./src/view/filters/colormaps/Blues.png","webpack://ReScatter/./src/view/filters/colormaps/BrBG.png","webpack://ReScatter/./src/view/filters/colormaps/BuGn.png","webpack://ReScatter/./src/view/filters/colormaps/BuPu.png","webpack://ReScatter/./src/view/filters/colormaps/CMRmap.png","webpack://ReScatter/./src/view/filters/colormaps/Dark2.png","webpack://ReScatter/./src/view/filters/colormaps/GnBu.png","webpack://ReScatter/./src/view/filters/colormaps/Greens.png","webpack://ReScatter/./src/view/filters/colormaps/Greys.png","webpack://ReScatter/./src/view/filters/colormaps/OrRd.png","webpack://ReScatter/./src/view/filters/colormaps/Oranges.png","webpack://ReScatter/./src/view/filters/colormaps/PRGn.png","webpack://ReScatter/./src/view/filters/colormaps/Paired.png","webpack://ReScatter/./src/view/filters/colormaps/Pastel1.png","webpack://ReScatter/./src/view/filters/colormaps/Pastel2.png","webpack://ReScatter/./src/view/filters/colormaps/PiYG.png","webpack://ReScatter/./src/view/filters/colormaps/PuBu.png","webpack://ReScatter/./src/view/filters/colormaps/PuBuGn.png","webpack://ReScatter/./src/view/filters/colormaps/PuOr.png","webpack://ReScatter/./src/view/filters/colormaps/PuRd.png","webpack://ReScatter/./src/view/filters/colormaps/Purples.png","webpack://ReScatter/./src/view/filters/colormaps/RdBu.png","webpack://ReScatter/./src/view/filters/colormaps/RdGy.png","webpack://ReScatter/./src/view/filters/colormaps/RdPu.png","webpack://ReScatter/./src/view/filters/colormaps/RdYlBu.png","webpack://ReScatter/./src/view/filters/colormaps/RdYlGn.png","webpack://ReScatter/./src/view/filters/colormaps/Reds.png","webpack://ReScatter/./src/view/filters/colormaps/Set1.png","webpack://ReScatter/./src/view/filters/colormaps/Set2.png","webpack://ReScatter/./src/view/filters/colormaps/Set3.png","webpack://ReScatter/./src/view/filters/colormaps/Spectral.png","webpack://ReScatter/./src/view/filters/colormaps/YlGn.png","webpack://ReScatter/./src/view/filters/colormaps/YlGnBu.png","webpack://ReScatter/./src/view/filters/colormaps/YlOrBr.png","webpack://ReScatter/./src/view/filters/colormaps/YlOrRd.png","webpack://ReScatter/./src/view/filters/colormaps/afmhot.png","webpack://ReScatter/./src/view/filters/colormaps/autumn.png","webpack://ReScatter/./src/view/filters/colormaps/bone.png","webpack://ReScatter/./src/view/filters/colormaps/brg.png","webpack://ReScatter/./src/view/filters/colormaps/bwr.png","webpack://ReScatter/./src/view/filters/colormaps/cool.png","webpack://ReScatter/./src/view/filters/colormaps/coolwarm.png","webpack://ReScatter/./src/view/filters/colormaps/copper.png","webpack://ReScatter/./src/view/filters/colormaps/cubehelix.png","webpack://ReScatter/./src/view/filters/colormaps/flag.png","webpack://ReScatter/./src/view/filters/colormaps/gist_earth.png","webpack://ReScatter/./src/view/filters/colormaps/gist_heat.png","webpack://ReScatter/./src/view/filters/colormaps/gist_ncar.png","webpack://ReScatter/./src/view/filters/colormaps/gist_rainbow.png","webpack://ReScatter/./src/view/filters/colormaps/gist_stern.png","webpack://ReScatter/./src/view/filters/colormaps/gnuplot.png","webpack://ReScatter/./src/view/filters/colormaps/gnuplot2.png","webpack://ReScatter/./src/view/filters/colormaps/gray.png","webpack://ReScatter/./src/view/filters/colormaps/hot.png","webpack://ReScatter/./src/view/filters/colormaps/hsv.png","webpack://ReScatter/./src/view/filters/colormaps/inferno.png","webpack://ReScatter/./src/view/filters/colormaps/jet.png","webpack://ReScatter/./src/view/filters/colormaps/magma.png","webpack://ReScatter/./src/view/filters/colormaps/nipy_spectral.png","webpack://ReScatter/./src/view/filters/colormaps/ocean.png","webpack://ReScatter/./src/view/filters/colormaps/pink.png","webpack://ReScatter/./src/view/filters/colormaps/plasma.png","webpack://ReScatter/./src/view/filters/colormaps/prism.png","webpack://ReScatter/./src/view/filters/colormaps/rainbow.png","webpack://ReScatter/./src/view/filters/colormaps/seismic.png","webpack://ReScatter/./src/view/filters/colormaps/spring.png","webpack://ReScatter/./src/view/filters/colormaps/summer.png","webpack://ReScatter/./src/view/filters/colormaps/terrain.png","webpack://ReScatter/./src/view/filters/colormaps/viridis.png","webpack://ReScatter/./src/view/filters/colormaps/winter.png","webpack://ReScatter/./src/view/filters/lutFilter.frag","webpack://ReScatter/./node_modules/file-saver/FileSaver.js","webpack://ReScatter/(webpack)/buildin/amd-define.js","webpack://ReScatter/(webpack)/buildin/amd-options.js","webpack://ReScatter/./node_modules/clipboard/lib/clipboard.js","webpack://ReScatter/./node_modules/clipboard/lib/clipboard-action.js","webpack://ReScatter/./node_modules/select/src/select.js","webpack://ReScatter/./node_modules/tiny-emitter/index.js","webpack://ReScatter/./node_modules/good-listener/src/listen.js","webpack://ReScatter/./node_modules/good-listener/src/is.js","webpack://ReScatter/./node_modules/delegate/src/delegate.js","webpack://ReScatter/./node_modules/delegate/src/closest.js","webpack://ReScatter/./node_modules/kd-tree-javascript/kdTree-min.js","webpack://ReScatter/./src/modules/legalize.js","webpack://ReScatter/./node_modules/pako/lib/deflate.js","webpack://ReScatter/./node_modules/pako/lib/zlib/deflate.js","webpack://ReScatter/./node_modules/pako/lib/zlib/trees.js","webpack://ReScatter/./node_modules/pako/lib/inflate.js","webpack://ReScatter/./node_modules/pako/lib/zlib/inflate.js","webpack://ReScatter/./node_modules/pako/lib/zlib/inffast.js","webpack://ReScatter/./node_modules/pako/lib/zlib/inftrees.js","webpack://ReScatter/./node_modules/pako/lib/zlib/gzheader.js","webpack://ReScatter/./src/cursors sync ^\\.\\/.*\\.png$","webpack://ReScatter/./src/cursors/drawtarget.png","webpack://ReScatter/./src/cursors/drawtarget2.png","webpack://ReScatter/./src/cursors/intersect.png","webpack://ReScatter/./src/cursors/subtract.png","webpack://ReScatter/./src/cursors/union.png","webpack://ReScatter/./src/data/PlotDataModel.js","webpack://ReScatter/./src/protocols/ChoroplethProtocol.js","webpack://ReScatter/./src/protocols/PlotProtocol.js","webpack://ReScatter/./src/jobs/JobMonitor.js","webpack://ReScatter/./src/jobs/TsnePlugin.js","webpack://ReScatter/./src/config/plugins/PluginFactory.js","webpack://ReScatter/./src/jobs/GenerateDataPluginRunner.js","webpack://ReScatter/./src/view/plot/GaussianDistCanvas.js","webpack://ReScatter/./src/view/plot/KDETexture.js","webpack://ReScatter/./src/view/plot/PointGroupView.js","webpack://ReScatter/./src/control/plot/SimplePlotController.js","webpack://ReScatter/./src/jobs/JobMonitorControl.js","webpack://ReScatter/./src/jobs/TsneJob.js","webpack://ReScatter/./src/config/selection/SelectionConfig.js","webpack://ReScatter/./src/config/plot/SwitchableSelections.js","webpack://ReScatter/./src/config/plot/PlotConfig.js","webpack://ReScatter/./src/view/filters/LUTTexture.js","webpack://ReScatter/./src/view/filters/LUTFilter.js","webpack://ReScatter/./src/protocols/SnapShotProtocols.js","webpack://ReScatter/./src/view/choropleth/ChoroplethSVGView.js","webpack://ReScatter/./src/utils/ColorRamp.js","webpack://ReScatter/./src/utils/SnapshotSaver.js","webpack://ReScatter/./src/utils/LookupEnum.js","webpack://ReScatter/./src/utils/const.js","webpack://ReScatter/./src/utils/index.js","webpack://ReScatter/./src/protocols/ControlProtocol.js","webpack://ReScatter/./src/events/Observable.js","webpack://ReScatter/./src/events/ControlEventModel.js","webpack://ReScatter/./src/events/DynamicSelection.js","webpack://ReScatter/./src/events/StartupSelection.js","webpack://ReScatter/./src/control/choropleth/SimpleChoroplethLoader.js","webpack://ReScatter/./src/control/layout/ToolTipController.js","webpack://ReScatter/./src/control/choropleth/ImageStripChoroplethLoader.js","webpack://ReScatter/./src/protocols/SelectionProtocol.js","webpack://ReScatter/./src/control/common/SelectionSubscriber.js","webpack://ReScatter/./src/control/snapshot/SnapShotController.js","webpack://ReScatter/./src/control/choropleth/ChoroplethController.js","webpack://ReScatter/./src/control/choropleth/ChoroplethLoader.js","webpack://ReScatter/./src/control/layout/LayoutController.js","webpack://ReScatter/./src/widget/ControlWidgetLayout.js","webpack://ReScatter/./src/widget/SelectionContextMenu.js","webpack://ReScatter/./src/widget/SelectionDataWidget.js","webpack://ReScatter/./src/widget/SelectionEditWidget.js","webpack://ReScatter/./src/widget/SelectionUploadWidget.js","webpack://ReScatter/./src/data/DataMapper.js","webpack://ReScatter/./src/data/PlotPropReader.js","webpack://ReScatter/./src/control/plot/PixijsPlotController.js","webpack://ReScatter/./src/widget/PlotContextMenu.js","webpack://ReScatter/./src/widget/PreloadSelectionWidget.js","webpack://ReScatter/./src/data/LayoutCollection.js","webpack://ReScatter/./src/protocols/LayoutWidgetProtocol.js","webpack://ReScatter/./src/protocols/ExportSelectionProtocol.js","webpack://ReScatter/./src/protocols/DataPreprocessProtocol.js","webpack://ReScatter/./src/widget/base/LayoutWidgetBase.js","webpack://ReScatter/./src/widget/LayoutTableWidget.js","webpack://ReScatter/./src/widget/TutorialControl.js","webpack://ReScatter/./src/control/WidgetController.js","webpack://ReScatter/./src/control/layout/ProgressController.js","webpack://ReScatter/./src/data/LayoutSiteConfig.js","webpack://ReScatter/./src/control/ViewController.js","webpack://ReScatter/./src/control/SiteInstance.js","webpack://ReScatter/./src/control/index.js","webpack://ReScatter/./src/data/DataCache.js","webpack://ReScatter/./src/data/PermanentSelection.js","webpack://ReScatter/./src/widget/OntologyTree.js","webpack://ReScatter/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","gl","createContext","setVertexAttribArrays","GLBuffer","GLFramebuffer","GLShader","GLTexture","VertexArrayObject","shader","PIXI","glCore","genfun","Duck","Function","[object Object]","target","types","impls","isArray","this","isDerivable","_defaultImpls","isGenfun","duck","_methodNames","forEach","Error","formatMethod","filter","map","join","keys","indexOf","checkImpls","requiredTypes","_types","length","checkArgTypes","_constraints","verify","parent","methodTypes","_gfTypes","typeIdx","undefined","pop","useMetaobject","_metaobject","Protoduck","gf","createGenfun","_metaCreateGenfun","fn","addMethod","_metaAddMethod","defineMethod","arg","args","fns","hasMethod","apply","thisType","argTypes","Constraint","isDuck","isProtocol","noImplFound","noApplicableMethod","spec","opts","matches","setPrototypeOf","where","w","metaobject","gfTypes","typeId","idx","checkMethodSpec","attach","withDuckName","typeName","obj","exec","toString","x","proto","deflt","default","add","thisArg","getPrototypeOf","msg","err","protocol","function","code","installMethodErrorMessage","impl","child","thisIdx","indices","parentTypes","hasImpl","isConstraint","iota","isBuffer","hasTypedArrays","Float64Array","compare1st","a","b","order","stride","terms","Array","Math","abs","sort","result","compileConstructor","dtype","dimension","className","useGetters","procedure","CACHED_CONSTRUCTORS","index_str","shapeArg","strideArg","push","a_vars","c_vars","tShape","tStride","float32","float64","int8","int16","int32","uint8","uint16","uint32","array","uint8_clamped","buffer","generic","data","shape","offset","ctor","sz","arrayDType","ctor_list","TYPED_OK","Uint8Array","Uint16Array","Int32Array","_has","assign","sources","slice","arguments","source","shift","TypeError","shrinkBuf","buf","size","subarray","fnTyped","arraySet","dest","src","src_offs","len","dest_offs","set","flattenChunks","chunks","pos","chunk","fnUntyped","concat","setTyped","on","Buf8","Buf16","Buf32","compile","EmptyProc","body","thisVars","localVars","fixup","lvalue","rvalue","count","makeOp","user_args","funcName","wrapper","pre","post","proc","pcompile","assign_ops","sub","mul","div","mod","band","bor","bxor","lshift","rshift","rrshift","id","op","unary_ops","not","bnot","neg","recip","binary_ops","and","or","eq","neq","lt","gt","leq","geq","math_unary","f","math_comm","math_noncomm","any","all","sum","prod","norm2squared","norm2","norminf","norm1","sup","inf","argmin","argmax","random","assigns","equals","g","eval","e","assert","lineSeparatorRE","NRRDMagicRE","lineRE","dataFileListRE","escapeValue","val","replace","unescapeValue","split","serializeField","prop","spaceDimension","line","propNRRD","mapJavascriptToNRRDStatic","mapJavascriptToNRRD","Number","String","serializeNRRDQuotedString","vec","files","dataFile","format","min","max","step","subdim","serializeNRRDDataFile","serializeNRRDOptional","console","warn","parseField","identifier","descriptor","parseNRRDInteger","parseNRRDFloat","parseNRRDVector","parseNRRDWhitespaceSeparatedList","parseNRRDQuotedString","parseNRRDType","parseNRRDEncoding","parseNRRDEndian","match","dataFileFormatRE","substring","index","parseNRRDDataFile","parseNRRDCenter","parseNRRDKind","space","toLowerCase","parseNRRDSpace","serialize","nrrdOrg","arr","nativeType","nativeSize","bufferData","arrData","header","totalLen","nrrd","lines","sizes","Int8Array","Int16Array","Uint32Array","Float32Array","type","encoding","endian","systemEndianness","checkNRRD","blockSize","getNRRDTypeSize","byteLength","byteOffset","castTypedArray","endianFlag","view","ArrayBuffer","DataView","setInt8","setUint8","setInt16","setUint16","setInt32","setUint32","setFloat32","setFloat64","serializeToBuffer","serializeToTextBuffer","firstProps","charCodeAt","parse","dataStart","match2","ret","version","buf8","fromCharCode","test","parseInt","mapNRRDToJavascript","options","checkSize","getInt8","getUint8","getInt16","getUint16","getInt32","getUint32","getFloat32","getFloat64","sizeOfType","parseNRRDRawData","str","strList","whitespaceDataValueListSeparatorRE","parseNRRDTextData","mapNRRDToJavascriptStatic","block size","blocksize","old min","oldmin","old max","oldmax","data file","datafile","line skip","lineskip","byte skip","byteskip","sample units","sampleunits","axis mins","axis maxs","centers","centerings","space dimension","space units","space origin","space directions","measurement frame","isNaN","NaN","Infinity","parseFloat","whitespaceListSeparator","parseElement","center","NRRDKinds","domain","time","list","point","vector","covariant-vector","normal","stub","scalar","complex","2-vector","3-color","rgb-color","hsv-color","xyz-color","4-color","rgba-color","3-vector","3-gradient","3-normal","4-vector","quaternion","2d-symmetric-matrix","2d-masked-symmetric-matrix","2d-matrix","2d-masked-matrix","3d-symmetric-matrix","3d-masked-symmetric-matrix","3d-matrix","3d-masked-matrix","???","none","kind","kindLC","intArr","byteArr","spacings","thicknesses","axisMins","axisMaxs","labels","units","kinds","strs","global","Buffer","bits","dup","__TYPEDARRAY_POOL","UINT8","UINT16","UINT32","INT8","INT16","INT32","FLOAT","DOUBLE","DATA","UINT8C","BUFFER","hasUint8C","Uint8ClampedArray","POOL","freeArrayBuffer","log_n","log2","mallocArrayBuffer","nextPow2","mallocUint8","mallocUint16","mallocUint32","mallocInt8","mallocInt16","mallocInt32","mallocFloat","mallocDouble","mallocUint8Clamped","mallocDataView","mallocBuffer","cache","free","freeUint8","freeUint16","freeUint32","freeInt8","freeInt16","freeInt32","freeFloat32","freeFloat","freeFloat64","freeDouble","freeUint8Clamped","freeDataView","freeBuffer","malloc","mallocFloat32","mallocFloat64","clearCache","GL_TABLE","GL_TO_GLSL_TYPES","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT","INT_VEC2","INT_VEC3","INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","typeNames","tn","2","1","0","-1","-2","-3","-4","-5","-6","pako","rng","bytesToUuid","rnds","ii","Role","method","position","roleKeyName","isObjectProto","_null","_undefined","Bool","Boolean","Num","Str","boolCache","true","false","numCache","strCache","dispatchableObject","Obj","origin","attribs","state","tempAttribState","attribState","attribute","location","enableVertexAttribArray","disableVertexAttribArray","attrib","Texture","width","height","texture","createTexture","mipmap","premultiplyAlpha","RGBA","UNSIGNED_BYTE","upload","pixelStorei","UNPACK_PREMULTIPLY_ALPHA_WEBGL","newWidth","videoWidth","newHeight","videoHeight","texImage2D","TEXTURE_2D","texSubImage2D","FLOATING_POINT_AVAILABLE","uploadData","getExtension","activeTexture","TEXTURE0","bindTexture","unbind","minFilter","linear","texParameteri","TEXTURE_MIN_FILTER","LINEAR_MIPMAP_LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR","NEAREST","magFilter","TEXTURE_MAG_FILTER","enableMipmap","generateMipmap","enableLinearScaling","enableNearestScaling","enableWrapClamp","TEXTURE_WRAP_S","CLAMP_TO_EDGE","TEXTURE_WRAP_T","enableWrapRepeat","REPEAT","enableWrapMirrorRepeat","MIRRORED_REPEAT","destroy","deleteTexture","fromSource","fromData","compileShader","createShader","shaderSource","getShaderParameter","COMPILE_STATUS","log","getShaderInfoLog","vertexSrc","fragmentSrc","attributeLocations","glVertShader","VERTEX_SHADER","glFragShader","FRAGMENT_SHADER","program","createProgram","attachShader","bindAttribLocation","linkProgram","getProgramParameter","LINK_STATUS","error","VALIDATE_STATUS","getError","getProgramInfoLog","deleteProgram","deleteShader","mapType","mapSize","pointer","normalized","start","vertexAttribPointer","attributes","totalAttributes","ACTIVE_ATTRIBUTES","attribData","getActiveAttrib","getAttribLocation","GLSL_TO_SIZE","float","vec2","vec3","vec4","int","ivec2","ivec3","ivec4","bool","bvec2","bvec3","bvec4","mat2","mat3","mat4","sampler2D","defaultValue","uniforms","totalUniforms","ACTIVE_UNIFORMS","uniformData","getActiveUniform","getUniformLocation","booleanArray","precision","generateGetter","template","getterTemplate","generateSetter","uniform","setTemplate","setterTemplate","GLSL_TO_SINGLE_SETTERS","GLSL_TO_ARRAY_SETTERS","getUniformGroup","nameTokens","cur","uniformKeys","fullName","uniformGroup","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","PubSub","messages","lastUid","hasKeys","callSubscriberWithDelayedExceptions","subscriber","message","ex","setTimeout","throwException","callSubscriberWithImmediateExceptions","deliverMessage","originalMessage","matchedMessage","immediateExceptions","subscribers","callSubscriber","publish","sync","deliver","topic","lastIndexOf","substr","createDeliveryFunction","found","messageHasSubscribers","publishSync","subscribe","func","token","clearAllSubscriptions","clearSubscriptions","unsubscribe","isTopic","descendantTopicExists","isToken","isFunction","adler","s1","s2","crcTable","table","k","makeTable","crc","end","utils","STR_APPLY_OK","STR_APPLY_UIA_OK","__","_utf8len","q","buf2binstring","string2buf","c2","m_pos","str_len","buf_len","binstring2buf","buf2string","out","c_len","utf16buf","utf8border","input","next_in","avail_in","total_in","output","next_out","avail_out","total_out","data_type","Z_NO_FLUSH","Z_PARTIAL_FLUSH","Z_SYNC_FLUSH","Z_FULL_FLUSH","Z_FINISH","Z_BLOCK","Z_TREES","Z_OK","Z_STREAM_END","Z_NEED_DICT","Z_ERRNO","Z_STREAM_ERROR","Z_DATA_ERROR","Z_BUF_ERROR","Z_NO_COMPRESSION","Z_BEST_SPEED","Z_BEST_COMPRESSION","Z_DEFAULT_COMPRESSION","Z_FILTERED","Z_HUFFMAN_ONLY","Z_RLE","Z_FIXED","Z_DEFAULT_STRATEGY","Z_BINARY","Z_TEXT","Z_UNKNOWN","Z_DEFLATED","co","gen","ctx","onFulfilled","res","next","Promise","reject","onRejected","throw","done","resolve","toPromise","isPromise","then","constructor","isGeneratorFunction","isGenerator","isObject","results","promises","promise","defer","wrap","crypto","msCrypto","getRandomValues","rnds8","byteToHex","bth","Method","util","kCache","kDefaultMethod","kMethods","kNoNext","applyGenfun","Genfun","methods","STATES","UNINITIALIZED","noNextMethod","MONOMORPHIC","POLYMORPHIC","MEGAMORPHIC","MAX_CACHE_SIZE","cacheableProto","dispatchable","j","matchCachedMethods","protos","selector","rm","getApplicableMethods","newThis","applicableMethods","nextMethod","maybeMethods","cachedMethods","discoveredMethods","precedenceList","nextObj","getPrecedenceList","hierarchyPosition","role","clearRank","setRankHierarchyPosition","minimalSelector","findAndRankRoles","_rank","isFullySpecified","score","computeApplicableMethods","unshift","cacheArgs","tmpSelector","reduce","pSlice","hasOwn","ok","replacer","isUndefined","isNumber","isFinite","isRegExp","truncate","isString","fail","actual","expected","operator","stackStartFunction","AssertionError","_deepEqual","isDate","getTime","multiline","lastIndex","ignoreCase","isNullOrUndefined","isPrimitive","aIsArgs","isArguments","bIsArgs","ka","objectKeys","kb","objEquiv","expectedException","_throws","shouldThrow","block","generatedMessage","self","JSON","stringify","getMessage","captureStackTrace","stack","fn_name","next_line","inherits","equal","notEqual","deepEqual","notDeepEqual","strictEqual","notStrictEqual","throws","doesNotThrow","ifError","process","formatRegExp","objects","inspect","_","isNull","deprecate","noDeprecation","warned","throwDeprecation","traceDeprecation","trace","debugEnviron","debugs","seen","stylize","stylizeNoColor","depth","colors","isBoolean","showHidden","_extend","customInspect","stylizeWithColor","formatValue","styleType","style","styles","recurseTimes","primitive","simple","formatPrimitive","visibleKeys","hash","arrayToHash","getOwnPropertyNames","isError","formatError","RegExp","Date","base","braces","toUTCString","formatProperty","formatArray","prev","numLinesEst","reduceToSingleString","desc","getOwnPropertyDescriptor","ar","re","objectToString","pad","debuglog","env","NODE_DEBUG","toUpperCase","pid","bold","italic","underline","inverse","white","grey","black","blue","cyan","green","magenta","red","yellow","special","number","boolean","null","string","date","regexp","isSymbol","months","getHours","getMinutes","getSeconds","getDate","getMonth","timestamp","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","defaultClearTimeout","runTimeout","fun","clearTimeout","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","timeout","run","marker","runClearTimeout","Item","noop","nextTick","title","browser","argv","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","copy","fill","readUInt8","superCtor","super_","writable","configurable","TempCtor","readFloatLE","isSlowBuffer","_isBuffer","ndarray","ops","pool","clone","createThunk","shimArgs","arrayArgs","arrayBlockIndices","scalarArgs","offsetArgs","offsetArgIndex","indexArgs","shapeArgs","debug","proc_args","arg_type","blockIndices","printCode","vars","thunkName","typesig","string_typesig","shapeLengthConditions","shapeConditions","thunk","uniq","innerFill","nargs","has_index","pidx","processBlock","dtypes","carg","ptrStr","arrNum","offArgIndex","localStr","arrStr","reStrArr","ptrStrArr","trim","orders","blockBegin","blockEnd","loopBegin","loopEnd","loopOrders","newOrder","arglist","zeros","off_arg","init_string","matched","countMatches","indexStr","outerFill","loopName","summary","allEqual","digits","charAt","typeSummary","compare","sorted","ptr","unique_pred","unique_eq","base64","ieee754","kMaxLength","TYPED_ARRAY_SUPPORT","createBuffer","that","RangeError","__proto__","encodingOrOffset","allocUnsafe","from","fromArrayLike","fromArrayBuffer","isEncoding","write","fromString","checked","isnan","fromObject","assertSize","isView","loweredCase","utf8ToBytes","base64ToBytes","swap","bidirectionalIndexOf","arrayIndexOf","indexSize","arrLength","valLength","read","readUInt16BE","foundIndex","hexWrite","remaining","strLen","parsed","utf8Write","blitBuffer","asciiWrite","byteArray","asciiToBytes","latin1Write","base64Write","ucs2Write","hi","lo","utf16leToBytes","base64Slice","fromByteArray","utf8Slice","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","codePoints","MAX_ARGUMENTS_LENGTH","decodeCodePointsArray","SlowBuffer","alloc","INSPECT_MAX_BYTES","foo","typedArraySupport","poolSize","_augment","species","allocUnsafeSlow","y","swap16","swap32","swap64","hexSlice","asciiSlice","latin1Slice","utf16leSlice","thisStart","thisEnd","thisCopy","targetCopy","includes","toJSON","_arr","toHex","bytes","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","writeDouble","newBuf","sliceLen","readUIntLE","readUIntBE","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","pow","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","writeUIntBE","writeUInt8","floor","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","INVALID_BASE64_RE","leadSurrogate","toByteArray","stringtrim","base64clean","dst","b64","lens","getLens","validLen","placeHoldersLen","tmp","Arr","_byteLength","curByte","revLookup","extraBytes","parts","len2","encodeChunk","lookup","tripletToBase64","num","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","rt","LN2","countTrailingZeros","v","INT_BITS","INT_MAX","INT_MIN","sign","mask","isPow2","log10","popCount","prevPow2","parity","REVERSE_TABLE","tab","reverse","interleave2","deinterleave2","interleave3","z","deinterleave3","nextCombination","dupe_number","dupe_array","axis","splice","inputs","extend","defaults","pick","ones","eye","mindim","offsum","canvas","getContext","EMPTY_ARRAY_BUFFER","drawType","ARRAY_BUFFER","STATIC_DRAW","_updateID","dontBind","bufferSubData","bindBuffer","createVertexBuffer","createIndexBuffer","ELEMENT_ARRAY_BUFFER","deleteBuffer","Framebuffer","framebuffer","createFramebuffer","stencil","enableTexture","framebufferTexture2D","FRAMEBUFFER","COLOR_ATTACHMENT0","enableStencil","createRenderbuffer","bindRenderbuffer","RENDERBUFFER","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","renderbufferStorage","DEPTH_STENCIL","clear","clearColor","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","bindFramebuffer","resize","deleteFramebuffer","createRGBA","fbo","createFloat32","compileProgram","extractAttributes","extractUniforms","setPrecision","generateUniformAccessObject","Shader","useProgram","nativeVaoExtension","FORCE_NATIVE","nativeState","nativeVao","createVertexArrayOES","maxAttribs","getParameter","MAX_VERTEX_ATTRIBS","indexBuffer","dirty","bindVertexArrayOES","activate","lastBuffer","addAttribute","addIndex","draw","drawElements","UNSIGNED_SHORT","drawArrays","getSize","deleteVertexArrayOES","./Accent.png","./Blues.png","./BrBG.png","./BuGn.png","./BuPu.png","./CMRmap.png","./Dark2.png","./GnBu.png","./Greens.png","./Greys.png","./OrRd.png","./Oranges.png","./PRGn.png","./Paired.png","./Pastel1.png","./Pastel2.png","./PiYG.png","./PuBu.png","./PuBuGn.png","./PuOr.png","./PuRd.png","./Purples.png","./RdBu.png","./RdGy.png","./RdPu.png","./RdYlBu.png","./RdYlGn.png","./Reds.png","./Set1.png","./Set2.png","./Set3.png","./Spectral.png","./YlGn.png","./YlGnBu.png","./YlOrBr.png","./YlOrRd.png","./afmhot.png","./autumn.png","./bone.png","./brg.png","./bwr.png","./cool.png","./coolwarm.png","./copper.png","./cubehelix.png","./flag.png","./gist_earth.png","./gist_heat.png","./gist_ncar.png","./gist_rainbow.png","./gist_stern.png","./gnuplot.png","./gnuplot2.png","./gray.png","./hot.png","./hsv.png","./inferno.png","./jet.png","./magma.png","./nipy_spectral.png","./ocean.png","./pink.png","./plasma.png","./prism.png","./rainbow.png","./seismic.png","./spring.png","./summer.png","./terrain.png","./viridis.png","./winter.png","webpackContext","req","webpackContextResolve","saveAs","navigator","userAgent","get_URL","URL","webkitURL","save_link","document","createElementNS","can_use_save_link","is_safari","HTMLElement","safari","is_chrome_ios","throw_outside","setImmediate","revoke","file","revokeObjectURL","remove","auto_bom","blob","Blob","FileSaver","no_auto_bom","object_url","filesaver","force","dispatch_all","event_types","event","listener","dispatch","readyState","INIT","createObjectURL","href","download","node","MouseEvent","dispatchEvent","click","DONE","FileReader","reader","onloadend","url","open","readAsDataURL","fs_error","FS_proto","msSaveOrOpenBlob","abort","WRITING","onwritestart","onprogress","onwrite","onabort","onerror","onwriteend","content","__webpack_amd_options__","_clipboardAction","_tinyEmitter","_goodListener","_clipboardAction2","_interopRequireDefault","_tinyEmitter2","_goodListener2","_typeof","iterator","_createClass","defineProperties","props","Constructor","protoProps","staticProps","Clipboard","_Emitter","trigger","instance","_classCallCheck","_this","ReferenceError","_possibleConstructorReturn","resolveOptions","listenClick","subClass","superClass","_inherits","action","defaultAction","defaultTarget","text","defaultText","container","_this2","onClick","delegateTarget","currentTarget","clipboardAction","emitter","getAttributeValue","querySelector","actions","support","queryCommandSupported","suffix","element","hasAttribute","getAttribute","_select","_select2","ClipboardAction","initSelection","selectedText","selectFake","selectTarget","isRTL","documentElement","removeFake","fakeHandlerCallback","fakeHandler","addEventListener","fakeElem","createElement","fontSize","border","padding","margin","yPosition","pageYOffset","scrollTop","top","setAttribute","appendChild","copyText","removeEventListener","removeChild","succeeded","execCommand","handleResult","clearSelection","focus","getSelection","removeAllRanges","_action","nodeType","_target","nodeName","isReadOnly","select","setSelectionRange","removeAttribute","selection","range","createRange","selectNodeContents","addRange","E","callback","evtArr","evts","liveEvents","is","delegate","listenNode","nodeList","listenNodeList","listenSelector","closest","_delegate","useCapture","listenerFn","elements","querySelectorAll","DOCUMENT_NODE_TYPE","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","parentNode","left","right","scoreFunction","bubbleUp","sinkDown","peek","u","h","kdTree","insert","nearest","balanceFactor","BinaryHeap","legalize","isFunc","Legalize","_Legalize","publiclyExposedInterface","REQUIRED","OPTIONAL","FORBIDDEN","typeOf","getLength","thing","isEmpty","isDefined","applyEach","merge","obj2","allKeys","schema","_isSchema","_isSchemaBuilder","alternatives","valid","makeSchemaBuilder","validators","isType","isNotTopLevel","doCompile","excludes","_isType","makeProperty","makeArrayProperty","makeCheck","predicate","checks","makeMatchCheck","pattern","withLengthChecks","minLength","maxLength","optionSchema","defaultOptions","rootSchemaBuilder","allowed","invalid","checksAfter","alias","sanitizeBefore","sanitize","notEmpty","allow","check","satisfy","required","presence","optional","forbidden","greater","lesser","integer","insensitive","lowercase","uppercase","alphanum","getElementById","numeric","unique","freeze","validate","validationResult","warnings","theResult","_validate","path","actualType","expectedType","makeInfoMessageObject","sourcePath","sourceValue","issueWarning","warning","makeValue","validValue","makeError","info","warnOnInvalidOptionals","alternative","sanitizer","strict","cast","checksFailed","checkResult","validObject","objectErrors","keyPresence","patternSchema","preserve","stripUnknown","allowUnknown","warnUnknown","validArray","arrayErrors","elem","passedExcludes","passedIncludes","customWarning","errors","flatten","legalValue","noConflict","hasDontEnumBug","propertyIsEnumerable","dontEnums","dontEnumsLength","F","zlib_deflate","strings","ZStream","Deflate","level","chunkSize","windowBits","memLevel","strategy","to","opt","raw","gzip","ended","strm","status","deflateInit2","deflateSetHeader","dictionary","dict","deflateSetDictionary","_dict_set","deflate","deflator","_mode","onEnd","onData","deflateEnd","deflateRaw","configuration_table","trees","adler32","crc32","MAX_MEM_LEVEL","MAX_WBITS","DEF_MEM_LEVEL","L_CODES","LITERALS","D_CODES","BL_CODES","HEAP_SIZE","MAX_BITS","MIN_MATCH","MAX_MATCH","MIN_LOOKAHEAD","PRESET_DICT","INIT_STATE","EXTRA_STATE","NAME_STATE","COMMENT_STATE","HCRC_STATE","BUSY_STATE","FINISH_STATE","BS_NEED_MORE","BS_BLOCK_DONE","BS_FINISH_STARTED","BS_FINISH_DONE","OS_CODE","errorCode","rank","zero","flush_pending","pending","pending_buf","pending_out","flush_block_only","last","_tr_flush_block","block_start","strstart","put_byte","putShortMSB","read_buf","longest_match","cur_match","chain_length","max_chain_length","scan","best_len","prev_length","nice_match","w_size","_win","wmask","w_mask","strend","scan_end1","scan_end","good_match","lookahead","match_start","fill_window","more","_w_size","window_size","hash_size","head","ins_h","hash_shift","hash_mask","deflate_fast","flush","hash_head","bflush","match_length","_tr_tally","max_lazy_match","last_lit","deflate_slow","max_insert","prev_match","match_available","Config","good_length","max_lazy","nice_length","max_chain","deflateResetKeep","last_flush","_tr_init","deflateReset","lm_init","pending_buf_size","gzhead","gzindex","w_bits","hash_bits","dyn_ltree","dyn_dtree","bl_tree","l_desc","d_desc","bl_desc","bl_count","heap","heap_len","heap_max","l_buf","lit_bufsize","d_buf","opt_len","static_len","bi_buf","bi_valid","max_block_size","max_start","deflateInit","old_flush","beg","hcrc","extra","comment","os","bstate","deflate_huff","deflate_rle","_tr_align","_tr_stored_block","avail","tmpDict","dictLength","deflateInfo","STORED_BLOCK","STATIC_TREES","DYN_TREES","LENGTH_CODES","Buf_size","MAX_BL_BITS","END_BLOCK","REP_3_6","REPZ_3_10","REPZ_11_138","extra_lbits","extra_dbits","extra_blbits","bl_order","static_ltree","static_dtree","_dist_code","_length_code","base_length","static_l_desc","static_d_desc","static_bl_desc","base_dist","StaticTreeDesc","static_tree","extra_bits","extra_base","elems","max_length","has_stree","TreeDesc","dyn_tree","stat_desc","max_code","d_code","dist","put_short","send_bits","send_code","tree","bi_reverse","gen_codes","next_code","init_block","bi_windup","smaller","_n2","_m2","pqdownheap","compress_block","ltree","dtree","lc","lx","build_tree","stree","xbits","overflow","gen_bitlen","scan_tree","curlen","prevlen","nextlen","max_count","min_count","send_tree","static_init_done","stored_len","copy_block","tr_static_init","opt_lenb","static_lenb","max_blindex","black_mask","detect_data_type","build_bl_tree","lcodes","dcodes","blcodes","send_all_trees","bi_flush","zlib_inflate","GZheader","Inflate","inflateInit2","inflateGetHeader","inflateSetDictionary","inflate","inflator","next_out_utf8","tail","utf8str","allowBufError","inflateEnd","inflateRaw","ungzip","inflate_fast","inflate_table","CODES","LENS","DISTS","Z_MEM_ERROR","HEAD","FLAGS","TIME","OS","EXLEN","EXTRA","NAME","COMMENT","HCRC","DICTID","DICT","TYPE","TYPEDO","STORED","COPY_","COPY","TABLE","LENLENS","CODELENS","LEN_","LEN","LENEXT","DIST","DISTEXT","MATCH","LIT","CHECK","LENGTH","BAD","MEM","SYNC","ENOUGH_LENS","ENOUGH_DISTS","DEF_WBITS","zswap32","inflateResetKeep","total","havedict","dmax","hold","lencode","lendyn","distcode","distdyn","sane","back","inflateReset","wsize","whave","wnext","inflateReset2","wbits","flags","lenbits","distbits","ncode","nlen","ndist","have","work","was","lenfix","distfix","virgin","fixedtables","sym","updatewindow","inflateInit","put","_in","_out","from_source","here_bits","here_op","here_val","last_bits","last_op","last_val","here","hbuf","inf_leave","xflags","extra_len","inflateInfo","s_window","lcode","dcode","lmask","dmask","dolen","dodist","lbase","lext","dbase","dext","lens_index","codes","table_index","incr","low","curr","drop","used","huff","base_index","MAXBITS","offs","extra_index","./drawtarget.png","./drawtarget2.png","./intersect.png","./subtract.png","./union.png","uuid4","PlotDataModel","layoutDef","plotDefs","selectionDefs","selectionPropKeys","selectionProps","dataCache","ReScatter","DataCache","ROW","COL","loadLayoutDefData","pointFiles","propFiles","renderPlotIndexes","ontFiles","pathAndTypeList","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","plots","plotDef","layoutManager","isSpaceLayout","points","return","ontologies","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","ont","ontology_file","loadFiles","putDataProps","selections","selectionOut","getSelectionPropAtIndex","propName","getUniqueSelectionPropValues","getSelectionPrimaryProp","primary","getAllSelectionPropsAtIndex","allProps","getSelectionPropKeys","getSelectionIndexes","selectionId","propVal","caseInsensitive","ci","indexes","getSelectionIndex","getPlotPropSubSelection","plotId","selectionIndices","voxel_props","subProps","_i","getPredefinedSelectionsSubSelection","errorCallback","predefinedSelections","predefinedSubselectionsConfig","replaceIndexes","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","targetId","preselect","pathAndType","subIndex","newPredefSelections","predefSelections","getFromCache","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","predefSelection","newSelection","selectionKeys","arrayTypeKeys","_i2","indexInPredef","dataPoints","_i3","otherArrayKey","replaceIx","dataName","insertInCache","protocols_ChoroplethProtocol","protoduck","onPlethResize","loadPleth","clearPlethColors","savePlethColors","restorePlethColors","setPlethColorsFromMap","protocols_PlotProtocol","loadPlotData","onResize","JobMonitor","algorithmName","pubsubid","now","jobGroups","statuses","progressData","jsonStatuses","monitoredAlgorithm","_updateModel","jobId","statusObj","jobid","createtime","createdtime","toLocaleString","progress","jobsdone","numSubJobs","delete","getProgressData","jobGroupId","addJobGroup","jobGroup","startJob","autoStart","pubsubTopic","jobsDone","numComplete","jobIds","jobCallback","getJobGroup","DimRS","JobGroup","JobStatus","PROGRESS","cancelJob","cancel","getResultClient","get_result","nrrdjs","scratch","TsnePlugin_TsnePlugin","server_url","dimres_url","jobMonitor","getAlgorithmName","addJob","dataBuffer","calculation","nrrdBuffer","calcAxis","transpose","reallyTransposedData","tsne_params","default_tsne_params","perplexity","ceil","parameters","algorithmParams","tsne","dataKey","getJobDataKey","JobType","ATSNE","dataSuffix","resultCallback","failCallback","unpackCallback","coordinates","resultNrrd","resultArray","resultObject","dims","numPoints","jobs","PluginFactory","_choroplethTypeMap","Map","_plotTypeMap","_widgetTypeMap","_jobTypeMap","_preprocessTypeMap","registerChoroplethType","classdef","has","alert","createChoroplethType","_len","params","_key","registerPlotType","createPlotType","_len2","_key2","registerWidgetType","createWidgetType","_len3","_key3","registerDataJobType","widget","SelectionContextMenu","registerGenerateDataPlugin","createDataJobType","_len4","_key4","registerPreprocessType","createPreprocessType","_len5","_key5","plugins_PluginFactory","GenerateDataPluginRunner_nrrdjs","GenerateDataPluginRunner_ndarray","GenerateDataPluginRunner_uuid4","GenerateDataPluginRunner_GenerateDataPluginRunner","plugin","monitor","recalc","getRecalculation","newDataMap","getDataMaps","filePath","baseDataMap","getBaseDataMaps","dataModel","analysisNames","dataAnalysis","analyses","dataList","ipData","inputData","preprocessPlugin","dataPreprocess","currentLayoutId","getId","recalcData","getRecalculationData","cacheDataMap","getDataMap","analysisName","config","layouts","LayoutCollection","label","description","plotMap","propMap","analysisId","subPlotId","targetPlotId","resultKey","nrrdFile","pointObj","dim","propKey","addDerivedLayout","GaussianDistCanvas","mean","stddev","scaleFactor","_width","_mean","_level","_displayStdDev","_scaleFactor","rawCanvas","stddevOrScaleChanged","calculatePdf","pdf","_pdf","fillRect","_canvasWidth","imgData","getImageData","pixVal","round","putImageData","canvasWidthChanged","temp","halfDim","_invdevroot2pi","exp","_variance","scale","_stddev","sqrt","PI","canvasWidth","KDETexture_KDETexture","renderer","plotSize","windowSize","passes","vertexKdeSrc","fragmentKdeSrc","vertexFloatPackSrc","fragmentFloatPackSrc","vertexDeclipSrc","fragmentDeclipSrc","vertCoords","numVertices","texCoords","quadIndices","textureSize","setPoints","pointCoords","scatterPlotShader","src_default","uSampler","pointBuffer","vao","aVertexPosition","floatPackShader","verts","tex","inds","vaoPackQuad","aTextureCoord","declippingShader","qverts","qtex","qinds","vaoQuad","__saveGLState","glState","blend","BLEND","depthTest","DEPTH_TEST","colorClearValue","COLOR_CLEAR_VALUE","blendEquationSeparate","alpha","BLEND_EQUATION_ALPHA","rgb","BLEND_EQUATION_RGB","blendFuncSeparate","src_rgb","BLEND_SRC_RGB","dst_rgb","BLEND_DST_RGB","src_alpha","BLEND_SRC_ALPHA","dst_alpha","BLEND_DST_ALPHA","__restoreGLState","enable","disable","contours","gaussianCanvas","kernelTexture","renderArray","checkFramebufferStatus","FRAMEBUFFER_COMPLETE","bounds","uFourSigma","u_KernelSampler","blendFunc","ONE","viewport","POINTS","fboPack","TRIANGLE_STRIP","__readPackedFloat","maxPix","uRange","uLevels","createImageData","__imageDataFromGL","resultTexture","fromCanvas","SCALE_MODES","finish","outputStorage","readPixels","image","PointGroupView_PointGroupView","parentPlot","selectionsContainer","pointSize","color","scaleFuncX","scaleFuncY","zoomFactor","selectionsRoot","Container","interactive","visible","addChild","kdeOn","spriteDrawingScale","pointTexture","__createPointTexture","xTexture","__createXTexture","oTexture","__createOTexture","pointSprites","origTextures","linkedPoints","outlineFilter","filters","DropShadowFilter","blur","distance","sizeOnActive","visibility","outline","graphicPoint","Graphics","beginFill","drawRect","endFill","drawCircle","generateTexture","graphicLine","lineStyle","moveTo","lineTo","graphicCircle","colorToOverrideMatrix","colorToInactiveOverrideMatrix","luminosity","colorToLuminanceMatrix","colorPreserveMatrix","pointOver","interactionData","annotatePoint","addPoint","linkedPoint","pointSprite","Sprite","anchor","tint","zoom","indx","setKdeOn","__addKDEToContainer","updateKde","refreshKDE","setKdeOff","__removeKDEFromContainer","kdeValues","sigma","kdeTexture","removePoint","sprite","setColor","children","childSprite","setAlpha","showBlur","hideBlur","__setupKDETexture","plotWindowSize","coordArray","kdeSprite","setChildIndex","SimplePlotController_ndarray","ndops","SimplePlotController_SimplePlotController","elementId","forceCanvasRenderer","plotElement","$","clientWidth","autoDetectRenderer","autoResize","forceFXAA","preserveDrawingBuffer","plotRoot","setScaling","ranges","rangeX","rangeY","yScaleFunc","xScaleFunc","plotPoints","pointColor","backgroundColor","movePoints","pointGroup","render","JobMonitorControl_instance","JobMonitorControl_JobMonitorControl","containerId","monitors","_initTable","plotPopup","activePlots","visiblePlot","plotInterval","activeGroupId","activeMonitorId","plotUpdateInterval","firstChild","jobMonitorControl","webix","ui","hidden","move","css","sizeToContent","cols","icon","onItemClick","hideControl","columns","adjust","minWidth","autoheight","autowidth","delbtn","trg","getItem","row","showbtn","destructPopup","jobgroupid","jobmonitorid","showJobPlotPopup","$$","jobIdToCanvasId","jobmonitor","carouselCanvas","popupDefinition","navigation","items","plotCanvases","canvasObj","show","attachEvent","find","plot","setInterval","clearInterval","destructor","updateProgressText","newText","innerHTML","forceAll","subscribeToJobMonitor","autoShow","_updateView","getLastId","clearAll","getColumnData","colId","eachRow","showControl","enabled","hide","toggleControlVisibility","TsneJob_TsneJob","StatusEnum","UNITIALIZED","SUBMITTED","SUCCESS","FAIL","SubJobIs","SelectIs","typeOfSelection","createdTime","submittedTime","completedTime","selectType","subJobs","completionStatus","addSubJob","dataMatrix","typeSubJob","jobType","resultMap","resultValue","tsneParams","n_iter","n_components","submit","jobPromises","subjob","jobPromise","co_default","regeneratorRuntime","mark","_callee","_context","sent","abrupt","t0","stop","isStatus","SelectionConfig","init","__init","staticSelections","dynamicSelections","combinedSelections","dynamic","dynamicSelectionOut","getStaticSelectionsAsIdValueArray","idValueArray","sel","SwitchableSelections","configNames","mappingData","mappings","plotInfo","Default","selectionIn","dynamicSelectionIn","getSelectionMapping","getDynamicSelectionMapping","PlotConfig","colormaps","LUTTexture","lutNameGroups","Diverging maps","Perceptually Uniform","Sequential Maps","Sequential(2) Maps","getLutNameGroups","getLutTexture","Image","onload","BaseTexture","scaleMode","LUTFilter_LUTFilter","AbstractFilter","background","__getDynamicLutTexture","super","colorSampler","begin","middle","lutTexture","currentName","background_red","background_green","background_blue","setColorMapPoints","colorRamp","ColorRamp","colorIntervals","getColorInRange","setLut","getLutNames","SnapshotProtocolForCanvas","getNumberofCanvases","getCanvasNameAtIndex","getCanvasAtIndex","SnapshotProtocolForSVG","getNumberofSVGFragments","getSVGNameAtIndex","getSVGTextAtIndex","getCSSTextAtIndex","ChoroplethSVGView","svgId","locatorRoot","each","fillColor","attr","colorMap","convert","regionId","thematicMapId","getCanvasSvgId","childNodes","choropleth_ChoroplethSVGView","InterpolationEnum","RGB","HSV","_range","_colorArray","_intervals","newRange","_refreshColorIntervals","rgbArray","_rgbInterpolate","rsize","numIntervals","interval","cInt","subOffset","cr","crStep","cg","cgStep","cb","cbStep","_hsvInterpolate","subRange","c0","c0r","c0g","c0b","c1","c1r","c1g","c1b","HTMLCanvasElement","toBlob","quality","binStr","atob","toDataURL","SnapshotSaver","tempLink","canvasId","fileName","saveRawCanvasToPng","textId","characterSet","img","drawImage","svgText","cssText","viewData","doc","DOMParser","parseFromString","styleEl","svgString","XMLSerializer","serializeToString","rootDivId","save_name","rootDiv","svgNode","saveSvgFragmentToPng","svgFrag","cssFrag","_this$__formatSVGForR","__formatSVGForRendering","svgBlob","DOMURL","__createImgOnLoad","LookupEnum","enumObj","enum","revEnum","CONTROL_ID","WIDGETS","CHOROPLETH","IMAGESTRIPFOOTER","CHARTS","LEFTSPLITTER","RIGHTSPLITTER","TUTORIAL","TUTORIALCHECKBOX","TOOLTIPCHECKBOX","ANNOTATECHOROPLETH","SELECTIONINFO","PLOTMENU","EXTERNCONTAINER","LOADINGOVERLAY","LOADINGPROMPT","JOBMONITOR","enumToOptions","css_color_string_from_int","colorint","colorString","isVivaldiBrowser","sortAndUnique","css_color_from_hextriplet","hex_triplet","background-color","style_from_hextriplet","styleString","int_from_css_color_string","control_ids_to_strings","allControlNodes","allInDocument","Set","prefix","idList","prefixedIdList","unmatchedInDocument","debugOn","unmatchedInReScatter","searchString","hide_container_behind","display","zIndex","utils_error","protocols_ControlProtocol","onControlEvent","ObserverList","observerList","startIndex","removeAt","Observable","notifyName","observers","addObserver","observer","removeObserver","removeAllObservers","numObservers","notify","context","observerCount","notifyFn","ControlEventModel_ControlEventModel","activeSelection","putControlEventModel","eventName","DynamicSelection_DynamicSelection","putDynamicSelection","originator","sourceProps","putTransitiveSelection","removeDynamicSelection","StartupSelection","performStartupAction","registerSelectionMessageListener","startupSelection","sendReadyMessageToOpener","viewController","loadLayoutByIndex","addSelection","selectionDataWidget","expand","values","group","selectionModel","getNewLabel","putSelection","opener","postMessage","receiveSelectionMessage","capture","selMessage","stopPropagation","controlEventModel","selectionState","nameAndValues","SimpleChoroplethLoader","svgTemplate","svgList","svgidList","svgRetrieveTemplate","loadImages","svgIdArray","svgIdIndexArray","svgIndex","choroplethControl","addSvgs","ToolTipController_instance","ToolTipController","setupToolTip","toolTipTarget","IMETooltipId","setupAllToolTips","toolTipTargets","item","enableToolTips","tooltip","updateCheckBox","disableToolTips","syncToolTips","getEnabledState","addTooltip","tooltipId","placement","displayContainer","addTooltipToWebixControl","webixControl","getNode","removeToolTips","changedToolTipVisibility","checkbox","nextSibling","toolTipController","ImageStripChoroplethLoader","stripElementId","thumbnailTemplate","imageElements","selected","__initialize","imageClicked","retrieveTemplate","selectedIdx","imgElement","removeSvg","dataset","svgindex","svgid","addSvg","__populateImageStrip","thumbnailStrip","imgNode","onclick","protocols_SelectionProtocol","processSelectionEvent","SelectionSubscriber_SelectionSubscriber","dynamicLimit","selectionEventQueue","dynamicEventQueue","processingSelectionEventQueue","ready","processLoopTimer","processWatchdogTimer","processTimedout","update","processingLoop","processingDone","__processNextEvent","__getNextSelectionEvent","SnapShotController","_svgs","_canvases","addComponent","component","snapshotAll","svgComponent","__snapShotSvgComponent","canvasComponent","__snapShotCanvasComponent","snapShotSelected","_canvasses","numSvgs","snapshot_SnapShotController","ChoroplethController_toolTipController","ChoroplethController_ChoroplethController","annotateId","plethDescrip","index_to_brain_regions","regionsIndexPath","region_ids","propsPath","popupAttributeList","lastColorSet","loadedSvgs","cachedSvgs","lastVisibleSelectionContext","selectedIds","regionsOrdered","regionMaps","initialize","filesAndTypes","regionIdData","propsData","oncontextmenu","onContextEvent","annotateRoot","__loadRegionMap","__flattenOntology","thematicMapController","dispatchLoadedEvent","__addMouseEventsToSvg","mouseoverFn","mouseoverSvgRegion","mouseoutFn","mouseoutSvgRegion","clickFn","clickSvgRegion","svgRegions","onmouseover","onmouseout","regionMap","ordered_region_map","structure_id","filterList","inSvgRegion","html","clientY","clientX","z-index","opacity","text-align","table-layout","__peformRegionSelection","ctrlKey","preventDefault","mappedIds","__mapSelectedRegionIds","dynamicSelectionModel","sampleIds","ontObj","flatMap","firstObj","__flattenOntChildren","ontLevel","levelObj","__mapProperty","selectionMap","selectionProp","mapOp","mapFn","DataMapper","dataMap","mapData","catch","rendererId","isCached","refreshLocator","reloadLastVisibleSelection","retrievePath","xhr","XMLHttpRequest","responseType","fetchSvg","svgIdIndex","scalableSvg","response","displayLoading","send","docfrag","createDocumentFragment","newDiv","sequence","eventContext","choropleth_ChoroplethController","ChoroplethLoader_ChoroplethLoader","LoaderType","SIMPLE_LOADER","IMAGE_STRIP_LOADER","choroplethContainerId","choroAnnotationContainerId","choroImageStripContainerId","annotationId","imageStripId","loaderType","loader","LoaderTypes","NO_LOADER","choroplethView","getMapContainerId","LayoutController_toolTipController","LayoutController_instance","LayoutController_LayoutController","LayoutFlags","MASTERGRID","LayoutTarget","SPACER","MASTER","GRID","idSuffix","gridPlots","masterPlots","idPrefix","totalPlotItems","numSpacers","ontologyTree","chartNode","setLayout","controlsEnabled","layoutTarget","layoutFlags","choropleths","numberOfPlots","masterGridLayout","singlePlotLayout","gridPlotLayout","choroplethEnabled","footer","classList","getLayoutElementId","getTotalPlots","clearTitles","plotTitles","getElementsByClassName","getCanvasPlotIds","canvasPlotIds","getNumberOfChoroplethsToLoad","getOntology","getPredefinedSelections","getPlots","recalculation","getChoropleths","dataMaps","baseDataMaps","ControlWidgetLayout","controlLayout","rows","gravity","animate","multiview","minHeight","align","cells","multi","collapsed","layoutWidgetTabs","addTabOption","webixid","active","addOption","refresh","removeTabOption","viewId","removeOption","addTabView","widgetDef","addView","addLayoutTabView","contentId","tabId","removeTabView","removeView","removeLayoutTabs","collapseSelectionEdit","collapse","expandSelectionEdit","switchTabViewTo","setValue","addAccordionView","getMultiViewParent","getParentView","clipboard","SelectionContextMenu_instance","SelectionContextMenu_SelectionContextMenu","PluginTypeEnum","EXTERNAL_WEBSITE_ANALYSIS","PROCESS_GENERATE_DATA","analysisPluginMap","recalculatePluginMap","jobMonitorDiv","selectionEditMenu","getTopMenu","grid","gridId","formData","SelectionDataWidget_SelectionDataWidget","modeEnum","startEditOp","EDIT","UNION","INTERSECT","SUBTRACT","NONE","selectionAnalysisMenu","callPlugins","replotItemFixed","selectionReplotMenu","menuItemFixed","submenu","selectionContextMenu","deleteSelection","selectionEditWidget","editExistingSelection","selectionToClipboard","saveTextToFile","htmlId","exportDiv","refreshAnalysisMenu","analysisMenuItemExtendable","refreshReplotMenu","replotMenuItemExtendable","registerExternalAnalysisPlugin","pluginName","symbolName","symbol","analysisFunc","selectionList","launchRecalculateDataPlugin","enablePlugins","enableList","getMenuUi","getEditMenuUi","selLabel","fields","csv","propsForPoint","controls","transform","closeSelectionCSV","runner","tableWebixId","editMode","editLabels","selectionTableDef","headerHeight","headerAltHeight","multiselect","editable","editor","fixedRowHeight","rowHeight","rowLineHeight","autoConfig","resizeColumn","checkboxRefresh","scrollX","onContext","onAfterEditStop","ignoreUpdate","old","selectionRowChanged","column","onSelectChange","getSelectedItem","functionMode","setMode","showSelection","unionSelections","intersectSelections","subtractSelections","hideVisibleSelection","buttonId","ev","deleteLastSelection","deleteAllSelections","accordionId","controlWidgetLayout","selectionTable","attachTo","selId","tableBody","cursor","cursors","foundRows","updateItem","unselect","adjustRowHeight","SelectionEditWidget","complexData","inputWidth","labelWidth","PermanentSelection","editModeEnum","ADDPOINTS","yCount","readonly","saveEditingSelection","cancelEditingSelection","accordionView","editForm","newVal","oldVal","editOp","setPutOperation","getValue","selData","setEditingSelection","copySelData","jQuery","setValues","editTarget","SelectionUploadWidget","parentAccordionWebixId","uploadFormDef","placeholder","loadValues","uploadForm","selectionVal","updateOptionsFromSelections","loadSelection","selectionFileLoaded","loadEvent","selectionText","isCRLF","search","isLF","isSemicolon","crlfre","lfre","scre","cleanArray","loadSelectionFile","selectionFile","readAsText","DataMapper_nrrdjs","DataMapper_ndarray","DataMapper_ndops","maps","mapDict","NULL","SUMROW","AVGROW","SUMCOL","AVGCOL","ALLROW","ALLCOL","PASSROW","PASSCOL","PASSALLROW","PASSALLCOL","propAssign","POINT","groupdef","ALL","BUSY","AVAIL","setData","rowIndices","mapping","arrayBuffer","nrrdfile","__resolveMapping","errorObj","delay","loop","__performMapping","averageRows","sumRows","averageCols","sumCols","rowLen","getIndexArray","colLen","passRow","passCol","passAllRow","passAllCol","sumArray","curRow","totalArray","colIndices","curCol","colArray","rowArray","PlotPropReader","plotFormat","propKeys","getPlotProp","getAllPropsAtPoint","getColor","getSymbol","getShape","getGroup","getPrimaryProp","getBackgroundColor","getPointIndexFromProp","PixijsPlotController_PixijsPlotController","selectionConfigs","selectionOutId","dynamicSelectionId","switchableSelections","newFromPlotInfo","currentConfig","brushType","mouseOverIndexes","propertyOverIndexes","processingDynamicSelecton","mouseover","mouseout","frameDelay","originalSize","interactionElement","plugins","interaction","interactionDOMElement","basePlotContainer","contextMenuLinked","zoomed","resizeZoom","maxZoomLevel","zoomLevels","currentZoomLevel","selectionDefaults","numNeighbours","selectOver","SelectionEnum","MOUSEOVER","mouseOverExcludeSeed","mouseOverSeedIndex","dynamicRoot","selectionViews","popupContainer","brushViewTree","mousedown","touchstart","startDrawing","mouseup","touchend","endDrawing","selectOnClick","onContextMenu","zoomWheel","startAnimationFn","stopAnimationFn","mousemove","touchmove","brushMousemove","activeBrushView","activeBrushModel","captureMouse","sceneRootMouseUp","annotations","annotationsColor","allPointSprites","dimensions","inRender","stopAnimation","hitArea","Rectangle","plotAreaRect","hasFocus","removeChildren","frameLoop","animationId","requestAnimationFrame","delta","actualRenderDelay","cacheBasePlot","sceneRootState","cacheAsBitmap","cancelAnimationFrame","scatter","loseContext","getParentWidth","getComputedStyle","offsetWidth","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","captureKeys","keyListener","keyInput","keyCode","selectionShapeOrigin","getLocalPosition","freehandPath","curPos","circCenter","circRadius","Circle","xOrigin","yOrigin","drawPolygon","Polygon","typeSelection","SHAPES","POLY","closedPath","CIRC","RECT","contains","selOutId","plotPropReader","kdeVals","scatterPoints","lutFilter","coords","kde","updateResult","spriteIndex","arrayIndex","processDynamicSelection","addSelectionToContainer","applyTransitiveSelection","pointProps","colorByGroup","sizeByGroup","groupColor","groupSize","pointShape","selectionView","PointGroupView","effects","effect","annotateInteractionTarget","pointIndex","propFilter","selectedPoints","filterVal","__deletePointGroup","displayPlotData","dataMaxX","dataMinX","dataRangeX","dataMaxY","dataMinY","dataRangeY","pointS","makeSprites","makeDataPointGroups","annotationTarget","annotText","outlineThickness","resolution","RESOLUTION","textPopup","Text","font","stroke","strokeThickness","rad","lineLength","lineThickness","dispX","dispY","annotLine","popup","mouseOverDynamicSelection","nearPoints","applyZoomToPoint","plotOffset","z1","p1","q1","z0","x0","offsetX","y0","offsetY","Point","zoomActiveOverlays","metaKey","deltaY","getPropertyIndexNeighbours","seedAndNeighborIndexes","neighbourhoodSelectIndexes","selectOnProperty","PROPOVER","CIRCLE","RECTANGLE","FREEHAND","plotProps","tempPoints","annotationPoints","distMetric","loadPoints","properties","loaded","oldZoom","zoomChange","recolorView","hiddenView","visibleView","newcontext","activeView","formId","noSeed","kpaVal","colorSet","LUTFilter","kpcVal","pointMode","PlotContextMenu_toolTipController","PlotContextMenu_instance","PlotContextMenu_PlotContextMenu","currentPlot","inInitialize","controlGroups","DRAW","PROPERTY","lutGroupNames","lutNames","gval","gindex","garray","plotContextMenu","zindex","hideMe","optionHeight","control","PixijsPlotController","onChange","changeSelectionControlState","changeActiveSelection","brushModeEnum","inputHeight","plotSelect","getFormView","staticSelectionLabel","uniqueValues","getList","suggest","keyPressTimeout","onValueSuggest","doPropertySelection","onKeyPress","dynamicSelectionLabel","labelPosition","mouseInteractionNoSeed","disabled","onSliderDrag","neighboursChange","kdekernelSigma","kdekernelContours","kdePlotColor","kdeChange","canvasSelectorLabel","saveCanvasToPng","onValues","getValues","maxNeighbours","onHide","__setDisplayEffects","displayOptions","__setDisplayEffectVisibility","form","controlName","kdePlotActivate","groupSelect","formView","callEvent","propOptions","wasVisible","isVisible","setPosition","PreloadSelectionWidget_instance","PreloadSelectionWidget","lastLoaded","predefSelectionsDef","myAdjustRowHeight","loadPredefinedSelections","renewSelections","getLastLoaded","getPreloadControlDef","clearLastLoaded","selectionObject","selectionPath","addSelections","selectionTargetId","hidePrivateColumns","hideColumn","LayoutCollection_instance","LayoutCollection_PubSub","layoutData","ids","__updateIds","getNextId","addLayout","layout","removeLayout","cloneLayout","sourcePlot","destPlot","LayoutController","_arr2","selKey","_arr3","sourceChoropleth","destChoropleth","_arr4","_i4","_arr5","_i5","sourceId","newLayoutDataMap","insertPlot","_arr6","_i6","newPredefConfig","getLayoutConfig","protocols_LayoutWidgetProtocol","beforeContentChange","afterContentChange","protocols_ExportSelectionProtocol","getMenuName","getPropertySymbol","getSupportedSelectionIds","exportSelection","protocols_DataPreprocessProtocol","LayoutWidgetBase_PubSub","LayoutWidgetBase_LayoutTableWidgetBase","_contentChanged","loadLayout","newLayout","LayoutTableWidget_LayoutTableWidget","getTitlesString","dataDescrip","__id","tableData","parseDataFromLayouts","contentTableDef","contentTableId","contentTable","selectChangeEvent","doLoadLayout","changeHandler","sortingCol","sortByCol","selectedLayout","getSelectedId","layoutJson","hideColumns","colList","colName","detachEvent","TutorialControl_instance","TutorialControl","tutorialsConfig","loadedVideos","titles","tutorialsControl","changedTutorialVisibility","onBeforeLoad","getIframe","vidPath","startsWith","load","player","getVideo","getElementsByTagName","pause","play","onShow","video","sourceVid","enableTutorial","disableTutorial","WidgetController_instance","WidgetController_WidgetController","siteConfig","pluginWidgets","defineControls","widgetsEnabled","preselectionController","layoutTableWidget","selectionUploadWidget","selectionsParent","multiViewParent","tutorialControl","Tutorials","setLayoutWidgets","widgetList","Widgets","widgetContentId","widgetTitle","pluginWidget","clearLayoutWidgets","ProgressController_instance","ProgressController","makeProgressString","progressString","grandTotal","loadTotal","totals","loadingComplete","showPrompt","hidePrompt","filePathRegExp","fileOrUrlRegexp","dataMapSchema","plotPropAllowedTypes","plotFormatSchema","dataPreprocessSchema","basemapSelections","analysisSchema","analysisRecalculationSchema","analysisPlugin","recalculationSchema","selectionAxis","choroplethRecalculationSchema","calculatePropSchema","selectionMapSchema","transitiveSelectionMapSchema","selectionInSchemas","plotDataSchema","plotSelectionSchema","plotSchema","choroplethSchema","ontologySchema","openId","predefinedSelectionsSchema","layoutConfigSchema","ontology","tutorialConfigSchema","siteConfigSchema","SiteTitle","Layouts","LayoutSiteConfig","unvalidatedSiteConfig","validatedConfig","__validateSiteConfig","numErrs","numWarns","errorMessage","ViewController_instance","ViewController_ViewController","plotRenderers","allRenderers","validateConfig","layoutCollection","layoutController","widgetController","progressController","siteTitle","selectionConfig","startupCallback","setupSliders","unload","resizable","handleSelector","resizeHeight","resizeWidth","resizeWidthFrom","onDrag","$el","contentResize","onDragEnd","numPlotsToLoad","numChoroplethsToLoad","setDataMaps","loadRenderers","pointData","getCachedList","propData","ontologyData","createRenderer","dataIndex","plotRenderer","loadOntologyData","OntologyTree","setupSelections","events","DynamicSelection","plotsAndChoropleths","SiteInstance_instance","SiteInstance_SiteInstance","ChoroplethPlugins","entries","PlotPlugins","LayoutTableWidget","WidgetPlugins","__addRowHeightFuncToWebix","ViewController","TsnePlugin","datatable","silent","rId","processRow","getColumnConfig","getText","scrollHeight","$height","class","$view","control_toolTipController","DataCache_instance","DataCache_DataCache","__makePromise","endsWith","compressed","statusText","responseText","deferredGets","asyncLoadFiles","getPaths","async","awrap","isInCache","forceOverwrite","fileList","dataArray","PermanentSelection_PermanentSelection","PermanentSelection_defineProperty","orderedLabels","labelCount","visibleSelection","editingLabel","editingSelection","selPriorToEdit","putOperation","__editExisting","selectionLabels","combineSelections","dataPointSet","newDescrip","newLabel","oldSelection","REMOVEPOINTS","originalSelection","addPoints","mergeArray","mergePoints","removePoints","removed","showPrev","OntologyTree_OntologyTree","acronym","common","color_hex_triplet","treetable","treecheckbox","atlasTableDef","threeState","atlasId","atlasTable","atlasItemsChecked","ontologySelection","DataDriver","myjson","json","getPathToId","rootId","getFirstId","idPath","currentId","getParentId","getChecked","outputSelection","atlasItemCheck","__webpack_exports__","jobs_namespaceObject","config_namespaceObject","view_namespaceObject","utils_namespaceObject","events_namespaceObject","control_namespaceObject","data_namespaceObject","widget_namespaceObject","protocols_namespaceObject"],"mappings":"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CA,mBACA,uBACA,YACA,cACA,cACA,aACA,qBACA,yBACA,aACA,eACA,eACA,UACA,iBACA,YACA,cACA,cACA,WACA,mBACA,aACA,eACA,eACA,eACA,gBACA,oBACA,uBACA,2BACA,YACA,cACA,cACA,gBACA,yBACA,6BACA,aACA,eACA,eACA,YACA,cACA,aACA,eACA,YACA,cACA,QAEA,OADArB,QAAAC,KAAA,2BAAAG,GACAA,GAIA,SAAAO,EAAA6B,GACA,OAAAA,EAAAnB,eACA,UACA,YACA,UACA,WACA,YACA,cACA,UACA,YACA,SACA,WACA,aACA,UACA,YACA,cACA,QAEA,OADArB,QAAAC,KAAA,+BAAAuC,GACAA,GA0CA,SAAA5B,EAAA6B,GACA,OAAAA,EAAApB,eACA,aACA,eACA,UACA,YACA,QAEA,OADArB,QAAAC,KAAA,iCAAAwC,GACAA,GAKA,IAAA3B,EAAA,uCAuCA,SAAAI,EAAAuG,GACA,OAAAA,EAAApG,eACA,WACA,aACA,WACA,aACA,UACA,WACA,YACA,QAEA,OADArB,QAAAC,KAAA,6BAAAwH,GACAA,GAIA,IAAAC,GACAC,OAAA,SACAvG,MAAA,QACAwG,KAAA,OACAC,KAAA,OACAC,MAAA,QACAC,OAAA,SACAC,mBAAA,mBACAC,OAAA,SACAC,KAAA,OACAC,OAAA,SACAC,QAAA,UACAC,WAAA,WACAC,UAAA,UACAC,YAAA,YACAC,YAAA,YACAC,YAAA,YACAC,UAAA,UACAC,aAAA,aACAC,WAAA,WACAC,aAAA,aACAC,WAAA,WACAC,WAAA,WACAC,WAAA,aACAC,sBAAA,sBACAC,6BAAA,6BACAC,YAAA,YACAC,mBAAA,mBACAC,sBAAA,sBACAC,6BAAA,6BACAC,YAAA,YACAC,mBAAA,mBACAC,MAAA,KACAC,KAAA,MAEA,SAAAvI,EAAAwI,GACA,IAAAC,EAAAD,EAAAtI,cACA,OAAAuI,KAAAlC,IAAAkC,IACA5J,QAAAC,KAAA,2BAAA0J,GACAA,GAGA,SAAA5J,EAAA9K,GACA,cAAAA,EAAA,MAAAA,EAGA,IAAAyN,EAAA,WACA,IAAAhK,EA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","file":"rescatter.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ReScatter\"] = factory();\n\telse\n\t\troot[\"ReScatter\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 177);\n","var gl = {\n    createContext:          require('./createContext'),\n    setVertexAttribArrays:  require('./setVertexAttribArrays'),\n    GLBuffer:               require('./GLBuffer'),\n    GLFramebuffer:          require('./GLFramebuffer'),\n    GLShader:               require('./GLShader'),\n    GLTexture:              require('./GLTexture'),\n    VertexArrayObject:      require('./VertexArrayObject'),\n    shader:                 require('./shader')\n};\n\n// Export for Node-compatible environments\nif (typeof module !== 'undefined' && module.exports)\n{\n    // Export the module\n    module.exports = gl;\n}\n\n// Add to the browser window pixi.gl\nif (typeof window !== 'undefined')\n{\n    // add the window object\n    window.PIXI = window.PIXI || {};\n    window.PIXI.glCore = gl;\n}\n","'use strict'\n\nconst genfun = require('genfun')\n\nclass Duck extends Function {\n  // Duck.impl(Foo, [String, Array], { frob (str, arr) { ... }})\n  impl (target, types, impls) {\n    if (!impls && !isArray(types)) {\n      impls = types\n      types = []\n    }\n    if (!impls && this.isDerivable) {\n      impls = this._defaultImpls\n    }\n    if (!impls) {\n      impls = {}\n    }\n    if (typeof target === 'function' && !target.isGenfun) {\n      target = target.prototype\n    }\n    checkImpls(this, target, impls)\n    checkArgTypes(this, types)\n    this._constraints.forEach(c => {\n      if (!c.verify(target, types)) {\n        throw new Error(`Implementations of ${\n          this.name || 'this protocol'\n        } must first implement ${\n          c.parent.name || 'its constraint protocols defined in opts.where.'\n        }`)\n      }\n    })\n    this._methodNames.forEach(name => {\n      defineMethod(this, name, target, types, impls)\n    })\n  }\n\n  hasImpl (arg, args) {\n    args = args || []\n    const fns = this._methodNames\n    var gf\n    if (typeof arg === 'function' && !arg.isGenfun) {\n      arg = arg.prototype\n    }\n    args = args.map(arg => {\n      if (typeof arg === 'function' && !arg.isGenfun) {\n        return arg.prototype\n      } else {\n        return arg\n      }\n    })\n    for (var i = 0; i < fns.length; i++) {\n      gf = arg[fns[i]]\n      if (!gf ||\n          (gf.hasMethod\n          ? !gf.hasMethod.apply(gf, args)\n          : typeof gf === 'function')) {\n        return false\n      }\n    }\n    return true\n  }\n\n  // MyDuck.matches('a', ['this', 'c'])\n  matches (thisType, argTypes) {\n    if (!argTypes && isArray(thisType)) {\n      argTypes = thisType\n      thisType = 'this'\n    }\n    if (!thisType) {\n      thisType = 'this'\n    }\n    if (!argTypes) {\n      argTypes = []\n    }\n    return new Constraint(this, thisType, argTypes)\n  }\n}\nDuck.prototype.isDuck = true\nDuck.prototype.isProtocol = true\n\nconst Protoduck = module.exports = define(['duck'], {\n  createGenfun: ['duck', _metaCreateGenfun],\n  addMethod: ['duck', _metaAddMethod]\n}, {name: 'Protoduck'})\n\nconst noImplFound = module.exports.noImplFound = genfun.noApplicableMethod\n\nmodule.exports.define = define\nfunction define (types, spec, opts) {\n  if (!isArray(types)) {\n    // protocol(spec, opts?) syntax for method-based protocols\n    opts = spec\n    spec = types\n    types = []\n  }\n  const duck = function (thisType, argTypes) {\n    return duck.matches(thisType, argTypes)\n  }\n  Object.setPrototypeOf(duck, Duck.prototype)\n  duck.isDerivable = true\n  Object.defineProperty(duck, 'name', {\n    value: (opts && opts.name) || 'Protocol'\n  })\n  if (opts && opts.where) {\n    let where = opts.where\n    if (!isArray(opts.where)) { where = [opts.where] }\n    duck._constraints = where.map(w => w.isProtocol // `where: [Foo]`\n      ? w.matches()\n      : w\n    )\n  } else {\n    duck._constraints = []\n  }\n  duck.isProtocol = true\n  duck._metaobject = opts && opts.metaobject\n  duck._types = types\n  duck._defaultImpls = {}\n  duck._gfTypes = {}\n  duck._methodNames = Object.keys(spec)\n  duck._methodNames.forEach(name => {\n    checkMethodSpec(duck, name, spec)\n  })\n  duck._constraints.forEach(c => c.attach(duck))\n  return duck\n}\n\nfunction checkMethodSpec (duck, name, spec) {\n  let gfTypes = spec[name]\n  if (typeof gfTypes === 'function') {\n    duck._defaultImpls[name] = gfTypes\n    gfTypes = [gfTypes]\n  } if (typeof gfTypes[gfTypes.length - 1] === 'function') {\n    duck._defaultImpls[name] = gfTypes.pop()\n  } else {\n    duck.isDerivable = false\n  }\n  duck._gfTypes[name] = gfTypes.map(typeId => {\n    const idx = duck._types.indexOf(typeId)\n    if (idx === -1) {\n      throw new Error(\n        `type '${\n          typeId\n        }' for function '${\n          name\n        }' does not match any protocol types (${\n          duck._types.join(', ')\n        }).`\n      )\n    } else {\n      return idx\n    }\n  })\n}\n\nfunction defineMethod (duck, name, target, types, impls) {\n  const methodTypes = duck._gfTypes[name].map(function (typeIdx) {\n    return types[typeIdx]\n  })\n  for (let i = methodTypes.length - 1; i >= 0; i--) {\n    if (methodTypes[i] === undefined) {\n      methodTypes.pop()\n    } else {\n      break\n    }\n  }\n  const useMetaobject = duck._metaobject && duck._metaobject !== Protoduck\n  // `target` does not necessarily inherit from `Object`\n  if (!Object.prototype.hasOwnProperty.call(target, name)) {\n    // Make a genfun if there's nothing there\n    const gf = useMetaobject\n    ? duck._metaobject.createGenfun(duck, target, name, null)\n    : _metaCreateGenfun(duck, target, name, null)\n    target[name] = gf\n  } else if (typeof target[name] === 'function' && !target[name].isGenfun) {\n    // Turn non-gf functions into genfuns\n    const gf = useMetaobject\n    ? duck._metaobject.createGenfun(duck, target, name, target[name])\n    : _metaCreateGenfun(duck, target, name, target[name])\n    target[name] = gf\n  }\n\n  const fn = impls[name] || duck._defaultImpls[name]\n  if (fn) { // checkImpls made sure this is safe\n    useMetaobject\n    ? duck._metaobject.addMethod(duck, target, name, methodTypes, fn)\n    : _metaAddMethod(duck, target, name, methodTypes, fn)\n  }\n}\n\nfunction checkImpls (duck, target, impls) {\n  duck._methodNames.forEach(function (name) {\n    if (\n      !impls[name] &&\n      !duck._defaultImpls[name] &&\n      // Existing methods on the target are acceptable defaults.\n      typeof target[name] !== 'function'\n    ) {\n      throw new Error(`Missing implementation for ${\n        formatMethod(duck, name, duck.name)\n      }. Make sure the method is present in your ${\n        duck.name || 'protocol'\n      } definition. Required methods: ${\n        duck._methodNames.filter(m => {\n          return !duck._defaultImpls[m]\n        }).map(m => formatMethod(duck, m)).join(', ')\n      }.`)\n    }\n  })\n  Object.keys(impls).forEach(function (name) {\n    if (duck._methodNames.indexOf(name) === -1) {\n      throw new Error(\n        `${name}() was included in the impl, but is not part of ${\n          duck.name || 'the protocol'\n        }. Allowed methods: ${\n          duck._methodNames.map(m => formatMethod(duck, m)).join(', ')\n        }.`\n      )\n    }\n  })\n}\n\nfunction formatMethod (duck, name, withDuckName) {\n  return `${\n    withDuckName && duck.name ? `${duck.name}#` : ''\n  }${name}(${duck._gfTypes[name].map(n => duck._types[n]).join(', ')})`\n}\n\nfunction checkArgTypes (duck, types) {\n  var requiredTypes = duck._types\n  if (types.length > requiredTypes.length) {\n    throw new Error(\n      `${\n        duck.name || 'Protocol'\n      } expects to be defined across ${\n        requiredTypes.length\n      } type${requiredTypes.length > 1 ? 's' : ''}, but ${\n        types.length\n      } ${types.length > 1 ? 'were' : 'was'} specified.`\n    )\n  }\n}\n\nfunction typeName (obj) {\n  return (/\\[object ([a-zA-Z0-9]+)\\]/).exec(({}).toString.call(obj))[1]\n}\n\nfunction installMethodErrorMessage (proto, gf, target, name) {\n  noImplFound.add([gf], function (gf, thisArg, args) {\n    let parent = Object.getPrototypeOf(thisArg)\n    while (parent && parent[name] === gf) {\n      parent = Object.getPrototypeOf(parent)\n    }\n    if (parent && parent[name] && typeof parent[name] === 'function') {\n    }\n    var msg = `No ${typeName(thisArg)} impl for ${\n      proto.name ? `${proto.name}#` : ''\n    }${name}(${[].map.call(args, typeName).join(', ')}). You must implement ${\n      proto.name\n      ? formatMethod(proto, name, true)\n      : `the protocol ${formatMethod(proto, name)} belongs to`\n    } in order to call ${typeName(thisArg)}#${name}(${\n      [].map.call(args, typeName).join(', ')\n    }).`\n    const err = new Error(msg)\n    err.protocol = proto\n    err.function = gf\n    err.thisArg = thisArg\n    err.args = args\n    err.code = 'ENOIMPL'\n    throw err\n  })\n}\n\nfunction isArray (x) {\n  return Object.prototype.toString.call(x) === '[object Array]'\n}\n\n// Metaobject Protocol\nProtoduck.impl(Protoduck) // defaults configured by definition\n\nfunction _metaCreateGenfun (proto, target, name, deflt) {\n  var gf = genfun({\n    default: deflt,\n    name: `${proto.name ? `${proto.name}#` : ''}${name}`\n  })\n  installMethodErrorMessage(proto, gf, target, name)\n  gf.duck = proto\n  return gf\n}\n\nfunction _metaAddMethod (duck, target, name, methodTypes, fn) {\n  return target[name].add(methodTypes, fn)\n}\n\n// Constraints\nclass Constraint {\n  constructor (parent, thisType, argTypes) {\n    this.parent = parent\n    this.target = thisType\n    this.types = argTypes\n  }\n\n  attach (obj) {\n    this.child = obj\n    if (this.target === 'this') {\n      this.thisIdx = 'this'\n    } else {\n      const idx = this.child._types.indexOf(this.target)\n      if (idx === -1) {\n        this.thisIdx = null\n      } else {\n        this.thisIdx = idx\n      }\n    }\n    this.indices = this.types.map(typeId => {\n      if (typeId === 'this') {\n        return 'this'\n      } else {\n        const idx = this.child._types.indexOf(typeId)\n        if (idx === -1) {\n          return null\n        } else {\n          return idx\n        }\n      }\n    })\n  }\n\n  verify (target, types) {\n    const thisType = (\n      this.thisIdx === 'this' || this.thisIdx == null\n    )\n    ? target\n    : types[this.thisIdx]\n    const parentTypes = this.indices.map(idx => {\n      if (idx === 'this') {\n        return target\n      } else if (idx === 'this') {\n        return types[this.thisIdx]\n      } else if (idx === null) {\n        return Object\n      } else {\n        return types[idx] || Object.prototype\n      }\n    })\n    return this.parent.hasImpl(thisType, parentTypes)\n  }\n}\nConstraint.prototype.isConstraint = true\n","var iota = require(\"iota-array\")\nvar isBuffer = require(\"is-buffer\")\n\nvar hasTypedArrays  = ((typeof Float64Array) !== \"undefined\")\n\nfunction compare1st(a, b) {\n  return a[0] - b[0]\n}\n\nfunction order() {\n  var stride = this.stride\n  var terms = new Array(stride.length)\n  var i\n  for(i=0; i<terms.length; ++i) {\n    terms[i] = [Math.abs(stride[i]), i]\n  }\n  terms.sort(compare1st)\n  var result = new Array(terms.length)\n  for(i=0; i<result.length; ++i) {\n    result[i] = terms[i][1]\n  }\n  return result\n}\n\nfunction compileConstructor(dtype, dimension) {\n  var className = [\"View\", dimension, \"d\", dtype].join(\"\")\n  if(dimension < 0) {\n    className = \"View_Nil\" + dtype\n  }\n  var useGetters = (dtype === \"generic\")\n\n  if(dimension === -1) {\n    //Special case for trivial arrays\n    var code =\n      \"function \"+className+\"(a){this.data=a;};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return -1};\\\nproto.size=0;\\\nproto.dimension=-1;\\\nproto.shape=proto.stride=proto.order=[];\\\nproto.lo=proto.hi=proto.transpose=proto.step=\\\nfunction(){return new \"+className+\"(this.data);};\\\nproto.get=proto.set=function(){};\\\nproto.pick=function(){return null};\\\nreturn function construct_\"+className+\"(a){return new \"+className+\"(a);}\"\n    var procedure = new Function(code)\n    return procedure()\n  } else if(dimension === 0) {\n    //Special case for 0d arrays\n    var code =\n      \"function \"+className+\"(a,d) {\\\nthis.data = a;\\\nthis.offset = d\\\n};\\\nvar proto=\"+className+\".prototype;\\\nproto.dtype='\"+dtype+\"';\\\nproto.index=function(){return this.offset};\\\nproto.dimension=0;\\\nproto.size=1;\\\nproto.shape=\\\nproto.stride=\\\nproto.order=[];\\\nproto.lo=\\\nproto.hi=\\\nproto.transpose=\\\nproto.step=function \"+className+\"_copy() {\\\nreturn new \"+className+\"(this.data,this.offset)\\\n};\\\nproto.pick=function \"+className+\"_pick(){\\\nreturn TrivialArray(this.data);\\\n};\\\nproto.valueOf=proto.get=function \"+className+\"_get(){\\\nreturn \"+(useGetters ? \"this.data.get(this.offset)\" : \"this.data[this.offset]\")+\n\"};\\\nproto.set=function \"+className+\"_set(v){\\\nreturn \"+(useGetters ? \"this.data.set(this.offset,v)\" : \"this.data[this.offset]=v\")+\"\\\n};\\\nreturn function construct_\"+className+\"(a,b,c,d){return new \"+className+\"(a,d)}\"\n    var procedure = new Function(\"TrivialArray\", code)\n    return procedure(CACHED_CONSTRUCTORS[dtype][0])\n  }\n\n  var code = [\"'use strict'\"]\n\n  //Create constructor for view\n  var indices = iota(dimension)\n  var args = indices.map(function(i) { return \"i\"+i })\n  var index_str = \"this.offset+\" + indices.map(function(i) {\n        return \"this.stride[\" + i + \"]*i\" + i\n      }).join(\"+\")\n  var shapeArg = indices.map(function(i) {\n      return \"b\"+i\n    }).join(\",\")\n  var strideArg = indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")\n  code.push(\n    \"function \"+className+\"(a,\" + shapeArg + \",\" + strideArg + \",d){this.data=a\",\n      \"this.shape=[\" + shapeArg + \"]\",\n      \"this.stride=[\" + strideArg + \"]\",\n      \"this.offset=d|0}\",\n    \"var proto=\"+className+\".prototype\",\n    \"proto.dtype='\"+dtype+\"'\",\n    \"proto.dimension=\"+dimension)\n\n  //view.size:\n  code.push(\"Object.defineProperty(proto,'size',{get:function \"+className+\"_size(){\\\nreturn \"+indices.map(function(i) { return \"this.shape[\"+i+\"]\" }).join(\"*\"),\n\"}})\")\n\n  //view.order:\n  if(dimension === 1) {\n    code.push(\"proto.order=[0]\")\n  } else {\n    code.push(\"Object.defineProperty(proto,'order',{get:\")\n    if(dimension < 4) {\n      code.push(\"function \"+className+\"_order(){\")\n      if(dimension === 2) {\n        code.push(\"return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})\")\n      } else if(dimension === 3) {\n        code.push(\n\"var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);\\\nif(s0>s1){\\\nif(s1>s2){\\\nreturn [2,1,0];\\\n}else if(s0>s2){\\\nreturn [1,2,0];\\\n}else{\\\nreturn [1,0,2];\\\n}\\\n}else if(s0>s2){\\\nreturn [2,0,1];\\\n}else if(s2>s1){\\\nreturn [0,1,2];\\\n}else{\\\nreturn [0,2,1];\\\n}}})\")\n      }\n    } else {\n      code.push(\"ORDER})\")\n    }\n  }\n\n  //view.set(i0, ..., v):\n  code.push(\n\"proto.set=function \"+className+\"_set(\"+args.join(\",\")+\",v){\")\n  if(useGetters) {\n    code.push(\"return this.data.set(\"+index_str+\",v)}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]=v}\")\n  }\n\n  //view.get(i0, ...):\n  code.push(\"proto.get=function \"+className+\"_get(\"+args.join(\",\")+\"){\")\n  if(useGetters) {\n    code.push(\"return this.data.get(\"+index_str+\")}\")\n  } else {\n    code.push(\"return this.data[\"+index_str+\"]}\")\n  }\n\n  //view.index:\n  code.push(\n    \"proto.index=function \"+className+\"_index(\", args.join(), \"){return \"+index_str+\"}\")\n\n  //view.hi():\n  code.push(\"proto.hi=function \"+className+\"_hi(\"+args.join(\",\")+\"){return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return [\"(typeof i\",i,\"!=='number'||i\",i,\"<0)?this.shape[\", i, \"]:i\", i,\"|0\"].join(\"\")\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"this.stride[\"+i + \"]\"\n    }).join(\",\")+\",this.offset)}\")\n\n  //view.lo():\n  var a_vars = indices.map(function(i) { return \"a\"+i+\"=this.shape[\"+i+\"]\" })\n  var c_vars = indices.map(function(i) { return \"c\"+i+\"=this.stride[\"+i+\"]\" })\n  code.push(\"proto.lo=function \"+className+\"_lo(\"+args.join(\",\")+\"){var b=this.offset,d=0,\"+a_vars.join(\",\")+\",\"+c_vars.join(\",\"))\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){\\\nd=i\"+i+\"|0;\\\nb+=c\"+i+\"*d;\\\na\"+i+\"-=d}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\"+i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"c\"+i\n    }).join(\",\")+\",b)}\")\n\n  //view.step():\n  code.push(\"proto.step=function \"+className+\"_step(\"+args.join(\",\")+\"){var \"+\n    indices.map(function(i) {\n      return \"a\"+i+\"=this.shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\"+i+\"=this.stride[\"+i+\"]\"\n    }).join(\",\")+\",c=this.offset,d=0,ceil=Math.ceil\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\n\"if(typeof i\"+i+\"==='number'){\\\nd=i\"+i+\"|0;\\\nif(d<0){\\\nc+=b\"+i+\"*(a\"+i+\"-1);\\\na\"+i+\"=ceil(-a\"+i+\"/d)\\\n}else{\\\na\"+i+\"=ceil(a\"+i+\"/d)\\\n}\\\nb\"+i+\"*=d\\\n}\")\n  }\n  code.push(\"return new \"+className+\"(this.data,\"+\n    indices.map(function(i) {\n      return \"a\" + i\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"b\" + i\n    }).join(\",\")+\",c)}\")\n\n  //view.transpose():\n  var tShape = new Array(dimension)\n  var tStride = new Array(dimension)\n  for(var i=0; i<dimension; ++i) {\n    tShape[i] = \"a[i\"+i+\"]\"\n    tStride[i] = \"b[i\"+i+\"]\"\n  }\n  code.push(\"proto.transpose=function \"+className+\"_transpose(\"+args+\"){\"+\n    args.map(function(n,idx) { return n + \"=(\" + n + \"===undefined?\" + idx + \":\" + n + \"|0)\"}).join(\";\"),\n    \"var a=this.shape,b=this.stride;return new \"+className+\"(this.data,\"+tShape.join(\",\")+\",\"+tStride.join(\",\")+\",this.offset)}\")\n\n  //view.pick():\n  code.push(\"proto.pick=function \"+className+\"_pick(\"+args+\"){var a=[],b=[],c=this.offset\")\n  for(var i=0; i<dimension; ++i) {\n    code.push(\"if(typeof i\"+i+\"==='number'&&i\"+i+\">=0){c=(c+this.stride[\"+i+\"]*i\"+i+\")|0}else{a.push(this.shape[\"+i+\"]);b.push(this.stride[\"+i+\"])}\")\n  }\n  code.push(\"var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}\")\n\n  //Add return statement\n  code.push(\"return function construct_\"+className+\"(data,shape,stride,offset){return new \"+className+\"(data,\"+\n    indices.map(function(i) {\n      return \"shape[\"+i+\"]\"\n    }).join(\",\")+\",\"+\n    indices.map(function(i) {\n      return \"stride[\"+i+\"]\"\n    }).join(\",\")+\",offset)}\")\n\n  //Compile procedure\n  var procedure = new Function(\"CTOR_LIST\", \"ORDER\", code.join(\"\\n\"))\n  return procedure(CACHED_CONSTRUCTORS[dtype], order)\n}\n\nfunction arrayDType(data) {\n  if(isBuffer(data)) {\n    return \"buffer\"\n  }\n  if(hasTypedArrays) {\n    switch(Object.prototype.toString.call(data)) {\n      case \"[object Float64Array]\":\n        return \"float64\"\n      case \"[object Float32Array]\":\n        return \"float32\"\n      case \"[object Int8Array]\":\n        return \"int8\"\n      case \"[object Int16Array]\":\n        return \"int16\"\n      case \"[object Int32Array]\":\n        return \"int32\"\n      case \"[object Uint8Array]\":\n        return \"uint8\"\n      case \"[object Uint16Array]\":\n        return \"uint16\"\n      case \"[object Uint32Array]\":\n        return \"uint32\"\n      case \"[object Uint8ClampedArray]\":\n        return \"uint8_clamped\"\n    }\n  }\n  if(Array.isArray(data)) {\n    return \"array\"\n  }\n  return \"generic\"\n}\n\nvar CACHED_CONSTRUCTORS = {\n  \"float32\":[],\n  \"float64\":[],\n  \"int8\":[],\n  \"int16\":[],\n  \"int32\":[],\n  \"uint8\":[],\n  \"uint16\":[],\n  \"uint32\":[],\n  \"array\":[],\n  \"uint8_clamped\":[],\n  \"buffer\":[],\n  \"generic\":[]\n}\n\n;(function() {\n  for(var id in CACHED_CONSTRUCTORS) {\n    CACHED_CONSTRUCTORS[id].push(compileConstructor(id, -1))\n  }\n});\n\nfunction wrappedNDArrayCtor(data, shape, stride, offset) {\n  if(data === undefined) {\n    var ctor = CACHED_CONSTRUCTORS.array[0]\n    return ctor([])\n  } else if(typeof data === \"number\") {\n    data = [data]\n  }\n  if(shape === undefined) {\n    shape = [ data.length ]\n  }\n  var d = shape.length\n  if(stride === undefined) {\n    stride = new Array(d)\n    for(var i=d-1, sz=1; i>=0; --i) {\n      stride[i] = sz\n      sz *= shape[i]\n    }\n  }\n  if(offset === undefined) {\n    offset = 0\n    for(var i=0; i<d; ++i) {\n      if(stride[i] < 0) {\n        offset -= (shape[i]-1)*stride[i]\n      }\n    }\n  }\n  var dtype = arrayDType(data)\n  var ctor_list = CACHED_CONSTRUCTORS[dtype]\n  while(ctor_list.length <= d+1) {\n    ctor_list.push(compileConstructor(dtype, ctor_list.length-1))\n  }\n  var ctor = ctor_list[d+1]\n  return ctor(data, shape, stride, offset)\n}\n\nmodule.exports = wrappedNDArrayCtor\n","'use strict';\n\n\nvar TYPED_OK =  (typeof Uint8Array !== 'undefined') &&\n                (typeof Uint16Array !== 'undefined') &&\n                (typeof Int32Array !== 'undefined');\n\nfunction _has(obj, key) {\n  return Object.prototype.hasOwnProperty.call(obj, key);\n}\n\nexports.assign = function (obj /*from1, from2, from3, ...*/) {\n  var sources = Array.prototype.slice.call(arguments, 1);\n  while (sources.length) {\n    var source = sources.shift();\n    if (!source) { continue; }\n\n    if (typeof source !== 'object') {\n      throw new TypeError(source + 'must be non-object');\n    }\n\n    for (var p in source) {\n      if (_has(source, p)) {\n        obj[p] = source[p];\n      }\n    }\n  }\n\n  return obj;\n};\n\n\n// reduce buffer size, avoiding mem copy\nexports.shrinkBuf = function (buf, size) {\n  if (buf.length === size) { return buf; }\n  if (buf.subarray) { return buf.subarray(0, size); }\n  buf.length = size;\n  return buf;\n};\n\n\nvar fnTyped = {\n  arraySet: function (dest, src, src_offs, len, dest_offs) {\n    if (src.subarray && dest.subarray) {\n      dest.set(src.subarray(src_offs, src_offs + len), dest_offs);\n      return;\n    }\n    // Fallback to ordinary array\n    for (var i = 0; i < len; i++) {\n      dest[dest_offs + i] = src[src_offs + i];\n    }\n  },\n  // Join array of chunks to single array.\n  flattenChunks: function (chunks) {\n    var i, l, len, pos, chunk, result;\n\n    // calculate data length\n    len = 0;\n    for (i = 0, l = chunks.length; i < l; i++) {\n      len += chunks[i].length;\n    }\n\n    // join chunks\n    result = new Uint8Array(len);\n    pos = 0;\n    for (i = 0, l = chunks.length; i < l; i++) {\n      chunk = chunks[i];\n      result.set(chunk, pos);\n      pos += chunk.length;\n    }\n\n    return result;\n  }\n};\n\nvar fnUntyped = {\n  arraySet: function (dest, src, src_offs, len, dest_offs) {\n    for (var i = 0; i < len; i++) {\n      dest[dest_offs + i] = src[src_offs + i];\n    }\n  },\n  // Join array of chunks to single array.\n  flattenChunks: function (chunks) {\n    return [].concat.apply([], chunks);\n  }\n};\n\n\n// Enable/Disable typed arrays use, for testing\n//\nexports.setTyped = function (on) {\n  if (on) {\n    exports.Buf8  = Uint8Array;\n    exports.Buf16 = Uint16Array;\n    exports.Buf32 = Int32Array;\n    exports.assign(exports, fnTyped);\n  } else {\n    exports.Buf8  = Array;\n    exports.Buf16 = Array;\n    exports.Buf32 = Array;\n    exports.assign(exports, fnUntyped);\n  }\n};\n\nexports.setTyped(TYPED_OK);\n","\"use strict\"\n\nvar compile = require(\"cwise-compiler\")\n\nvar EmptyProc = {\n  body: \"\",\n  args: [],\n  thisVars: [],\n  localVars: []\n}\n\nfunction fixup(x) {\n  if(!x) {\n    return EmptyProc\n  }\n  for(var i=0; i<x.args.length; ++i) {\n    var a = x.args[i]\n    if(i === 0) {\n      x.args[i] = {name: a, lvalue:true, rvalue: !!x.rvalue, count:x.count||1 }\n    } else {\n      x.args[i] = {name: a, lvalue:false, rvalue:true, count: 1}\n    }\n  }\n  if(!x.thisVars) {\n    x.thisVars = []\n  }\n  if(!x.localVars) {\n    x.localVars = []\n  }\n  return x\n}\n\nfunction pcompile(user_args) {\n  return compile({\n    args:     user_args.args,\n    pre:      fixup(user_args.pre),\n    body:     fixup(user_args.body),\n    post:     fixup(user_args.proc),\n    funcName: user_args.funcName\n  })\n}\n\nfunction makeOp(user_args) {\n  var args = []\n  for(var i=0; i<user_args.args.length; ++i) {\n    args.push(\"a\"+i)\n  }\n  var wrapper = new Function(\"P\", [\n    \"return function \", user_args.funcName, \"_ndarrayops(\", args.join(\",\"), \") {P(\", args.join(\",\"), \");return a0}\"\n  ].join(\"\"))\n  return wrapper(pcompile(user_args))\n}\n\nvar assign_ops = {\n  add:  \"+\",\n  sub:  \"-\",\n  mul:  \"*\",\n  div:  \"/\",\n  mod:  \"%\",\n  band: \"&\",\n  bor:  \"|\",\n  bxor: \"^\",\n  lshift: \"<<\",\n  rshift: \">>\",\n  rrshift: \">>>\"\n}\n;(function(){\n  for(var id in assign_ops) {\n    var op = assign_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\",\"b\",\"c\"],\n             body: \"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\",\"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a\"+op+\"=b\"},\n      rvalue: true,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\", \"array\", \"scalar\"],\n      body: {args:[\"a\",\"b\",\"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\",\"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a\"+op+\"=s\"},\n      rvalue: true,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar unary_ops = {\n  not: \"!\",\n  bnot: \"~\",\n  neg: \"-\",\n  recip: \"1.0/\"\n}\n;(function(){\n  for(var id in unary_ops) {\n    var op = unary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\",\"b\"],\n             body:\"a=\"+op+\"b\"},\n      funcName: id\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\"],\n      body: {args:[\"a\"],\n             body:\"a=\"+op+\"a\"},\n      rvalue: true,\n      count: 2,\n      funcName: id+\"eq\"\n    })\n  }\n})();\n\nvar binary_ops = {\n  and: \"&&\",\n  or: \"||\",\n  eq: \"===\",\n  neq: \"!==\",\n  lt: \"<\",\n  gt: \">\",\n  leq: \"<=\",\n  geq: \">=\"\n}\n;(function() {\n  for(var id in binary_ops) {\n    var op = binary_ops[id]\n    exports[id] = makeOp({\n      args: [\"array\",\"array\",\"array\"],\n      body: {args:[\"a\", \"b\", \"c\"],\n             body:\"a=b\"+op+\"c\"},\n      funcName: id\n    })\n    exports[id+\"s\"] = makeOp({\n      args: [\"array\",\"array\",\"scalar\"],\n      body: {args:[\"a\", \"b\", \"s\"],\n             body:\"a=b\"+op+\"s\"},\n      funcName: id+\"s\"\n    })\n    exports[id+\"eq\"] = makeOp({\n      args: [\"array\", \"array\"],\n      body: {args:[\"a\", \"b\"],\n             body:\"a=a\"+op+\"b\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"eq\"\n    })\n    exports[id+\"seq\"] = makeOp({\n      args: [\"array\", \"scalar\"],\n      body: {args:[\"a\",\"s\"],\n             body:\"a=a\"+op+\"s\"},\n      rvalue:true,\n      count:2,\n      funcName: id+\"seq\"\n    })\n  }\n})();\n\nvar math_unary = [\n  \"abs\",\n  \"acos\",\n  \"asin\",\n  \"atan\",\n  \"ceil\",\n  \"cos\",\n  \"exp\",\n  \"floor\",\n  \"log\",\n  \"round\",\n  \"sin\",\n  \"sqrt\",\n  \"tan\"\n]\n;(function() {\n  for(var i=0; i<math_unary.length; ++i) {\n    var f = math_unary[i]\n    exports[f] = makeOp({\n                    args: [\"array\", \"array\"],\n                    pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                    body: {args:[\"a\",\"b\"], body:\"a=this_f(b)\", thisVars:[\"this_f\"]},\n                    funcName: f\n                  })\n    exports[f+\"eq\"] = makeOp({\n                      args: [\"array\"],\n                      pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                      body: {args: [\"a\"], body:\"a=this_f(a)\", thisVars:[\"this_f\"]},\n                      rvalue: true,\n                      count: 2,\n                      funcName: f+\"eq\"\n                    })\n  }\n})();\n\nvar math_comm = [\n  \"max\",\n  \"min\",\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_comm.length; ++i) {\n    var f= math_comm[i]\n    exports[f] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f\n                })\n    exports[f+\"s\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(b,c)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"s\"\n                  })\n    exports[f+\"eq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"eq\"\n                  })\n    exports[f+\"seq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(a,b)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"seq\"\n                  })\n  }\n})();\n\nvar math_noncomm = [\n  \"atan2\",\n  \"pow\"\n]\n;(function(){\n  for(var i=0; i<math_noncomm.length; ++i) {\n    var f= math_noncomm[i]\n    exports[f+\"op\"] = makeOp({\n                  args:[\"array\", \"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"op\"\n                })\n    exports[f+\"ops\"] = makeOp({\n                  args:[\"array\", \"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\",\"c\"], body:\"a=this_f(c,b)\", thisVars:[\"this_f\"]},\n                  funcName: f+\"ops\"\n                  })\n    exports[f+\"opeq\"] = makeOp({ args:[\"array\", \"array\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue: true,\n                  count: 2,\n                  funcName: f+\"opeq\"\n                  })\n    exports[f+\"opseq\"] = makeOp({ args:[\"array\", \"scalar\"],\n                  pre: {args:[], body:\"this_f=Math.\"+f, thisVars:[\"this_f\"]},\n                  body: {args:[\"a\",\"b\"], body:\"a=this_f(b,a)\", thisVars:[\"this_f\"]},\n                  rvalue:true,\n                  count:2,\n                  funcName: f+\"opseq\"\n                  })\n  }\n})();\n\nexports.any = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"if(a){return true}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return false\"},\n  funcName: \"any\"\n})\n\nexports.all = compile({\n  args:[\"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1}], body: \"if(!x){return false}\", localVars: [], thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"all\"\n})\n\nexports.sum = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s+=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"sum\"\n})\n\nexports.prod = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=1\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:1}], body: \"this_s*=a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"prod\"\n})\n\nexports.norm2squared = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm2squared\"\n})\n  \nexports.norm2 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:2}], body: \"this_s+=a*a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return Math.sqrt(this_s)\"},\n  funcName: \"norm2\"\n})\n  \n\nexports.norminf = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:4}], body:\"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norminf\"\n})\n\nexports.norm1 = compile({\n  args:[\"array\"],\n  pre: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"this_s=0\"},\n  body: {args:[{name:\"a\", lvalue:false, rvalue:true, count:3}], body: \"this_s+=a<0?-a:a\", localVars: [], thisVars: [\"this_s\"]},\n  post: {args:[], localVars:[], thisVars:[\"this_s\"], body:\"return this_s\"},\n  funcName: \"norm1\"\n})\n\nexports.sup = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=-Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.inf = compile({\n  args: [ \"array\" ],\n  pre:\n   { body: \"this_h=Infinity\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  body:\n   { body: \"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_\",\n     args: [{\"name\":\"_inline_1_arg0_\",\"lvalue\":false,\"rvalue\":true,\"count\":2} ],\n     thisVars: [ \"this_h\" ],\n     localVars: [] },\n  post:\n   { body: \"return this_h\",\n     args: [],\n     thisVars: [ \"this_h\" ],\n     localVars: [] }\n })\n\nexports.argmin = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})\n\nexports.argmax = compile({\n  args:[\"index\",\"array\",\"shape\"],\n  pre:{\n    body:\"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}\",\n    args:[\n      {name:\"_inline_0_arg0_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg1_\",lvalue:false,rvalue:false,count:0},\n      {name:\"_inline_0_arg2_\",lvalue:false,rvalue:true,count:1}\n      ],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[]},\n  body:{\n    body:\"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}\",\n    args:[\n      {name:\"_inline_1_arg0_\",lvalue:false,rvalue:true,count:2},\n      {name:\"_inline_1_arg1_\",lvalue:false,rvalue:true,count:2}],\n    thisVars:[\"this_i\",\"this_v\"],\n    localVars:[\"_inline_1_k\"]},\n  post:{\n    body:\"{return this_i}\",\n    args:[],\n    thisVars:[\"this_i\"],\n    localVars:[]}\n})  \n\nexports.random = makeOp({\n  args: [\"array\"],\n  pre: {args:[], body:\"this_f=Math.random\", thisVars:[\"this_f\"]},\n  body: {args: [\"a\"], body:\"a=this_f()\", thisVars:[\"this_f\"]},\n  funcName: \"random\"\n})\n\nexports.assign = makeOp({\n  args:[\"array\", \"array\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assign\" })\n\nexports.assigns = makeOp({\n  args:[\"array\", \"scalar\"],\n  body: {args:[\"a\", \"b\"], body:\"a=b\"},\n  funcName: \"assigns\" })\n\n\nexports.equals = compile({\n  args:[\"array\", \"array\"],\n  pre: EmptyProc,\n  body: {args:[{name:\"x\", lvalue:false, rvalue:true, count:1},\n               {name:\"y\", lvalue:false, rvalue:true, count:1}], \n        body: \"if(x!==y){return false}\", \n        localVars: [], \n        thisVars: []},\n  post: {args:[], localVars:[], thisVars:[], body:\"return true\"},\n  funcName: \"equals\"\n})\n\n\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || Function(\"return this\")() || (1, eval)(\"this\");\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nvar assert = require('assert');\n\nvar lineSeparatorRE = /[ \\f\\t\\v]*\\r?\\n/;\nvar NRRDMagicRE = /^NRRD\\d{4}$/;\nvar lineRE = /^([^:]*)(:[ =])(.*)$/;\nvar dataFileListRE = /^LIST(?: (\\d+))?$/;\n\n// The minimal object this accepts is formed like this:\n//   {data: SomeTypedArray, sizes: [...]}\n// On the other hand, if data is not given it must have a form like this:\n//   {buffer: SomeArrayBuffer, type: ..., endian: ..., sizes: [...]}\n// Of course, if 'type' is an 8-bit type, endian is not needed, and if 'type' equals 'block', 'blockSize' should be set instead of 'endian'. In this case, no interpretation of buffer is done (at all, it is written serialized directly to the buffer).\n// TODO: For now this only supports serializing \"inline\" files, or files for which you have already prepared the data.\nmodule.exports.serialize = function (nrrdOrg) {\n    var i, buffer, arr, totalLen = 1, nrrd = {}, prop, nativeType, nativeSize, bufferData, arrData, line, lines = [], header;\n    \n    // Copy nrrdOrg to nrrd to allow modifications without altering the original\n    for(prop in nrrdOrg) {\n        nrrd[prop] = nrrdOrg[prop];\n    }\n    \n    // For saving files we allow inferring certain information if it is not explicitly given.\n    // Also we normalize some fields to make our own lives easier.\n    if (nrrd.sizes===undefined) { // 'sizes' should ALWAYS be given\n        throw new Error(\"Sizes missing from NRRD file!\");\n    } else if (nrrd.dimension===undefined) {\n        nrrd.dimension = nrrd.sizes.length;\n    }\n    if (nrrd.data instanceof Int8Array) {\n        nativeType = \"int8\";\n    } else if (nrrd.data instanceof Uint8Array) {\n        nativeType = \"uint8\";\n    } else if (nrrd.data instanceof Int16Array) {\n        nativeType = \"int16\";\n    } else if (nrrd.data instanceof Uint16Array) {\n        nativeType = \"uint16\";\n    } else if (nrrd.data instanceof Int32Array) {\n        nativeType = \"int32\";\n    } else if (nrrd.data instanceof Uint32Array) {\n        nativeType = \"uint32\";\n    //} else if (nrrd.data instanceof Int64Array) {\n    //    nativeType = \"int64\";\n    //} else if (nrrd.data instanceof Uint64Array) {\n    //    nativeType = \"uint64\";\n    } else if (nrrd.data instanceof Float32Array) {\n        nativeType = \"float\";\n    } else if (nrrd.data instanceof Float64Array) {\n        nativeType = \"double\";\n    }\n    if (nrrd.type===undefined && nativeType!==undefined) {\n        nrrd.type = nativeType;\n    } else if (nrrd.type===undefined) {\n        throw new Error(\"Type of data is not given and cannot be inferred!\");\n    } else if ((typeof nrrd.type) == \"string\" || nrrd.type instanceof String) {\n        nrrd.type = parseNRRDType(nrrd.type);\n    }\n    if (nrrd.encoding===undefined) {\n        nrrd.encoding = \"raw\";\n    } else if ((typeof nrrd.encoding) == \"string\" || nrrd.encoding instanceof String) {\n        nrrd.encoding = parseNRRDEncoding(nrrd.encoding);\n    }\n    if (nrrd.data && nrrd.type != 'block' && nrrd.type != 'int8' && nrrd.type != 'uint8' && nrrd.encoding != 'ascii') {\n        nrrd.endian = systemEndianness;\n    } else if (nrrd.type == 'block' || nrrd.type == 'int8' || nrrd.type == 'uint8' || nrrd.encoding == 'ascii') {\n        nrrd.endian = undefined;\n    } else if ((typeof nrrd.endian) == \"string\" || nrrd.endian instanceof String) {\n        nrrd.endian = parseNRRDEndian(nrrd.endian);\n    }\n    \n    // Try to infer spatial dimension\n    var spaceDimension = undefined;\n    if (nrrd.spaceDimension!==undefined) {\n        spaceDimension = nrrd.spaceDimension;\n    } else if (nrrd.space!==undefined) {\n        switch(nrrd.space) {\n        case \"right-anterior-superior\":\n        case \"RAS\":\n            spaceDimension = 3;\n            break;\n        case \"left-anterior-superior\":\n        case \"LAS\":\n            spaceDimension = 3;\n            break;\n        case \"left-posterior-superior\":\n        case \"LPS\":\n            spaceDimension = 3;\n            break;\n     \t  case \"right-anterior-superior-time\":\n     \t  case \"RAST\":\n     \t      spaceDimension = 4;\n     \t      break;\n        case \"left-anterior-superior-time\":\n        case \"LAST\":\n            spaceDimension = 4;\n            break;\n        case \"left-posterior-superior-time\":\n        case \"LPST\":\n            spaceDimension = 4;\n            break;\n        case \"scanner-xyz\":\n            spaceDimension = 3;\n            break;\n        case \"scanner-xyz-time\":\n            spaceDimension = 4;\n            break;\n        case \"3D-right-handed\":\n            spaceDimension = 3;\n            break;\n        case \"3D-left-handed\":\n            spaceDimension = 3;\n            break;\n        case \"3D-right-handed-time\":\n            spaceDimension = 4;\n            break;\n        case \"3D-left-handed-time\":\n            spaceDimension = 4;\n            break;\n        default:\n            console.warn(\"Unrecognized space: \" + nrrd.space);\n        }\n    }\n    \n    // Now check that we have a valid nrrd structure.\n    checkNRRD(nrrd);\n\n    // Determine number of elements and check that we have enough data (if possible)\n    for(i=0; i<nrrd.sizes.length; i++) {\n        if (nrrd.sizes[i]<=0) throw new Error(\"Sizes should be a list of positive (>0) integers!\");\n        totalLen *= nrrd.sizes[i];\n    }\n    if (nrrd.data) {\n        if (nrrd.data.length < totalLen) {\n            throw new Error(\"Missing data to serialize!\");\n        }\n    } else if (nrrd.buffer) {\n        if (nrrd.encoding == \"raw\") {\n            if (nrrd.type==\"block\" && nrrd.blockSize!==undefined) {\n                nativeSize = nrrd.blockSize;\n            } else {\n                nativeSize = getNRRDTypeSize(nrrd.type);\n            }\n            if (nrrd.buffer.byteLength < totalLen*nativeSize) {\n                throw new Error(\"Missing data to serialize!\");\n            }\n        }\n    } else if (nrrd.dataFile) {\n        // Okay, if you have your data ready, we'll just write a header.\n    } else {\n        throw new Error(\"Will not serialize an empty NRRD file!\");\n    }\n    \n    // Make sure we have the correct buffer in bufferData.\n    if (nrrd.data) {\n        switch(nrrd.encoding) {\n        case 'raw':\n            if (nrrd.type == nativeType && nrrd.endian == systemEndianness) {\n                bufferData = nrrd.data.buffer.slice(nrrd.data.byteOffset, nrrd.data.byteOffset+nrrd.data.byteLength);\n            } else if (nrrd.endian == systemEndianness) {\n                bufferData = castTypedArray(nrrd.data, nrrd.type);\n                bufferData = bufferData.buffer.slice(bufferData.byteOffset, bufferData.byteOffset+bufferData.byteLength);\n            } else {\n                bufferData = serializeToBuffer(nrrd.data, nrrd.type, nrrd.endian);\n            }\n            break;\n        case 'ascii':\n            if (nrrd.type == nativeType) {\n                bufferData = serializeToTextBuffer(nrrd.data);\n            } else {\n                bufferData = serializeToTextBuffer(castTypedArray(nrrd.data, nrrd.type));\n            }\n            break;\n        default:\n            throw new Error(\"Unsupported NRRD encoding: \" + nrrd.encoding);\n        }\n    } else if (nrrd.buffer) {\n        bufferData = nrrd.buffer;\n    }\n    \n    // Start header\n    lines.push(\"NRRD0005\"); // TODO: Adjust version based on features that are actually used and/or the version specified by the user (if any).\n    lines.push(\"# Generated by nrrd-js\");\n    \n    // Put in dimension and space dimension (the NRRD spec requires that these are present before any lists whose length depends on them)\n    var firstProps = ['dimension', 'spaceDimension', 'space'];\n    for(i=0; i<firstProps.length; i++) {\n        prop = firstProps[i];\n        if (nrrd[prop] === undefined) continue; // Skip things we explicitly set to undefined.\n        line = serializeField(prop, nrrd[prop], nrrd.dimension, spaceDimension);\n        if (line!==undefined) lines.push(line);\n    }\n    \n    // Put in field specifications\n    for(prop in nrrd) {\n        if (nrrd[prop] === undefined) continue; // Skip things we explicitly set to undefined.\n        if (firstProps.indexOf(prop)>=0) continue; // Skip the fields we already output.\n        line = serializeField(prop, nrrd[prop], nrrd.dimension, spaceDimension);\n        if (line!==undefined) lines.push(line);\n    }\n    \n    // Put in keys (if any)\n    if (nrrd.keys) for(prop in nrrd.keys) {\n        if (prop.indexOf(\":=\")>=0) throw new Error(\"The combination ':=' is not allowed in an NRRD key!\");\n        lines.push(prop + \":=\" + escapeValue(nrrd[prop]));\n    }\n    \n    // Put in data file list (if any)\n    if (nrrd.dataFile && nrrd.dataFile.length) {\n        lines.push(\"data file: LIST\");\n        Array.prototype.push.apply(lines, nrrd.dataFile);\n    } else if (nrrd.dataFile && nrrd.dataFile.files && 'subdim' in nrrd.dataFile) {\n        lines.push(\"data file: LIST \" + nrrd.dataFile.subdim);\n        Array.prototype.push.apply(lines, nrrd.dataFile.files);\n    }\n    \n    // Put in empty line and inline data (if we have inline data) and convert lines to buffer\n    if (bufferData && !('dataFile' in nrrd)) {\n        lines.push(\"\");\n        lines.push(\"\"); // We actually need an extra blank line to make sure the previous is terminated.\n        header = lines.join(\"\\n\");\n        buffer = new ArrayBuffer(header.length + bufferData.byteLength);\n        arr = new Uint8Array(buffer);\n        for(i=0; i<header.length; i++) {\n            arr[i] = header.charCodeAt(i);\n        }\n        arrData = new Uint8Array(bufferData);\n        arr.set(arrData, header.length);\n    } else {\n        lines.push(\"\"); // Blank line to at least terminate the last line.\n        header = lines.join(\"\\n\");\n        buffer = new ArrayBuffer(header.length);\n        arr = new Uint8Array(buffer);\n        for(i=0; i<header.length; i++) {\n            arr[i] = header.charCodeAt(i);\n        }\n    }\n    \n    return buffer;\n};\n\n// This expects an ArrayBuffer.\nmodule.exports.parse = function (buffer) {\n    var i, header, dataStart, ret = {data: undefined/* parsed data */, buffer: undefined/* raw buffer holding data */, keys: {}, version: undefined},\n        lines, match, match2,\n        buf8 = new Uint8Array(buffer);\n\n    // A work-around for incompatibilities between Node's Buffer and ArrayBuffer.\n    if (buf8.buffer !== buffer) buffer = buf8.buffer;\n\n    // First find the separation between the header and the data (if there is one)\n    // Note that we need to deal with with LF and CRLF as possible line endings.\n    // Luckily this means the line always ends with LF, so we only need to consider\n    // LFLF and LFCRLF as patterns for the separating empty line.\n    i=2; // It is safe to start at position 2 (in fact, we could start even later), as the file HAS to start with a magic word.\n    while(i<buf8.length) {\n        if (buf8[i] == 10) { // We hit an LF\n            if (buf8[i-1] == 10 || (buf8[i-1] == 13 && buf8[i-2] == 10)) { // Safe because we start at position 2 and never move backwards\n                dataStart = i+1;\n                break;\n            } else {\n                i++; // Move forward just once\n            }\n        } else if (buf8[i] == 13) { // We hit a CR\n            i++; // Move forward just once\n        } else {\n            i += 2; // Move forward two places, \n        }\n    }\n    \n    // Now split up the header and data\n    if (dataStart === undefined) {\n        header = String.fromCharCode.apply(null, buf8);\n    } else {\n        header = String.fromCharCode.apply(null, buf8.subarray(0,dataStart));\n        ret.buffer = buffer.slice(dataStart);\n    }\n    \n    // Split header into lines, remove comments (and blank lines) and check magic.\n    // All remaining lines except the first should be field specifications or key/value pairs.\n    // TODO: This explicitly removes any whitespace at the end of lines, however, I am not sure that this is actually desired behaviour for all kinds of lines.\n    lines = header.split(lineSeparatorRE);\n    lines = lines.filter(function (l) { return l.length>0 && l[0] != '#'; }); // Remove comment lines\n    if (!NRRDMagicRE.test(lines[0])) {\n        throw new Error(\"File is not an NRRD file!\");\n    }\n    ret.version = parseInt(lines[0].substring(4, 8), 10);\n    if (ret.version>5) {\n        console.warn(\"Reading an unsupported version of the NRRD format; things may go haywire.\");\n    }\n\n    // Parse lines\n    for(i=1; i<lines.length; i++) {\n        match = lineRE.exec(lines[i]);\n        if (!match) {\n            console.warn(\"Unrecognized line in NRRD header: \" + lines[i]);\n            continue;\n        }\n        if (match[2] == ': ') { // Field specification\n            match[1] = mapNRRDToJavascript(match[1]);\n            if ( match[1] == 'dataFile' &&\n                 (match2 = dataFileListRE.exec(match[3]))) {\n                // This should be the last field specification,\n                // and the rest of the lines should contain file names.\n                if (match2.length == 2 && match2[1]) { // subdim specification\n                    ret[match[1]] = {\n                        files: lines.slice(i+1),\n                        subdim: parseNRRDInteger(match2[1])\n                    };\n                } else {\n                    ret[match[1]] = lines.slice(i+1);\n                }\n                lines.length = i;\n            } else {\n                ret[match[1]] = parseField(match[1], match[3]);\n            }\n        } else if (match[2] == ':=') { // Key/value pair\n            ret.keys[match[1]] = unescapeValue(match[3]);\n        } else {\n            throw new Error(\"Logic error in NRRD parser.\"); // This should never happen (unless the NRRD syntax is extended and the regexp is updated, but this section is not, or some other programmer error).\n        }\n    }\n\n    // Make sure the file satisfies the requirements of the NRRD format\n    checkNRRD(ret);\n    \n    // \"Parse\" data\n    if ('dataFile' in ret) {\n        console.warn(\"No support for external data yet!\");\n    } else {\n        switch(ret.encoding) {\n        case 'raw':\n            ret.data = parseNRRDRawData(ret.buffer, ret.type, ret.sizes, {\n                endian: ret.endian, blockSize: ret.blockSize\n            });\n            break;\n        case 'ascii':\n            ret.data = parseNRRDTextData(ret.buffer, ret.type, ret.sizes);\n            break;\n        default:\n            console.warn(\"Unsupported NRRD encoding: \" + ret.encoding);\n        }\n    }\n    \n    return ret;\n};\n\nfunction escapeValue(val) {\n    return val.replace('\\\\', '\\\\\\\\').replace('\\n', '\\\\n');\n}\n\nfunction unescapeValue(val) {\n    return val.split('\\\\\\\\').map(\n        function(s) { return s.replace('\\\\n', '\\n'); }\n        ).join('\\\\');\n}\n\n// Serializes NRRD fields\nfunction serializeField(prop, value, dimension, spaceDimension) {\n    var line;\n    var propNRRD = mapJavascriptToNRRD(prop);\n    switch(prop) {\n    // nrrd-js stuff: skip\n    case 'data':\n    case 'buffer':\n    case 'keys':\n    case 'version':\n        break;\n    // Literal (uninterpreted) fields\n    case 'content':\n    case 'number':\n    case 'sampleUnits':\n    case 'space':\n        line = propNRRD + \": \" + value;\n        break;\n    // Integers (no infinity or whatever, just a plain integer, so the default serialization is good enough)\n    case 'blockSize':\n    case 'lineSkip':\n    case 'byteSkip':\n    case 'dimension':\n    case 'spaceDimension':\n        assert((typeof value) == \"number\" || value instanceof Number, \"Field \" + prop + \" should at least contain a number!\");\n        line = propNRRD + \": \" + value;\n        break;\n    // Floats (default serialization is good enough, as NaN contains nan, ignoring case, and similarly for Infinity inf)\n    case 'min':\n    case 'max':\n    case 'oldMin':\n    case 'oldMax':\n        assert((typeof value) == \"number\" || value instanceof Number, \"Field \" + prop + \" should contain a number!\");\n        line = propNRRD + \": \" + value;\n        break;\n    // Vectors\n    case 'spaceOrigin':\n        assert(value.length === spaceDimension, \"Field \" + prop + \" should be a list with length equal to the space dimension!\");\n        value.forEach(function (val) { assert((typeof val) == \"number\" || val instanceof Number, \"Field \" + prop + \" should be a list of numbers!\"); });\n        line = propNRRD + \": (\" + value.join(\",\") + \")\";\n        break;\n    // Lists of strings\n    case 'labels':\n    case 'units':\n    case 'spaceUnits':\n        assert(value.length !== undefined && value.length == dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        value.forEach(function (val) { assert((typeof val) == \"string\" || val instanceof String, \"Field \" + prop + \" should be a list of numbers!\"); });\n        line = propNRRD + \": \" + value.map(serializeNRRDQuotedString).join(\" \");\n        break;\n    // Lists of integers\n    case 'sizes':\n        assert(value.length !== undefined && value.length == dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        value.forEach(function (val) { assert((typeof val) == \"number\" || val instanceof Number, \"Field \" + prop + \" should be a list of numbers!\"); });\n        line = propNRRD + \": \" + value.join(\" \");\n        break;\n    // Lists of floats\n    case 'spacings':\n    case 'thicknesses':\n    case 'axisMins':\n    case 'axisMaxs':\n        assert(value.length !== undefined && value.length == dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        value.forEach(function (val) { assert((typeof val) == \"number\" || val instanceof Number, \"Field \" + prop + \" should be a list of numbers!\"); });\n        line = propNRRD + \": \" + value.join(\" \");\n        break;\n    // Lists of vectors (dimension sized)\n    case 'spaceDirections':\n        assert(value.length !== undefined && value.length === dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        value.forEach(function (vec) {\n          assert(vec === null || (vec.length !== undefined && vec.length === spaceDimension), \"The elements of field \" + prop + \" should be lists with length equal to the space dimension!\");\n          if (vec !== null) vec.forEach(function (val) { assert((typeof val) == \"number\" || val instanceof Number, \"The elements of field \" + prop + \" should be lists of numbers!\"); });\n        });\n        line = propNRRD + \": \" + value.map(function(vec) { return vec === null ? \"none\" : (\"(\" + vec.join(\",\") + \")\"); }).join(\" \");\n        break;\n    // Lists of vectors (space dimension sized)\n    case 'measurementFrame':\n        assert(value.length !== undefined && value.length === spaceDimension, \"Field \" + prop + \" should be a list with length equal to the space dimension!\");\n        value.forEach(function (vec) {\n          assert(vec === null || (vec.length !== undefined && vec.length === spaceDimension), \"The elements of field \" + prop + \" should be lists with length equal to the space dimension!\");\n          if (vec !== null) vec.forEach(function (val) { assert((typeof val) == \"number\" || val instanceof Number, \"The elements of field \" + prop + \" should be lists of numbers!\"); });\n        });\n        line = propNRRD + \": \" + value.map(function(vec) { return vec === null ? \"none\" : (\"(\" + vec.join(\",\") + \")\"); }).join(\" \");\n        break;\n    // One-of-a-kind fields\n    case 'type':\n        assert((typeof value) == \"string\" || value instanceof String, \"Field \" + prop + \" should contain a string!\");\n        line = propNRRD + \": \" + value;\n        break;\n    case 'encoding':\n        assert((typeof value) == \"string\" || value instanceof String, \"Field \" + prop + \" should contain a string!\");\n        line = propNRRD + \": \" + value;\n        break;\n    case 'endian':\n        assert((typeof value) == \"string\" || value instanceof String, \"Field \" + prop + \" should contain a string!\");\n        line = propNRRD + \": \" + value;\n        break;\n    case 'dataFile':\n        if (value.length || (value.files && 'subdim' in value)) {\n            // List of data files: skip for now\n        } else {\n            line = propNRRD + \": \" + serializeNRRDDataFile(value);\n        }\n        break;\n    case 'centers':\n        assert(value.length !== undefined && value.length == dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        line = propNRRD + \": \" + value.map(serializeNRRDOptional).join(\" \");\n        break;\n    case 'kinds':\n        assert(value.length !== undefined && value.length == dimension, \"Field \" + prop + \" should be a list with length equal to the dimension!\");\n        line = propNRRD + \": \" + value.map(serializeNRRDOptional).join(\" \");\n        break;\n    // Something unknown\n    default:\n        console.warn(\"Unrecognized NRRD field: \" + prop + \", skipping.\");\n    }\n    return line;\n}\n\n// Parses and normalizes NRRD fields, assumes the field names are already lower case.\nfunction parseField(identifier, descriptor) {\n    switch(identifier) {\n    // Literal (uninterpreted) fields\n    case 'content':\n    case 'number':\n    case 'sampleUnits':\n        break;\n    // Integers\n    case 'dimension':\n    case 'blockSize':\n    case 'lineSkip':\n    case 'byteSkip':\n    case 'spaceDimension':\n        descriptor = parseNRRDInteger(descriptor);\n        break;\n    // Floats\n    case 'min':\n    case 'max':\n    case 'oldMin':\n    case 'oldMax':\n        descriptor = parseNRRDFloat(descriptor);\n        break;\n    // Vectors\n    case 'spaceOrigin':\n        descriptor = parseNRRDVector(descriptor);\n        break;\n    // Lists of strings\n    case 'labels':\n    case 'units':\n    case 'spaceUnits':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDQuotedString);\n        break;\n    // Lists of integers\n    case 'sizes':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDInteger);\n        break;\n    // Lists of floats\n    case 'spacings':\n    case 'thicknesses':\n    case 'axisMins':\n    case 'axisMaxs':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDFloat);\n        break;\n    // Lists of vectors\n    case 'spaceDirections':\n    case 'measurementFrame':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDVector);\n        break;\n    // One-of-a-kind fields\n    case 'type':\n        descriptor = parseNRRDType(descriptor);\n        break;\n    case 'encoding':\n        descriptor = parseNRRDEncoding(descriptor);\n        break;\n    case 'endian':\n        descriptor = parseNRRDEndian(descriptor);\n        break;\n    case 'dataFile':\n        descriptor = parseNRRDDataFile(descriptor);\n        break;\n    case 'centers':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDCenter);\n        break;\n    case 'kinds':\n        descriptor = parseNRRDWhitespaceSeparatedList(descriptor, parseNRRDKind);\n        break;\n    case 'space':\n        descriptor = parseNRRDSpace(descriptor);\n        break;\n    // Something unknown\n    default:\n        console.warn(\"Unrecognized NRRD field: \" + identifier);\n    }\n    return descriptor;\n}\n\n// This only includes names whose lower case form is different from the Javascript form.\nvar mapNRRDToJavascriptStatic = {\n    'block size': 'blockSize',\n    'blocksize': 'blockSize',\n    'old min': 'oldMin',\n    'oldmin': 'oldMin',\n    'old max': 'oldMax',\n    'oldmax': 'oldMax',\n    'data file': 'dataFile',\n    'datafile': 'dataFile',\n    'line skip': 'lineSkip',\n    'lineskip': 'lineSkip',\n    'byte skip': 'byteSkip',\n    'byteskip': 'byteSkip',\n    'sample units': 'sampleUnits',\n    'sampleunits': 'sampleUnits',\n    'axis mins': 'axisMins',\n    'axis maxs': 'axisMaxs',\n    'centers': 'centers', // Not different, just included so it is clear why centerings maps to centers\n    'centerings': 'centers',\n    'space dimension': 'spaceDimension',\n    'space units': 'spaceUnits',\n    'space origin': 'spaceOrigin',\n    'space directions': 'spaceDirections',\n    'measurement frame': 'measurementFrame'\n};\nvar mapJavascriptToNRRDStatic = function() {\n  var id, m = {};\n  for(id in mapNRRDToJavascriptStatic) {\n    m[mapNRRDToJavascriptStatic[id]] = id;\n  }\n  return m;\n}();\nfunction mapNRRDToJavascript(id) {\n    // In any case, use the lower case version of the id\n    id = id.toLowerCase();\n    // Filter out any fields for which we have an explicit Javascript name\n    if (id in mapNRRDToJavascriptStatic) return mapNRRDToJavascriptStatic[id];\n    // Otherwise, just return the (lower case) id\n    return id;\n}\nfunction mapJavascriptToNRRD(id) {\n    // Filter out any fields for which we have an explicit NRRD name\n    if (id in mapJavascriptToNRRDStatic) return mapJavascriptToNRRDStatic[id];\n    // Otherwise, just return the id\n    return id;\n}\n\nfunction parseNRRDInteger(str) {\n    var val = parseInt(str, 10);\n    if (Number.isNaN(val)) throw new Error(\"Malformed NRRD integer: \" + str);\n    return val;\n}\n\nfunction parseNRRDFloat(str) {\n    str = str.toLowerCase();\n    if (str.indexOf('nan')>=0) return NaN;\n    if (str.indexOf('-inf')>=0) return -Infinity;\n    if (str.indexOf('inf')>=0) return Infinity;\n    var val = parseFloat(str);\n    if (Number.isNaN(val)) throw new Error(\"Malformed NRRD float: \" + str);\n    return val;\n}\n\nfunction parseNRRDVector(str) {\n    if (str == \"none\") return null;\n    if (str.length<2 || str[0]!==\"(\" || str[str.length-1]!==\")\") throw new Error(\"Malformed NRRD vector: \" + str);\n    return str.slice(1, -1).split(\",\").map(parseNRRDFloat);\n}\n\nfunction parseNRRDQuotedString(str) {\n    if (length<2 || str[0]!='\"' || str[str.length-1]!='\"') {\n        throw new Error(\"Invalid NRRD quoted string: \" + str);\n    }\n    return str.slice(1, -1).replace('\\\\\"', '\"');\n}\n\nfunction serializeNRRDQuotedString(str) {\n    return '\"' + str.replace('\"', '\\\\\"') + '\"';\n}\n\nvar whitespaceListSeparator = /[ \\t]+/; // Note that this excludes other types of whitespace on purpose!\nfunction parseNRRDWhitespaceSeparatedList(str, parseElement) {\n    return str.split(whitespaceListSeparator).map(parseElement);\n}\n\nfunction parseNRRDType(descriptor) {\n    switch(descriptor.toLowerCase()) {\n    case \"signed char\":\n    case \"int8\":\n    case \"int8_t\":\n        return 'int8';\n    case \"uchar\":\n    case \"unsigned char\":\n    case \"uint8\":\n    case \"uint8_t\":\n        return 'uint8';\n    case \"short\":\n    case \"short int\":\n    case \"signed short\":\n    case \"signed short int\":\n    case \"int16\":\n    case \"int16_t\":\n        return 'int16';\n    case \"ushort\":\n    case \"unsigned short\":\n    case \"unsigned short int\":\n    case \"uint16\":\n    case \"uint16_t\":\n        return 'uint16';\n    case \"int\":\n    case \"signed int\":\n    case \"int32\":\n    case \"int32_t\":\n        return 'int32';\n    case \"uint\":\n    case \"unsigned int\":\n    case \"uint32\":\n    case \"uint32_t\":\n        return 'uint32';\n    case \"longlong\":\n    case \"long long\":\n    case \"long long int\":\n    case \"signed long long\":\n    case \"signed long long int\":\n    case \"int64\":\n    case \"int64_t\":\n        return 'int64';\n    case \"ulonglong\":\n    case \"unsigned long long\":\n    case \"unsigned long long int\":\n    case \"uint64\":\n    case \"uint64_t\":\n        return 'uint64';\n    case \"float\":\n        return 'float';\n    case \"double\":\n        return 'double';\n    case \"block\":\n        return 'block';\n    default:\n        console.warn(\"Unrecognized NRRD type: \" + descriptor);\n        return descriptor;\n    }\n}\n\nfunction parseNRRDEncoding(encoding) {\n    switch(encoding.toLowerCase()) {\n    case \"raw\":\n        return \"raw\";\n    case \"txt\":\n    case \"text\":\n    case \"ascii\":\n        return \"ascii\";\n    case \"hex\":\n        return \"hex\";\n    case \"gz\":\n    case \"gzip\":\n        return \"gzip\";\n    case \"bz2\":\n    case \"bzip2\":\n        return \"bzip2\";\n    default:\n        console.warn(\"Unrecognized NRRD encoding: \" + encoding);\n        return encoding;\n    }\n}\n\nfunction parseNRRDSpace(space) {\n    switch(space.toLowerCase()) {\n    case \"right-anterior-superior\":\n    case \"ras\":\n        return \"right-anterior-superior\";\n    case \"left-anterior-superior\":\n    case \"las\":\n        return \"left-anterior-superior\";\n    case \"left-posterior-superior\":\n    case \"lps\":\n        return \"left-posterior-superior\";\n \t  case \"right-anterior-superior-time\":\n \t  case \"rast\":\n        return \"right-anterior-superior-time\";\n    case \"left-anterior-superior-time\":\n    case \"last\":\n        return \"left-anterior-superior-time\";\n    case \"left-posterior-superior-time\":\n    case \"lpst\":\n        return \"left-posterior-superior-time\";\n    case \"scanner-xyz\":\n        return \"scanner-xyz\";\n    case \"scanner-xyz-time\":\n        return \"scanner-xyz-time\";\n    case \"3d-right-handed\":\n        return \"3D-right-handed\";\n    case \"3d-left-handed\":\n        return \"3D-left-handed\";\n    case \"3d-right-handed-time\":\n        return \"3D-right-handed-time\";\n    case \"3d-left-handed-time\":\n        return \"3D-left-handed-time\";\n    default:\n        console.warn(\"Unrecognized space: \" + space);\n        return space;\n    }\n}\n\nfunction parseNRRDEndian(endian) {\n    switch(endian.toLowerCase()) {\n    case 'little':\n        return 'little';\n    case 'big':\n        return 'big';\n    default:\n        console.warn(\"Unrecognized NRRD endianness: \" + endian);\n        return endian;\n    }\n}\n\n// Note that this function will never encounter the LIST data file specification format, as this is handled elsewhere.\nvar dataFileFormatRE = / (-?\\d+) (-?\\d+) (-?\\d+)(?: (\\d+))?$/;\nfunction parseNRRDDataFile(dataFile) {\n    var match = dataFileFormatRE.exec(dataFile);\n    if (match) { // We have a format specification\n        if (match.length == 5 && match[4]) { // subdim specification\n            return {\n                format: dataFile.substring(0, match.index),\n                min: parseNRRDInteger(match[1]),\n                max: parseNRRDInteger(match[2]),\n                step: parseNRRDInteger(match[3]),\n                subdim: parseNRRDInteger(match[4])\n            };\n        } else {\n            return {\n                format: dataFile.substring(0, match.index),\n                min: parseNRRDInteger(match[1]),\n                max: parseNRRDInteger(match[2]),\n                step: parseNRRDInteger(match[3])\n            };\n        }\n    } else { // Just a file\n        return dataFile;\n    }\n}\n\nfunction serializeNRRDDataFile(dataFile) {\n    if ((typeof dataFile) == \"string\" || dataFile instanceof String) {\n        return dataFile;\n    } else if ('format' in dataFile && 'min' in dataFile && 'max' in dataFile && 'step' in dataFile) {\n        if ('subdim' in dataFile) {\n            return dataFile.format + \" \" + dataFile.min + \" \" + dataFile.max + \" \" + dataFile.step + \" \" + dataFile.subdim;\n        } else {\n            return dataFile.format + \" \" + dataFile.min + \" \" + dataFile.max + \" \" + dataFile.step;\n        }\n    } else {\n        throw new Error(\"Unrecognized data file format!\");\n    }\n}\n\nfunction parseNRRDCenter(center) {\n    switch(center.toLowerCase()) {\n    case \"cell\":\n        return \"cell\";\n    case \"node\":\n        return \"node\";\n    case \"???\":\n    case \"none\":\n        return null;\n    default:\n        console.warn(\"Unrecognized NRRD center: \" + center);\n        return center;\n    }\n}\n\nvar NRRDKinds = {\n    \"domain\": \"domain\",\n    \"space\": \"space\",\n    \"time\": \"time\",\n    \"list\": \"list\",\n    \"point\": \"point\",\n    \"vector\": \"vector\",\n    \"covariant-vector\": \"covariant-vector\",\n    \"normal\": \"normal\",\n    \"stub\": \"stub\",\n    \"scalar\": \"scalar\",\n    \"complex\": \"complex\",\n    \"2-vector\": \"2-vector\",\n    \"3-color\": \"3-color\",\n    \"rgb-color\": \"RGB-color\",\n    \"hsv-color\": \"HSV-color\",\n    \"xyz-color\": \"XYZ-color\",\n    \"4-color\": \"4-color\",\n    \"rgba-color\": \"RGBA-color\",\n    \"3-vector\": \"3-vector\",\n    \"3-gradient\": \"3-gradient\",\n    \"3-normal\": \"3-normal\",\n    \"4-vector\": \"4-vector\",\n    \"quaternion\": \"quaternion\",\n    \"2d-symmetric-matrix\": \"2D-symmetric-matrix\",\n    \"2d-masked-symmetric-matrix\": \"2D-masked-symmetric-matrix\",\n    \"2d-matrix\": \"2D-matrix\",\n    \"2d-masked-matrix\": \"2D-masked-matrix\",\n    \"3d-symmetric-matrix\": \"3D-symmetric-matrix\",\n    \"3d-masked-symmetric-matrix\": \"3D-masked-symmetric-matrix\",\n    \"3d-matrix\": \"3D-matrix\",\n    \"3d-masked-matrix\": \"3D-masked-matrix\",\n    \"???\": null,\n    \"none\": null\n};\nfunction parseNRRDKind(kind) {\n    var kindLC = kind.toLowerCase();\n    if (kindLC in NRRDKinds) return NRRDKinds[kindLC];\n    console.warn(\"Unrecognized NRRD kind: \" + kind);\n    return kind;\n}\n\nfunction serializeNRRDOptional(a) {\n    return a===null ? \"???\" : a;\n}\n\nvar systemEndianness = (function() {\n    var buf = new ArrayBuffer(4),\n        intArr = new Uint32Array(buf),\n        byteArr = new Uint8Array(buf);\n    intArr[0] = 0x01020304;\n    if (byteArr[0]==1 && byteArr[1]==2 && byteArr[2]==3 && byteArr[3]==4) {\n        return 'big';\n    } else if (byteArr[0]==4 && byteArr[1]==3 && byteArr[2]==2 && byteArr[3]==1) {\n        return 'little';\n    }\n    console.warn(\"Unrecognized system endianness!\");\n    return undefined;\n})();\n\nfunction parseNRRDRawData(buffer, type, sizes, options) {\n    var i, arr, view, totalLen = 1, endianFlag;\n    for(i=0; i<sizes.length; i++) {\n        if (sizes[i]<=0) throw new Error(\"Sizes should be a list of positive (>0) integers!\");\n        totalLen *= sizes[i];\n    }\n    if (type == 'block') {\n        // Don't do anything special, just return the slice containing all blocks.\n        return buffer.slice(0,totalLen*options.blockSize);\n    } else if (type == 'int8' || type == 'uint8' || options.endian == systemEndianness) {\n        switch(type) {\n        case \"int8\":\n            checkSize(1);\n            return new Int8Array(buffer.slice(0,totalLen));\n        case \"uint8\":\n            checkSize(1);\n            return new Uint8Array(buffer.slice(0,totalLen));\n        case \"int16\":\n            checkSize(2);\n            return new Int16Array(buffer.slice(0,totalLen*2));\n        case \"uint16\":\n            checkSize(2);\n            return new Uint16Array(buffer.slice(0,totalLen*2));\n        case \"int32\":\n            checkSize(4);\n            return new Int32Array(buffer.slice(0,totalLen*4));\n        case \"uint32\":\n            checkSize(4);\n            return new Uint32Array(buffer.slice(0,totalLen*4));\n        //case \"int64\":\n        //    checkSize(8);\n        //    return new Int64Array(buffer.slice(0,totalLen*8));\n        //case \"uint64\":\n        //    checkSize(8);\n        //    return new Uint64Array(buffer.slice(0,totalLen*8));\n        case \"float\":\n            checkSize(4);\n            return new Float32Array(buffer.slice(0,totalLen*4));\n        case \"double\":\n            checkSize(8);\n            return new Float64Array(buffer.slice(0,totalLen*8));\n        default:\n            console.warn(\"Unsupported NRRD type: \" + type + \", returning raw buffer.\");\n            return undefined;\n        }\n    } else {\n        switch(options.endian) {\n        case 'big':\n            endianFlag = false;\n            break;\n        case 'little':\n            endianFlag = true;\n            break;\n        default:\n            console.warn(\"Unsupported endianness in NRRD file: \" + options.endian);\n            return undefined;\n        }\n        view = new DataView(buffer);\n        switch(type) {\n        case \"int8\": // Note that here we do not need to check the size of the buffer, as the DataView.get methods should throw an exception if we read beyond the buffer.\n            arr = new Int8Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getInt8(i);\n            }\n            return arr;\n        case \"uint8\":\n            arr = new Uint8Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getUint8(i);\n            }\n            return arr;\n        case \"int16\":\n            arr = new Int16Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getInt16(i*2);\n            }\n            return arr;\n        case \"uint16\":\n            arr = new Uint16Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getUint16(i*2);\n            }\n            return arr;\n        case \"int32\":\n            arr = new Int32Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getInt32(i*4);\n            }\n            return arr;\n        case \"uint32\":\n            arr = new Uint32Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getUint32(i*4);\n            }\n            return arr;\n        //case \"int64\":\n        //    arr = new Int64Array(totalLen);\n        //    for(i=0; i<totalLen; i++) {\n        //        arr[i] = view.getInt64(i*8);\n        //    }\n        //    return arr;\n        //case \"uint64\":\n        //    arr = new Uint64Array(totalLen);\n        //    for(i=0; i<totalLen; i++) {\n        //        arr[i] = view.getUint64(i*8);\n        //    }\n        //    return arr;\n        case \"float\":\n            arr = new Float32Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getFloat32(i*4);\n            }\n            return arr;\n        case \"double\":\n            arr = new Float64Array(totalLen);\n            for(i=0; i<totalLen; i++) {\n                arr[i] = view.getFloat64(i*8);\n            }\n            return arr;\n        default:\n            console.warn(\"Unsupported NRRD type: \" + type + \", returning raw buffer.\");\n            return undefined;\n        }\n    }\n    function checkSize(sizeOfType) {\n        if (buffer.byteLength<totalLen*sizeOfType) throw new Error(\"NRRD file does not contain enough data!\");\n    }\n}\n\nvar whitespaceDataValueListSeparatorRE = /[ \\t\\n\\r\\v\\f]+/;\nfunction parseNRRDTextData(buffer, type, sizes) {\n    var i, buf8, str, strList, totalLen = 1;\n    for(i=0; i<sizes.length; i++) {\n        if (sizes[i]<=0) throw new Error(\"Sizes should be a list of positive (>0) integers!\");\n        totalLen *= sizes[i];\n    }\n    buf8 = new Uint8Array(buffer);\n    str = String.fromCharCode.apply(null, buf8);\n    strList = str.split(whitespaceDataValueListSeparatorRE);\n    if (strList.length<totalLen) {\n        throw new Error(\"Not enough data in NRRD file!\");\n    } else if (strList.length>totalLen) {\n        if (strList[0] === '') strList = strList.slice(1); // Strictly speaking the spec doesn't (explicitly) allow whitespace in front of the first number, but let's be lenient.\n        strList = strList.slice(0, totalLen);\n    }\n    switch(type) {\n    case \"int8\":\n        return new Int8Array(strList.map(parseNRRDInteger));\n    case \"uint8\":\n        return new Uint8Array(strList.map(parseNRRDInteger));\n    case \"int16\":\n        return new Int16Array(strList.map(parseNRRDInteger));\n    case \"uint16\":\n        return new Uint16Array(strList.map(parseNRRDInteger));\n    case \"int32\":\n        return new Int32Array(strList.map(parseNRRDInteger));\n    case \"uint32\":\n        return new Uint32Array(strList.map(parseNRRDInteger));\n    //case \"int64\":\n    //    return new Int64Array(strList.map(parseNRRDInteger));\n    //case \"uint64\":\n    //    return new Uint64Array(strList.map(parseNRRDInteger));\n    case \"float\":\n        return new Float32Array(strList.map(parseNRRDFloat));\n    case \"double\":\n        return new Float64Array(strList.map(parseNRRDFloat));\n    default:\n        console.warn(\"Unsupported NRRD type: \" + type + \".\");\n        return undefined;\n    }\n}\n\n// This ALWAYS returns an integer, or throws an exception.\nfunction getNRRDTypeSize(type) {\n    switch(type) {\n    case \"int8\":\n        return 1;\n    case \"uint8\":\n        return 1;\n    case \"int16\":\n        return 2;\n    case \"uint16\":\n        return 2;\n    case \"int32\":\n        return 4;\n    case \"uint32\":\n        return 4;\n    case \"int64\":\n        return 8;\n    case \"uint64\":\n        return 8;\n    case \"float\":\n        return 4;\n    case \"double\":\n        return 8;\n    default:\n        throw new Error(\"Do not know the size of NRRD type: \" + type);\n    }\n}\n\nfunction checkNRRD(ret) {\n    // Always necessary fields\n    if (ret.dimension===undefined) {\n        throw new Error(\"Dimension missing from NRRD file!\");\n    } else if (ret.type===undefined) {\n        throw new Error(\"Type missing from NRRD file!\");\n    } else if (ret.encoding===undefined) {\n        throw new Error(\"Encoding missing from NRRD file!\");\n    } else if (ret.sizes===undefined) {\n        throw new Error(\"Sizes missing from NRRD file!\");\n    }\n    \n    // Sometimes necessary fields\n    if (ret.type != 'block' && ret.type != 'int8' && ret.type != 'uint8' &&\n          ret.encoding != 'ascii' && ret.endian === undefined) {\n        throw new Error(\"Endianness missing from NRRD file!\");\n    } else if (ret.type == 'block' && ret.blockSize === undefined) {\n        throw new Error(\"Missing block size in NRRD file!\");\n    }\n    \n    // Check dimension and per-axis field lengths\n    if (ret.dimension === 0) {\n        throw new Error(\"Zero-dimensional NRRD file?\");\n    } else if (ret.dimension != ret.sizes.length) {\n        throw new Error(\"Length of 'sizes' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.spacings && ret.dimension != ret.spacings.length) {\n        throw new Error(\"Length of 'spacings' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.thicknesses && ret.dimension != ret.thicknesses.length) {\n        throw new Error(\"Length of 'thicknesses' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.axisMins && ret.dimension != ret.axisMins.length) {\n        throw new Error(\"Length of 'axis mins' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.axisMaxs && ret.dimension != ret.axisMaxs.length) {\n        throw new Error(\"Length of 'axis maxs' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.centers && ret.dimension != ret.centers.length) {\n        throw new Error(\"Length of 'centers' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.labels && ret.dimension != ret.labels.length) {\n        throw new Error(\"Length of 'labels' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.units && ret.dimension != ret.units.length) {\n        throw new Error(\"Length of 'units' is different from 'dimension' in an NRRD file!\");\n    } else if (ret.kinds && ret.dimension != ret.kinds.length) {\n        throw new Error(\"Length of 'kinds' is different from 'dimension' in an NRRD file!\");\n    }\n    \n    // TODO: Check space/orientation fields.\n    \n    // We should either have inline data or external data\n    if ((ret.data === undefined || ret.data.length === 0) && (ret.buffer === undefined || ret.buffer.byteLength === 0) && ret.dataFile === undefined) {\n        throw new Error(\"NRRD file has neither inline or external data!\");\n    }\n}\n\nfunction castTypedArray(data, type) {\n    switch(type) {\n    case \"int8\":\n        return new Int8Array(data);\n    case \"uint8\":\n        return new Uint8Array(data);\n    case \"int16\":\n        return new Int16Array(data);\n    case \"uint16\":\n        return new Uint16Array(data);\n    case \"int32\":\n        return new Int32Array(data);\n    case \"uint32\":\n        return new Uint32Array(data);\n    //case \"int64\":\n    //    return new Int64Array(data);\n    //case \"uint64\":\n    //    return new Uint64Array(data);\n    case \"float\":\n        return new Float32Array(data);\n    case \"double\":\n        return new Float64Array(data);\n    default:\n        throw new Error(\"Cannot cast to NRRD type: \" + type);\n    }\n}\n\nfunction serializeToBuffer(data, type, endian) {\n    var i, endianFlag, view, nativeSize = getNRRDTypeSize(type), buffer = new ArrayBuffer(data.length*nativeSize);\n    switch(endian) {\n    case 'big':\n        endianFlag = false;\n        break;\n    case 'little':\n        endianFlag = true;\n        break;\n    default:\n        console.warn(\"Unsupported endianness in NRRD file: \" + endian);\n        return undefined;\n    }\n    view = new DataView(buffer);\n    switch(type) {\n    case \"int8\": // Note that here we do not need to check the size of the buffer, as the DataView.get methods should throw an exception if we read beyond the buffer.\n        for(i=0; i<data.length; i++) {\n            view.setInt8(i, data[i], endianFlag);\n        }\n        return buffer;\n    case \"uint8\":\n        for(i=0; i<data.length; i++) {\n            view.setUint8(i, data[i], endianFlag);\n        }\n        return buffer;\n    case \"int16\":\n        for(i=0; i<data.length; i++) {\n            view.setInt16(i*2, data[i], endianFlag);\n        }\n        return buffer;\n    case \"uint16\":\n        for(i=0; i<data.length; i++) {\n            view.setUint16(i*2, data[i], endianFlag);\n        }\n        return buffer;\n    case \"int32\":\n        for(i=0; i<data.length; i++) {\n            view.setInt32(i*4, data[i], endianFlag);\n        }\n        return buffer;\n    case \"uint32\":\n        for(i=0; i<data.length; i++) {\n            view.setUint32(i*4, data[i], endianFlag);\n        }\n        return buffer;\n    //case \"int64\":\n    //    for(i=0; i<data.length; i++) {\n    //        view.setInt64(i*8, data[i], endianFlag);\n    //    }\n    //    return buffer;\n    //case \"uint64\":\n    //    for(i=0; i<data.length; i++) {\n    //        view.setUint64(i*8, data[i], endianFlag);\n    //    }\n    //    return buffer;\n    case \"float\":\n        for(i=0; i<data.length; i++) {\n            view.setFloat32(i*4, data[i], endianFlag);\n        }\n        return buffer;\n    case \"double\":\n        for(i=0; i<data.length; i++) {\n            view.setFloat64(i*8, data[i], endianFlag);\n        }\n        return buffer;\n    default:\n        console.warn(\"Cannot serialize NRRD type: \" + type + \".\");\n        return undefined;\n    }\n}\n\nfunction serializeToTextBuffer(data) {\n    var i, strs = new Array(data.length), str, buffer, arr;\n    for(i=0; i<data.length; i++) {\n        strs[i] = '' + data[i];\n    }\n    str = strs.join(\" \");\n    buffer = new ArrayBuffer(str.length);\n    arr = new Uint8Array(buffer);\n    for(i=0; i<arr.length; i++) {\n        arr[i] = str.charCodeAt(i);\n    }\n    return buffer;\n}\n","'use strict'\n\nvar bits = require('bit-twiddle')\nvar dup = require('dup')\n\n//Legacy pool support\nif(!global.__TYPEDARRAY_POOL) {\n  global.__TYPEDARRAY_POOL = {\n      UINT8   : dup([32, 0])\n    , UINT16  : dup([32, 0])\n    , UINT32  : dup([32, 0])\n    , INT8    : dup([32, 0])\n    , INT16   : dup([32, 0])\n    , INT32   : dup([32, 0])\n    , FLOAT   : dup([32, 0])\n    , DOUBLE  : dup([32, 0])\n    , DATA    : dup([32, 0])\n    , UINT8C  : dup([32, 0])\n    , BUFFER  : dup([32, 0])\n  }\n}\n\nvar hasUint8C = (typeof Uint8ClampedArray) !== 'undefined'\nvar POOL = global.__TYPEDARRAY_POOL\n\n//Upgrade pool\nif(!POOL.UINT8C) {\n  POOL.UINT8C = dup([32, 0])\n}\nif(!POOL.BUFFER) {\n  POOL.BUFFER = dup([32, 0])\n}\n\n//New technique: Only allocate from ArrayBufferView and Buffer\nvar DATA    = POOL.DATA\n  , BUFFER  = POOL.BUFFER\n\nexports.free = function free(array) {\n  if(Buffer.isBuffer(array)) {\n    BUFFER[bits.log2(array.length)].push(array)\n  } else {\n    if(Object.prototype.toString.call(array) !== '[object ArrayBuffer]') {\n      array = array.buffer\n    }\n    if(!array) {\n      return\n    }\n    var n = array.length || array.byteLength\n    var log_n = bits.log2(n)|0\n    DATA[log_n].push(array)\n  }\n}\n\nfunction freeArrayBuffer(buffer) {\n  if(!buffer) {\n    return\n  }\n  var n = buffer.length || buffer.byteLength\n  var log_n = bits.log2(n)\n  DATA[log_n].push(buffer)\n}\n\nfunction freeTypedArray(array) {\n  freeArrayBuffer(array.buffer)\n}\n\nexports.freeUint8 =\nexports.freeUint16 =\nexports.freeUint32 =\nexports.freeInt8 =\nexports.freeInt16 =\nexports.freeInt32 =\nexports.freeFloat32 = \nexports.freeFloat =\nexports.freeFloat64 = \nexports.freeDouble = \nexports.freeUint8Clamped = \nexports.freeDataView = freeTypedArray\n\nexports.freeArrayBuffer = freeArrayBuffer\n\nexports.freeBuffer = function freeBuffer(array) {\n  BUFFER[bits.log2(array.length)].push(array)\n}\n\nexports.malloc = function malloc(n, dtype) {\n  if(dtype === undefined || dtype === 'arraybuffer') {\n    return mallocArrayBuffer(n)\n  } else {\n    switch(dtype) {\n      case 'uint8':\n        return mallocUint8(n)\n      case 'uint16':\n        return mallocUint16(n)\n      case 'uint32':\n        return mallocUint32(n)\n      case 'int8':\n        return mallocInt8(n)\n      case 'int16':\n        return mallocInt16(n)\n      case 'int32':\n        return mallocInt32(n)\n      case 'float':\n      case 'float32':\n        return mallocFloat(n)\n      case 'double':\n      case 'float64':\n        return mallocDouble(n)\n      case 'uint8_clamped':\n        return mallocUint8Clamped(n)\n      case 'buffer':\n        return mallocBuffer(n)\n      case 'data':\n      case 'dataview':\n        return mallocDataView(n)\n\n      default:\n        return null\n    }\n  }\n  return null\n}\n\nfunction mallocArrayBuffer(n) {\n  var n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var d = DATA[log_n]\n  if(d.length > 0) {\n    return d.pop()\n  }\n  return new ArrayBuffer(n)\n}\nexports.mallocArrayBuffer = mallocArrayBuffer\n\nfunction mallocUint8(n) {\n  return new Uint8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocUint8 = mallocUint8\n\nfunction mallocUint16(n) {\n  return new Uint16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocUint16 = mallocUint16\n\nfunction mallocUint32(n) {\n  return new Uint32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocUint32 = mallocUint32\n\nfunction mallocInt8(n) {\n  return new Int8Array(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocInt8 = mallocInt8\n\nfunction mallocInt16(n) {\n  return new Int16Array(mallocArrayBuffer(2*n), 0, n)\n}\nexports.mallocInt16 = mallocInt16\n\nfunction mallocInt32(n) {\n  return new Int32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocInt32 = mallocInt32\n\nfunction mallocFloat(n) {\n  return new Float32Array(mallocArrayBuffer(4*n), 0, n)\n}\nexports.mallocFloat32 = exports.mallocFloat = mallocFloat\n\nfunction mallocDouble(n) {\n  return new Float64Array(mallocArrayBuffer(8*n), 0, n)\n}\nexports.mallocFloat64 = exports.mallocDouble = mallocDouble\n\nfunction mallocUint8Clamped(n) {\n  if(hasUint8C) {\n    return new Uint8ClampedArray(mallocArrayBuffer(n), 0, n)\n  } else {\n    return mallocUint8(n)\n  }\n}\nexports.mallocUint8Clamped = mallocUint8Clamped\n\nfunction mallocDataView(n) {\n  return new DataView(mallocArrayBuffer(n), 0, n)\n}\nexports.mallocDataView = mallocDataView\n\nfunction mallocBuffer(n) {\n  n = bits.nextPow2(n)\n  var log_n = bits.log2(n)\n  var cache = BUFFER[log_n]\n  if(cache.length > 0) {\n    return cache.pop()\n  }\n  return new Buffer(n)\n}\nexports.mallocBuffer = mallocBuffer\n\nexports.clearCache = function clearCache() {\n  for(var i=0; i<32; ++i) {\n    POOL.UINT8[i].length = 0\n    POOL.UINT16[i].length = 0\n    POOL.UINT32[i].length = 0\n    POOL.INT8[i].length = 0\n    POOL.INT16[i].length = 0\n    POOL.INT32[i].length = 0\n    POOL.FLOAT[i].length = 0\n    POOL.DOUBLE[i].length = 0\n    POOL.UINT8C[i].length = 0\n    DATA[i].length = 0\n    BUFFER[i].length = 0\n  }\n}","\n\nvar mapSize = function(gl, type) \n{\n    if(!GL_TABLE) \n    {\n        var typeNames = Object.keys(GL_TO_GLSL_TYPES);\n\n        GL_TABLE = {};\n\n        for(var i = 0; i < typeNames.length; ++i) \n        {\n            var tn = typeNames[i];\n            GL_TABLE[ gl[tn] ] = GL_TO_GLSL_TYPES[tn];\n        }\n    }\n\n  return GL_TABLE[type];\n};\n\nvar GL_TABLE = null;\n\nvar GL_TO_GLSL_TYPES = {\n  'FLOAT':       'float',\n  'FLOAT_VEC2':  'vec2',\n  'FLOAT_VEC3':  'vec3',\n  'FLOAT_VEC4':  'vec4',\n\n  'INT':         'int',\n  'INT_VEC2':    'ivec2',\n  'INT_VEC3':    'ivec3',\n  'INT_VEC4':    'ivec4',\n  \n  'BOOL':        'bool',\n  'BOOL_VEC2':   'bvec2',\n  'BOOL_VEC3':   'bvec3',\n  'BOOL_VEC4':   'bvec4',\n  \n  'FLOAT_MAT2':  'mat2',\n  'FLOAT_MAT3':  'mat3',\n  'FLOAT_MAT4':  'mat4',\n  \n  'SAMPLER_2D':  'sampler2D'  \n};\n\nmodule.exports = mapSize;\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nmodule.exports = {\n  2:      'need dictionary',     /* Z_NEED_DICT       2  */\n  1:      'stream end',          /* Z_STREAM_END      1  */\n  0:      '',                    /* Z_OK              0  */\n  '-1':   'file error',          /* Z_ERRNO         (-1) */\n  '-2':   'stream error',        /* Z_STREAM_ERROR  (-2) */\n  '-3':   'data error',          /* Z_DATA_ERROR    (-3) */\n  '-4':   'insufficient memory', /* Z_MEM_ERROR     (-4) */\n  '-5':   'buffer error',        /* Z_BUF_ERROR     (-5) */\n  '-6':   'incompatible version' /* Z_VERSION_ERROR (-6) */\n};\n","// Top level file is just a mixin of submodules & constants\n'use strict';\n\nvar assign    = require('./lib/utils/common').assign;\n\nvar deflate   = require('./lib/deflate');\nvar inflate   = require('./lib/inflate');\nvar constants = require('./lib/zlib/constants');\n\nvar pako = {};\n\nassign(pako, deflate, inflate, constants);\n\nmodule.exports = pako;\n","var rng = require('./lib/rng');\nvar bytesToUuid = require('./lib/bytesToUuid');\n\nfunction v4(options, buf, offset) {\n  var i = buf && offset || 0;\n\n  if (typeof(options) == 'string') {\n    buf = options == 'binary' ? new Array(16) : null;\n    options = null;\n  }\n  options = options || {};\n\n  var rnds = options.random || (options.rng || rng)();\n\n  // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n  rnds[6] = (rnds[6] & 0x0f) | 0x40;\n  rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n  // Copy bytes to buffer, if provided\n  if (buf) {\n    for (var ii = 0; ii < 16; ++ii) {\n      buf[i + ii] = rnds[ii];\n    }\n  }\n\n  return buf || bytesToUuid(rnds);\n}\n\nmodule.exports = v4;\n","'use strict'\n\n/*\n * Role\n *\n * A Role encapsulates a particular object's 'role' in a method's\n * dispatch. They are added directly to the selector for a method, and thus\n * do not prevent the objects a method was defined on from being garbage\n * collected.\n */\nmodule.exports = Role\nfunction Role (method, position) {\n  this.method = method\n  this.position = position\n}\n\nRole.roleKeyName = Symbol('roles')\n","'use strict'\n\nmodule.exports.isObjectProto = isObjectProto\nfunction isObjectProto (obj) {\n  return obj === Object.prototype\n}\n\nconst _null = {}\nconst _undefined = {}\nconst Bool = Boolean\nconst Num = Number\nconst Str = String\nconst boolCache = {\n  true: new Bool(true),\n  false: new Bool(false)\n}\nconst numCache = {}\nconst strCache = {}\n\n/*\n * Returns a useful dispatch object for value using a process similar to\n * the ToObject operation specified in http://es5.github.com/#x9.9\n */\nmodule.exports.dispatchableObject = dispatchableObject\nfunction dispatchableObject (value) {\n  // To shut up jshint, which doesn't let me turn off this warning.\n  const Obj = Object\n  if (value === null) { return _null }\n  if (value === undefined) { return _undefined }\n  switch (typeof value) {\n    case 'object': return value\n    case 'boolean': return boolCache[value]\n    case 'number': return numCache[value] || (numCache[value] = new Num(value))\n    case 'string': return strCache[value] || (strCache[value] = new Str(value))\n    default: return new Obj(value)\n  }\n}\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nmodule.exports = extend;\nfunction extend(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || typeof add !== 'object') return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n}\n","// var GL_MAP = {};\n\n/**\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param attribs {*}\n * @param state {*}\n */\nvar setVertexAttribArrays = function (gl, attribs, state)\n{\n    var i;\n    if(state)\n    {\n        var tempAttribState = state.tempAttribState,\n            attribState = state.attribState;\n\n        for (i = 0; i < tempAttribState.length; i++)\n        {\n            tempAttribState[i] = false;\n        }\n\n        // set the new attribs\n        for (i = 0; i < attribs.length; i++)\n        {\n            tempAttribState[attribs[i].attribute.location] = true;\n        }\n\n        for (i = 0; i < attribState.length; i++)\n        {\n            if (attribState[i] !== tempAttribState[i])\n            {\n                attribState[i] = tempAttribState[i];\n\n                if (state.attribState[i])\n                {\n                    gl.enableVertexAttribArray(i);\n                }\n                else\n                {\n                    gl.disableVertexAttribArray(i);\n                }\n            }\n        }\n\n    }\n    else\n    {\n        for (i = 0; i < attribs.length; i++)\n        {\n            var attrib = attribs[i];\n            gl.enableVertexAttribArray(attrib.attribute.location);\n        }\n    }\n};\n\nmodule.exports = setVertexAttribArrays;\n","\n/**\n * Helper class to create a WebGL Texture\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param width {number} the width of the texture\n * @param height {number} the height of the texture\n * @param format {number} the pixel format of the texture. defaults to gl.RGBA\n * @param type {number} the gl type of the texture. defaults to gl.UNSIGNED_BYTE\n */\nvar Texture = function(gl, width, height, format, type)\n{\n\t/**\n\t * The current WebGL rendering context\n\t *\n\t * @member {WebGLRenderingContext}\n\t */\n\tthis.gl = gl;\n\n\n\t/**\n\t * The WebGL texture\n\t *\n\t * @member {WebGLTexture}\n\t */\n\tthis.texture = gl.createTexture();\n\n\t/**\n\t * If mipmapping was used for this texture, enable and disable with enableMipmap()\n\t *\n\t * @member {Boolean}\n\t */\n\t// some settings..\n\tthis.mipmap = false;\n\n\n\t/**\n\t * Set to true to enable pre-multiplied alpha\n\t *\n\t * @member {Boolean}\n\t */\n\tthis.premultiplyAlpha = false;\n\n\t/**\n\t * The width of texture\n\t *\n\t * @member {Number}\n\t */\n\tthis.width = width || -1;\n\t/**\n\t * The height of texture\n\t *\n\t * @member {Number}\n\t */\n\tthis.height = height || -1;\n\n\t/**\n\t * The pixel format of the texture. defaults to gl.RGBA\n\t *\n\t * @member {Number}\n\t */\n\tthis.format = format || gl.RGBA;\n\n\t/**\n\t * The gl type of the texture. defaults to gl.UNSIGNED_BYTE\n\t *\n\t * @member {Number}\n\t */\n\tthis.type = type || gl.UNSIGNED_BYTE;\n\n\n};\n\n/**\n * Uploads this texture to the GPU\n * @param source {HTMLImageElement|ImageData|HTMLVideoElement} the source image of the texture\n */\nTexture.prototype.upload = function(source)\n{\n\tthis.bind();\n\n\tvar gl = this.gl;\n\n\n\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n\n\tvar newWidth = source.videoWidth || source.width;\n\tvar newHeight = source.videoHeight || source.height;\n\n\tif(newHeight !== this.height || newWidth !== this.width)\n\t{\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.format, this.format, this.type, source);\n\t}\n\telse\n\t{\n    \tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, this.format, this.type, source);\n\t}\n\n\t// if the source is a video, we need to use the videoWidth / videoHeight properties as width / height will be incorrect.\n\tthis.width = newWidth;\n\tthis.height = newHeight;\n\n};\n\nvar FLOATING_POINT_AVAILABLE = false;\n\n/**\n * Use a data source and uploads this texture to the GPU\n * @param data {TypedArray} the data to upload to the texture\n * @param width {number} the new width of the texture\n * @param height {number} the new height of the texture\n */\nTexture.prototype.uploadData = function(data, width, height)\n{\n\tthis.bind();\n\n\tvar gl = this.gl;\n\n\n\tif(data instanceof Float32Array)\n\t{\n\t\tif(!FLOATING_POINT_AVAILABLE)\n\t\t{\n\t\t\tvar ext = gl.getExtension(\"OES_texture_float\");\n\n\t\t\tif(ext)\n\t\t\t{\n\t\t\t\tFLOATING_POINT_AVAILABLE = true;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthrow new Error('floating point textures not available');\n\t\t\t}\n\t\t}\n\n\t\tthis.type = gl.FLOAT;\n\t}\n\telse\n\t{\n\t\t// TODO support for other types\n\t\tthis.type = this.type || gl.UNSIGNED_BYTE;\n\t}\n\n\t// what type of data?\n\tgl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha);\n\n\n\tif(width !== this.width || height !== this.height)\n\t{\n\t\tgl.texImage2D(gl.TEXTURE_2D, 0, this.format,  width, height, 0, this.format, this.type, data || null);\n\t}\n\telse\n\t{\n\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, width, height, this.format, this.type, data || null);\n\t}\n\n\tthis.width = width;\n\tthis.height = height;\n\n\n//\ttexSubImage2D\n};\n\n/**\n * Binds the texture\n * @param  location\n */\nTexture.prototype.bind = function(location)\n{\n\tvar gl = this.gl;\n\n\tif(location !== undefined)\n\t{\n\t\tgl.activeTexture(gl.TEXTURE0 + location);\n\t}\n\n\tgl.bindTexture(gl.TEXTURE_2D, this.texture);\n};\n\n/**\n * Unbinds the texture\n */\nTexture.prototype.unbind = function()\n{\n\tvar gl = this.gl;\n\tgl.bindTexture(gl.TEXTURE_2D, null);\n};\n\n/**\n * @param linear {Boolean} if we want to use linear filtering or nearest neighbour interpolation\n */\nTexture.prototype.minFilter = function( linear )\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tif(this.mipmap)\n\t{\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR_MIPMAP_LINEAR : gl.NEAREST_MIPMAP_NEAREST);\n\t}\n\telse\n\t{\n\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n\t}\n};\n\n/**\n * @param linear {Boolean} if we want to use linear filtering or nearest neighbour interpolation\n */\nTexture.prototype.magFilter = function( linear )\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, linear ? gl.LINEAR : gl.NEAREST);\n};\n\n/**\n * Enables mipmapping\n */\nTexture.prototype.enableMipmap = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tthis.mipmap = true;\n\n\tgl.generateMipmap(gl.TEXTURE_2D);\n};\n\n/**\n * Enables linear filtering\n */\nTexture.prototype.enableLinearScaling = function()\n{\n\tthis.minFilter(true);\n\tthis.magFilter(true);\n};\n\n/**\n * Enables nearest neighbour interpolation\n */\nTexture.prototype.enableNearestScaling = function()\n{\n\tthis.minFilter(false);\n\tthis.magFilter(false);\n};\n\n/**\n * Enables clamping on the texture so WebGL will not repeat it\n */\nTexture.prototype.enableWrapClamp = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n};\n\n/**\n * Enable tiling on the texture\n */\nTexture.prototype.enableWrapRepeat = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n};\n\nTexture.prototype.enableWrapMirrorRepeat = function()\n{\n\tvar gl = this.gl;\n\n\tthis.bind();\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.MIRRORED_REPEAT);\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.MIRRORED_REPEAT);\n};\n\n\n/**\n * Destroys this texture\n */\nTexture.prototype.destroy = function()\n{\n\tvar gl = this.gl;\n\t//TODO\n\tgl.deleteTexture(this.texture);\n};\n\n/**\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param source {HTMLImageElement|ImageData} the source image of the texture\n * @param premultiplyAlpha {Boolean} If we want to use pre-multiplied alpha\n */\nTexture.fromSource = function(gl, source, premultiplyAlpha)\n{\n\tvar texture = new Texture(gl);\n\ttexture.premultiplyAlpha = premultiplyAlpha || false;\n\ttexture.upload(source);\n\n\treturn texture;\n};\n\n/**\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL context\n * @param data {TypedArray} the data to upload to the texture\n * @param width {number} the new width of the texture\n * @param height {number} the new height of the texture\n */\nTexture.fromData = function(gl, data, width, height)\n{\n\t//console.log(data, width, height);\n\tvar texture = new Texture(gl);\n\ttexture.uploadData(data, width, height);\n\n\treturn texture;\n};\n\n\nmodule.exports = Texture;\n","\n/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL context {WebGLProgram}\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.\n * @param attributeLocations {Object} An attribute location map that lets you manually set the attribute locations\n * @return {WebGLProgram} the shader program\n */\nvar compileProgram = function(gl, vertexSrc, fragmentSrc, attributeLocations)\n{\n    var glVertShader = compileShader(gl, gl.VERTEX_SHADER, vertexSrc);\n    var glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, fragmentSrc);\n\n    var program = gl.createProgram();\n\n    gl.attachShader(program, glVertShader);\n    gl.attachShader(program, glFragShader);\n\n    // optionally, set the attributes manually for the program rather than letting WebGL decide..\n    if(attributeLocations)\n    {\n        for(var i in attributeLocations)\n        {\n            gl.bindAttribLocation(program, attributeLocations[i], i);\n        }\n    }\n\n\n    gl.linkProgram(program);\n\n    // if linking fails, then log and cleanup\n    if (!gl.getProgramParameter(program, gl.LINK_STATUS))\n    {\n        console.error('Pixi.js Error: Could not initialize shader.');\n        console.error('gl.VALIDATE_STATUS', gl.getProgramParameter(program, gl.VALIDATE_STATUS));\n        console.error('gl.getError()', gl.getError());\n\n        // if there is a program info log, log it\n        if (gl.getProgramInfoLog(program) !== '')\n        {\n            console.warn('Pixi.js Warning: gl.getProgramInfoLog()', gl.getProgramInfoLog(program));\n        }\n\n        gl.deleteProgram(program);\n        program = null;\n    }\n\n    // clean up some shaders\n    gl.deleteShader(glVertShader);\n    gl.deleteShader(glFragShader);\n\n    return program;\n};\n\n/**\n * @private\n * @param gl {WebGLRenderingContext} The current WebGL context {WebGLProgram}\n * @param type {Number} the type, can be either VERTEX_SHADER or FRAGMENT_SHADER\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @return {WebGLShader} the shader\n */\nvar compileShader = function (gl, type, src)\n{\n    var shader = gl.createShader(type);\n\n    gl.shaderSource(shader, src);\n    gl.compileShader(shader);\n\n    if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS))\n    {\n        console.log(gl.getShaderInfoLog(shader));\n        return null;\n    }\n\n    return shader;\n};\n\nmodule.exports = compileProgram;\n","\nvar mapType = require('./mapType');\nvar mapSize = require('./mapSize');\n\n/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the attributes from\n * @return attributes {Object}\n */\nvar extractAttributes = function(gl, program)\n{\n    var attributes = {};\n\n    var totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n\n    for (var i = 0; i < totalAttributes; i++)\n    {\n        var attribData = gl.getActiveAttrib(program, i);\n        var type = mapType(gl, attribData.type);\n\n        attributes[attribData.name] = {\n            type:type,\n            size:mapSize(type),\n            location:gl.getAttribLocation(program, attribData.name),\n            //TODO - make an attribute object\n            pointer: pointer\n        };\n    }\n\n    return attributes;\n};\n\nvar pointer = function(type, normalized, stride, start){\n    // console.log(this.location)\n    gl.vertexAttribPointer(this.location,this.size, type || gl.FLOAT, normalized || false, stride || 0, start || 0);\n};\n\nmodule.exports = extractAttributes;\n","/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param type {String}\n * @return {Number}\n */\nvar mapSize = function(type) \n{ \n    return GLSL_TO_SIZE[type];\n};\n\n\nvar GLSL_TO_SIZE = {\n    'float':    1,\n    'vec2':     2,\n    'vec3':     3,\n    'vec4':     4,\n\n    'int':      1,\n    'ivec2':    2,\n    'ivec3':    3,\n    'ivec4':    4,\n\n    'bool':     1,\n    'bvec2':    2,\n    'bvec3':    3,\n    'bvec4':    4,\n\n    'mat2':     4,\n    'mat3':     9,\n    'mat4':     16,\n\n    'sampler2D':  1\n};\n\nmodule.exports = mapSize;\n","var mapType = require('./mapType');\nvar defaultValue = require('./defaultValue');\n\n/**\n * Extracts the uniforms\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param program {WebGLProgram} The shader program to get the uniforms from\n * @return uniforms {Object}\n */\nvar extractUniforms = function(gl, program)\n{\n\tvar uniforms = {};\n\n    var totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n\n    for (var i = 0; i < totalUniforms; i++)\n    {\n    \tvar uniformData = gl.getActiveUniform(program, i);\n    \tvar name = uniformData.name.replace(/\\[.*?\\]/, \"\");\n        var type = mapType(gl, uniformData.type );\n\n    \tuniforms[name] = {\n    \t\ttype:type,\n    \t\tsize:uniformData.size,\n    \t\tlocation:gl.getUniformLocation(program, name),\n    \t\tvalue:defaultValue(type, uniformData.size)\n    \t};\n    }\n\n\treturn uniforms;\n};\n\nmodule.exports = extractUniforms;\n","/**\n * @class\n * @memberof PIXI.glCore.shader\n * @param type {String} Type of value\n * @param size {Number}\n */\nvar defaultValue = function(type, size) \n{\n    switch (type)\n    {\n        case 'float':\n            return 0;\n\n        case 'vec2': \n            return new Float32Array(2 * size);\n\n        case 'vec3':\n            return new Float32Array(3 * size);\n\n        case 'vec4':     \n            return new Float32Array(4 * size);\n            \n        case 'int':\n        case 'sampler2D':\n            return 0;\n\n        case 'ivec2':   \n            return new Int32Array(2 * size);\n\n        case 'ivec3':\n            return new Int32Array(3 * size);\n\n        case 'ivec4': \n            return new Int32Array(4 * size);\n\n        case 'bool':     \n            return false;\n\n        case 'bvec2':\n\n            return booleanArray( 2 * size);\n\n        case 'bvec3':\n            return booleanArray(3 * size);\n\n        case 'bvec4':\n            return booleanArray(4 * size);\n\n        case 'mat2':\n            return new Float32Array([1, 0,\n                                     0, 1]);\n\n        case 'mat3': \n            return new Float32Array([1, 0, 0,\n                                     0, 1, 0,\n                                     0, 0, 1]);\n\n        case 'mat4':\n            return new Float32Array([1, 0, 0, 0,\n                                     0, 1, 0, 0,\n                                     0, 0, 1, 0,\n                                     0, 0, 0, 1]);\n    }\n};\n\nvar booleanArray = function(size)\n{\n    var array = new Array(size);\n\n    for (var i = 0; i < array.length; i++) \n    {\n        array[i] = false;\n    }\n\n    return array;\n};\n\nmodule.exports = defaultValue;\n","/**\n * Sets the float precision on the shader. If the precision is already present this function will do nothing\n * @param {string} src       the shader source\n * @param {string} precision The float precision of the shader. Options are 'lowp', 'mediump' or 'highp'.\n *\n * @return {string} modified shader source\n */\nvar setPrecision = function(src, precision)\n{\n    if(src.substring(0, 9) !== 'precision')\n    {\n        return 'precision ' + precision + ' float;\\n' + src;\n    }\n\n    return src;\n};\n\nmodule.exports = setPrecision;\n","/**\n * Extracts the attributes\n * @class\n * @memberof PIXI.glCore.shader\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param uniforms {Array} @mat ?\n * @return attributes {Object}\n */\nvar generateUniformAccessObject = function(gl, uniformData)\n{\n    // this is the object we will be sending back.\n    // an object hierachy will be created for structs\n    var uniforms = {data:{}};\n\n    uniforms.gl = gl;\n\n    var uniformKeys= Object.keys(uniformData);\n\n    for (var i = 0; i < uniformKeys.length; i++)\n    {\n        var fullName = uniformKeys[i];\n\n        var nameTokens = fullName.split('.');\n        var name = nameTokens[nameTokens.length - 1];\n\n\n        var uniformGroup = getUniformGroup(nameTokens, uniforms);\n\n        var uniform =  uniformData[fullName];\n        uniformGroup.data[name] = uniform;\n\n        uniformGroup.gl = gl;\n\n        Object.defineProperty(uniformGroup, name, {\n            get: generateGetter(name),\n            set: generateSetter(name, uniform)\n        });\n    }\n\n    return uniforms;\n};\n\nvar generateGetter = function(name)\n{\n\tvar template = getterTemplate.replace('%%', name);\n\treturn new Function(template); // jshint ignore:line\n};\n\nvar generateSetter = function(name, uniform)\n{\n    var template = setterTemplate.replace(/%%/g, name);\n    var setTemplate;\n\n    if(uniform.size === 1)\n    {\n        setTemplate = GLSL_TO_SINGLE_SETTERS[uniform.type];\n    }\n    else\n    {\n        setTemplate = GLSL_TO_ARRAY_SETTERS[uniform.type];\n    }\n\n    if(setTemplate)\n    {\n        template += \"\\nthis.gl.\" + setTemplate + \";\";\n    }\n\n  \treturn new Function('value', template); // jshint ignore:line\n};\n\nvar getUniformGroup = function(nameTokens, uniform)\n{\n    var cur = uniform;\n\n    for (var i = 0; i < nameTokens.length - 1; i++)\n    {\n        var o = cur[nameTokens[i]] || {data:{}};\n        cur[nameTokens[i]] = o;\n        cur = o;\n    }\n\n    return cur;\n};\n\nvar getterTemplate = [\n    'return this.data.%%.value;',\n].join('\\n');\n\nvar setterTemplate = [\n    'this.data.%%.value = value;',\n    'var location = this.data.%%.location;'\n].join('\\n');\n\n\nvar GLSL_TO_SINGLE_SETTERS = {\n\n    'float':    'uniform1f(location, value)',\n\n    'vec2':     'uniform2f(location, value[0], value[1])',\n    'vec3':     'uniform3f(location, value[0], value[1], value[2])',\n    'vec4':     'uniform4f(location, value[0], value[1], value[2], value[3])',\n\n    'int':      'uniform1i(location, value)',\n    'ivec2':    'uniform2i(location, value[0], value[1])',\n    'ivec3':    'uniform3i(location, value[0], value[1], value[2])',\n    'ivec4':    'uniform4i(location, value[0], value[1], value[2], value[3])',\n\n    'bool':     'uniform1i(location, value)',\n    'bvec2':    'uniform2i(location, value[0], value[1])',\n    'bvec3':    'uniform3i(location, value[0], value[1], value[2])',\n    'bvec4':    'uniform4i(location, value[0], value[1], value[2], value[3])',\n\n    'mat2':     'uniformMatrix2fv(location, false, value)',\n    'mat3':     'uniformMatrix3fv(location, false, value)',\n    'mat4':     'uniformMatrix4fv(location, false, value)',\n\n    'sampler2D':'uniform1i(location, value)'\n};\n\nvar GLSL_TO_ARRAY_SETTERS = {\n\n    'float':    'uniform1fv(location, value)',\n\n    'vec2':     'uniform2fv(location, value)',\n    'vec3':     'uniform3fv(location, value)',\n    'vec4':     'uniform4fv(location, value)',\n\n    'int':      'uniform1iv(location, value)',\n    'ivec2':    'uniform2iv(location, value)',\n    'ivec3':    'uniform3iv(location, value)',\n    'ivec4':    'uniform4iv(location, value)',\n\n    'bool':     'uniform1iv(location, value)',\n    'bvec2':    'uniform2iv(location, value)',\n    'bvec3':    'uniform3iv(location, value)',\n    'bvec4':    'uniform4iv(location, value)',\n\n    'sampler2D':'uniform1iv(location, value)'\n};\n\nmodule.exports = generateUniformAccessObject;\n","module.exports = \"precision highp float;\\n\\nattribute vec2 aVertexPosition;\\nattribute vec2 aTextureCoord;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    gl_Position = vec4(aVertexPosition, 0.0, 1.0);\\n    vTextureCoord = aTextureCoord;\\n}\\n\"","/*\nCopyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk\nLicense: MIT - http://mrgnrdrck.mit-license.org\n\nhttps://github.com/mroderick/PubSubJS\n*/\n(function (root, factory){\n\t'use strict';\n\n    if (typeof define === 'function' && define.amd){\n        // AMD. Register as an anonymous module.\n        define(['exports'], factory);\n\n    } else if (typeof exports === 'object'){\n        // CommonJS\n        factory(exports);\n\n    }\n\n    // Browser globals\n    var PubSub = {};\n    root.PubSub = PubSub;\n    factory(PubSub);\n\n}(( typeof window === 'object' && window ) || this, function (PubSub){\n\t'use strict';\n\n\tvar messages = {},\n\t\tlastUid = -1;\n\n\tfunction hasKeys(obj){\n\t\tvar key;\n\n\t\tfor (key in obj){\n\t\t\tif ( obj.hasOwnProperty(key) ){\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t *\tReturns a function that throws the passed exception, for use as argument for setTimeout\n\t *\t@param { Object } ex An Error object\n\t */\n\tfunction throwException( ex ){\n\t\treturn function reThrowException(){\n\t\t\tthrow ex;\n\t\t};\n\t}\n\n\tfunction callSubscriberWithDelayedExceptions( subscriber, message, data ){\n\t\ttry {\n\t\t\tsubscriber( message, data );\n\t\t} catch( ex ){\n\t\t\tsetTimeout( throwException( ex ), 0);\n\t\t}\n\t}\n\n\tfunction callSubscriberWithImmediateExceptions( subscriber, message, data ){\n\t\tsubscriber( message, data );\n\t}\n\n\tfunction deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){\n\t\tvar subscribers = messages[matchedMessage],\n\t\t\tcallSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,\n\t\t\ts;\n\n\t\tif ( !messages.hasOwnProperty( matchedMessage ) ) {\n\t\t\treturn;\n\t\t}\n\n\t\tfor (s in subscribers){\n\t\t\tif ( subscribers.hasOwnProperty(s)){\n\t\t\t\tcallSubscriber( subscribers[s], originalMessage, data );\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction createDeliveryFunction( message, data, immediateExceptions ){\n\t\treturn function deliverNamespaced(){\n\t\t\tvar topic = String( message ),\n\t\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\t\t// deliver the message as it is now\n\t\t\tdeliverMessage(message, message, data, immediateExceptions);\n\n\t\t\t// trim the hierarchy and deliver message to each level\n\t\t\twhile( position !== -1 ){\n\t\t\t\ttopic = topic.substr( 0, position );\n\t\t\t\tposition = topic.lastIndexOf('.');\n\t\t\t\tdeliverMessage( message, topic, data, immediateExceptions );\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction messageHasSubscribers( message ){\n\t\tvar topic = String( message ),\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),\n\t\t\tposition = topic.lastIndexOf( '.' );\n\n\t\twhile ( !found && position !== -1 ){\n\t\t\ttopic = topic.substr( 0, position );\n\t\t\tposition = topic.lastIndexOf( '.' );\n\t\t\tfound = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));\n\t\t}\n\n\t\treturn found;\n\t}\n\n\tfunction publish( message, data, sync, immediateExceptions ){\n\t\tvar deliver = createDeliveryFunction( message, data, immediateExceptions ),\n\t\t\thasSubscribers = messageHasSubscribers( message );\n\n\t\tif ( !hasSubscribers ){\n\t\t\treturn false;\n\t\t}\n\n\t\tif ( sync === true ){\n\t\t\tdeliver();\n\t\t} else {\n\t\t\tsetTimeout( deliver, 0 );\n\t\t}\n\t\treturn true;\n\t}\n\n\t/**\n\t *\tPubSub.publish( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message, passing the data to it's subscribers\n\t**/\n\tPubSub.publish = function( message, data ){\n\t\treturn publish( message, data, false, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.publishSync( message[, data] ) -> Boolean\n\t *\t- message (String): The message to publish\n\t *\t- data: The data to pass to subscribers\n\t *\tPublishes the the message synchronously, passing the data to it's subscribers\n\t**/\n\tPubSub.publishSync = function( message, data ){\n\t\treturn publish( message, data, true, PubSub.immediateExceptions );\n\t};\n\n\t/**\n\t *\tPubSub.subscribe( message, func ) -> String\n\t *\t- message (String): The message to subscribe to\n\t *\t- func (Function): The function to call when a new message is published\n\t *\tSubscribes the passed function to the passed message. Every returned token is unique and should be stored if\n\t *\tyou need to unsubscribe\n\t**/\n\tPubSub.subscribe = function( message, func ){\n\t\tif ( typeof func !== 'function'){\n\t\t\treturn false;\n\t\t}\n\n\t\t// message is not registered yet\n\t\tif ( !messages.hasOwnProperty( message ) ){\n\t\t\tmessages[message] = {};\n\t\t}\n\n\t\t// forcing token as String, to allow for future expansions without breaking usage\n\t\t// and allow for easy use as key names for the 'messages' object\n\t\tvar token = 'uid_' + String(++lastUid);\n\t\tmessages[message][token] = func;\n\n\t\t// return token for unsubscribing\n\t\treturn token;\n\t};\n\n\t/* Public: Clears all subscriptions\n\t */\n\tPubSub.clearAllSubscriptions = function clearAllSubscriptions(){\n\t\tmessages = {};\n\t};\n\n\t/*Public: Clear subscriptions by the topic\n\t*/\n\tPubSub.clearSubscriptions = function clearSubscriptions(topic){\n\t\tvar m;\n\t\tfor (m in messages){\n\t\t\tif (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){\n\t\t\t\tdelete messages[m];\n\t\t\t}\n\t\t}\n\t};\n\n\t/* Public: removes subscriptions.\n\t * When passed a token, removes a specific subscription.\n\t * When passed a function, removes all subscriptions for that function\n\t * When passed a topic, removes all subscriptions for that topic (hierarchy)\n\t *\n\t * value - A token, function or topic to unsubscribe.\n\t *\n\t * Examples\n\t *\n\t *\t\t// Example 1 - unsubscribing with a token\n\t *\t\tvar token = PubSub.subscribe('mytopic', myFunc);\n\t *\t\tPubSub.unsubscribe(token);\n\t *\n\t *\t\t// Example 2 - unsubscribing with a function\n\t *\t\tPubSub.unsubscribe(myFunc);\n\t *\n\t *\t\t// Example 3 - unsubscribing a topic\n\t *\t\tPubSub.unsubscribe('mytopic');\n\t */\n\tPubSub.unsubscribe = function(value){\n\t\tvar descendantTopicExists = function(topic) {\n\t\t\t\tvar m;\n\t\t\t\tfor ( m in messages ){\n\t\t\t\t\tif ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){\n\t\t\t\t\t\t// a descendant of the topic exists:\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\tisTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),\n\t\t\tisToken    = !isTopic && typeof value === 'string',\n\t\t\tisFunction = typeof value === 'function',\n\t\t\tresult = false,\n\t\t\tm, message, t;\n\n\t\tif (isTopic){\n\t\t\tPubSub.clearSubscriptions(value);\n\t\t\treturn;\n\t\t}\n\n\t\tfor ( m in messages ){\n\t\t\tif ( messages.hasOwnProperty( m ) ){\n\t\t\t\tmessage = messages[m];\n\n\t\t\t\tif ( isToken && message[value] ){\n\t\t\t\t\tdelete message[value];\n\t\t\t\t\tresult = value;\n\t\t\t\t\t// tokens are unique, so we can just stop here\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (isFunction) {\n\t\t\t\t\tfor ( t in message ){\n\t\t\t\t\t\tif (message.hasOwnProperty(t) && message[t] === value){\n\t\t\t\t\t\t\tdelete message[t];\n\t\t\t\t\t\t\tresult = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn result;\n\t};\n}));\n","'use strict';\n\n// Note: adler32 takes 12% for level 0 and 2% for level 6.\n// It isn't worth it to make additional optimizations as in original.\n// Small size is preferable.\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nfunction adler32(adler, buf, len, pos) {\n  var s1 = (adler & 0xffff) |0,\n      s2 = ((adler >>> 16) & 0xffff) |0,\n      n = 0;\n\n  while (len !== 0) {\n    // Set limit ~ twice less than 5552, to keep\n    // s2 in 31-bits, because we force signed ints.\n    // in other case %= will fail.\n    n = len > 2000 ? 2000 : len;\n    len -= n;\n\n    do {\n      s1 = (s1 + buf[pos++]) |0;\n      s2 = (s2 + s1) |0;\n    } while (--n);\n\n    s1 %= 65521;\n    s2 %= 65521;\n  }\n\n  return (s1 | (s2 << 16)) |0;\n}\n\n\nmodule.exports = adler32;\n","'use strict';\n\n// Note: we can't get significant speed boost here.\n// So write code to minimize size - no pregenerated tables\n// and array tools dependencies.\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n// Use ordinary array, since untyped makes no boost here\nfunction makeTable() {\n  var c, table = [];\n\n  for (var n = 0; n < 256; n++) {\n    c = n;\n    for (var k = 0; k < 8; k++) {\n      c = ((c & 1) ? (0xEDB88320 ^ (c >>> 1)) : (c >>> 1));\n    }\n    table[n] = c;\n  }\n\n  return table;\n}\n\n// Create table on load. Just 255 signed longs. Not a problem.\nvar crcTable = makeTable();\n\n\nfunction crc32(crc, buf, len, pos) {\n  var t = crcTable,\n      end = pos + len;\n\n  crc ^= -1;\n\n  for (var i = pos; i < end; i++) {\n    crc = (crc >>> 8) ^ t[(crc ^ buf[i]) & 0xFF];\n  }\n\n  return (crc ^ (-1)); // >>> 0;\n}\n\n\nmodule.exports = crc32;\n","// String encode/decode helpers\n'use strict';\n\n\nvar utils = require('./common');\n\n\n// Quick check if we can use fast array to bin string conversion\n//\n// - apply(Array) can fail on Android 2.2\n// - apply(Uint8Array) can fail on iOS 5.1 Safari\n//\nvar STR_APPLY_OK = true;\nvar STR_APPLY_UIA_OK = true;\n\ntry { String.fromCharCode.apply(null, [ 0 ]); } catch (__) { STR_APPLY_OK = false; }\ntry { String.fromCharCode.apply(null, new Uint8Array(1)); } catch (__) { STR_APPLY_UIA_OK = false; }\n\n\n// Table with utf8 lengths (calculated by first byte of sequence)\n// Note, that 5 & 6-byte values and some 4-byte values can not be represented in JS,\n// because max possible codepoint is 0x10ffff\nvar _utf8len = new utils.Buf8(256);\nfor (var q = 0; q < 256; q++) {\n  _utf8len[q] = (q >= 252 ? 6 : q >= 248 ? 5 : q >= 240 ? 4 : q >= 224 ? 3 : q >= 192 ? 2 : 1);\n}\n_utf8len[254] = _utf8len[254] = 1; // Invalid sequence start\n\n\n// convert string to array (typed, when possible)\nexports.string2buf = function (str) {\n  var buf, c, c2, m_pos, i, str_len = str.length, buf_len = 0;\n\n  // count binary size\n  for (m_pos = 0; m_pos < str_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    buf_len += c < 0x80 ? 1 : c < 0x800 ? 2 : c < 0x10000 ? 3 : 4;\n  }\n\n  // allocate buffer\n  buf = new utils.Buf8(buf_len);\n\n  // convert\n  for (i = 0, m_pos = 0; i < buf_len; m_pos++) {\n    c = str.charCodeAt(m_pos);\n    if ((c & 0xfc00) === 0xd800 && (m_pos + 1 < str_len)) {\n      c2 = str.charCodeAt(m_pos + 1);\n      if ((c2 & 0xfc00) === 0xdc00) {\n        c = 0x10000 + ((c - 0xd800) << 10) + (c2 - 0xdc00);\n        m_pos++;\n      }\n    }\n    if (c < 0x80) {\n      /* one byte */\n      buf[i++] = c;\n    } else if (c < 0x800) {\n      /* two bytes */\n      buf[i++] = 0xC0 | (c >>> 6);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else if (c < 0x10000) {\n      /* three bytes */\n      buf[i++] = 0xE0 | (c >>> 12);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    } else {\n      /* four bytes */\n      buf[i++] = 0xf0 | (c >>> 18);\n      buf[i++] = 0x80 | (c >>> 12 & 0x3f);\n      buf[i++] = 0x80 | (c >>> 6 & 0x3f);\n      buf[i++] = 0x80 | (c & 0x3f);\n    }\n  }\n\n  return buf;\n};\n\n// Helper (used in 2 places)\nfunction buf2binstring(buf, len) {\n  // On Chrome, the arguments in a function call that are allowed is `65534`.\n  // If the length of the buffer is smaller than that, we can use this optimization,\n  // otherwise we will take a slower path.\n  if (len < 65534) {\n    if ((buf.subarray && STR_APPLY_UIA_OK) || (!buf.subarray && STR_APPLY_OK)) {\n      return String.fromCharCode.apply(null, utils.shrinkBuf(buf, len));\n    }\n  }\n\n  var result = '';\n  for (var i = 0; i < len; i++) {\n    result += String.fromCharCode(buf[i]);\n  }\n  return result;\n}\n\n\n// Convert byte array to binary string\nexports.buf2binstring = function (buf) {\n  return buf2binstring(buf, buf.length);\n};\n\n\n// Convert binary string (typed, when possible)\nexports.binstring2buf = function (str) {\n  var buf = new utils.Buf8(str.length);\n  for (var i = 0, len = buf.length; i < len; i++) {\n    buf[i] = str.charCodeAt(i);\n  }\n  return buf;\n};\n\n\n// convert array to string\nexports.buf2string = function (buf, max) {\n  var i, out, c, c_len;\n  var len = max || buf.length;\n\n  // Reserve max possible length (2 words per char)\n  // NB: by unknown reasons, Array is significantly faster for\n  //     String.fromCharCode.apply than Uint16Array.\n  var utf16buf = new Array(len * 2);\n\n  for (out = 0, i = 0; i < len;) {\n    c = buf[i++];\n    // quick process ascii\n    if (c < 0x80) { utf16buf[out++] = c; continue; }\n\n    c_len = _utf8len[c];\n    // skip 5 & 6 byte codes\n    if (c_len > 4) { utf16buf[out++] = 0xfffd; i += c_len - 1; continue; }\n\n    // apply mask on first byte\n    c &= c_len === 2 ? 0x1f : c_len === 3 ? 0x0f : 0x07;\n    // join the rest\n    while (c_len > 1 && i < len) {\n      c = (c << 6) | (buf[i++] & 0x3f);\n      c_len--;\n    }\n\n    // terminated by end of string?\n    if (c_len > 1) { utf16buf[out++] = 0xfffd; continue; }\n\n    if (c < 0x10000) {\n      utf16buf[out++] = c;\n    } else {\n      c -= 0x10000;\n      utf16buf[out++] = 0xd800 | ((c >> 10) & 0x3ff);\n      utf16buf[out++] = 0xdc00 | (c & 0x3ff);\n    }\n  }\n\n  return buf2binstring(utf16buf, out);\n};\n\n\n// Calculate max possible position in utf8 buffer,\n// that will not break sequence. If that's not possible\n// - (very small limits) return max size as is.\n//\n// buf[] - utf8 bytes array\n// max   - length limit (mandatory);\nexports.utf8border = function (buf, max) {\n  var pos;\n\n  max = max || buf.length;\n  if (max > buf.length) { max = buf.length; }\n\n  // go back from last position, until start of sequence found\n  pos = max - 1;\n  while (pos >= 0 && (buf[pos] & 0xC0) === 0x80) { pos--; }\n\n  // Very small and broken sequence,\n  // return max, because we should return something anyway.\n  if (pos < 0) { return max; }\n\n  // If we came to start of buffer - that means buffer is too small,\n  // return max too.\n  if (pos === 0) { return max; }\n\n  return (pos + _utf8len[buf[pos]] > max) ? pos : max;\n};\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nfunction ZStream() {\n  /* next input byte */\n  this.input = null; // JS specific, because we have no pointers\n  this.next_in = 0;\n  /* number of bytes available at input */\n  this.avail_in = 0;\n  /* total number of input bytes read so far */\n  this.total_in = 0;\n  /* next output byte should be put there */\n  this.output = null; // JS specific, because we have no pointers\n  this.next_out = 0;\n  /* remaining free space at output */\n  this.avail_out = 0;\n  /* total number of bytes output so far */\n  this.total_out = 0;\n  /* last error message, NULL if no error */\n  this.msg = ''/*Z_NULL*/;\n  /* not visible by applications */\n  this.state = null;\n  /* best guess about the data type: binary or text */\n  this.data_type = 2/*Z_UNKNOWN*/;\n  /* adler32 value of the uncompressed data */\n  this.adler = 0;\n}\n\nmodule.exports = ZStream;\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nmodule.exports = {\n\n  /* Allowed flush values; see deflate() and inflate() below for details */\n  Z_NO_FLUSH:         0,\n  Z_PARTIAL_FLUSH:    1,\n  Z_SYNC_FLUSH:       2,\n  Z_FULL_FLUSH:       3,\n  Z_FINISH:           4,\n  Z_BLOCK:            5,\n  Z_TREES:            6,\n\n  /* Return codes for the compression/decompression functions. Negative values\n  * are errors, positive values are used for special but normal events.\n  */\n  Z_OK:               0,\n  Z_STREAM_END:       1,\n  Z_NEED_DICT:        2,\n  Z_ERRNO:           -1,\n  Z_STREAM_ERROR:    -2,\n  Z_DATA_ERROR:      -3,\n  //Z_MEM_ERROR:     -4,\n  Z_BUF_ERROR:       -5,\n  //Z_VERSION_ERROR: -6,\n\n  /* compression levels */\n  Z_NO_COMPRESSION:         0,\n  Z_BEST_SPEED:             1,\n  Z_BEST_COMPRESSION:       9,\n  Z_DEFAULT_COMPRESSION:   -1,\n\n\n  Z_FILTERED:               1,\n  Z_HUFFMAN_ONLY:           2,\n  Z_RLE:                    3,\n  Z_FIXED:                  4,\n  Z_DEFAULT_STRATEGY:       0,\n\n  /* Possible values of the data_type field (though see inflate()) */\n  Z_BINARY:                 0,\n  Z_TEXT:                   1,\n  //Z_ASCII:                1, // = Z_TEXT (deprecated)\n  Z_UNKNOWN:                2,\n\n  /* The deflate compression method */\n  Z_DEFLATED:               8\n  //Z_NULL:                 null // Use -1 or null inline, depending on var type\n};\n","\r\n/**\r\n * slice() reference.\r\n */\r\n\r\nvar slice = Array.prototype.slice;\r\n\r\n/**\r\n * Expose `co`.\r\n */\r\n\r\nmodule.exports = co;\r\n\r\n/**\r\n * Wrap the given generator `fn` into a\r\n * function that returns a promise.\r\n * This is a separate function so that\r\n * every `co()` call doesn't create a new,\r\n * unnecessary closure.\r\n *\r\n * @param {GeneratorFunction} fn\r\n * @return {Function}\r\n * @api public\r\n */\r\n\r\nco.wrap = function (fn) {\r\n  return function () {\r\n    return co.call(this, fn.apply(this, arguments));\r\n  };\r\n};\r\n\r\n/**\r\n * Execute the generator function or a generator\r\n * and return a promise.\r\n *\r\n * @param {Function} fn\r\n * @return {Function}\r\n * @api public\r\n */\r\n\r\nfunction co(gen) {\r\n  var ctx = this;\r\n  if (typeof gen === 'function') gen = gen.call(this);\r\n  return onFulfilled();\r\n\r\n  /**\r\n   * @param {Mixed} res\r\n   * @return {Promise}\r\n   * @api private\r\n   */\r\n\r\n  function onFulfilled(res) {\r\n    var ret;\r\n    try {\r\n      ret = gen.next(res);\r\n    } catch (e) {\r\n      return Promise.reject(e);\r\n    }\r\n    return next(ret);\r\n  }\r\n\r\n  /**\r\n   * @param {Error} err\r\n   * @return {Promise}\r\n   * @api private\r\n   */\r\n\r\n  function onRejected(err) {\r\n    var ret;\r\n    try {\r\n      ret = gen.throw(err);\r\n    } catch (e) {\r\n      return Promise.reject(e);\r\n    }\r\n    return next(ret);\r\n  }\r\n\r\n  /**\r\n   * Get the next value in the generator,\r\n   * return a promise.\r\n   *\r\n   * @param {Object} ret\r\n   * @return {Promise}\r\n   * @api private\r\n   */\r\n\r\n  function next(ret) {\r\n    if (ret.done) return Promise.resolve(ret.value);\r\n    var value = toPromise.call(ctx, ret.value);\r\n    if (value && isPromise(value)) return value.then(onFulfilled, onRejected);\r\n    return onRejected(new TypeError('You may only yield a function, promise, generator, array, or object, '\r\n      + 'but the following object was passed: \"' + String(ret.value) + '\"'));\r\n  }\r\n}\r\n\r\n/**\r\n * Convert a `yield`ed value into a promise.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction toPromise(obj) {\r\n  if (!obj) return obj;\r\n  if (isPromise(obj)) return obj;\r\n  if (isGeneratorFunction(obj) || isGenerator(obj)) return co.call(this, obj);\r\n  if ('function' == typeof obj) return thunkToPromise.call(this, obj);\r\n  if (Array.isArray(obj)) return arrayToPromise.call(this, obj);\r\n  if (isObject(obj)) return objectToPromise.call(this, obj);\r\n  return obj;\r\n}\r\n\r\n/**\r\n * Convert a thunk to a promise.\r\n *\r\n * @param {Function}\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction thunkToPromise(fn) {\r\n  var ctx = this;\r\n  return new Promise(function (resolve, reject) {\r\n    fn.call(ctx, function (err, res) {\r\n      if (err) return reject(err);\r\n      if (arguments.length > 2) res = slice.call(arguments, 1);\r\n      resolve(res);\r\n    });\r\n  });\r\n}\r\n\r\n/**\r\n * Convert an array of \"yieldables\" to a promise.\r\n * Uses `Promise.all()` internally.\r\n *\r\n * @param {Array} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction arrayToPromise(obj) {\r\n  return Promise.all(obj.map(toPromise, this));\r\n}\r\n\r\n/**\r\n * Convert an object of \"yieldables\" to a promise.\r\n * Uses `Promise.all()` internally.\r\n *\r\n * @param {Object} obj\r\n * @return {Promise}\r\n * @api private\r\n */\r\n\r\nfunction objectToPromise(obj){\r\n  var results = new obj.constructor();\r\n  var keys = Object.keys(obj);\r\n  var promises = [];\r\n  for (var i = 0; i < keys.length; i++) {\r\n    var key = keys[i];\r\n    var promise = toPromise.call(this, obj[key]);\r\n    if (promise && isPromise(promise)) defer(promise, key);\r\n    else results[key] = obj[key];\r\n  }\r\n  return Promise.all(promises).then(function () {\r\n    return results;\r\n  });\r\n\r\n  function defer(promise, key) {\r\n    // predefine the key in the result\r\n    results[key] = undefined;\r\n    promises.push(promise.then(function (res) {\r\n      results[key] = res;\r\n    }));\r\n  }\r\n}\r\n\r\n/**\r\n * Check if `obj` is a promise.\r\n *\r\n * @param {Object} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isPromise(obj) {\r\n  return 'function' == typeof obj.then;\r\n}\r\n\r\n/**\r\n * Check if `obj` is a generator.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isGenerator(obj) {\r\n  return 'function' == typeof obj.next && 'function' == typeof obj.throw;\r\n}\r\n\r\n/**\r\n * Check if `obj` is a generator function.\r\n *\r\n * @param {Mixed} obj\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isGeneratorFunction(obj) {\r\n  var constructor = obj.constructor;\r\n  return constructor && 'GeneratorFunction' == constructor.name;\r\n}\r\n\r\n/**\r\n * Check for plain object.\r\n *\r\n * @param {Mixed} val\r\n * @return {Boolean}\r\n * @api private\r\n */\r\n\r\nfunction isObject(val) {\r\n  return Object == val.constructor;\r\n}\r\n","// Unique ID creation requires a high quality random # generator.  In the\n// browser this is a little complicated due to unknown quality of Math.random()\n// and inconsistent support for the `crypto` API.  We do the best we can via\n// feature-detection\nvar rng;\n\nvar crypto = global.crypto || global.msCrypto; // for IE 11\nif (crypto && crypto.getRandomValues) {\n  // WHATWG crypto RNG - http://wiki.whatwg.org/wiki/Crypto\n  var rnds8 = new Uint8Array(16); // eslint-disable-line no-undef\n  rng = function whatwgRNG() {\n    crypto.getRandomValues(rnds8);\n    return rnds8;\n  };\n}\n\nif (!rng) {\n  // Math.random()-based (RNG)\n  //\n  // If all else fails, use Math.random().  It's fast, but is of unspecified\n  // quality.\n  var rnds = new Array(16);\n  rng = function() {\n    for (var i = 0, r; i < 16; i++) {\n      if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n      rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n    }\n\n    return rnds;\n  };\n}\n\nmodule.exports = rng;\n","/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex[i] = (i + 0x100).toString(16).substr(1);\n}\n\nfunction bytesToUuid(buf, offset) {\n  var i = offset || 0;\n  var bth = byteToHex;\n  return bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] + '-' +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]] +\n          bth[buf[i++]] + bth[buf[i++]];\n}\n\nmodule.exports = bytesToUuid;\n","'use strict'\n\nconst Method = require('./method')\nconst Role = require('./role')\nconst util = require('./util')\n\nconst kCache = Symbol('cache')\nconst kDefaultMethod = Symbol('defaultMethod')\nconst kMethods = Symbol('methods')\nconst kNoNext = Symbol('noNext')\n\nmodule.exports = function genfun (opts) {\n  function gf () {\n    if (!gf[kMethods].length && gf[kDefaultMethod]) {\n      return gf[kDefaultMethod].func.apply(this, arguments)\n    } else {\n      return gf.applyGenfun(this, arguments)\n    }\n  }\n  Object.setPrototypeOf(gf, Genfun.prototype)\n  gf[kMethods] = []\n  gf[kCache] = {key: [], methods: [], state: STATES.UNINITIALIZED}\n  if (opts && typeof opts === 'function') {\n    gf.add(opts)\n  } else if (opts && opts.default) {\n    gf.add(opts.default)\n  }\n  if (opts && opts.name) {\n    Object.defineProperty(gf, 'name', {\n      value: opts.name\n    })\n  }\n  if (opts && opts.noNextMethod) {\n    gf[kNoNext] = true\n  }\n  return gf\n}\n\nclass Genfun extends Function {}\nGenfun.prototype.isGenfun = true\n\nconst STATES = {\n  UNINITIALIZED: 0,\n  MONOMORPHIC: 1,\n  POLYMORPHIC: 2,\n  MEGAMORPHIC: 3\n}\n\nconst MAX_CACHE_SIZE = 32\n\n/**\n * Defines a method on a generic function.\n *\n * @function\n * @param {Array-like} selector - Selector array for dispatching the method.\n * @param {Function} methodFunction - Function to execute when the method\n *                                    successfully dispatches.\n */\nGenfun.prototype.add = function addMethod (selector, func) {\n  if (!func && typeof selector === 'function') {\n    func = selector\n    selector = []\n  }\n  selector = [].slice.call(selector)\n  for (var i = 0; i < selector.length; i++) {\n    if (!selector.hasOwnProperty(i)) {\n      selector[i] = Object.prototype\n    }\n  }\n  this[kCache] = {key: [], methods: [], state: STATES.UNINITIALIZED}\n  let method = new Method(this, selector, func)\n  if (selector.length) {\n    this[kMethods].push(method)\n  } else {\n    this[kDefaultMethod] = method\n  }\n  return this\n}\n\n/**\n * Removes a previously-defined method on `genfun` that matches\n * `selector` exactly.\n *\n * @function\n * @param {Genfun} genfun - Genfun to remove a method from.\n * @param {Array-like} selector - Objects to match on when finding a\n *                                    method to remove.\n */\nGenfun.prototype.rm = function removeMethod () {\n  throw new Error('not yet implemented')\n}\n\n/**\n * Returns true if there are methods that apply to the given arguments on\n * `genfun`. Additionally, makes sure the cache is warmed up for the given\n * arguments.\n *\n */\nGenfun.prototype.hasMethod = function hasMethod () {\n  const methods = this.getApplicableMethods(arguments)\n  return !!(methods && methods.length)\n}\n\n/**\n * This generic function is called when `genfun` has been called and no\n * applicable method was found. The default method throws an `Error`.\n *\n * @function\n * @param {Genfun} genfun - Generic function instance that was called.\n * @param {*} newthis - value of `this` the genfun was called with.\n * @param {Array} callArgs - Arguments the genfun was called with.\n */\nmodule.exports.noApplicableMethod = module.exports()\nmodule.exports.noApplicableMethod.add([], (gf, thisArg, args) => {\n  let msg =\n        'No applicable method found when called with arguments of types: (' +\n        [].map.call(args, (arg) => {\n          return (/\\[object ([a-zA-Z0-9]+)\\]/)\n            .exec(({}).toString.call(arg))[1]\n        }).join(', ') + ')'\n  let err = new Error(msg)\n  err.genfun = gf\n  err.thisArg = thisArg\n  err.args = args\n  throw err\n})\n\n/*\n * Internal\n */\nGenfun.prototype.applyGenfun = function applyGenfun (newThis, args) {\n  let applicableMethods = this.getApplicableMethods(args)\n  if (applicableMethods.length === 1 || this[kNoNext]) {\n    return applicableMethods[0].func.apply(newThis, args)\n  } else if (applicableMethods.length > 1) {\n    let idx = 0\n    const nextMethod = function nextMethod () {\n      if (arguments.length) {\n        // Replace args if passed in explicitly\n        args = arguments\n        Array.prototype.push.call(args, nextMethod)\n      }\n      const next = applicableMethods[idx++]\n      if (idx >= applicableMethods.length) {\n        Array.prototype.pop.call(args)\n      }\n      return next.func.apply(newThis, args)\n    }\n    Array.prototype.push.call(args, nextMethod)\n    return nextMethod()\n  } else {\n    return module.exports.noApplicableMethod(this, newThis, args)\n  }\n}\n\nGenfun.prototype.getApplicableMethods = function getApplicableMethods (args) {\n  if (!args.length || !this[kMethods].length) {\n    return this[kDefaultMethod] ? [this[kDefaultMethod]] : []\n  }\n  let applicableMethods\n  let maybeMethods = cachedMethods(this, args)\n  if (maybeMethods) {\n    applicableMethods = maybeMethods\n  } else {\n    applicableMethods = computeApplicableMethods(this, args)\n    cacheArgs(this, args, applicableMethods)\n  }\n  return applicableMethods\n}\n\nfunction cacheArgs (genfun, args, methods) {\n  if (genfun[kCache].state === STATES.MEGAMORPHIC) { return }\n  var key = []\n  var proto\n  for (var i = 0; i < args.length; i++) {\n    proto = cacheableProto(genfun, args[i])\n    if (proto) {\n      key[i] = proto\n    } else {\n      return null\n    }\n  }\n  genfun[kCache].key.unshift(key)\n  genfun[kCache].methods.unshift(methods)\n  if (genfun[kCache].key.length === 1) {\n    genfun[kCache].state = STATES.MONOMORPHIC\n  } else if (genfun[kCache].key.length < MAX_CACHE_SIZE) {\n    genfun[kCache].state = STATES.POLYMORPHIC\n  } else {\n    genfun[kCache].state = STATES.MEGAMORPHIC\n  }\n}\n\nfunction cacheableProto (genfun, arg) {\n  var dispatchable = util.dispatchableObject(arg)\n  if (Object.hasOwnProperty.call(dispatchable, Role.roleKeyName)) {\n    for (var j = 0; j < dispatchable[Role.roleKeyName].length; j++) {\n      var role = dispatchable[Role.roleKeyName][j]\n      if (role.method.genfun === genfun) {\n        return null\n      }\n    }\n  }\n  return Object.getPrototypeOf(dispatchable)\n}\n\nfunction cachedMethods (genfun, args) {\n  if (genfun[kCache].state === STATES.UNINITIALIZED ||\n      genfun[kCache].state === STATES.MEGAMORPHIC) {\n    return null\n  }\n  var protos = []\n  var proto\n  for (var i = 0; i < args.length; i++) {\n    proto = cacheableProto(genfun, args[i])\n    if (proto) {\n      protos[i] = proto\n    } else {\n      return\n    }\n  }\n  for (i = 0; i < genfun[kCache].key.length; i++) {\n    if (matchCachedMethods(genfun[kCache].key[i], protos)) {\n      return genfun[kCache].methods[i]\n    }\n  }\n}\n\nfunction matchCachedMethods (key, protos) {\n  if (key.length !== protos.length) { return false }\n  for (var i = 0; i < key.length; i++) {\n    if (key[i] !== protos[i]) {\n      return false\n    }\n  }\n  return true\n}\n\nfunction computeApplicableMethods (genfun, args) {\n  args = [].slice.call(args)\n  let discoveredMethods = []\n  function findAndRankRoles (object, hierarchyPosition, index) {\n    var roles = Object.hasOwnProperty.call(object, Role.roleKeyName)\n    ? object[Role.roleKeyName]\n    : []\n    roles.forEach(role => {\n      if (role.method.genfun === genfun && index === role.position) {\n        if (discoveredMethods.indexOf(role.method) < 0) {\n          Method.clearRank(role.method)\n          discoveredMethods.push(role.method)\n        }\n        Method.setRankHierarchyPosition(role.method, index, hierarchyPosition)\n      }\n    })\n    // When a discovered method would receive more arguments than\n    // were specialized, we pretend all extra arguments have a role\n    // on Object.prototype.\n    if (util.isObjectProto(object)) {\n      discoveredMethods.forEach(method => {\n        if (method.minimalSelector <= index) {\n          Method.setRankHierarchyPosition(method, index, hierarchyPosition)\n        }\n      })\n    }\n  }\n  args.forEach((arg, index) => {\n    getPrecedenceList(util.dispatchableObject(arg))\n      .forEach((obj, hierarchyPosition) => {\n        findAndRankRoles(obj, hierarchyPosition, index)\n      })\n  })\n  let applicableMethods = discoveredMethods.filter(method => {\n    return (args.length === method._rank.length &&\n            Method.isFullySpecified(method))\n  })\n  applicableMethods.sort((a, b) => Method.score(a) - Method.score(b))\n  if (genfun[kDefaultMethod]) {\n    applicableMethods.push(genfun[kDefaultMethod])\n  }\n  return applicableMethods\n}\n\n/*\n * Helper function for getting an array representing the entire\n * inheritance/precedence chain for an object by navigating its\n * prototype pointers.\n */\nfunction getPrecedenceList (obj) {\n  var precedenceList = []\n  var nextObj = obj\n  while (nextObj) {\n    precedenceList.push(nextObj)\n    nextObj = Object.getPrototypeOf(nextObj)\n  }\n  return precedenceList\n}\n","'use strict'\n\n/*\n * Method\n *\n * Methods are added, conceptually, to Genfuns, not to objects\n * themselves, although the Genfun object does not have any pointers to\n * method objects.\n *\n * The _rank vector is an internal datastructure used during dispatch\n * to figure out whether a method is applicable, and if so, how to\n * order multiple discovered methods.\n *\n * Right now, the score method on Method does not take into account any\n * ordering, and all arguments to a method are ranked equally for the\n * sake of ordering.\n *\n */\nconst Role = require('./role')\nconst util = require('./util')\n\nmodule.exports = Method\nfunction Method (genfun, selector, func) {\n  var method = this\n  method.genfun = genfun\n  method.func = func\n  method._rank = []\n  method.minimalSelector = 0\n\n  const tmpSelector = selector.length ? selector : [Object.prototype]\n  for (var object, i = tmpSelector.length - 1; i >= 0; i--) {\n    object = Object.hasOwnProperty.call(tmpSelector, i)\n    ? tmpSelector[i]\n    : Object.prototype\n    object = util.dispatchableObject(object)\n    if (\n      typeof object === 'function' &&\n      !object.isGenfun\n    ) {\n      object = object.prototype\n    }\n    if (i > 0 &&\n        !method.minimalSelector &&\n        util.isObjectProto(object)) {\n      continue\n    } else {\n      method.minimalSelector++\n      if (!Object.hasOwnProperty.call(object, Role.roleKeyName)) {\n        if (Object.defineProperty) {\n          // Object.defineProperty is JS 1.8.0+\n          Object.defineProperty(\n            object, Role.roleKeyName, {value: [], enumerable: false})\n        } else {\n          object[Role.roleKeyName] = []\n        }\n      }\n      // XXX HACK - no method replacement now, so we just shove\n      // it in a place where it'll always show up first. This\n      // would probably seriously break method combination if we\n      // had it.\n      object[Role.roleKeyName].unshift(new Role(method, i))\n    }\n  }\n}\n\nMethod.setRankHierarchyPosition = (method, index, hierarchyPosition) => {\n  method._rank[index] = hierarchyPosition\n}\n\nMethod.clearRank = method => {\n  method._rank = []\n}\n\nMethod.isFullySpecified = method => {\n  for (var i = 0; i < method.minimalSelector; i++) {\n    if (!method._rank.hasOwnProperty(i)) {\n      return false\n    }\n  }\n  return true\n}\n\nMethod.score = method => {\n  // TODO - this makes all items in the list equal\n  return method._rank.reduce((a, b) => a + b, 0)\n}\n","// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// when used in node, this will actually load the util module we depend on\n// versus loading the builtin util module as happens otherwise\n// this is a bug in node module loading as far as I am concerned\nvar util = require('util/');\n\nvar pSlice = Array.prototype.slice;\nvar hasOwn = Object.prototype.hasOwnProperty;\n\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  }\n  else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = stackStartFunction.name;\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction replacer(key, value) {\n  if (util.isUndefined(value)) {\n    return '' + value;\n  }\n  if (util.isNumber(value) && !isFinite(value)) {\n    return value.toString();\n  }\n  if (util.isFunction(value) || util.isRegExp(value)) {\n    return value.toString();\n  }\n  return value;\n}\n\nfunction truncate(s, n) {\n  if (util.isString(s)) {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\n\nfunction getMessage(self) {\n  return truncate(JSON.stringify(self.actual, replacer), 128) + ' ' +\n         self.operator + ' ' +\n         truncate(JSON.stringify(self.expected, replacer), 128);\n}\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  throw new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  });\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (util.isBuffer(actual) && util.isBuffer(expected)) {\n    if (actual.length != expected.length) return false;\n\n    for (var i = 0; i < actual.length; i++) {\n      if (actual[i] !== expected[i]) return false;\n    }\n\n    return true;\n\n  // 7.2. If the expected value is a Date object, the actual value is\n  // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3 If the expected value is a RegExp object, the actual value is\n  // equivalent if it is also a RegExp object with the same source and\n  // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n           actual.global === expected.global &&\n           actual.multiline === expected.multiline &&\n           actual.lastIndex === expected.lastIndex &&\n           actual.ignoreCase === expected.ignoreCase;\n\n  // 7.4. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!util.isObject(actual) && !util.isObject(expected)) {\n    return actual == expected;\n\n  // 7.5 For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b) {\n  if (util.isNullOrUndefined(a) || util.isNullOrUndefined(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b)) {\n    return a === b;\n  }\n  var aIsArgs = isArguments(a),\n      bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b);\n  }\n  var ka = objectKeys(a),\n      kb = objectKeys(b),\n      key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key])) return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  } else if (actual instanceof expected) {\n    return true;\n  } else if (expected.call({}, actual) === true) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (util.isString(expected)) {\n    message = expected;\n    expected = null;\n  }\n\n  try {\n    block();\n  } catch (e) {\n    actual = e;\n  }\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n            (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  if (!shouldThrow && expectedException(actual, expected)) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n      !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws.apply(this, [true].concat(pSlice.call(arguments)));\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/message) {\n  _throws.apply(this, [false].concat(pSlice.call(arguments)));\n};\n\nassert.ifError = function(err) { if (err) {throw err;}};\n\nvar objectKeys = Object.keys || function (obj) {\n  var keys = [];\n  for (var key in obj) {\n    if (hasOwn.call(obj, key)) keys.push(key);\n  }\n  return keys;\n};\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\nvar formatRegExp = /%[sdj%]/g;\nexports.format = function(f) {\n  if (!isString(f)) {\n    var objects = [];\n    for (var i = 0; i < arguments.length; i++) {\n      objects.push(inspect(arguments[i]));\n    }\n    return objects.join(' ');\n  }\n\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  var str = String(f).replace(formatRegExp, function(x) {\n    if (x === '%%') return '%';\n    if (i >= len) return x;\n    switch (x) {\n      case '%s': return String(args[i++]);\n      case '%d': return Number(args[i++]);\n      case '%j':\n        try {\n          return JSON.stringify(args[i++]);\n        } catch (_) {\n          return '[Circular]';\n        }\n      default:\n        return x;\n    }\n  });\n  for (var x = args[i]; i < len; x = args[++i]) {\n    if (isNull(x) || !isObject(x)) {\n      str += ' ' + x;\n    } else {\n      str += ' ' + inspect(x);\n    }\n  }\n  return str;\n};\n\n\n// Mark that a method should not be used.\n// Returns a modified function which warns once by default.\n// If --no-deprecation is set, then it is a no-op.\nexports.deprecate = function(fn, msg) {\n  // Allow for deprecating things in the process of starting up.\n  if (isUndefined(global.process)) {\n    return function() {\n      return exports.deprecate(fn, msg).apply(this, arguments);\n    };\n  }\n\n  if (process.noDeprecation === true) {\n    return fn;\n  }\n\n  var warned = false;\n  function deprecated() {\n    if (!warned) {\n      if (process.throwDeprecation) {\n        throw new Error(msg);\n      } else if (process.traceDeprecation) {\n        console.trace(msg);\n      } else {\n        console.error(msg);\n      }\n      warned = true;\n    }\n    return fn.apply(this, arguments);\n  }\n\n  return deprecated;\n};\n\n\nvar debugs = {};\nvar debugEnviron;\nexports.debuglog = function(set) {\n  if (isUndefined(debugEnviron))\n    debugEnviron = process.env.NODE_DEBUG || '';\n  set = set.toUpperCase();\n  if (!debugs[set]) {\n    if (new RegExp('\\\\b' + set + '\\\\b', 'i').test(debugEnviron)) {\n      var pid = process.pid;\n      debugs[set] = function() {\n        var msg = exports.format.apply(exports, arguments);\n        console.error('%s %d: %s', set, pid, msg);\n      };\n    } else {\n      debugs[set] = function() {};\n    }\n  }\n  return debugs[set];\n};\n\n\n/**\n * Echos the value of a value. Trys to print the value out\n * in the best way possible given the different types.\n *\n * @param {Object} obj The object to print out.\n * @param {Object} opts Optional options object that alters the output.\n */\n/* legacy: obj, showHidden, depth, colors*/\nfunction inspect(obj, opts) {\n  // default options\n  var ctx = {\n    seen: [],\n    stylize: stylizeNoColor\n  };\n  // legacy...\n  if (arguments.length >= 3) ctx.depth = arguments[2];\n  if (arguments.length >= 4) ctx.colors = arguments[3];\n  if (isBoolean(opts)) {\n    // legacy...\n    ctx.showHidden = opts;\n  } else if (opts) {\n    // got an \"options\" object\n    exports._extend(ctx, opts);\n  }\n  // set default options\n  if (isUndefined(ctx.showHidden)) ctx.showHidden = false;\n  if (isUndefined(ctx.depth)) ctx.depth = 2;\n  if (isUndefined(ctx.colors)) ctx.colors = false;\n  if (isUndefined(ctx.customInspect)) ctx.customInspect = true;\n  if (ctx.colors) ctx.stylize = stylizeWithColor;\n  return formatValue(ctx, obj, ctx.depth);\n}\nexports.inspect = inspect;\n\n\n// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics\ninspect.colors = {\n  'bold' : [1, 22],\n  'italic' : [3, 23],\n  'underline' : [4, 24],\n  'inverse' : [7, 27],\n  'white' : [37, 39],\n  'grey' : [90, 39],\n  'black' : [30, 39],\n  'blue' : [34, 39],\n  'cyan' : [36, 39],\n  'green' : [32, 39],\n  'magenta' : [35, 39],\n  'red' : [31, 39],\n  'yellow' : [33, 39]\n};\n\n// Don't use 'blue' not visible on cmd.exe\ninspect.styles = {\n  'special': 'cyan',\n  'number': 'yellow',\n  'boolean': 'yellow',\n  'undefined': 'grey',\n  'null': 'bold',\n  'string': 'green',\n  'date': 'magenta',\n  // \"name\": intentionally not styling\n  'regexp': 'red'\n};\n\n\nfunction stylizeWithColor(str, styleType) {\n  var style = inspect.styles[styleType];\n\n  if (style) {\n    return '\\u001b[' + inspect.colors[style][0] + 'm' + str +\n           '\\u001b[' + inspect.colors[style][1] + 'm';\n  } else {\n    return str;\n  }\n}\n\n\nfunction stylizeNoColor(str, styleType) {\n  return str;\n}\n\n\nfunction arrayToHash(array) {\n  var hash = {};\n\n  array.forEach(function(val, idx) {\n    hash[val] = true;\n  });\n\n  return hash;\n}\n\n\nfunction formatValue(ctx, value, recurseTimes) {\n  // Provide a hook for user-specified inspect functions.\n  // Check that value is an object with an inspect function on it\n  if (ctx.customInspect &&\n      value &&\n      isFunction(value.inspect) &&\n      // Filter out the util module, it's inspect function is special\n      value.inspect !== exports.inspect &&\n      // Also filter out any prototype objects using the circular check.\n      !(value.constructor && value.constructor.prototype === value)) {\n    var ret = value.inspect(recurseTimes, ctx);\n    if (!isString(ret)) {\n      ret = formatValue(ctx, ret, recurseTimes);\n    }\n    return ret;\n  }\n\n  // Primitive types cannot have properties\n  var primitive = formatPrimitive(ctx, value);\n  if (primitive) {\n    return primitive;\n  }\n\n  // Look up the keys of the object.\n  var keys = Object.keys(value);\n  var visibleKeys = arrayToHash(keys);\n\n  if (ctx.showHidden) {\n    keys = Object.getOwnPropertyNames(value);\n  }\n\n  // IE doesn't make error fields non-enumerable\n  // http://msdn.microsoft.com/en-us/library/ie/dww52sbt(v=vs.94).aspx\n  if (isError(value)\n      && (keys.indexOf('message') >= 0 || keys.indexOf('description') >= 0)) {\n    return formatError(value);\n  }\n\n  // Some type of object without properties can be shortcutted.\n  if (keys.length === 0) {\n    if (isFunction(value)) {\n      var name = value.name ? ': ' + value.name : '';\n      return ctx.stylize('[Function' + name + ']', 'special');\n    }\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    }\n    if (isDate(value)) {\n      return ctx.stylize(Date.prototype.toString.call(value), 'date');\n    }\n    if (isError(value)) {\n      return formatError(value);\n    }\n  }\n\n  var base = '', array = false, braces = ['{', '}'];\n\n  // Make Array say that they are Array\n  if (isArray(value)) {\n    array = true;\n    braces = ['[', ']'];\n  }\n\n  // Make functions say that they are functions\n  if (isFunction(value)) {\n    var n = value.name ? ': ' + value.name : '';\n    base = ' [Function' + n + ']';\n  }\n\n  // Make RegExps say that they are RegExps\n  if (isRegExp(value)) {\n    base = ' ' + RegExp.prototype.toString.call(value);\n  }\n\n  // Make dates with properties first say the date\n  if (isDate(value)) {\n    base = ' ' + Date.prototype.toUTCString.call(value);\n  }\n\n  // Make error with message first say the error\n  if (isError(value)) {\n    base = ' ' + formatError(value);\n  }\n\n  if (keys.length === 0 && (!array || value.length == 0)) {\n    return braces[0] + base + braces[1];\n  }\n\n  if (recurseTimes < 0) {\n    if (isRegExp(value)) {\n      return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');\n    } else {\n      return ctx.stylize('[Object]', 'special');\n    }\n  }\n\n  ctx.seen.push(value);\n\n  var output;\n  if (array) {\n    output = formatArray(ctx, value, recurseTimes, visibleKeys, keys);\n  } else {\n    output = keys.map(function(key) {\n      return formatProperty(ctx, value, recurseTimes, visibleKeys, key, array);\n    });\n  }\n\n  ctx.seen.pop();\n\n  return reduceToSingleString(output, base, braces);\n}\n\n\nfunction formatPrimitive(ctx, value) {\n  if (isUndefined(value))\n    return ctx.stylize('undefined', 'undefined');\n  if (isString(value)) {\n    var simple = '\\'' + JSON.stringify(value).replace(/^\"|\"$/g, '')\n                                             .replace(/'/g, \"\\\\'\")\n                                             .replace(/\\\\\"/g, '\"') + '\\'';\n    return ctx.stylize(simple, 'string');\n  }\n  if (isNumber(value))\n    return ctx.stylize('' + value, 'number');\n  if (isBoolean(value))\n    return ctx.stylize('' + value, 'boolean');\n  // For some reason typeof null is \"object\", so special case here.\n  if (isNull(value))\n    return ctx.stylize('null', 'null');\n}\n\n\nfunction formatError(value) {\n  return '[' + Error.prototype.toString.call(value) + ']';\n}\n\n\nfunction formatArray(ctx, value, recurseTimes, visibleKeys, keys) {\n  var output = [];\n  for (var i = 0, l = value.length; i < l; ++i) {\n    if (hasOwnProperty(value, String(i))) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          String(i), true));\n    } else {\n      output.push('');\n    }\n  }\n  keys.forEach(function(key) {\n    if (!key.match(/^\\d+$/)) {\n      output.push(formatProperty(ctx, value, recurseTimes, visibleKeys,\n          key, true));\n    }\n  });\n  return output;\n}\n\n\nfunction formatProperty(ctx, value, recurseTimes, visibleKeys, key, array) {\n  var name, str, desc;\n  desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };\n  if (desc.get) {\n    if (desc.set) {\n      str = ctx.stylize('[Getter/Setter]', 'special');\n    } else {\n      str = ctx.stylize('[Getter]', 'special');\n    }\n  } else {\n    if (desc.set) {\n      str = ctx.stylize('[Setter]', 'special');\n    }\n  }\n  if (!hasOwnProperty(visibleKeys, key)) {\n    name = '[' + key + ']';\n  }\n  if (!str) {\n    if (ctx.seen.indexOf(desc.value) < 0) {\n      if (isNull(recurseTimes)) {\n        str = formatValue(ctx, desc.value, null);\n      } else {\n        str = formatValue(ctx, desc.value, recurseTimes - 1);\n      }\n      if (str.indexOf('\\n') > -1) {\n        if (array) {\n          str = str.split('\\n').map(function(line) {\n            return '  ' + line;\n          }).join('\\n').substr(2);\n        } else {\n          str = '\\n' + str.split('\\n').map(function(line) {\n            return '   ' + line;\n          }).join('\\n');\n        }\n      }\n    } else {\n      str = ctx.stylize('[Circular]', 'special');\n    }\n  }\n  if (isUndefined(name)) {\n    if (array && key.match(/^\\d+$/)) {\n      return str;\n    }\n    name = JSON.stringify('' + key);\n    if (name.match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)) {\n      name = name.substr(1, name.length - 2);\n      name = ctx.stylize(name, 'name');\n    } else {\n      name = name.replace(/'/g, \"\\\\'\")\n                 .replace(/\\\\\"/g, '\"')\n                 .replace(/(^\"|\"$)/g, \"'\");\n      name = ctx.stylize(name, 'string');\n    }\n  }\n\n  return name + ': ' + str;\n}\n\n\nfunction reduceToSingleString(output, base, braces) {\n  var numLinesEst = 0;\n  var length = output.reduce(function(prev, cur) {\n    numLinesEst++;\n    if (cur.indexOf('\\n') >= 0) numLinesEst++;\n    return prev + cur.replace(/\\u001b\\[\\d\\d?m/g, '').length + 1;\n  }, 0);\n\n  if (length > 60) {\n    return braces[0] +\n           (base === '' ? '' : base + '\\n ') +\n           ' ' +\n           output.join(',\\n  ') +\n           ' ' +\n           braces[1];\n  }\n\n  return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];\n}\n\n\n// NOTE: These type checking functions intentionally don't use `instanceof`\n// because it is fragile and can be easily faked with `Object.create()`.\nfunction isArray(ar) {\n  return Array.isArray(ar);\n}\nexports.isArray = isArray;\n\nfunction isBoolean(arg) {\n  return typeof arg === 'boolean';\n}\nexports.isBoolean = isBoolean;\n\nfunction isNull(arg) {\n  return arg === null;\n}\nexports.isNull = isNull;\n\nfunction isNullOrUndefined(arg) {\n  return arg == null;\n}\nexports.isNullOrUndefined = isNullOrUndefined;\n\nfunction isNumber(arg) {\n  return typeof arg === 'number';\n}\nexports.isNumber = isNumber;\n\nfunction isString(arg) {\n  return typeof arg === 'string';\n}\nexports.isString = isString;\n\nfunction isSymbol(arg) {\n  return typeof arg === 'symbol';\n}\nexports.isSymbol = isSymbol;\n\nfunction isUndefined(arg) {\n  return arg === void 0;\n}\nexports.isUndefined = isUndefined;\n\nfunction isRegExp(re) {\n  return isObject(re) && objectToString(re) === '[object RegExp]';\n}\nexports.isRegExp = isRegExp;\n\nfunction isObject(arg) {\n  return typeof arg === 'object' && arg !== null;\n}\nexports.isObject = isObject;\n\nfunction isDate(d) {\n  return isObject(d) && objectToString(d) === '[object Date]';\n}\nexports.isDate = isDate;\n\nfunction isError(e) {\n  return isObject(e) &&\n      (objectToString(e) === '[object Error]' || e instanceof Error);\n}\nexports.isError = isError;\n\nfunction isFunction(arg) {\n  return typeof arg === 'function';\n}\nexports.isFunction = isFunction;\n\nfunction isPrimitive(arg) {\n  return arg === null ||\n         typeof arg === 'boolean' ||\n         typeof arg === 'number' ||\n         typeof arg === 'string' ||\n         typeof arg === 'symbol' ||  // ES6 symbol\n         typeof arg === 'undefined';\n}\nexports.isPrimitive = isPrimitive;\n\nexports.isBuffer = require('./support/isBuffer');\n\nfunction objectToString(o) {\n  return Object.prototype.toString.call(o);\n}\n\n\nfunction pad(n) {\n  return n < 10 ? '0' + n.toString(10) : n.toString(10);\n}\n\n\nvar months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep',\n              'Oct', 'Nov', 'Dec'];\n\n// 26 Feb 16:19:34\nfunction timestamp() {\n  var d = new Date();\n  var time = [pad(d.getHours()),\n              pad(d.getMinutes()),\n              pad(d.getSeconds())].join(':');\n  return [d.getDate(), months[d.getMonth()], time].join(' ');\n}\n\n\n// log is just a thin wrapper to console.log that prepends a timestamp\nexports.log = function() {\n  console.log('%s - %s', timestamp(), exports.format.apply(exports, arguments));\n};\n\n\n/**\n * Inherit the prototype methods from one constructor into another.\n *\n * The Function.prototype.inherits from lang.js rewritten as a standalone\n * function (not on Function.prototype). NOTE: If this file is to be loaded\n * during bootstrapping this function needs to be rewritten using some native\n * functions as prototype setup using normal JavaScript does not work as\n * expected during bootstrapping (see mirror.js in r114903).\n *\n * @param {function} ctor Constructor function which needs to inherit the\n *     prototype.\n * @param {function} superCtor Constructor function to inherit prototype from.\n */\nexports.inherits = require('inherits');\n\nexports._extend = function(origin, add) {\n  // Don't do anything if add isn't an object\n  if (!add || !isObject(add)) return origin;\n\n  var keys = Object.keys(add);\n  var i = keys.length;\n  while (i--) {\n    origin[keys[i]] = add[keys[i]];\n  }\n  return origin;\n};\n\nfunction hasOwnProperty(obj, prop) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","module.exports = function isBuffer(arg) {\n  return arg && typeof arg === 'object'\n    && typeof arg.copy === 'function'\n    && typeof arg.fill === 'function'\n    && typeof arg.readUInt8 === 'function';\n}","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    ctor.super_ = superCtor\n    var TempCtor = function () {}\n    TempCtor.prototype = superCtor.prototype\n    ctor.prototype = new TempCtor()\n    ctor.prototype.constructor = ctor\n  }\n}\n","\"use strict\"\n\nfunction iota(n) {\n  var result = new Array(n)\n  for(var i=0; i<n; ++i) {\n    result[i] = i\n  }\n  return result\n}\n\nmodule.exports = iota","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","\"use strict\"\n\nvar ndarray = require(\"ndarray\")\nvar ops = require(\"ndarray-ops\")\nvar pool = require(\"typedarray-pool\")\n\nfunction clone(array) {\n  var dtype = array.dtype\n  if(dtype === \"generic\" || dtype === \"array\") {\n    dtype = \"double\"\n  }\n  var data = pool.malloc(array.size, dtype)\n  var result = ndarray(data, array.shape)\n  ops.assign(result, array)\n  return result\n}\nexports.clone = clone\n\nfunction malloc(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  return ndarray(pool.malloc(sz, dtype), shape, stride, 0)\n}\nexports.malloc = malloc\n\nfunction free(array) {\n  pool.free(array.data)\n}\nexports.free = free","\"use strict\"\n\nvar createThunk = require(\"./lib/thunk.js\")\n\nfunction Procedure() {\n  this.argTypes = []\n  this.shimArgs = []\n  this.arrayArgs = []\n  this.arrayBlockIndices = []\n  this.scalarArgs = []\n  this.offsetArgs = []\n  this.offsetArgIndex = []\n  this.indexArgs = []\n  this.shapeArgs = []\n  this.funcName = \"\"\n  this.pre = null\n  this.body = null\n  this.post = null\n  this.debug = false\n}\n\nfunction compileCwise(user_args) {\n  //Create procedure\n  var proc = new Procedure()\n  \n  //Parse blocks\n  proc.pre    = user_args.pre\n  proc.body   = user_args.body\n  proc.post   = user_args.post\n\n  //Parse arguments\n  var proc_args = user_args.args.slice(0)\n  proc.argTypes = proc_args\n  for(var i=0; i<proc_args.length; ++i) {\n    var arg_type = proc_args[i]\n    if(arg_type === \"array\" || (typeof arg_type === \"object\" && arg_type.blockIndices)) {\n      proc.argTypes[i] = \"array\"\n      proc.arrayArgs.push(i)\n      proc.arrayBlockIndices.push(arg_type.blockIndices ? arg_type.blockIndices : 0)\n      proc.shimArgs.push(\"array\" + i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count>0) {\n        throw new Error(\"cwise: pre() block may not reference array args\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count>0) {\n        throw new Error(\"cwise: post() block may not reference array args\")\n      }\n    } else if(arg_type === \"scalar\") {\n      proc.scalarArgs.push(i)\n      proc.shimArgs.push(\"scalar\" + i)\n    } else if(arg_type === \"index\") {\n      proc.indexArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].count > 0) {\n        throw new Error(\"cwise: pre() block may not reference array index\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array index\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].count > 0) {\n        throw new Error(\"cwise: post() block may not reference array index\")\n      }\n    } else if(arg_type === \"shape\") {\n      proc.shapeArgs.push(i)\n      if(i < proc.pre.args.length && proc.pre.args[i].lvalue) {\n        throw new Error(\"cwise: pre() block may not write to array shape\")\n      }\n      if(i < proc.body.args.length && proc.body.args[i].lvalue) {\n        throw new Error(\"cwise: body() block may not write to array shape\")\n      }\n      if(i < proc.post.args.length && proc.post.args[i].lvalue) {\n        throw new Error(\"cwise: post() block may not write to array shape\")\n      }\n    } else if(typeof arg_type === \"object\" && arg_type.offset) {\n      proc.argTypes[i] = \"offset\"\n      proc.offsetArgs.push({ array: arg_type.array, offset:arg_type.offset })\n      proc.offsetArgIndex.push(i)\n    } else {\n      throw new Error(\"cwise: Unknown argument type \" + proc_args[i])\n    }\n  }\n  \n  //Make sure at least one array argument was specified\n  if(proc.arrayArgs.length <= 0) {\n    throw new Error(\"cwise: No array arguments specified\")\n  }\n  \n  //Make sure arguments are correct\n  if(proc.pre.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in pre() block\")\n  }\n  if(proc.body.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in body() block\")\n  }\n  if(proc.post.args.length > proc_args.length) {\n    throw new Error(\"cwise: Too many arguments in post() block\")\n  }\n\n  //Check debug flag\n  proc.debug = !!user_args.printCode || !!user_args.debug\n  \n  //Retrieve name\n  proc.funcName = user_args.funcName || \"cwise\"\n  \n  //Read in block size\n  proc.blockSize = user_args.blockSize || 64\n\n  return createThunk(proc)\n}\n\nmodule.exports = compileCwise\n","\"use strict\"\n\n// The function below is called when constructing a cwise function object, and does the following:\n// A function object is constructed which accepts as argument a compilation function and returns another function.\n// It is this other function that is eventually returned by createThunk, and this function is the one that actually\n// checks whether a certain pattern of arguments has already been used before and compiles new loops as needed.\n// The compilation passed to the first function object is used for compiling new functions.\n// Once this function object is created, it is called with compile as argument, where the first argument of compile\n// is bound to \"proc\" (essentially containing a preprocessed version of the user arguments to cwise).\n// So createThunk roughly works like this:\n// function createThunk(proc) {\n//   var thunk = function(compileBound) {\n//     var CACHED = {}\n//     return function(arrays and scalars) {\n//       if (dtype and order of arrays in CACHED) {\n//         var func = CACHED[dtype and order of arrays]\n//       } else {\n//         var func = CACHED[dtype and order of arrays] = compileBound(dtype and order of arrays)\n//       }\n//       return func(arrays and scalars)\n//     }\n//   }\n//   return thunk(compile.bind1(proc))\n// }\n\nvar compile = require(\"./compile.js\")\n\nfunction createThunk(proc) {\n  var code = [\"'use strict'\", \"var CACHED={}\"]\n  var vars = []\n  var thunkName = proc.funcName + \"_cwise_thunk\"\n  \n  //Build thunk\n  code.push([\"return function \", thunkName, \"(\", proc.shimArgs.join(\",\"), \"){\"].join(\"\"))\n  var typesig = []\n  var string_typesig = []\n  var proc_args = [[\"array\",proc.arrayArgs[0],\".shape.slice(\", // Slice shape so that we only retain the shape over which we iterate (which gets passed to the cwise operator as SS).\n                    Math.max(0,proc.arrayBlockIndices[0]),proc.arrayBlockIndices[0]<0?(\",\"+proc.arrayBlockIndices[0]+\")\"):\")\"].join(\"\")]\n  var shapeLengthConditions = [], shapeConditions = []\n  // Process array arguments\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    var j = proc.arrayArgs[i]\n    vars.push([\"t\", j, \"=array\", j, \".dtype,\",\n               \"r\", j, \"=array\", j, \".order\"].join(\"\"))\n    typesig.push(\"t\" + j)\n    typesig.push(\"r\" + j)\n    string_typesig.push(\"t\"+j)\n    string_typesig.push(\"r\"+j+\".join()\")\n    proc_args.push(\"array\" + j + \".data\")\n    proc_args.push(\"array\" + j + \".stride\")\n    proc_args.push(\"array\" + j + \".offset|0\")\n    if (i>0) { // Gather conditions to check for shape equality (ignoring block indices)\n      shapeLengthConditions.push(\"array\" + proc.arrayArgs[0] + \".shape.length===array\" + j + \".shape.length+\" + (Math.abs(proc.arrayBlockIndices[0])-Math.abs(proc.arrayBlockIndices[i])))\n      shapeConditions.push(\"array\" + proc.arrayArgs[0] + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[0]) + \"]===array\" + j + \".shape[shapeIndex+\" + Math.max(0,proc.arrayBlockIndices[i]) + \"]\")\n    }\n  }\n  // Check for shape equality\n  if (proc.arrayArgs.length > 1) {\n    code.push(\"if (!(\" + shapeLengthConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same dimensionality!')\")\n    code.push(\"for(var shapeIndex=array\" + proc.arrayArgs[0] + \".shape.length-\" + Math.abs(proc.arrayBlockIndices[0]) + \"; shapeIndex-->0;) {\")\n    code.push(\"if (!(\" + shapeConditions.join(\" && \") + \")) throw new Error('cwise: Arrays do not all have the same shape!')\")\n    code.push(\"}\")\n  }\n  // Process scalar arguments\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    proc_args.push(\"scalar\" + proc.scalarArgs[i])\n  }\n  // Check for cached function (and if not present, generate it)\n  vars.push([\"type=[\", string_typesig.join(\",\"), \"].join()\"].join(\"\"))\n  vars.push(\"proc=CACHED[type]\")\n  code.push(\"var \" + vars.join(\",\"))\n  \n  code.push([\"if(!proc){\",\n             \"CACHED[type]=proc=compile([\", typesig.join(\",\"), \"])}\",\n             \"return proc(\", proc_args.join(\",\"), \")}\"].join(\"\"))\n\n  if(proc.debug) {\n    console.log(\"-----Generated thunk:\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  //Compile thunk\n  var thunk = new Function(\"compile\", code.join(\"\\n\"))\n  return thunk(compile.bind(undefined, proc))\n}\n\nmodule.exports = createThunk\n","\"use strict\"\n\nvar uniq = require(\"uniq\")\n\n// This function generates very simple loops analogous to how you typically traverse arrays (the outermost loop corresponds to the slowest changing index, the innermost loop to the fastest changing index)\n// TODO: If two arrays have the same strides (and offsets) there is potential for decreasing the number of \"pointers\" and related variables. The drawback is that the type signature would become more specific and that there would thus be less potential for caching, but it might still be worth it, especially when dealing with large numbers of arguments.\nfunction innerFill(order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , has_index = proc.indexArgs.length>0\n    , code = []\n    , vars = []\n    , idx=0, pidx=0, i, j\n  for(i=0; i<dimension; ++i) { // Iteration variables\n    vars.push([\"i\",i,\"=0\"].join(\"\"))\n  }\n  //Compute scan deltas\n  for(j=0; j<nargs; ++j) {\n    for(i=0; i<dimension; ++i) {\n      pidx = idx\n      idx = order[i]\n      if(i === 0) { // The innermost/fastest dimension's delta is simply its stride\n        vars.push([\"d\",j,\"s\",i,\"=t\",j,\"p\",idx].join(\"\"))\n      } else { // For other dimensions the delta is basically the stride minus something which essentially \"rewinds\" the previous (more inner) dimension\n        vars.push([\"d\",j,\"s\",i,\"=(t\",j,\"p\",idx,\"-s\",pidx,\"*t\",j,\"p\",pidx,\")\"].join(\"\"))\n      }\n    }\n  }\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }  \n  //Scan loop\n  for(i=dimension-1; i>=0; --i) { // Start at largest stride and work your way inwards\n    idx = order[i]\n    code.push([\"for(i\",i,\"=0;i\",i,\"<s\",idx,\";++i\",i,\"){\"].join(\"\"))\n  }\n  //Push body of inner loop\n  code.push(body)\n  //Advance scan pointers\n  for(i=0; i<dimension; ++i) {\n    pidx = idx\n    idx = order[i]\n    for(j=0; j<nargs; ++j) {\n      code.push([\"p\",j,\"+=d\",j,\"s\",i].join(\"\"))\n    }\n    if(has_index) {\n      if(i > 0) {\n        code.push([\"index[\",pidx,\"]-=s\",pidx].join(\"\"))\n      }\n      code.push([\"++index[\",idx,\"]\"].join(\"\"))\n    }\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n// Generate \"outer\" loops that loop over blocks of data, applying \"inner\" loops to the blocks by manipulating the local variables in such a way that the inner loop only \"sees\" the current block.\n// TODO: If this is used, then the previous declaration (done by generateCwiseOp) of s* is essentially unnecessary.\n//       I believe the s* are not used elsewhere (in particular, I don't think they're used in the pre/post parts and \"shape\" is defined independently), so it would be possible to make defining the s* dependent on what loop method is being used.\nfunction outerFill(matched, order, proc, body) {\n  var dimension = order.length\n    , nargs = proc.arrayArgs.length\n    , blockSize = proc.blockSize\n    , has_index = proc.indexArgs.length > 0\n    , code = []\n  for(var i=0; i<nargs; ++i) {\n    code.push([\"var offset\",i,\"=p\",i].join(\"\"))\n  }\n  //Generate loops for unmatched dimensions\n  // The order in which these dimensions are traversed is fairly arbitrary (from small stride to large stride, for the first argument)\n  // TODO: It would be nice if the order in which these loops are placed would also be somehow \"optimal\" (at the very least we should check that it really doesn't hurt us if they're not).\n  for(var i=matched; i<dimension; ++i) {\n    code.push([\"for(var j\"+i+\"=SS[\", order[i], \"]|0;j\", i, \">0;){\"].join(\"\")) // Iterate back to front\n    code.push([\"if(j\",i,\"<\",blockSize,\"){\"].join(\"\")) // Either decrease j by blockSize (s = blockSize), or set it to zero (after setting s = j).\n    code.push([\"s\",order[i],\"=j\",i].join(\"\"))\n    code.push([\"j\",i,\"=0\"].join(\"\"))\n    code.push([\"}else{s\",order[i],\"=\",blockSize].join(\"\"))\n    code.push([\"j\",i,\"-=\",blockSize,\"}\"].join(\"\"))\n    if(has_index) {\n      code.push([\"index[\",order[i],\"]=j\",i].join(\"\"))\n    }\n  }\n  for(var i=0; i<nargs; ++i) {\n    var indexStr = [\"offset\"+i]\n    for(var j=matched; j<dimension; ++j) {\n      indexStr.push([\"j\",j,\"*t\",i,\"p\",order[j]].join(\"\"))\n    }\n    code.push([\"p\",i,\"=(\",indexStr.join(\"+\"),\")\"].join(\"\"))\n  }\n  code.push(innerFill(order, proc, body))\n  for(var i=matched; i<dimension; ++i) {\n    code.push(\"}\")\n  }\n  return code.join(\"\\n\")\n}\n\n//Count the number of compatible inner orders\n// This is the length of the longest common prefix of the arrays in orders.\n// Each array in orders lists the dimensions of the correspond ndarray in order of increasing stride.\n// This is thus the maximum number of dimensions that can be efficiently traversed by simple nested loops for all arrays.\nfunction countMatches(orders) {\n  var matched = 0, dimension = orders[0].length\n  while(matched < dimension) {\n    for(var j=1; j<orders.length; ++j) {\n      if(orders[j][matched] !== orders[0][matched]) {\n        return matched\n      }\n    }\n    ++matched\n  }\n  return matched\n}\n\n//Processes a block according to the given data types\n// Replaces variable names by different ones, either \"local\" ones (that are then ferried in and out of the given array) or ones matching the arguments that the function performing the ultimate loop will accept.\nfunction processBlock(block, proc, dtypes) {\n  var code = block.body\n  var pre = []\n  var post = []\n  for(var i=0; i<block.args.length; ++i) {\n    var carg = block.args[i]\n    if(carg.count <= 0) {\n      continue\n    }\n    var re = new RegExp(carg.name, \"g\")\n    var ptrStr = \"\"\n    var arrNum = proc.arrayArgs.indexOf(i)\n    switch(proc.argTypes[i]) {\n      case \"offset\":\n        var offArgIndex = proc.offsetArgIndex.indexOf(i)\n        var offArg = proc.offsetArgs[offArgIndex]\n        arrNum = offArg.array\n        ptrStr = \"+q\" + offArgIndex // Adds offset to the \"pointer\" in the array\n      case \"array\":\n        ptrStr = \"p\" + arrNum + ptrStr\n        var localStr = \"l\" + i\n        var arrStr = \"a\" + arrNum\n        if (proc.arrayBlockIndices[arrNum] === 0) { // Argument to body is just a single value from this array\n          if(carg.count === 1) { // Argument/array used only once(?)\n            if(dtypes[arrNum] === \"generic\") {\n              if(carg.lvalue) {\n                pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n                code = code.replace(re, localStr)\n                post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n              } else {\n                code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n              }\n            } else {\n              code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n            }\n          } else if(dtypes[arrNum] === \"generic\") {\n            pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            }\n          } else {\n            pre.push([\"var \", localStr, \"=\", arrStr, \"[\", ptrStr, \"]\"].join(\"\")) // TODO: Could we optimize by checking for carg.rvalue?\n            code = code.replace(re, localStr)\n            if(carg.lvalue) {\n              post.push([arrStr, \"[\", ptrStr, \"]=\", localStr].join(\"\"))\n            }\n          }\n        } else { // Argument to body is a \"block\"\n          var reStrArr = [carg.name], ptrStrArr = [ptrStr]\n          for(var j=0; j<Math.abs(proc.arrayBlockIndices[arrNum]); j++) {\n            reStrArr.push(\"\\\\s*\\\\[([^\\\\]]+)\\\\]\")\n            ptrStrArr.push(\"$\" + (j+1) + \"*t\" + arrNum + \"b\" + j) // Matched index times stride\n          }\n          re = new RegExp(reStrArr.join(\"\"), \"g\")\n          ptrStr = ptrStrArr.join(\"+\")\n          if(dtypes[arrNum] === \"generic\") {\n            /*if(carg.lvalue) {\n              pre.push([\"var \", localStr, \"=\", arrStr, \".get(\", ptrStr, \")\"].join(\"\")) // Is this necessary if the argument is ONLY used as an lvalue? (keep in mind that we can have a += something, so we would actually need to check carg.rvalue)\n              code = code.replace(re, localStr)\n              post.push([arrStr, \".set(\", ptrStr, \",\", localStr,\")\"].join(\"\"))\n            } else {\n              code = code.replace(re, [arrStr, \".get(\", ptrStr, \")\"].join(\"\"))\n            }*/\n            throw new Error(\"cwise: Generic arrays not supported in combination with blocks!\")\n          } else {\n            // This does not produce any local variables, even if variables are used multiple times. It would be possible to do so, but it would complicate things quite a bit.\n            code = code.replace(re, [arrStr, \"[\", ptrStr, \"]\"].join(\"\"))\n          }\n        }\n      break\n      case \"scalar\":\n        code = code.replace(re, \"Y\" + proc.scalarArgs.indexOf(i))\n      break\n      case \"index\":\n        code = code.replace(re, \"index\")\n      break\n      case \"shape\":\n        code = code.replace(re, \"shape\")\n      break\n    }\n  }\n  return [pre.join(\"\\n\"), code, post.join(\"\\n\")].join(\"\\n\").trim()\n}\n\nfunction typeSummary(dtypes) {\n  var summary = new Array(dtypes.length)\n  var allEqual = true\n  for(var i=0; i<dtypes.length; ++i) {\n    var t = dtypes[i]\n    var digits = t.match(/\\d+/)\n    if(!digits) {\n      digits = \"\"\n    } else {\n      digits = digits[0]\n    }\n    if(t.charAt(0) === 0) {\n      summary[i] = \"u\" + t.charAt(1) + digits\n    } else {\n      summary[i] = t.charAt(0) + digits\n    }\n    if(i > 0) {\n      allEqual = allEqual && summary[i] === summary[i-1]\n    }\n  }\n  if(allEqual) {\n    return summary[0]\n  }\n  return summary.join(\"\")\n}\n\n//Generates a cwise operator\nfunction generateCWiseOp(proc, typesig) {\n\n  //Compute dimension\n  // Arrays get put first in typesig, and there are two entries per array (dtype and order), so this gets the number of dimensions in the first array arg.\n  var dimension = (typesig[1].length - Math.abs(proc.arrayBlockIndices[0]))|0\n  var orders = new Array(proc.arrayArgs.length)\n  var dtypes = new Array(proc.arrayArgs.length)\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    dtypes[i] = typesig[2*i]\n    orders[i] = typesig[2*i+1]\n  }\n  \n  //Determine where block and loop indices start and end\n  var blockBegin = [], blockEnd = [] // These indices are exposed as blocks\n  var loopBegin = [], loopEnd = [] // These indices are iterated over\n  var loopOrders = [] // orders restricted to the loop indices\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    if (proc.arrayBlockIndices[i]<0) {\n      loopBegin.push(0)\n      loopEnd.push(dimension)\n      blockBegin.push(dimension)\n      blockEnd.push(dimension+proc.arrayBlockIndices[i])\n    } else {\n      loopBegin.push(proc.arrayBlockIndices[i]) // Non-negative\n      loopEnd.push(proc.arrayBlockIndices[i]+dimension)\n      blockBegin.push(0)\n      blockEnd.push(proc.arrayBlockIndices[i])\n    }\n    var newOrder = []\n    for(var j=0; j<orders[i].length; j++) {\n      if (loopBegin[i]<=orders[i][j] && orders[i][j]<loopEnd[i]) {\n        newOrder.push(orders[i][j]-loopBegin[i]) // If this is a loop index, put it in newOrder, subtracting loopBegin, to make sure that all loopOrders are using a common set of indices.\n      }\n    }\n    loopOrders.push(newOrder)\n  }\n\n  //First create arguments for procedure\n  var arglist = [\"SS\"] // SS is the overall shape over which we iterate\n  var code = [\"'use strict'\"]\n  var vars = []\n  \n  for(var j=0; j<dimension; ++j) {\n    vars.push([\"s\", j, \"=SS[\", j, \"]\"].join(\"\")) // The limits for each dimension.\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    arglist.push(\"a\"+i) // Actual data array\n    arglist.push(\"t\"+i) // Strides\n    arglist.push(\"p\"+i) // Offset in the array at which the data starts (also used for iterating over the data)\n    \n    for(var j=0; j<dimension; ++j) { // Unpack the strides into vars for looping\n      vars.push([\"t\",i,\"p\",j,\"=t\",i,\"[\",loopBegin[i]+j,\"]\"].join(\"\"))\n    }\n    \n    for(var j=0; j<Math.abs(proc.arrayBlockIndices[i]); ++j) { // Unpack the strides into vars for block iteration\n      vars.push([\"t\",i,\"b\",j,\"=t\",i,\"[\",blockBegin[i]+j,\"]\"].join(\"\"))\n    }\n  }\n  for(var i=0; i<proc.scalarArgs.length; ++i) {\n    arglist.push(\"Y\" + i)\n  }\n  if(proc.shapeArgs.length > 0) {\n    vars.push(\"shape=SS.slice(0)\") // Makes the shape over which we iterate available to the user defined functions (so you can use width/height for example)\n  }\n  if(proc.indexArgs.length > 0) {\n    // Prepare an array to keep track of the (logical) indices, initialized to dimension zeroes.\n    var zeros = new Array(dimension)\n    for(var i=0; i<dimension; ++i) {\n      zeros[i] = \"0\"\n    }\n    vars.push([\"index=[\", zeros.join(\",\"), \"]\"].join(\"\"))\n  }\n  for(var i=0; i<proc.offsetArgs.length; ++i) { // Offset arguments used for stencil operations\n    var off_arg = proc.offsetArgs[i]\n    var init_string = []\n    for(var j=0; j<off_arg.offset.length; ++j) {\n      if(off_arg.offset[j] === 0) {\n        continue\n      } else if(off_arg.offset[j] === 1) {\n        init_string.push([\"t\", off_arg.array, \"p\", j].join(\"\"))      \n      } else {\n        init_string.push([off_arg.offset[j], \"*t\", off_arg.array, \"p\", j].join(\"\"))\n      }\n    }\n    if(init_string.length === 0) {\n      vars.push(\"q\" + i + \"=0\")\n    } else {\n      vars.push([\"q\", i, \"=\", init_string.join(\"+\")].join(\"\"))\n    }\n  }\n\n  //Prepare this variables\n  var thisVars = uniq([].concat(proc.pre.thisVars)\n                      .concat(proc.body.thisVars)\n                      .concat(proc.post.thisVars))\n  vars = vars.concat(thisVars)\n  if (vars.length > 0) {\n    code.push(\"var \" + vars.join(\",\"))\n  }\n  for(var i=0; i<proc.arrayArgs.length; ++i) {\n    code.push(\"p\"+i+\"|=0\")\n  }\n  \n  //Inline prelude\n  if(proc.pre.body.length > 3) {\n    code.push(processBlock(proc.pre, proc, dtypes))\n  }\n\n  //Process body\n  var body = processBlock(proc.body, proc, dtypes)\n  var matched = countMatches(loopOrders)\n  if(matched < dimension) {\n    code.push(outerFill(matched, loopOrders[0], proc, body)) // TODO: Rather than passing loopOrders[0], it might be interesting to look at passing an order that represents the majority of the arguments for example.\n  } else {\n    code.push(innerFill(loopOrders[0], proc, body))\n  }\n\n  //Inline epilog\n  if(proc.post.body.length > 3) {\n    code.push(processBlock(proc.post, proc, dtypes))\n  }\n  \n  if(proc.debug) {\n    console.log(\"-----Generated cwise routine for \", typesig, \":\\n\" + code.join(\"\\n\") + \"\\n----------\")\n  }\n  \n  var loopName = [(proc.funcName||\"unnamed\"), \"_cwise_loop_\", orders[0].join(\"s\"),\"m\",matched,typeSummary(dtypes)].join(\"\")\n  var f = new Function([\"function \",loopName,\"(\", arglist.join(\",\"),\"){\", code.join(\"\\n\"),\"} return \", loopName].join(\"\"))\n  return f()\n}\nmodule.exports = generateCWiseOp\n","\"use strict\"\n\nfunction unique_pred(list, compare) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b=list[0]\n  for(var i=1; i<len; ++i) {\n    b = a\n    a = list[i]\n    if(compare(a, b)) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique_eq(list) {\n  var ptr = 1\n    , len = list.length\n    , a=list[0], b = list[0]\n  for(var i=1; i<len; ++i, b=a) {\n    b = a\n    a = list[i]\n    if(a !== b) {\n      if(i === ptr) {\n        ptr++\n        continue\n      }\n      list[ptr++] = a\n    }\n  }\n  list.length = ptr\n  return list\n}\n\nfunction unique(list, compare, sorted) {\n  if(list.length === 0) {\n    return list\n  }\n  if(compare) {\n    if(!sorted) {\n      list.sort(compare)\n    }\n    return unique_pred(list, compare)\n  }\n  if(!sorted) {\n    list.sort()\n  }\n  return unique_eq(list)\n}\n\nmodule.exports = unique\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n'use strict'\n\nvar base64 = require('base64-js')\nvar ieee754 = require('ieee754')\nvar isArray = require('isarray')\n\nexports.Buffer = Buffer\nexports.SlowBuffer = SlowBuffer\nexports.INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : typedArraySupport()\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nexports.kMaxLength = kMaxLength()\n\nfunction typedArraySupport () {\n  try {\n    var arr = new Uint8Array(1)\n    arr.__proto__ = {__proto__: Uint8Array.prototype, foo: function () { return 42 }}\n    return arr.foo() === 42 && // typed array instances can be augmented\n        typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n        arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  } catch (e) {\n    return false\n  }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nfunction Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    Object.defineProperty(Buffer, Symbol.species, {\n      value: null,\n      configurable: true\n    })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (Buffer.isBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nfunction SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\n\nBuffer.isBuffer = function isBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!Buffer.isBuffer(a) || !Buffer.isBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!Buffer.isBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (Buffer.isBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!Buffer.isBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = exports.INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!Buffer.isBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (Buffer.isBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!Buffer.isBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = Buffer.isBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n","'use strict'\n\nexports.byteLength = byteLength\nexports.toByteArray = toByteArray\nexports.fromByteArray = fromByteArray\n\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\n\nvar code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\nfor (var i = 0, len = code.length; i < len; ++i) {\n  lookup[i] = code[i]\n  revLookup[code.charCodeAt(i)] = i\n}\n\n// Support decoding URL-safe base64 strings, as Node.js does.\n// See: https://en.wikipedia.org/wiki/Base64#URL_applications\nrevLookup['-'.charCodeAt(0)] = 62\nrevLookup['_'.charCodeAt(0)] = 63\n\nfunction getLens (b64) {\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // Trim off extra bytes after placeholder bytes are found\n  // See: https://github.com/beatgammit/base64-js/issues/42\n  var validLen = b64.indexOf('=')\n  if (validLen === -1) validLen = len\n\n  var placeHoldersLen = validLen === len\n    ? 0\n    : 4 - (validLen % 4)\n\n  return [validLen, placeHoldersLen]\n}\n\n// base64 is 4/3 + up to two characters of the original data\nfunction byteLength (b64) {\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction _byteLength (b64, validLen, placeHoldersLen) {\n  return ((validLen + placeHoldersLen) * 3 / 4) - placeHoldersLen\n}\n\nfunction toByteArray (b64) {\n  var tmp\n  var lens = getLens(b64)\n  var validLen = lens[0]\n  var placeHoldersLen = lens[1]\n\n  var arr = new Arr(_byteLength(b64, validLen, placeHoldersLen))\n\n  var curByte = 0\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  var len = placeHoldersLen > 0\n    ? validLen - 4\n    : validLen\n\n  for (var i = 0; i < len; i += 4) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 18) |\n      (revLookup[b64.charCodeAt(i + 1)] << 12) |\n      (revLookup[b64.charCodeAt(i + 2)] << 6) |\n      revLookup[b64.charCodeAt(i + 3)]\n    arr[curByte++] = (tmp >> 16) & 0xFF\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 2) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 2) |\n      (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  if (placeHoldersLen === 1) {\n    tmp =\n      (revLookup[b64.charCodeAt(i)] << 10) |\n      (revLookup[b64.charCodeAt(i + 1)] << 4) |\n      (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[curByte++] = (tmp >> 8) & 0xFF\n    arr[curByte++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] +\n    lookup[num >> 12 & 0x3F] +\n    lookup[num >> 6 & 0x3F] +\n    lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp =\n      ((uint8[i] << 16) & 0xFF0000) +\n      ((uint8[i + 1] << 8) & 0xFF00) +\n      (uint8[i + 2] & 0xFF)\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nfunction fromByteArray (uint8) {\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(\n      uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)\n    ))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 2] +\n      lookup[(tmp << 4) & 0x3F] +\n      '=='\n    )\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + uint8[len - 1]\n    parts.push(\n      lookup[tmp >> 10] +\n      lookup[(tmp >> 4) & 0x3F] +\n      lookup[(tmp << 2) & 0x3F] +\n      '='\n    )\n  }\n\n  return parts.join('')\n}\n","exports.read = function (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = (e * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = (m * 256) + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexports.write = function (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = (nBytes * 8) - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = ((value * c) - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nmodule.exports = Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/**\n * Bit twiddling hacks for JavaScript.\n *\n * Author: Mikola Lysenko\n *\n * Ported from Stanford bit twiddling hack library:\n *    http://graphics.stanford.edu/~seander/bithacks.html\n */\n\n\"use strict\"; \"use restrict\";\n\n//Number of bits in an integer\nvar INT_BITS = 32;\n\n//Constants\nexports.INT_BITS  = INT_BITS;\nexports.INT_MAX   =  0x7fffffff;\nexports.INT_MIN   = -1<<(INT_BITS-1);\n\n//Returns -1, 0, +1 depending on sign of x\nexports.sign = function(v) {\n  return (v > 0) - (v < 0);\n}\n\n//Computes absolute value of integer\nexports.abs = function(v) {\n  var mask = v >> (INT_BITS-1);\n  return (v ^ mask) - mask;\n}\n\n//Computes minimum of integers x and y\nexports.min = function(x, y) {\n  return y ^ ((x ^ y) & -(x < y));\n}\n\n//Computes maximum of integers x and y\nexports.max = function(x, y) {\n  return x ^ ((x ^ y) & -(x < y));\n}\n\n//Checks if a number is a power of two\nexports.isPow2 = function(v) {\n  return !(v & (v-1)) && (!!v);\n}\n\n//Computes log base 2 of v\nexports.log2 = function(v) {\n  var r, shift;\n  r =     (v > 0xFFFF) << 4; v >>>= r;\n  shift = (v > 0xFF  ) << 3; v >>>= shift; r |= shift;\n  shift = (v > 0xF   ) << 2; v >>>= shift; r |= shift;\n  shift = (v > 0x3   ) << 1; v >>>= shift; r |= shift;\n  return r | (v >> 1);\n}\n\n//Computes log base 10 of v\nexports.log10 = function(v) {\n  return  (v >= 1000000000) ? 9 : (v >= 100000000) ? 8 : (v >= 10000000) ? 7 :\n          (v >= 1000000) ? 6 : (v >= 100000) ? 5 : (v >= 10000) ? 4 :\n          (v >= 1000) ? 3 : (v >= 100) ? 2 : (v >= 10) ? 1 : 0;\n}\n\n//Counts number of bits\nexports.popCount = function(v) {\n  v = v - ((v >>> 1) & 0x55555555);\n  v = (v & 0x33333333) + ((v >>> 2) & 0x33333333);\n  return ((v + (v >>> 4) & 0xF0F0F0F) * 0x1010101) >>> 24;\n}\n\n//Counts number of trailing zeros\nfunction countTrailingZeros(v) {\n  var c = 32;\n  v &= -v;\n  if (v) c--;\n  if (v & 0x0000FFFF) c -= 16;\n  if (v & 0x00FF00FF) c -= 8;\n  if (v & 0x0F0F0F0F) c -= 4;\n  if (v & 0x33333333) c -= 2;\n  if (v & 0x55555555) c -= 1;\n  return c;\n}\nexports.countTrailingZeros = countTrailingZeros;\n\n//Rounds to next power of 2\nexports.nextPow2 = function(v) {\n  v += v === 0;\n  --v;\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v + 1;\n}\n\n//Rounds down to previous power of 2\nexports.prevPow2 = function(v) {\n  v |= v >>> 1;\n  v |= v >>> 2;\n  v |= v >>> 4;\n  v |= v >>> 8;\n  v |= v >>> 16;\n  return v - (v>>>1);\n}\n\n//Computes parity of word\nexports.parity = function(v) {\n  v ^= v >>> 16;\n  v ^= v >>> 8;\n  v ^= v >>> 4;\n  v &= 0xf;\n  return (0x6996 >>> v) & 1;\n}\n\nvar REVERSE_TABLE = new Array(256);\n\n(function(tab) {\n  for(var i=0; i<256; ++i) {\n    var v = i, r = i, s = 7;\n    for (v >>>= 1; v; v >>>= 1) {\n      r <<= 1;\n      r |= v & 1;\n      --s;\n    }\n    tab[i] = (r << s) & 0xff;\n  }\n})(REVERSE_TABLE);\n\n//Reverse bits in a 32 bit word\nexports.reverse = function(v) {\n  return  (REVERSE_TABLE[ v         & 0xff] << 24) |\n          (REVERSE_TABLE[(v >>> 8)  & 0xff] << 16) |\n          (REVERSE_TABLE[(v >>> 16) & 0xff] << 8)  |\n           REVERSE_TABLE[(v >>> 24) & 0xff];\n}\n\n//Interleave bits of 2 coordinates with 16 bits.  Useful for fast quadtree codes\nexports.interleave2 = function(x, y) {\n  x &= 0xFFFF;\n  x = (x | (x << 8)) & 0x00FF00FF;\n  x = (x | (x << 4)) & 0x0F0F0F0F;\n  x = (x | (x << 2)) & 0x33333333;\n  x = (x | (x << 1)) & 0x55555555;\n\n  y &= 0xFFFF;\n  y = (y | (y << 8)) & 0x00FF00FF;\n  y = (y | (y << 4)) & 0x0F0F0F0F;\n  y = (y | (y << 2)) & 0x33333333;\n  y = (y | (y << 1)) & 0x55555555;\n\n  return x | (y << 1);\n}\n\n//Extracts the nth interleaved component\nexports.deinterleave2 = function(v, n) {\n  v = (v >>> n) & 0x55555555;\n  v = (v | (v >>> 1))  & 0x33333333;\n  v = (v | (v >>> 2))  & 0x0F0F0F0F;\n  v = (v | (v >>> 4))  & 0x00FF00FF;\n  v = (v | (v >>> 16)) & 0x000FFFF;\n  return (v << 16) >> 16;\n}\n\n\n//Interleave bits of 3 coordinates, each with 10 bits.  Useful for fast octree codes\nexports.interleave3 = function(x, y, z) {\n  x &= 0x3FF;\n  x  = (x | (x<<16)) & 4278190335;\n  x  = (x | (x<<8))  & 251719695;\n  x  = (x | (x<<4))  & 3272356035;\n  x  = (x | (x<<2))  & 1227133513;\n\n  y &= 0x3FF;\n  y  = (y | (y<<16)) & 4278190335;\n  y  = (y | (y<<8))  & 251719695;\n  y  = (y | (y<<4))  & 3272356035;\n  y  = (y | (y<<2))  & 1227133513;\n  x |= (y << 1);\n  \n  z &= 0x3FF;\n  z  = (z | (z<<16)) & 4278190335;\n  z  = (z | (z<<8))  & 251719695;\n  z  = (z | (z<<4))  & 3272356035;\n  z  = (z | (z<<2))  & 1227133513;\n  \n  return x | (z << 2);\n}\n\n//Extracts nth interleaved component of a 3-tuple\nexports.deinterleave3 = function(v, n) {\n  v = (v >>> n)       & 1227133513;\n  v = (v | (v>>>2))   & 3272356035;\n  v = (v | (v>>>4))   & 251719695;\n  v = (v | (v>>>8))   & 4278190335;\n  v = (v | (v>>>16))  & 0x3FF;\n  return (v<<22)>>22;\n}\n\n//Computes next combination in colexicographic order (this is mistakenly called nextPermutation on the bit twiddling hacks page)\nexports.nextCombination = function(v) {\n  var t = v | (v - 1);\n  return (t + 1) | (((~t & -~t) - 1) >>> (countTrailingZeros(v) + 1));\n}\n\n","\"use strict\"\n\nfunction dupe_array(count, value, i) {\n  var c = count[i]|0\n  if(c <= 0) {\n    return []\n  }\n  var result = new Array(c), j\n  if(i === count.length-1) {\n    for(j=0; j<c; ++j) {\n      result[j] = value\n    }\n  } else {\n    for(j=0; j<c; ++j) {\n      result[j] = dupe_array(count, value, i+1)\n    }\n  }\n  return result\n}\n\nfunction dupe_number(count, value) {\n  var result, i\n  result = new Array(count)\n  for(i=0; i<count; ++i) {\n    result[i] = value\n  }\n  return result\n}\n\nfunction dupe(count, value) {\n  if(typeof value === \"undefined\") {\n    value = 0\n  }\n  switch(typeof count) {\n    case \"number\":\n      if(count > 0) {\n        return dupe_number(count|0, value)\n      }\n    break\n    case \"object\":\n      if(typeof (count.length) === \"number\") {\n        return dupe_array(count, value, 0)\n      }\n    break\n  }\n  return []\n}\n\nmodule.exports = dupe","'use strict'\n\nvar ndarray = require('ndarray')\n\nmodule.exports = unsqueeze\n\nfunction unsqueeze (a, axis) {\n  var shape, stride\n\n  if (axis !== undefined && (!Number.isFinite(axis) || (axis % 1 !== axis))) {\n    throw new Error('axis of dimension to unsqueeze must be an integer')\n  }\n  axis = axis === undefined ? a.shape.length : axis\n\n  shape = a.shape.slice(0)\n  stride = a.stride.slice(0)\n  shape.splice(axis || 0, 0, 1)\n  stride.splice(axis || 0, 0, (stride[axis] || 1) * (shape[axis + 1] || 1))\n\n  return ndarray(a.data, shape, stride, a.offset)\n}\n","'use strict'\n\nmodule.exports = concatColumns\nvar extend = require('util-extend')\nvar ops = require('ndarray-ops')\nvar pool = require('ndarray-scratch')\n\nvar defaults = {\n  dtype: 'double'\n}\n\nfunction concatColumns () {\n  var output, input, inputs, options, d, i, shape, slice, s1, lo, hi\n\n  options = extend({}, defaults)\n\n  if (arguments.length === 0) {\n    throw new Error('Array of ndarrays to concatenate must not be empty')\n  }\n\n  if (Array.isArray(arguments[0])) {\n    // If the first argument is an array, then assume it's the list\n    // of arrays to concatenate:\n    inputs = arguments[0]\n    extend(options, arguments[1] || {})\n  } else if (arguments.length === 2) {\n    // Otherwise assume the first argument is the output array:\n    inputs = arguments[1]\n    output = arguments[0]\n    extend(options, arguments[2] || {})\n  }\n\n  if (inputs.length === 0) {\n    throw new Error('Array of ndarrays to concatenate must not be empty')\n  }\n\n  if (inputs[0].dimension === 1) {\n    // This is the only special case in either ndarray-concat-rows or ndarray-concat-cols.\n    // Everything else works like it should; this is the magic where we account for the\n    // fact that ndarray has no concept of row vs column vectors.\n\n    // The shape is easy to calculate:\n    shape = [inputs[0].shape[0], inputs.length]\n\n    // Now we just need to verify it:\n    for (i = 0; i < inputs.length; i++) {\n      input = inputs[i]\n      if (input.dimension !== 1) {\n        throw new Error('all arrays must have the same dimensionality')\n      }\n\n      if (input.shape[0] !== shape[0]) {\n        throw new Error('last n-1 dimensions of concatenated columns must have the same size')\n      }\n    }\n\n    if (output) {\n      if (shape[1] !== output.shape[1] || shape[0] !== output.shape[0]) {\n        throw new Error('dimensions of output array must match dimension of concatenated columns')\n      }\n    } else {\n      output = pool.zeros(shape, options.dtype)\n    }\n\n    for (i = 0; i < inputs.length; i++) {\n      ops.assign(output.pick(null, i), inputs[i])\n    }\n\n    return output\n  }\n\n  for (d = 0; d < inputs.length; d++) {\n    // Verify the other dimensions:\n    if (!shape) {\n      // If no shape is set, set it:\n      shape = inputs[d].shape.slice(0)\n    } else {\n      // If shape is set, then this shape must match:\n      for (i = 0; i < inputs[d].shape.length - 1; i++) {\n        if (inputs[d].shape[i] !== shape[i]) {\n          throw new Error('last n-1 dimensions of concatenated columns must have the same size')\n        }\n      }\n\n      // Add to the size of the concatenated dimension:\n      // At the very least, all arrays must share teh same dimensionality:\n      if (inputs[d].dimension !== shape.length) {\n        throw new Error('all arrays must have the same dimensionality')\n      }\n\n      // If shape is set, then this shape must match:\n      for (i = 0; i < inputs[d].shape.length - 1; i++) {\n        if (inputs[d].shape[i] !== shape[i]) {\n          throw new Error('last n-1 dimensions of concatenated columns must have the same size')\n        }\n      }\n\n      // Add to the size of the concatenated dimension:\n      shape[shape.length - 1] += inputs[d].shape[shape.length - 1]\n    }\n  }\n\n  if (output) {\n    if (shape[0] !== output.shape[0]) {\n      throw new Error('first dimension of output array must match the total number of concatenated columns')\n    }\n  } else {\n    output = pool.zeros(shape, options.dtype)\n  }\n\n  lo = new Array(shape.length)\n  hi = new Array(shape.length)\n  for (i = 0; i < shape.length - 1; i++) {\n    lo[i] = 0\n    hi[i] = shape[i]\n  }\n\n  s1 = shape.length - 1\n\n  for (i = 0, lo[s1] = 0, hi[s1] = 0; i < inputs.length; i++) {\n    input = inputs[i]\n    hi[s1] = input.shape[s1]\n    slice = output.lo.apply(output, lo)\n    slice = slice.hi.apply(slice, hi)\n    ops.assign(slice, input)\n    lo[s1] += hi[s1]\n  }\n\n  return output\n}\n","\"use strict\"\n\nvar ndarray = require(\"ndarray\")\nvar ops = require(\"ndarray-ops\")\nvar pool = require(\"typedarray-pool\")\n\nfunction clone(array) {\n  var dtype = array.dtype\n  if(dtype === \"generic\" || dtype === \"array\") {\n    dtype = \"double\"\n  }\n  var data = pool.malloc(array.size, dtype)\n  var result = ndarray(data, array.shape)\n  ops.assign(result, array)\n  return result\n}\nexports.clone = clone\n\nfunction malloc(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  return ndarray(pool.malloc(sz, dtype), shape, stride, 0)\n}\nexports.malloc = malloc\n\nfunction free(array) {\n  if(array.dtype === \"generic\" || array.dtype === \"array\") {\n    return\n  }\n  pool.free(array.data)\n}\nexports.free = free\n\nfunction zeros(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.zeros = zeros\n\nfunction ones(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.ones = ones\n\nfunction eye(shape, dtype) {\n  var i, offset\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  var mindim = Infinity\n  var offsum = 0\n  for( i=shape.length-1; i>=0; i--) {\n    offsum += stride[i]\n    mindim = Math.min(mindim,shape[i])\n  }\n  for(i=0,offset=0; i<mindim; i++,offset+=offsum) {\n    buf[offset] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.eye = eye\n","'use strict'\n\nmodule.exports = concatRows\nvar extend = require('util-extend')\nvar ops = require('ndarray-ops')\nvar pool = require('ndarray-scratch')\n\nvar defaults = {\n  dtype: 'double'\n}\n\nfunction concatRows () {\n  var output, input, inputs, options, d, i, shape, idx, l, slice\n\n  options = extend({}, defaults)\n\n  if (arguments.length === 0) {\n    throw new Error('Array of ndarrays to concatenate must not be empty')\n  }\n\n  if (Array.isArray(arguments[0])) {\n    // If the first argument is an array, then assume it's the list\n    // of arrays to concatenate:\n    inputs = arguments[0]\n    extend(options, arguments[1] || {})\n  } else if (arguments.length === 2) {\n    // Otherwise assume the first argument is the output array:\n    inputs = arguments[1]\n    output = arguments[0]\n    extend(options, arguments[2] || {})\n  }\n\n  if (inputs.length === 0) {\n    throw new Error('Array of ndarrays to concatenate must not be empty')\n  }\n\n  for (d = 0; d < inputs.length; d++) {\n    // Verify the other dimensions:\n    if (!shape) {\n      // If no shape is set, set it:\n      shape = inputs[d].shape.slice(0)\n    } else {\n      // At the very least, all arrays must share teh same dimensionality:\n      if (inputs[d].dimension !== shape.length) {\n        throw new Error('all arrays must have the same dimensionality')\n      }\n      // If shape is set, then this shape must match:\n      for (i = 1; i < inputs[d].shape.length; i++) {\n        if (inputs[d].shape[i] !== shape[i]) {\n          throw new Error('last n-1 dimensions of concatenated rows must have the same size')\n        }\n      }\n\n      // Add to the size of the concatenated dimension:\n      shape[0] += inputs[d].shape[0]\n    }\n  }\n\n  if (output) {\n    if (shape[0] !== output.shape[0]) {\n      throw new Error('first dimension of output array must match the total number of concatenated rows')\n    }\n  } else {\n    // NB: Nothing after this can fail, otherwise we leak memory. So all\n    // assertions MUST happen before this.\n    output = pool.zeros(shape, options.dtype)\n  }\n\n  for (i = 0, idx = 0; i < inputs.length; i++) {\n    input = inputs[i]\n    l = input.shape[0]\n    slice = output.lo(idx).hi(l)\n    ops.assign(slice, input)\n    idx += l\n  }\n\n  return output\n}\n","\"use strict\"\n\nvar ndarray = require(\"ndarray\")\nvar ops = require(\"ndarray-ops\")\nvar pool = require(\"typedarray-pool\")\n\nfunction clone(array) {\n  var dtype = array.dtype\n  if(dtype === \"generic\" || dtype === \"array\") {\n    dtype = \"double\"\n  }\n  var data = pool.malloc(array.size, dtype)\n  var result = ndarray(data, array.shape)\n  ops.assign(result, array)\n  return result\n}\nexports.clone = clone\n\nfunction malloc(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  return ndarray(pool.malloc(sz, dtype), shape, stride, 0)\n}\nexports.malloc = malloc\n\nfunction free(array) {\n  if(array.dtype === \"generic\" || array.dtype === \"array\") {\n    return\n  }\n  pool.free(array.data)\n}\nexports.free = free\n\nfunction zeros(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.zeros = zeros\n\nfunction ones(shape, dtype) {\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(var i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(var i=0; i<sz; ++i) {\n    buf[i] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.ones = ones\n\nfunction eye(shape, dtype) {\n  var i, offset\n  if(!dtype) {\n    dtype = \"double\"\n  }\n\n  var sz = 1\n  var stride = new Array(shape.length)\n  for(i=shape.length-1; i>=0; --i) {\n    stride[i] = sz\n    sz *= shape[i]\n  }\n  var buf = pool.malloc(sz, dtype)\n  for(i=0; i<sz; ++i) {\n    buf[i] = 0\n  }\n  var mindim = Infinity\n  var offsum = 0\n  for( i=shape.length-1; i>=0; i--) {\n    offsum += stride[i]\n    mindim = Math.min(mindim,shape[i])\n  }\n  for(i=0,offset=0; i<mindim; i++,offset+=offsum) {\n    buf[offset] = 1\n  }\n  return ndarray(buf, shape, stride, 0)\n}\nexports.eye = eye\n","\n/**\n * Helper class to create a webGL Context\n *\n * @class\n * @memberof PIXI.glCore\n * @param canvas {HTMLCanvasElement} the canvas element that we will get the context from\n * @param options {Object} An options object that gets passed in to the canvas element containing the context attributes,\n *                         see https://developer.mozilla.org/en/docs/Web/API/HTMLCanvasElement/getContext for the options available\n * @return {WebGLRenderingContext} the WebGL context\n */\nvar createContext = function(canvas, options)\n{\n    var gl = canvas.getContext('webgl', options) || \n         canvas.getContext('experimental-webgl', options);\n\n    if (!gl)\n    {\n        // fail, not able to get a context\n        throw new Error('This browser does not support webGL. Try using the canvas renderer');\n    }\n\n    return gl;\n};\n\nmodule.exports = createContext;\n","var EMPTY_ARRAY_BUFFER = new ArrayBuffer(0);\n\n/**\n * Helper class to create a webGL buffer\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param type {gl.ARRAY_BUFFER | gl.ELEMENT_ARRAY_BUFFER} @mat\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n * @param drawType {gl.STATIC_DRAW|gl.DYNAMIC_DRAW|gl.STREAM_DRAW}\n */\nvar Buffer = function(gl, type, data, drawType)\n{\n\n\t/**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n\tthis.gl = gl;\n\n\t/**\n     * The WebGL buffer, created upon instantiation\n     *\n     * @member {WebGLBuffer}\n     */\n\tthis.buffer = gl.createBuffer();\n\n\t/**\n     * The type of the buffer\n     *\n     * @member {gl.ARRAY_BUFFER|gl.ELEMENT_ARRAY_BUFFER}\n     */\n\tthis.type = type || gl.ARRAY_BUFFER;\n\n\t/**\n     * The draw type of the buffer\n     *\n     * @member {gl.STATIC_DRAW|gl.DYNAMIC_DRAW|gl.STREAM_DRAW}\n     */\n\tthis.drawType = drawType || gl.STATIC_DRAW;\n\n\t/**\n     * The data in the buffer, as a typed array\n     *\n     * @member {ArrayBuffer| SharedArrayBuffer|ArrayBufferView}\n     */\n\tthis.data = EMPTY_ARRAY_BUFFER;\n\n\tif(data)\n\t{\n\t\tthis.upload(data);\n\t}\n\n\tthis._updateID = 0;\n};\n\n/**\n * Uploads the buffer to the GPU\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data to upload\n * @param offset {Number} if only a subset of the data should be uploaded, this is the amount of data to subtract\n * @param dontBind {Boolean} whether to bind the buffer before uploading it\n */\nBuffer.prototype.upload = function(data, offset, dontBind)\n{\n\t// todo - needed?\n\tif(!dontBind) this.bind();\n\n\tvar gl = this.gl;\n\n\tdata = data || this.data;\n\toffset = offset || 0;\n\n\tif(this.data.byteLength >= data.byteLength)\n\t{\n\t\tgl.bufferSubData(this.type, offset, data);\n\t}\n\telse\n\t{\n\t\tgl.bufferData(this.type, data, this.drawType);\n\t}\n\n\tthis.data = data;\n};\n/**\n * Binds the buffer\n *\n */\nBuffer.prototype.bind = function()\n{\n\tvar gl = this.gl;\n\tgl.bindBuffer(this.type, this.buffer);\n};\n\nBuffer.createVertexBuffer = function(gl, data, drawType)\n{\n\treturn new Buffer(gl, gl.ARRAY_BUFFER, data, drawType);\n};\n\nBuffer.createIndexBuffer = function(gl, data, drawType)\n{\n\treturn new Buffer(gl, gl.ELEMENT_ARRAY_BUFFER, data, drawType);\n};\n\nBuffer.create = function(gl, type, data, drawType)\n{\n\treturn new Buffer(gl, type, data, drawType);\n};\n\n/**\n * Destroys the buffer\n *\n */\nBuffer.prototype.destroy = function(){\n\tthis.gl.deleteBuffer(this.buffer);\n};\n\nmodule.exports = Buffer;\n","\nvar Texture = require('./GLTexture');\n\n/**\n * Helper class to create a webGL Framebuffer\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n */\nvar Framebuffer = function(gl, width, height)\n{\n    /**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n    this.gl = gl;\n\n    /**\n     * The frame buffer\n     *\n     * @member {WebGLFramebuffer}\n     */\n    this.framebuffer = gl.createFramebuffer();\n\n    /**\n     * The stencil buffer\n     *\n     * @member {WebGLRenderbuffer}\n     */\n    this.stencil = null;\n\n    /**\n     * The stencil buffer\n     *\n     * @member {PIXI.glCore.GLTexture}\n     */\n    this.texture = null;\n\n    /**\n     * The width of the drawing area of the buffer\n     *\n     * @member {Number}\n     */\n    this.width = width || 100;\n    /**\n     * The height of the drawing area of the buffer\n     *\n     * @member {Number}\n     */\n    this.height = height || 100;\n};\n\n/**\n * Adds a texture to the frame buffer\n * @param texture {PIXI.glCore.GLTexture}\n */\nFramebuffer.prototype.enableTexture = function(texture)\n{\n    var gl = this.gl;\n\n    this.texture = texture || new Texture(gl);\n\n    this.texture.bind();\n\n    //gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA,  this.width, this.height, 0, gl.RGBA, gl.UNSIGNED_BYTE, null);\n\n    this.bind();\n\n    gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, this.texture.texture, 0);\n};\n\n/**\n * Initialises the stencil buffer\n */\nFramebuffer.prototype.enableStencil = function()\n{\n    if(this.stencil)return;\n\n    var gl = this.gl;\n\n    this.stencil = gl.createRenderbuffer();\n\n    gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);\n\n    // TODO.. this is depth AND stencil?\n    gl.framebufferRenderbuffer(gl.FRAMEBUFFER, gl.DEPTH_STENCIL_ATTACHMENT, gl.RENDERBUFFER, this.stencil);\n    gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL,  this.width  , this.height );\n\n\n};\n\n/**\n * Erases the drawing area and fills it with a colour\n * @param  r {Number} the red value of the clearing colour\n * @param  g {Number} the green value of the clearing colour\n * @param  b {Number} the blue value of the clearing colour\n * @param  a {Number} the alpha value of the clearing colour\n */\nFramebuffer.prototype.clear = function( r, g, b, a )\n{\n    this.bind();\n\n    var gl = this.gl;\n\n    gl.clearColor(r, g, b, a);\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\n};\n\n/**\n * Binds the frame buffer to the WebGL context\n */\nFramebuffer.prototype.bind = function()\n{\n    var gl = this.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, this.framebuffer );\n};\n\n/**\n * Unbinds the frame buffer to the WebGL context\n */\nFramebuffer.prototype.unbind = function()\n{\n    var gl = this.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null );\n};\n/**\n * Resizes the drawing area of the buffer to the given width and height\n * @param  width  {Number} the new width\n * @param  height {Number} the new height\n */\nFramebuffer.prototype.resize = function(width, height)\n{\n    var gl = this.gl;\n\n    this.width = width;\n    this.height = height;\n\n    if ( this.texture )\n    {\n        this.texture.uploadData(null, width, height);\n    }\n\n    if ( this.stencil )\n    {\n        // update the stencil buffer width and height\n        gl.bindRenderbuffer(gl.RENDERBUFFER, this.stencil);\n        gl.renderbufferStorage(gl.RENDERBUFFER, gl.DEPTH_STENCIL, width, height);\n    }\n};\n\n/**\n * Destroys this buffer\n */\nFramebuffer.prototype.destroy = function()\n{\n    var gl = this.gl;\n\n    //TODO\n    if(this.texture)\n    {\n        this.texture.destroy();\n    }\n\n    gl.deleteFramebuffer(this.framebuffer);\n\n    this.gl = null;\n\n    this.stencil = null;\n    this.texture = null;\n};\n\n/**\n * Creates a frame buffer with a texture containing the given data\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n */\nFramebuffer.createRGBA = function(gl, width, height, data)\n{\n    var texture = Texture.fromData(gl, null, width, height);\n    texture.enableNearestScaling();\n    texture.enableWrapClamp();\n\n    //now create the framebuffer object and attach the texture to it.\n    var fbo = new Framebuffer(gl, width, height);\n    fbo.enableTexture(texture);\n\n    //fbo.enableStencil(); // get this back on soon!\n\n    fbo.unbind();\n\n    return fbo;\n};\n\n/**\n * Creates a frame buffer with a texture containing the given data\n * @static\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n * @param width {Number} the width of the drawing area of the frame buffer\n * @param height {Number} the height of the drawing area of the frame buffer\n * @param data {ArrayBuffer| SharedArrayBuffer|ArrayBufferView} an array of data\n */\nFramebuffer.createFloat32 = function(gl, width, height, data)\n{\n    // create a new texture..\n    var texture = new Texture.fromData(gl, data, width, height);\n    texture.enableNearestScaling();\n    texture.enableWrapClamp();\n\n    //now create the framebuffer object and attach the texture to it.\n    var fbo = new Framebuffer(gl, width, height);\n    fbo.enableTexture(texture);\n\n    fbo.unbind();\n\n    return fbo;\n};\n\nmodule.exports = Framebuffer;\n","\nvar compileProgram = require('./shader/compileProgram'),\n\textractAttributes = require('./shader/extractAttributes'),\n\textractUniforms = require('./shader/extractUniforms'),\n\tsetPrecision = require('./shader/setPrecision'),\n\tgenerateUniformAccessObject = require('./shader/generateUniformAccessObject');\n\n/**\n * Helper class to create a webGL Shader\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext}\n * @param vertexSrc {string|string[]} The vertex shader source as an array of strings.\n * @param fragmentSrc {string|string[]} The fragment shader source as an array of strings.\n * @param precision {precision]} The float precision of the shader. Options are 'lowp', 'mediump' or 'highp'.\n * @param attributeLocations {object} A key value pair showing which location eact attribute should sit eg {position:0, uvs:1}\n */\nvar Shader = function(gl, vertexSrc, fragmentSrc, precision, attributeLocations)\n{\n\t/**\n\t * The current WebGL rendering context\n\t *\n\t * @member {WebGLRenderingContext}\n\t */\n\tthis.gl = gl;\n\n\tif(precision)\n\t{\n\t\tvertexSrc = setPrecision(vertexSrc, precision);\n\t\tfragmentSrc = setPrecision(fragmentSrc, precision);\n\t}\n\n\t/**\n\t * The shader program\n\t *\n\t * @member {WebGLProgram}\n\t */\n\t// First compile the program..\n\tthis.program = compileProgram(gl, vertexSrc, fragmentSrc, attributeLocations);\n\n\t/**\n\t * The attributes of the shader as an object containing the following properties\n\t * {\n\t * \ttype,\n\t * \tsize,\n\t * \tlocation,\n\t * \tpointer\n\t * }\n\t * @member {Object}\n\t */\n\t// next extract the attributes\n\tthis.attributes = extractAttributes(gl, this.program);\n\n    this.uniformData = extractUniforms(gl, this.program);\n\n\t/**\n\t * The uniforms of the shader as an object containing the following properties\n\t * {\n\t * \tgl,\n\t * \tdata\n\t * }\n\t * @member {Object}\n\t */\n\tthis.uniforms = generateUniformAccessObject( gl, this.uniformData );\n\n};\n/**\n * Uses this shader\n */\nShader.prototype.bind = function()\n{\n\tthis.gl.useProgram(this.program);\n};\n\n/**\n * Destroys this shader\n * TODO\n */\nShader.prototype.destroy = function()\n{\n\tthis.attributes = null;\n\tthis.uniformData = null;\n\tthis.uniforms = null;\n\n\tvar gl = this.gl;\n\tgl.deleteProgram(this.program);\n};\n\n\nmodule.exports = Shader;\n","\n// state object//\nvar setVertexAttribArrays = require( './setVertexAttribArrays' );\n\n/**\n * Helper class to work with WebGL VertexArrayObjects (vaos)\n * Only works if WebGL extensions are enabled (they usually are)\n *\n * @class\n * @memberof PIXI.glCore\n * @param gl {WebGLRenderingContext} The current WebGL rendering context\n */\nfunction VertexArrayObject(gl, state)\n{\n    this.nativeVaoExtension = null;\n\n    if(!VertexArrayObject.FORCE_NATIVE)\n    {\n        this.nativeVaoExtension = gl.getExtension('OES_vertex_array_object') ||\n                                  gl.getExtension('MOZ_OES_vertex_array_object') ||\n                                  gl.getExtension('WEBKIT_OES_vertex_array_object');\n    }\n\n    this.nativeState = state;\n\n    if(this.nativeVaoExtension)\n    {\n        this.nativeVao = this.nativeVaoExtension.createVertexArrayOES();\n\n        var maxAttribs = gl.getParameter(gl.MAX_VERTEX_ATTRIBS);\n\n        // VAO - overwrite the state..\n        this.nativeState = {\n            tempAttribState: new Array(maxAttribs),\n            attribState: new Array(maxAttribs)\n        };\n    }\n\n    /**\n     * The current WebGL rendering context\n     *\n     * @member {WebGLRenderingContext}\n     */\n    this.gl = gl;\n\n    /**\n     * An array of attributes\n     *\n     * @member {Array}\n     */\n    this.attributes = [];\n\n    /**\n     * @member {PIXI.glCore.GLBuffer}\n     */\n    this.indexBuffer = null;\n\n    /**\n     * A boolean flag\n     *\n     * @member {Boolean}\n     */\n    this.dirty = false;\n}\n\nVertexArrayObject.prototype.constructor = VertexArrayObject;\nmodule.exports = VertexArrayObject;\n\n/**\n* Some devices behave a bit funny when using the newer extensions (im looking at you ipad 2!)\n* If you find on older devices that things have gone a bit weird then set this to true.\n*/\n/**\n * Lets the VAO know if you should use the WebGL extension or the native methods.\n * Some devices behave a bit funny when using the newer extensions (im looking at you ipad 2!)\n * If you find on older devices that things have gone a bit weird then set this to true.\n * @static\n * @property {Boolean} FORCE_NATIVE\n */\nVertexArrayObject.FORCE_NATIVE = false;\n\n/**\n * Binds the buffer\n */\nVertexArrayObject.prototype.bind = function()\n{\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);\n\n        if(this.dirty)\n        {\n            this.dirty = false;\n            this.activate();\n        }\n    }\n    else\n    {\n\n        this.activate();\n    }\n\n    return this;\n};\n\n/**\n * Unbinds the buffer\n */\nVertexArrayObject.prototype.unbind = function()\n{\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(null);\n    }\n\n    return this;\n};\n\n/**\n * Uses this vao\n */\nVertexArrayObject.prototype.activate = function()\n{\n\n    var gl = this.gl;\n    var lastBuffer = null;\n\n    for (var i = 0; i < this.attributes.length; i++)\n    {\n        var attrib = this.attributes[i];\n\n        if(lastBuffer !== attrib.buffer)\n        {\n            attrib.buffer.bind();\n            lastBuffer = attrib.buffer;\n        }\n\n        gl.vertexAttribPointer(attrib.attribute.location,\n                               attrib.attribute.size,\n                               attrib.type || gl.FLOAT,\n                               attrib.normalized || false,\n                               attrib.stride || 0,\n                               attrib.start || 0);\n    }\n\n    setVertexAttribArrays(gl, this.attributes, this.nativeState);\n\n    if(this.indexBuffer)\n    {\n        this.indexBuffer.bind();\n    }\n\n    return this;\n};\n\n/**\n *\n * @param buffer     {PIXI.gl.GLBuffer}\n * @param attribute  {*}\n * @param type       {String}\n * @param normalized {Boolean}\n * @param stride     {Number}\n * @param start      {Number}\n */\nVertexArrayObject.prototype.addAttribute = function(buffer, attribute, type, normalized, stride, start)\n{\n    this.attributes.push({\n        buffer:     buffer,\n        attribute:  attribute,\n\n        location:   attribute.location,\n        type:       type || this.gl.FLOAT,\n        normalized: normalized || false,\n        stride:     stride || 0,\n        start:      start || 0\n    });\n\n    this.dirty = true;\n\n    return this;\n};\n\n/**\n *\n * @param buffer   {PIXI.gl.GLBuffer}\n */\nVertexArrayObject.prototype.addIndex = function(buffer/*, options*/)\n{\n    this.indexBuffer = buffer;\n\n    this.dirty = true;\n\n    return this;\n};\n\n/**\n * Unbinds this vao and disables it\n */\nVertexArrayObject.prototype.clear = function()\n{\n    // var gl = this.gl;\n\n    // TODO - should this function unbind after clear?\n    // for now, no but lets see what happens in the real world!\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao);\n    }\n\n    this.attributes.length = 0;\n    this.indexBuffer = null;\n\n    return this;\n};\n\n/**\n * @param type  {Number}\n * @param size  {Number}\n * @param start {Number}\n */\nVertexArrayObject.prototype.draw = function(type, size, start)\n{\n    var gl = this.gl;\n\n    if(this.indexBuffer)\n    {\n        gl.drawElements(type, size || this.indexBuffer.data.length, gl.UNSIGNED_SHORT, (start || 0) * 2 );\n    }\n    else\n    {\n        // TODO need a better way to calculate size..\n        gl.drawArrays(type, start, size || this.getSize());\n    }\n\n    return this;\n};\n\n/**\n * Destroy this vao\n */\nVertexArrayObject.prototype.destroy = function()\n{\n    // lose references\n    this.gl = null;\n    this.indexBuffer = null;\n    this.attributes = null;\n    this.nativeState = null;\n\n    if(this.nativeVao)\n    {\n        this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao);\n    }\n\n    this.nativeVaoExtension = null;\n    this.nativeVao = null;\n};\n\nVertexArrayObject.prototype.getSize = function()\n{\n    var attrib = this.attributes[0];\n    return attrib.buffer.data.length / (( attrib.stride/4 ) || attrib.attribute.size);\n};\n","module.exports = {\n    compileProgram: require('./compileProgram'),\n    defaultValue: require('./defaultValue'),\n    extractAttributes: require('./extractAttributes'),\n    extractUniforms: require('./extractUniforms'),\n    generateUniformAccessObject: require('./generateUniformAccessObject'),\n    setPrecision: require('./setPrecision'),\n    mapSize: require('./mapSize'),\n    mapType: require('./mapType')\n};","module.exports = \"precision highp float;\\n\\nattribute vec2 aVertexPosition;\\nuniform vec2 bounds;\\nuniform float uFourSigma;\\nvoid main(void)\\n{\\n    vec2 xy = (aVertexPosition/bounds * vec2(2.0, -2.0)) + vec2(-1.0, 1.0);\\n    gl_Position = vec4(xy, 0.0, 1.0);\\n    gl_PointSize = uFourSigma;\\n}\\n\"","module.exports = \"precision highp float;\\n\\n// Sampler for the kernel sprite\\nuniform sampler2D u_KernelSampler;\\n// Render into a float texture: RGBA where each is float32\\nvoid main(void)\\n{\\n    vec4 color = texture2D(u_KernelSampler, gl_PointCoord);\\n    int iCol = int(100.0*color.r);\\n    gl_FragColor = vec4(float(iCol), float(iCol), float(iCol), 1.0);\\n    //gl_FragColor = vec4 (1.0, 1.0, 1.0, 1.0);, // fixed color for texting\\n}\\n\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D uSampler;\\nvarying vec2 vTextureCoord;\\n// Standard trick to pack a 32bit Float as IEEE encoding into 4 bytes of UByte RGBA\\n// Taken from\\n// http://stackoverflow.com/questions/17981163/webgl-read-pixels-from-floating-point-render-target\\n// Originally from http://concord-consortium.github.io/lab/experiments/webgl-gpgpu/webgl.html\\n// but other versions are available\\nfloat shift_right (float v, float amt) {\\n    v = floor(v) + 0.5;\\n    return floor(v / exp2(amt));\\n}\\nfloat shift_left (float v, float amt) {\\n    return floor(v * exp2(amt) + 0.5);\\n}\\nfloat mask_last (float v, float bits) {\\n    return mod(v, shift_left(1.0, bits));\\n}\\nfloat extract_bits (float num, float from, float to) {\\n    from = floor(from + 0.5); to = floor(to + 0.5);\\n    return mask_last(shift_right(num, from), to - from);\\n}\\nvec4 encode_float (float val) {\\n    if (val == 0.0) return vec4(0, 0, 0, 0);\\n    float sign = val > 0.0 ? 0.0 : 1.0;\\n    val = abs(val);\\n    float exponent = floor(log2(val));\\n    float biased_exponent = exponent + 127.0;\\n    float fraction = ((val / exp2(exponent)) - 1.0) * 8388608.0;\\n    float t = biased_exponent / 2.0;\\n    float last_bit_of_biased_exponent = fract(t) * 2.0;\\n    float remaining_bits_of_biased_exponent = floor(t);\\n    float byte4 = extract_bits(fraction, 0.0, 8.0) / 255.0;\\n    float byte3 = extract_bits(fraction, 8.0, 16.0) / 255.0;\\n    float byte2 = (last_bit_of_biased_exponent * 128.0 + extract_bits(fraction, 16.0, 23.0)) / 255.0;\\n    float byte1 = (sign * 128.0 + remaining_bits_of_biased_exponent) / 255.0;\\n    return vec4(byte4, byte3, byte2, byte1);\\n}\\nvoid main(void)\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    gl_FragColor = encode_float(color.r);\\n}\\n\"","module.exports = \"precision highp float;\\n\\nuniform sampler2D uSampler;\\nuniform float uRange;\\nuniform int uLevels;\\nvarying vec2 vTextureCoord;\\nvoid main(void)\\n{\\n    vec4 color = texture2D(uSampler, vTextureCoord);\\n    // scale the big float color to something in the 0.0 - 1.0 range.\\n    // discretize into levels\\n    float fLevels = float(uLevels);\\n    float grayLevel = float(int(fLevels * color.r/uRange))/fLevels;\\n    gl_FragColor = vec4(grayLevel, grayLevel, grayLevel, 1.0);\\n}\\n\"","var map = {\n\t\"./Accent.png\": 76,\n\t\"./Blues.png\": 77,\n\t\"./BrBG.png\": 78,\n\t\"./BuGn.png\": 79,\n\t\"./BuPu.png\": 80,\n\t\"./CMRmap.png\": 81,\n\t\"./Dark2.png\": 82,\n\t\"./GnBu.png\": 83,\n\t\"./Greens.png\": 84,\n\t\"./Greys.png\": 85,\n\t\"./OrRd.png\": 86,\n\t\"./Oranges.png\": 87,\n\t\"./PRGn.png\": 88,\n\t\"./Paired.png\": 89,\n\t\"./Pastel1.png\": 90,\n\t\"./Pastel2.png\": 91,\n\t\"./PiYG.png\": 92,\n\t\"./PuBu.png\": 93,\n\t\"./PuBuGn.png\": 94,\n\t\"./PuOr.png\": 95,\n\t\"./PuRd.png\": 96,\n\t\"./Purples.png\": 97,\n\t\"./RdBu.png\": 98,\n\t\"./RdGy.png\": 99,\n\t\"./RdPu.png\": 100,\n\t\"./RdYlBu.png\": 101,\n\t\"./RdYlGn.png\": 102,\n\t\"./Reds.png\": 103,\n\t\"./Set1.png\": 104,\n\t\"./Set2.png\": 105,\n\t\"./Set3.png\": 106,\n\t\"./Spectral.png\": 107,\n\t\"./YlGn.png\": 108,\n\t\"./YlGnBu.png\": 109,\n\t\"./YlOrBr.png\": 110,\n\t\"./YlOrRd.png\": 111,\n\t\"./afmhot.png\": 112,\n\t\"./autumn.png\": 113,\n\t\"./bone.png\": 114,\n\t\"./brg.png\": 115,\n\t\"./bwr.png\": 116,\n\t\"./cool.png\": 117,\n\t\"./coolwarm.png\": 118,\n\t\"./copper.png\": 119,\n\t\"./cubehelix.png\": 120,\n\t\"./flag.png\": 121,\n\t\"./gist_earth.png\": 122,\n\t\"./gist_heat.png\": 123,\n\t\"./gist_ncar.png\": 124,\n\t\"./gist_rainbow.png\": 125,\n\t\"./gist_stern.png\": 126,\n\t\"./gnuplot.png\": 127,\n\t\"./gnuplot2.png\": 128,\n\t\"./gray.png\": 129,\n\t\"./hot.png\": 130,\n\t\"./hsv.png\": 131,\n\t\"./inferno.png\": 132,\n\t\"./jet.png\": 133,\n\t\"./magma.png\": 134,\n\t\"./nipy_spectral.png\": 135,\n\t\"./ocean.png\": 136,\n\t\"./pink.png\": 137,\n\t\"./plasma.png\": 138,\n\t\"./prism.png\": 139,\n\t\"./rainbow.png\": 140,\n\t\"./seismic.png\": 141,\n\t\"./spring.png\": 142,\n\t\"./summer.png\": 143,\n\t\"./terrain.png\": 144,\n\t\"./viridis.png\": 145,\n\t\"./winter.png\": 146\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 75;","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABSklEQVR4nHWSO0oEQRCGv6quWXURFFMnEtRjeAZPtNfRU2hqJJgJYmZiICgLys5UtUGPO73DGDRV/7OSltXDKmtWhIRmHV5CGPeiV3tWdPBbuz5HckKrQDHMB+pds2Kn64uZMKgEgqMSKDHgqHCHiGNt+kQJpDIW7BNcF43F1u6/Tpp9gstlVEABGeaA7ej4ExRkziAJ1Cr8Fxy9Ju3+RBzKKjzVUaF36HrBvg4P6HrY9ELXCZu+CJteRn6WK167vVv+E9otqEO1127ul3S94D00Hiw803imiSjTY3iZpWeOvOYzdvX4UZlHofHMwmf42PXY9dP7bLjxAA1yckKdrE6kMgtXNDtZvIyCOj/J+a6DaRLW2Cmy98unyhRlzgVTEJIJFBctk4S9tR8Mn3YrBHuFE51oacuXAsWe7QyXtCXqUEgaC3a0tD32C1Z0QAE9c936AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAxklEQVR4nK1SQQ6DMAzzpPz/meMA0jpAogwU70CAlNLBYRLI2LEdEH0ME0kCBGEXSpwEcODSxdmMtAEyThN5skD6OBc33uH/KVAyGWjyCQdOQN1MmmF0AkASaphx86ibSR3HpdUMStvoNmkyt1J7lqr97AEfXgMoh0lCnu20vd5qTDj2EN18K2jaeB70RuTB1Sf1OybNO55pOUoIw2VYtVwir9ewHJAtuNxHreSRPvSXpl+a9KEDqHYMPZ5pOQpCZT/1fsjjF52BJvTQK0qCAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVR4nI2OO0sEQRCEqx8XCRqIx0UiPjBR0P/iHxcxlDtWIwMxuBUMtstgZvdmx/ERND31VXUxcnezoAqgCpgIVIBRq2SW362cnx1ZOyiAaVkoxShU0vbT1d4OlgEVqDRY5fvJ8XIGxQyqBjGDqFfaCp08X15eQwtT1LJOgVaBqEEkbT+8uIWoTiDtpFHp2hc1+MHqCvipQBSA/rp9sX8+AYpMBv84HLds+55BIkCQQIAIAN8YM6+YP39+IEhwdogdy+GBxMBAkBgisib8afs+mUM2g5wzFiwfR/b84e11CkZECowzVLoxfr/pZuA/JVGMP643O5B/UU99NCtYd13TYATAACKAYPEeOYEIeP/STQbJKhRAixWFX+hdWIVMMmjdAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA8klEQVR4nI2TwW6EMAxEp5L//zPZVisW0QI5lPX0kNjYAaTCIfEw8xwI+Sj7m0S96oSItc9dY6ql7NqZCCMyBU1jgkt5K+ghthBBMgHpd02bT35+NyezLfHochgzyF6FkGUvUBLaumoDaJrjQqt+Gba5EwENBgdfaQRk2L5B6k1nPYdJEOo+eaxjIseQBWKoB8qwjvVj0XYjmk3TrAdNXtuXAxQdqM01ALJOyLhWAKhHp37UG50KmaeHF9Br02nUCHh91h+E9v62fPiHspqprppM83JsD9FBzkHtNJnmBa1dOz0ENJyWvo4+AoJnuX34H+gfb4w9awqIriQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2klEQVR4nJ2S246DMAxEz0r+/7+sWvUikBYobVnPPiSkhJAK9cn22D6ZKPm5T3+SAIQEAtY1UtLXtXXjCyqLe0DWj1MQUlPvWqAZIPBCE9b8PrKhcnHpqIRb2z0qDsCX4ArQmu5Z0qEKXbu1tn8iD0jFjkTUQh6iwN+wWbP7dcgXo7/9gNtA8uR8zn3xvjE3Lv1mYxdQwjjnDlQMEaH51Wbd/DJkJ38BCFdQgsS4oWnRmzWbjm0+5AL5x0VlgFODy+OvC9HlCA9/P0bHUYxJR9hhPKLV0uZwBfYP8fIS8IMOv8wAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAwElEQVR4nJ2TOw7CMBAFZ9craJAoQp9UcIBwADg7V6CHAyBRhA7hpTBBYD6JXDzt88izriyAixgihmqarxliVlWbYvm5QFEky1hmC5piWVGsoiZIRImoRAKpv7PrF5a6LafHdPgpZz1jtpocCBIxbgRuBOnnOGbtdF8sB4mIb5fuGnH1Z1BnLLOuORXLrhG7NGdQQCVLzsLXe0YzGxD/cTDqOUhIL4il3mcEM6q2WH4sWL99Dvj8QH9Z1+28WBbjDtWchVWz8bAvAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUklEQVR4nKWNMW4UQRBFX3VXjx2QEZJYIkNEJOYUJHAXbsN1IAAJJC6AWCRIMBIWrNHUL4KeGffuWiQErer36/9f9uDVy2wKWgaTZpqCWw7aqmXXJ83bvynw57t3TDkEFUw5BI/Lh/CkGX/x5e0gBC1nyIKsEThhjaAt3Ag760wjzPHf8Yhra6g0oo7mu8ILDzv/eP5saVtNfsQ94Eqqkiotsz/Xr4dUJWd3Gm6o2uOZg3ZU8OTT96H91NCvDJx9LxPhgV9cfSM8mGv02YKowd77nIc511PN31x+OBCiduOJNuzGg/768j3hgYpwkkr2aRwyMK1snZ3EH5//GIxQLQ+Z/Mc+8afl+lYYmitJppECpSEZGjkNqeDtZ0Ey/qSxl5HJZpYgN7OhhNQh++7rvUPDcG0rWDkNZSEpKAui4J+v7pMLrOLGizYGTgp2Nxf/VfAX902ecCrTcH0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA6UlEQVR4nI2R6Q7CMAyDXSkSvP9bMsFAgh2IKeZHszY9OLRJdbP4c9aGZbuRIOK7PwDY17E3a3m8JgDZnEFts9d7r0zbjHoCgCALbDkRCMYGyLxNbZIBfKUHYAKQ0D2P/VX9rzGvMj7XnwD1+xpwea4gAwhAqzWaA8jgaiGG2SrDckyFj5CmliFyWg+WYJCUaoZ4QUnnWvTIcD8mc5qkTmVnEu4T3A/xUGgHpU6ToKoF9HvkepmsAOhXUNbqemQ8zyXdfWySC7hd43VcSioJKiqTT28AM0CFxcHctjdNAuq06xech47hf+AbTw0BT8Hs3zwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0ElEQVR4nI2R2w6DMAxDPSn//5mbdgGGKBdNLN4DpTSlnfrU5MQxjrjM60iCAACSAEIHMqoLGpnXsSDayX9zmb/TJiPtm6mRYdJ/3tUGBIGsAQmFnkyUBBOuYb5xaZbGC+1Ac6moJy6vpQVplzReMGn2uQYmj7E5XKNT7MKWTJmcR0LuUxtEGkxgGXDMEia3YSgLI6MSk+vgtn+8xyPCOfneMunfQwD1JsbAWQEOkVYkka530U1ITM6Lmiboegf/OYDwtX9zfawjIHjOxWGN6Q+DSlVyffJDxQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAjklEQVR4nJ2PQQrAIAwEU8gH/P8LFVERBb24vdSDojatIDGb2SVeAEBE9JTPlUsp1M+fEK61EoBBnN+nGaeUxPBqxjnnAdgZdwzHGI+AKKC1NgzmfqX1nq21r9BJGwJOdxUGgNh7LwJ3oeycExuWG4QQfq8/fKFDc33TWGu9BSUhbIwRrbvTL6UUvhhm/QbJhaMs8zXl8QAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR4nJVQQQ6DMAzzpPz/l0xDrZBYJxg7xDs0jAZatp1iO46V5MI5EiBAIleF5/vq+8LnkIWPqCfDx75gGXzjYDrBIIRT8Gs5/D1MMIXNTALAjq8YVU2Q0k40s+NtTZDum6C2otqKutMrHmEfTkyNwAIL+gAWN+Yf0q7KwyvOPy16BGSJs51mIW6AgLaHqYS84gxqNlPVTBnT1qQaN4wCS+oiQDUTQbvv11B5XENh3qo6DtfXwifDbTwEaCWwHdCPUNivrJa4ppVYuj/MNe0NDurypydz69MAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAy0lEQVR4nJWR2w7DIAxDjZT//8pp12rtLhXdHuI9QIFsQDWkyk44MS11nC8ECJCwCtT7VoXLDWFtw0FhasHrDlAzQC2A1UeteOF8/nsoHQRCkALio7Q12fAaP2Hc5U1tDbaDYkDx6sovqK+C8dQBtkME4xEs4OwJxjthMWBYJeR9HQKYhgpYG6GrV10DGHsrhNSz9W9PHpNPJ+cQ2Fo7Ac/Jh4sPXPBGXaUXWNJB9t6lv6fIQTnQVXo5SA7eAixUN2oCkGFxfagSXtYfo/vh+y0e4IIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGElEQVR4nI2NzUoDQRCEq2v6KJiLhhX8Ibn6EN59ez2poAExAQNehCjIdnuYmZ2ZzQZlGbqrvupaucGtkwSFIANIIghBpicBhTPxMOy6OFsmEUahUph9CQIJBINASDAQer64jCYjlCBgYApUXlNACGNOT6+7poBM7dWcYmQs0W45H0SZ5Y97Xi5MU7urk8EYQ5GRzrtUBfOLWQnJKCwCEBARiACY8PS4O4IIEqiDrVcf1p7svnbucLgbPH9uiCp5HvfB85w06MfP+4DG0Kpic4sPVnY36Ob7bRIcOhh7uvpcNbC3Hn2eNqVbT+/Xj/84arWZoTeHmUHvXp9gve+BMm2S510fntcHQ27+59PNy7YYfQutCU8X/gJ/vmyAxuuP7AAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABp0lEQVR4nG2MPW4UQRCFv5np+elljYgsJG5ABLkDSDgA1yDlMsRIFhkJsYkIgcQSZGARECAhEMbe6aquJuiZntk1Qaneq/fVq04/fEtBjRANUSPMExctK73ORA338t3XVRBvlLgm0Tuja43O2Uon+tZwt7cXdO0cpAPI6KdbYYpOJBT39OQLEpUQNW/TxZvyJyoiSthlf8i5V+dvbz5GpUrgaRlSi8cx0OJp8cmxpcXj8Tjcyc97GSSDPv1fD7T4lEs6q0kSSEFwz37cJwUhiZBCwERI4XryUsB5X4nwN4TCV98fPEx7oApV76j6hqp31Ctd9Q3V4PZyt3l0vHfIwPKQC5YbpmACMY/bPr5DZTodrvOevQqMMj1oeapKgeLq8zel0aoOqz1We2LtsXqDNR6rjxbvPLHxhXMXd5/nsJkfNyW0ZvHRGlQiIhEVQ6ftPl4+KeYwVLlE5XfOwjpbtDt7/YmE0Q/QecruhqxvHU23Afrp3g2p6Or92Ys0w+vHucx1iTgKcSfoKMRRieOsBXfcfSZeC/GXMI7C1QzsMrCGdRTibr/gH83yuoEEyPZPAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVR4nJWSQUvDQBCFv7cd0GJqqwUR/f9XT/6cXsRzoUUEqWTHw07S3YRSDCzz3jczb0mIft/fPCvRS2QSWYks0SuFF6UfOmb64LZbvZKJhWpoXAjeU+mBk7Bd94LkSA5R69MwMlKPVcxW6+P1xdpDw6xbH5ELXE1tWE4XZ2x52FwPaCoNs+XhHimX9yOHdqS+8pOazto2Nx/zoSboUm8IuP0EqT0pXWCLGTdtt/8ImDPzh0dwxx3cHc+lMvHuBMsNs6/9D1RgHM6t91yHnJl9709AQgiREAlGLaS6p7YvYZ2e24VZgCYXtN7u0hMO8WHARXkGrQLi3ymHMovATt0iBs7QI6CEaBJYzKD/AHQQ230gA83tAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABD0lEQVR4nI2Su04DQQxFjyduIkSQoKOC/y/zHfwEJRWgkJDXXgp7Zp+RqMY+vvfujLW2fX9TkSiI8UmcizO1mb8evmfwtoEZ85fD18wIhih0FqcodMlkRpfsguFHHpBNxFOjlTTZiImCf6yeE0Z6qydGA0xQIGthgF/Y9MMqUIpQCpV9aKyFgD+eu9YYwy8MhfMATMjAN7pGs6pQza28llIsE9d61ez99LRLE028FFCvVefKt2ZANJZ7pr4fQf5Uwft91NrXtgtDXZYmAW2BS7XwO/2A+q8P08GQgqCcqlehgnNegYwuh0CabBBgxMWGAcH8dLwfpQ/FY1bDiQfEevD973oGF+sbzD/3/xPeYn8hKR7Bgi9xJQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJklEQVR4nIWOQUoDQRBFX/UUKEgk4EoNiIgrb+AxPJh3E9yJgqASRFeiC7Hru5jKpCcTcTF01X/vF2PXdqVihWJGsULXzNN8yvxsfrwVbB6zLj/PL2c/Ol1Mwm3imNuQ+fzyZAxLgc6wktk/u88uFpCgFwwa2bp2N6wrUAwzg2L43vkhmGWRAawlejY4TW6G7xzNNoTmiAFmyBhmIPeeux3sDsFKVIo0YlsaHAP/2XeEEAH5CoGiyeNPxz+1XIMsbSuEKqGKqMMcCvz9+wGpDStB3chimuUhf/q4GYuq1Mg5+ryqEpF/kawm8/vX2z5oYMS0NN6VnvD75R0h9TCU81qIENrGIwgJf3x5mxRWkoI8ABGgUL4Q6rk/P32tgWiKY3F0oPF+AX1dVexjH/qfAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3ElEQVR4nJ2S2wrCQAxER8j//6MPIirYovSilYwPm26S0ooKLZlNTibp0h2HiSQAECUCJEAQ9gAkaPlyZOWkH6cAlsZolI0ZuALIML7qRNKg2GCwa6ubllv39Eb8aaChkLV/u9YNS11Ny6WfDcqUTT1f7kLLuZ9Scp6qSdtGwUxng2P/TNN01cwN4oBqoGZQI/K5Gq8wsr+PXliC6RzXd0b290f9hLrqD1GO7eh38GVMBqd2sL/C3qR1I+9a2DWW0I+g68wJuqslNQCuSbUbXGeEzWGzGVTwQzOoeANe+wjb+4SIpwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVR4nIWSy07FMAxED5L//xthcekVCBYXmpZW8rCo2zyawioTe+bEifKkaZUEICRAoEYjUKN3v6VxAaIoIWrDfxCb0no0thVipE79PJ09pvUIlSYKWBsOPpKwx7ziRbPWOexFWGjzCew9LRHaiJd6n6LR9pZWPIoep551hrV9e0nLYfCOoQT0+vacljzucZIOgyJ45bH715wbFKF4wLwv759hNnzPuDyIjuNIHq++7TdYoyNjr/OtCm0Nj7t2YBXYseHnBvL4HbHK46uV9b7HNA5/hHug2mOM9/1X7C+VTafa2Wd8fF4bq7p3Ab8bQAKr0rco/gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABEElEQVR4nI2MO0tDQRCFzzyKVBZBLAIqaQUbsfPH+RetBfEJJhHFxmizMxa7d+7u5gYthjPfOWeGrq9mzgTEcLWTYyqTytPl3LtCd9RkBGKAmYpH0JMjCdhXompnQubS1ePFrCkQSwyzgERArI0fGQv0cHlWBbpToHgiTQ8kAAv04PQCYAVYwgR1zAqKLHM8oMXl7kHFTtwqsqKwpvl5McYSiAF0TAJv9qy03X67u8MdGNQGtoHHrOkYoO8fPxE0RZtg8+J7sL6tvyaDfQe96ur5szHyGCwVtUpTx2bQp7vNv4rNw+TwlD19vF0VoxwWrXk6y7u+3GziW/3ZzOCeihrMUqd519eH+8b862jMs/4CGxSAfupf/ykAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCUlEQVR4nJVSXWvDMAy8gN76///gxtoNmr00jbsF7vagi2OHlDJIkKX7sGxrKNOPJAAQMgKSgPwAyRE44sVjXg6IMmEv2PEgxKMsKeC6cwrEbQ0JYrNu+DFf7+nG/4slIcp1Nsk9tkIB2JnVI5ofv+Oct/VK0B1z6yaWsWCQMDCBdZ0xc1AYhFpv8zh9TQZgIIWQGrMDzHmcPqcEqdo+yC33P5Bbro0f8Tb2BhSgFwb1KETE+wiJfhZCeVPgWgMh0QPEyoWYg3Sbzha6+FQo58mVuXG7X0AJ9IhS8hMLhNxxi8kvmlh8lNkGOdusYCOqWGueWBpkU45Mg67WRnZ5XPBdC+woz0x6/A9TQgrNyikFgQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA40lEQVR4nIVSXRPCIAyLd/3/P1Q9ld1AcXPxAQpF4Hxa+pE0LTvt24cAQBLpCyhIBSBXKibAHEiM+5jwI8iqlHMECcg77k1CyQ1WUp5cREmID1sJioPGDSfkLBCeWyIokfjB6qDGMHVx7tUSMBHhQASEuCWCh234gw8rQoi7hUGzNs7Eak7cPQyKE/voa/JwsT6bFcB8fztEFhdTMluGsQ+7b4cJHoD481oCPYweCuYOlWSe8SBkPfuW1GEjnN1ZLP7ije2RQC+W1tBf+fLsG8uuhlCm10OChIRraImDpk7c9HwBHKMrHh0ei6UAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABI0lEQVR4nI2Qu0oEUQyG/1wQG1EQUbBYcLEQRR/L17USCwtvhYjiBXURPYnFyZ7NjDNqcUi+5Ms/y9IxJi4ECBHGKmN8r0eryzH4I4QIJAQWAgm3Xne3V2JYFywEYgKHVMU44OSEr5uHG70DBjEHc2MSqcfcnev6/iRS5yKnEOmFpJ4FYIGu7U1BUgEsIObhXgQIrsc1RJd2DioMhRADxPCoIAI4M0OxNYU3iRYHvJB+hCSm99nM3QFzhwMwB9y91swAqtdlvX39TCJg8CRmdhSL6t5Yr54/YgAUi0U76LJZ2gXr2f1bGxT73/tKvZ5cP/UEGxTzc6tfd3fo6eVjBYs/JwSPn++9Azd0HL27eRmQ5kFl8Urpcjx9uDj/RbLW20jIN3wPaQGRbenuAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5klEQVR4nJ1Py0rEQBCsqm7EiyiIePCwsOJBFP0sfzom5BYJ+YTMeJjJOgnZzbqHprue0PzCLhoBI3FsC8d1/7y9zsRGCQkaISNoOtz+8nSTySTICIpQNiVjDqjwZL8/fjwsAgKljHXANEthzXm/f9vl1smoosQWJcUtA2Twu9dn0BKADJTWbzMg4xROJX61f09grYRKIeYw07DgGH6+459YGBccVzhQYAghxhhRTgjhJC45H4bh7OCEy+19368K527vum5G/He8bduLguM4poKmaWbE0rCleVVVJ82bL9R1fdEL0/wC6kqF+ErBGb4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA70lEQVR4nH2SwU7EMAxEH5L//yshLBIcaLeLoODhEGfjZtseorjj8bOb5Elfs5AAQIoFUGOd5BCYrksIYcqxhE5yAKZlSXQl+mB+yNVlmj55/IXzojyRMU9V8Jagm1x3RtdSLDB9/IS4TTSgDvTmN72v1eCRbF0jJsete/Kav9x2zK3TEbiBhOn5Vid0IeduarGiUN7PRN51m8sa5m0RGZDBI2AqK3LhUtrBvb7CvjP46rddyhzdu7gtDliGN78Le7tc4xZVz6vdFuD1ISddQx6s8DsUjkVVOwJb4S8J2jF1rU/Qgfaq76GLdqY5hvwDOwHLCfy6qJ0AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABCklEQVR4nH2QzUoDQRCEq2Yb9CgJgggm4CH64r6UoIEguYghBNSLU+1hNvOXbA5NT1V/XTs7fMHKQwCaYqe7IpnPtlzwPHgSQnAgGMYaz3b/eJWG2QwnYOiWMhcIm69mzRC5p2twYLpO5R85DIRdP8+SGL/cw6iCS2D5N7On2wsvVmDyvG9cLqZfjmOlp+90KsPdQzbJaolsQ5pFVgHzBdwDHMPYA9RrhMKoZfj5++E+AqqWei13yNF1h22/byaH8r8zHhArz9b7nwIIkBIY5fksVVXP5LD37SGLWIdUy5Nh0WHrzf7ElBwuh6TGK/7RE2zztivDBhQ8poVjR1SrJdju9esi5DGBU/oftGhLbYqSOw4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABA0lEQVR4nI1Py0oDQRCsnm3Qc4IgOWTBQ+KP+z+eBE96cEEREUIIRJwuDzM7r0zUQ1Fdj+6dlTts6BxQQRrdQETSrONa+sWTIwIZBOIi4qyrm4sQJtOdFF2zlHpOoMvNogqRODxDBgnPKfy5h0Ggl7eLIOKX2zKKw/lg/kfV7VXzw/1ZpOcLVMbV+UWJKOdGK67XyRQZzha7WhwUyxGkwWggGqbBYCC/g7Y59ynX18PTPw4YjITNDCat037qhPMC64yEoc70efdeGZ4oGPBk5EJb1vr4eSwK5SJg1uiYexLeAuvDx1dleGOtk4ciy1rv3/bdA2YAjRlkrSN0etn9Wfot/wG521v4Pjn20wAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA30lEQVR4nI2Sy27DMAwEtwD//x97qgM/khRIkLQGpwdRthzJbg4GtbvkSDL0we2CQBIS8VVr7fjIuF3bw29CTPerhCfDo7JWFr/O5MgYv5pB0gFoZqkaU1fv7PsDG+3I1Hc74XtQ03AqQl6aOc5ARt8fNvwL0DDGn04GnhtZfKi93Gs/p4tw7TY0ocXant23gDjRtnrWTnHqbWbT+bEG3hiuagJ6eDadn/FKEZLybVDSKG6UdbxqD23j7xyNQZUWDQEsNlihARjmWU4iZkCp/UhLss/HHCZFmHYs9Wue9R+O4wCuj3feUwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUklEQVR4nJ2Nu05VQRSGv3VTE2lFMXYGE4kV8gB0Fia8E4+jJsbHIKGBhIQXsLUWZ/baQ7Fnn7PPgUNhMfnXfx35/fZdqxYUC6oFxYNqvuIPvVh4jn87PluLHo8U/Qkv8O/HZ4gOIInogHRccjQRLYj8hUUmJPGXBxdbpURk6KV5YPew772+RFPRNCwN7c8GXd9paD5DU1eZGf3w6tNEhqXxyGBuD05j/uH6CJOKa8WkYh1dyxavmFUsZq3gWvGTNz83Q7tGdmSknUvDBVz7ky18WnNOD/67jAuSw+eWpTFWyApZGlnpvJGl67UxLu5Z95sfpRe7UenBtqHvGvTbXw0VxzQwCVQCU59QAlUnJNCV79jzQF9M3D/uf12EA5Ne1j4mviov7/kjf//qC0ljlEbKSEojaRNKo8q4wSf/Hyl3pDT8eu9PD4yLwDzY9QcD6+w9G6MSSZhjfWwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABK0lEQVR4nH2QO04DMRRFj59fpDSUSCBRoDRUsIgshp2xETaQPRAKQEhAESJC7EsxjmMnEwrr2ed+PONw//ggV8ZzZphi0p333DXsJ602f12OmDMT6Yi1RbVk/vJUm3ciCqQQSViZcXRuguEfXJKsQN+L22r+v8QX07txQ8eMKDAgSpggAibwdbgYgMChGFWZIaK2JUwTFhHwm+/UGOmMYyyWciyTLeFXeUW2hCyRdytuK9s0XJbIsfFZwp9niw7keFDWlpfilvmyFGB5+GQ0vEGzjwg/OO88fu3vvTkcmw6DXfFN+DwpCgNFpIiIoKIUBhGfbs6LOJh+ZVU8HbSq+Wp9O9zZtA5if7tUfkgBEchl+td6RoYOSoFcpqDyYx387eesmsdCLd+F2rI/YfhiurSRPq4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABbElEQVR4nH2MPW4UQRCFv6quHtlLAiJwgAidcA+uwK24DBGkJGQgRGIkpyRoQTI/stnp6iLonulZsyIo1Xvfe1Xy8tO7yBqMgSxN2xHv2dZLINc3b9YHdr+gQVTBXfs0XTfadr/OcVdmF+7+U1x43Wjxil1/fETymVQL6jOpHvouJJ+xvkfevC75s6vXJwsBHNSY+xw0MyfjVm1we4BdnT0+LiZj1tyP7j3o2lWZmMnM2Psnl2RppsHCxB3nbJjM60HLR2Yv9NU/BVcoKriCC3jXRems+VsF+35x0+Aa5FFU6Q/GwxSZRCbFRIqM7R8+xWgmRSbHxBlNW51auYyD5dh6X35/+BzteAKEKkHA6S1BhaNtP3Lu4M/JwrprEGVM9SBKxb7ufzZQGgiPje9s8T7Yktv+7TeCQAwkC2QQEyQDncluaDValhUxsN1zgyz9AdCPV21BwlHKZpwkTdvF5Zc1OFlctPim1zKl8Bd+FVIszOQmkAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGklEQVR4nIVOzUqDMRCcmSxYL3oogojaQ8G+hw/qWwmCBY+Kp3ooSCG7HhK/L4ktHsL87hA+8TEkQgmQiFRRApRmTKr+kNv6YTEX20IC0jBEBSiALCgF7HatKZBiCjuvOaKiG7Pl3XdnIBEUUf5MMBEQO59VIxF2vrkoQjpanjmbwTIOCWabq0m0wcjJYz5hXN2cPmR9LR+04fp+Msl0snhUUzAuV4gIBByOQIQjWoRXngtGzAiH7Q4fJ4569AByEB6AB5Er2vt+XwIUYy4SHjYViz92AHv9WvwpFT3zUbfcnnfqQ/9/xJ3wTLgT9vJpnVEeOp27rO/a2/ayP64cHpAHmAvKA/SAJu1IHrCz7WEyWYvKv9wHPeaBH2YtGxi9wYKPAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5ElEQVR4nH1Tyw6DMAzzpPz/V45JQ3sIBkxDU7wDaWug44Dixo5rVeFENgQIwgEQiEoWXOUD29fbQ0HqEQRYM2C7HCMHyUxvMVQX2Lp5lMH90BajZuAynLCziBJ2Semht3Ya88FTRMUIU8ZL6AUk7Pqe8s0uKVyGCy6DHiZ2GcaFSNG2WOLvMAlrxqm4pjfIieJ24YrJ8lnT93/JYqap1pyd+27Zj2jQo8bN5VzvWXd/gR6LQhFHj/+Mo2fdbZAlwkrklF6FJwF79rMsxl6wNfCaQWzMuuYfscJJNTw+ByLBXtf8APa7MYwwh5EKAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABB0lEQVR4nH2TwU7DMBBEn9Pl/78PiQs9wKFpkUqjgkR2ONiO127gsPKMd2bWspMkPUsIcCQBIvKMhfC8qud2/5mboYrVeNvzEJ65EHZfZyRKHkh1TTlW437RFm7nr6kXhuajOXVmCWz+TrgolVgrZuClVgU9YC9XGwTZ6IKVFtx6YVgOODRRPXadEgPozZXb6+3pT/H/QakGWL6UrZRXLzfe9UCuTecCu1w8NENANPvOAIE72MfZN2Wq7+bB7ZBqWthDYnJhh7fP8OjtfZIGQ+inMMSm9yWcl/4k3WenflDBNp2Wx89uB6cxrGDjtKD658lBXnipDWvgDjh2XY5BrIZ3xFtI6P0CTYDkxqndzqIAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA2klEQVR4nJWQwW7DMAxDnwH9/y92l3VAEhQ9rOkOq7hDlChqvRY9GCBNkbTVpE+BQA4oT+EOUpcbv2MYduLGdyEP3NeAKdukitem/zDCNA/ZLu/g3l1iYx6CvHtuIMc4H94zkuYI+Min+boHge/+7Lv9lBlhjFPH3B/uFRnDCQVZ9MACXMFBnveKEAnsOl1CXIRF5KVxKRQ2j3MYM2DDzkvNzqfroxjNhT8LcHI38ZttT65W9Phh4IYdv9tm2A9kYLsLrLp9XVq95K6FVl5V5gA7/rQn5vqC3twfxijizg2ZD6YAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAzElEQVR4nJWSOxKDMAxE1zPi/hfLIZIUKWKoyABpvCkk/ONjUngk1rsPj2xH3ggSQEBZCbDqi6pewfxGG7AH0n4LaJ2iAgknv6Gmvg0TTB4I2d9XU8h6svLYXiAEvT8OmekMLBi8iTAxqxd04bCUhrATONEFw6LEYOSiP6qpF97n7SbbwQjAYwYDbU7MHlytaV11vV1Cxtc3E5kGXAetIoLVowC4dN0ESJfNyWWaSzM1jwxjFwFFOI4i+94D9J9O5wELXFyrV55/Bur1A/z3tAvj4a1uAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAVElEQVR4nNWSOQ6AMAwEx8c7YPn/I6EJwgWhIAWkWGmt0U5lA3YH3iY1MP6TwFsC3Er3cnd4auuMogwfeEpfC1Y1an4tovQzds8SaXrBMvZKCbMLDvEKBu3k80MHAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIklEQVR4nGP8z8Dwn4GRgYFczMIgQL7mUQNGDRg1YDAZAABhUQQcInuakgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqklEQVR4nLVQMRLDIAyTfMzKQNr//zQdCIkNOF3awXdgyZJsAjhIopWBIOD/1/ssmMOJItVIBIHVYO9dBtYFduQJFil+l6D1/pVgdcAhgXWBrd4kw+B+E1shDDeBKkcESLeCDWIEaBxWqHJEPAy3hMGARNGuGHE56BJwvEFVcPh2A5LBZLoB0uHkBtspYJ2A/qbr53h5S46cC2T4UmB2zvHykhx5JkSxGf8AzUYG14RE6RQAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAPUlEQVR4nO2RsREAIAjE8pxzqPtPhYuAO4ClRcqkiSDTCKqMjZflH3gUkLNaGxUiw6DK8F2Xf+BRQPP0Nl6WqwQ8lG1ziwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAO0lEQVR4nGNkYPj/n4mJgYFczKKgQL7mUQMGiwGM///9+8/w7x8DuZiF4cEDsjWPGkAlAxj/y8lRFI0AGbwEuTJP3MgAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAIklEQVR4nGNk+P//P+N/BgZyMYvAB/I1jxowasCoAYPJAAAvuAJKaJ4/IAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABIElEQVR4nG2OwUoDQRBEq9oByUHFRJcg/om/4Ef7IZ4E2QQiEhFyiNvlYWZnepYclu6uelWzfHl9E81AI8gyzWCLm0ZYvZuXNs9bkKxGDzEXmVXGip5ZIj08rXu4mgilcyEqkzUgPW5viogWJGGGUoYME6EA9YE0DNclhBIqBUQIoYXY72lYLw2BVIMQ9lkvGimk4fZcIVKdSSiUqE5D89Nm9dsBFmGoD3ef5z+4v/rOgrxNxfuCBweKnu5Oe1BNoATIawhBm5k2HWl1HAHPYg+XPXiod9uTHcYseIFiwAUFTx5LBLkjTbtxAWVABVTQ5a105tLpcwctAjMc5/xi7wnp52MPueBTb0Qwe5fv9PV+qIJPgqYATYL/CTovp9f7H0WmVx6izexTAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAi0lEQVR4nKWRsQ7DIAwF7yFLZSBLk///1XYoSo3lSKk7oUMYToeAlwSSaHzWSxaIle0Y/dyQoEmIwG4wsh2buwD3UsZz0LPto68H5mDzLGjkfBpE9VKDqF5qsKhXG0T1UoO0ya8NonqpQfzOUoOoXmqQfbEk7DkeTLfvSmAJyNnY+vXgjYuM0f8yeAPrYQWRDvhnkAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABOklEQVR4nG2Ty2pWQRCEv6ppXUSi4IVESQTBnaIL3/+lFFeatIvu02d+yaKpSxfDwNQISMsIYRkjJGOM5OYaLhltu3j34h7JsAXYcLg3bQ2P528+gkwe5oYpFVqgxgsO8ff9a9LUwtSIzUsQ586AsnkSeZcVMkjFpUQd1OjGjVtJXN/8xDqN//k5sDj1gjrg0/WvMZYSQ3FgaeMzal8sIL6FWLiMVC+O8RNo1qOHx/fH2xYLP4FndLXXR6l4fNbXMcRCigqNXohAWrBlaB2vrn6MQGuCqQU+fIPbk0kfnomHt1/KsMk20yYl0odW76pAVaLKxO+7D2CmZdU6pmlTqC5TbmXDEH/un6G9ad1kukwSU5xjV4UqHlc3D2N0zS/4jnMRgSUsiNuX1DcWGPVCdRnp9C6+u+qJJf4Bq2dP2Vu1vf4AAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABdklEQVR4nG3TvW4TQRSA0ZM1Dg77A0leg5YOiVehpaanQ+J9qJCo6ZB4DiQ7MLNLFixzKbx4ZzHFtJ9mzr0jiHj5LOL9m4ivnyIi4vMu4u2HiOevIlxF8CV4F7wIxFPiNfGRqA5w15MSYyb2mku6lvaazS206KZTy0jIqAbYZb4n7hOHXrumq+meUN9Cswj0UyCdAtuBb4khcRjUK7pHx0BzA3URaAxlIMOunwP7rK5or+g62rNAa5yun1D1sN1zl8mJn73VBd2mCKxLh5YykGE/OaTEmIiD5uEMuV44tNjMgYQTZErcZ34PC8ijw3IS/XlgcvhRQC4m8X/IKqH/dxL7rFnRXdE9LiFnh0Ugw3acIX/11he0E2RzDavFJP5CzoF7c2DMoJ0guxtWZ5BrfRkYy40c0xHy8ujQnhxKyGa+wQly2x8DE2TzoIA8W6jaUAZ62JWQvbqaVvoEWf6JI2RV/izbgbs0QWabqoC8Ma1ke3rCAX8A6n7VPhrrmDoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKUlEQVR4nHWSQUsEMQyFv5d03Z0ZEFkQYdeDguBB8N/5r/UoeFimHpqZ1p16KMl7eXlpMyMgizfgFjEiJmBCTIgR7AY5yAATMpADVrg03X90CzKBLzlNrqpxSOOLozCozUve4/VHk6YnR9oWZCDFNAWv5hZannDyOk10GgSaERmUI1achuMPkJHmiLnitaHPiZm0Hz4roQzMjUmDexyZdBi+OlfMGDOujEmU3QmP2HLpPFwawvCmWPapLafCS5CeD4cVLKL4KIjaoMZAYWCCdNrvVtAVNXkdEuaCdN7vVlCeL9bFE/lcfvjY26oBSMP37t9iNTMkR2UjSDWm6fKAKQRWLi2FKKK1GCu5hcHx7rWKbGnyImiO2ZaTOen4+F6AX4n86phj15w7vxnlS5ipXSRlAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAaklEQVR4nMWPSw6AMAhEH8jebZc9inf3JJ6kbjR+UlusiV1MhgnwAgIkBQSo+V6fs4XCgMctPJC9+XJByyv/APq/UL5AQBVkk+qRPW4h1gH3pdeA3cnIxphveGXEAdSaZcSpL0DSMqcvgBUq3Anzlm9W6gAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABUUlEQVR4nHWSO07DQBRFz4vfjCMhQhwpEiV1NsACKCgQ+2AZLAmJTbABEBINBTtA+Ywz9qMYx57EQdbVuXPu2JUFno1yC9MNlFsoO07zftiyHuYQKoSHWyNUpCRJnfUw785dn1Uwo48S36DiSB7lCpgCHtAubqDwbdaLfgzg6kRqsHMMYDXC/sWwOglqYA1sEiXnBmS8ibellWzwcY2PUDYkxkTfZP10L0Ce3rFJAX0066OzMlFFC8Wh6VmtrlEG4U76wIgj9jx0+bIbOx2ViGsj2iTSAC1nKfaDjYZWoJEznIy88nmZxM5Stjb03tH15sQbYncYe+gTs/7veQH7Clggxr2lX3GR5fw5FErQglBArRAKkI+lWSggdCLvtULwhvOG9y3eGd7nadHd4xrvjYtMOm+ICuJAVMDlHcTJsP++rk00SQ6yuzBcJn0k2+ne+QP8qNhtasQpqAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAqElEQVR4nJ2SsRXCMAxEv/IUZqCkpaClZQsyIxmEjgUo6VkACKLATYRlOxR+p3c6653OFmNr8ACe6bi6m6AHVswx1WI7zJM5YcQpw/+Xvw6usQPT+VK5ReVimCdzwojTMRC2DpFNwUE9hB7B9lYS1AYoHIuCBge3vIOpKweRUDibLUrQoXJa+ASuJ6x/Heg7TsAnIQfMWn5wpNGhknOtJ3fnQHi1LZ/wA7LZjCWBzfIaAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAoElEQVR4nM2MsQ7CMAxE71wvMJl2RsqHwD/3A5j5DnaWLgwolcKQFEVRSWnFwHCy39l3BBBaCjoK2kzdh33iAwWeAj7MBZ9gi7Q3tzn8dcFYK7ibAylvNRQoBfvMq0mtKFirvyg4ghxB+jQnPQsu75HV7FJ9WLqlglr45wUAqUkN1OyWGdEkdwXrzE/c1ey8+FRjNTutCM14w3ANq0MZvwAoLXfjp0m5TgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABGUlEQVR4nI2QS07EMBBEX9mdzAQ0wAjNAiQkJDbcgC134Aacjy134DBcgEw+LNyTOJ9ByGrVq6q2FxbQ31CyYUNBiflENkTKYcKKBkrslXc3BYESZRwoEMUfati93ggYokCYsyHihJOPA4uIFLGDXhDBw4CQa0Aa3fTgHdg+3KYAkHrnPo16oEe0nnVInXOL1GHX9u0LHah1bpFaROPcAE2WNUhHRIPtyi/EMY0axBF08ietwXXubbf9QNSgGlGnJdWQcep/BpYy//lIj0A+MLL8c6T0R6zkdnm1XpxjBAoj28V+WkwuhSUvHzjMwpkOj4b1zKq7aZAvkvsznVUPs6W4vDhoXHqrnlbK+H+17XP2QL4QMw0zn+kvnQ5DBSUMricAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAdUlEQVR4nNWMsQ2EMBAE58xGCELnVPCBK6D/KogpgNBHhPUgSyCL4D9YrTR3OwY4iNYI5ubxbwjMcO+Aa1RhtbvSzcP7gpDpQkZHp34r8DuqsNpdaVreEVjI0BBpWpqGRcDfC8zX6I8HJmAAxtIifk7gvs9sB1RoiQaMXM2mAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAI0lEQVR4nGNkYGD4z8jIyEAuZhEQECBb86gBowaMGjCYDAAA7f0G3R3UtjoAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAaUlEQVR4nOWRUQqAQAgFx1Yo6CZ7iS7fKYLO8vpaKtitrSCCPkR9yohqPagBApB8Kc5pHk8afgCw+eYRU2LqUPW4TN2JFeO+A8hoe8CNN5imzRGvAixgUitw8hYK+moOw0HDCwCTxkcrLFl6E0fYz3M2AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAo0lEQVR4nKWSwQ3CQAwEx8FJA9RAEdRAD6Q3nvRADVADRfCAI8sjElEUX7iEx3yskbW3ZxOIBibUwSzAacvlyDNdfidQDZ0PpAqe9Nhd6MUwmCPy/LRAjrBdJkGHj8iVYGiv4sYCHI6FX5BN8OgTvDerSjDOUlFbmaXGIbMgkKs0pgFsi7S+AfB2gRxht5kETkdF+mKkybtMXPXPLTrkjrls6Qd8VZ4XsCYoMwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJElEQVR4nI2TwUoDQRBEX9V2MDGIIBKIinoQv8D//yIFwYMIanuYmU7WqHgYqutV98wsywgihUACjDDIVWvUmsqXaiLWR7cdTkjGe80eHOPBhqdlsVnclzHG6WoY3gh1Ld/uQVx9XDYjjQ/Y8yB37d4aOQiIi6NVb6Cgxb9ZXKw6rDAPB8garBqQktiu3mdDUlbYrjyy/JHF9vh174REZDup6pxvWj77DdYvs2A2NNgfdWxOn8vIifW588USDe55FmfnTwdQ+izGNy8neLdZnGwffwxGjQ89bhuiJJaXj70hac8g+08eS/1paLdkcFsxXS97sINpg6eZzz2PJ1JN4+PmrgZa028ave6qAAfxdvPQYAc4kAK8aKpAnUmBFe21KrAnvgBtmnb2K/V8ZwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAu0lEQVR4nJ2P3QkCQQyEv5hYgeCjTWgBlmZxJ/igYAuCXVxifPCU1dtD14VhMjP5YQV2CQbM+c5jT+CQrUPlEyQTLXKDFm1s2wbqC2pNn5jIvyxIsAALZurYPFB7wjELZJmXVIIHHHvVNT32bM2xeajUtuH093XFsQ3Hv68rgVxzkW9mBOqOxQ11UAcJwAsUWvJMToWTdaGN7rfGqczY/36tVkuuii8E9A7u0MfA/oj6Af7B0kHWgppX4zvaer5OqQj4TwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABFElEQVR4nG2SzU7EMAyEZ6ZesdsD0goJFFX0BO//cggJDmsOdtyE3UOV8Tfj/DUEzAkCJAAhtEJTABaQAquOsTNbz/sQiLCm0DL55SG0vVw+QWQTltDMEQvkKt1zgopb84/YuKumiYMMmkyNcBgfCdimK8g4vYgMoxiJ4OmHRmWtracMo8KjrnBfIOvQDmvrAB80Hru51UKH77B2vg1BHwI+rTSxIWvb5bdmuw/POnYwa2vrd15IN/xYodfZQB2Myezt+lUF5fda8TC7hroPQIA9t5/+igseY7+t1AIgpR8XZE/7afh/8VFznWd8wAXTfq0ApMk8mvWPqbjh/TXBYNZkY0NwLx6e+b7lCnODT0zTJGP9B5/INUhpnRAfAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA5UlEQVR4nJWSMU7EMBBF3zgjQbIWbEWH6PZqXAGJK3AFJI7DlpxhkWhoQCRsYXsoErKx5KyS4snvz5eLkS2A1WxoaKjZsMQvuMThEAR55MnGgDDnAUeL0CJ0E9dXbopFhyNSAXoWgTfLhjXQ0J8LXHnw4IBqYJEnkAASUHbfY8CFeScOpMwVvy8WEMFaSB2E9uSWu/B8a2PBcfU6yt1h5f65Cx/YkgvXwBX9OXW5N6xUeEATqA3MuLx/Yf+hSiCxxy1122MEWMXPCeUlH5Sw3+IjEwH5BCt/EbCBc66HScB72G5X8QfkQ57C724FywAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAiElEQVR4nLWQOxKEMAxDpY0LSg8N4RYckTPuKSg5AaEgfHaBGMJQSWPLbzQmWgQMBAKRo4JOsw5fBMz+McACRX8OIIFPQmXygkJ/F6kj7nOCWg8XZoMF4PX4wGpyGWCAbzVwJNys0UtZ6Trc6l9wN48qTa2Xgmcqjdd00GzgMxtEz2/Xhyc/GAF6Ul6L/rJhVwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA7klEQVR4nJWRTW6DMBCFvzceTJKKhCopUjftJSL1/jfqOpt0gcHGhERdoHnz/mwZfcG9iZGmbZlmCAE3G2cImBmh+KbdJPznesXSYmaENE2aOZNQzUvIDP8ehmyYhH9M/+x7VJErDDNeaIBfjseFeRKs2rVR6OeuWxoqc7mXwXQKfurewEYBE0pCaRo1Zk4mSNjb4ZCDC2PmZEl7wHm8HDK5KsllGeeJhLfvuxTO5KpwIyyBx37/1LAqoi447dYn8eIGsy48dnvAkiA0vs4LLBh/Kh7jx1PDVLzFe9OcC1N5kzr4uES32+/9dWAb/wEBEQqZWlxOjgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABDklEQVR4nIWSzU7DQAyEPzsGVVWpqtCqtFx5V56X0AuC1hzW+5NtBAfLs+Px2FEsT6t3H1wYiHBFETTeGatTcYQg2Nt1hwLqlVRoRIG9wRA6wV6v645MInFmXK2BeObAzrfHRkQV5SzdG1CNLGAvg6ACgkcGFUckmgOrgBRcsx23X4hmshV0WPtaCjuMlxBQyF6UmueRt7BxnBYF/xlIfJLtxg/4y6DZjIW6bZ+nxUI17QyaYQjYJj6hNaGZXPiZhjLA1vvpbmLGdI3En6DR2+pQN6CZWkyKAQUXTh17OH7eFeJeZ8a1now8OON0aW44CbzkxHs2UfDQety5fZ9vXSHdrcexe9fksZWrg/7wCwgIqJV0KIBtAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAACHklEQVR4nG3Ty04UWRgH8N8JanAhxmjGSwZRHEeFhq7CGC8xjsYLj+DeN5i9macwvoA+hOLdKI7GUF00F7txFBtcaLzAJDiRWRwXVaQRXVTOqr7vnP/v+0Ikgr1IkWAQB9HDfCeZ4huPvJhndua4pYlz1E4KkndR/otdkd9QESUaUs9V3bfeCOboKounqKIf+whLUczLDjVMLvDPq27vpi6Q/0F2hNoBmz4Ge3EIVe+lahKPhehEZBToKzukGMDv6KbZURTPUF+mMUerMWx5/Kzg4qMoq+hobtZd/jPgq8SU1FP97uEmFtm+qsFgcZ0QF8WPXe0OOabe8/plv8+T58lPMTZE3mPrF/aVF61qGTImLPgzbnYLE6wvA1rRqCiS3VUUXsmpvsTMmy7z08OCv65G2VFqfTrnOvXgAAb9K1WXeKLXnfIZseBO2s8IcVq0p/BeecZ4ZPots822t6xKvt3OyH70ixJN4ZlrseqBDUbQKryrGCrPvsL7v23f5zS5wMtXvwquX4ry023vD2u9c4lHdrjtB+6EEG+IK94z69pjW/+fRotW44Ll+lmyE9QGdDTa3BVfhWuymPq79B7BQuG9emwPFbvy6SfcYctoX/w8eZ7aKbLDhfcSveW4V7WkxiQe+o57sMgpxCuiiiLaNd4TX2jObjL/YlgcP0N2jKzg3l0ubLhsMSYmpEb1uosbhfeeNXtRrvfbjavWG98AAxTh8XusPgwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABJElEQVR4nIWNsU7EMBBEZ9dLS0uHTEVDgfhCPhGJii4ddwiETkggQbxD4bWdEE5XWNmZeTORe5CegP5scW8eN7lNdxzhf4UT2qbbuYuSAOoASwKYCFeEJpgAV3Zt0813LWgUInTlQkeuiwFtA9dfUAVUiaSAJPZblRAlrOVCSGcrZ1f5EyIcpgASsCqhrSQtJ0QGa/niow7IKEm7MQoqqJ4QAvbb8vmhAhglESJFWeEQ/MkROQjLZ+/dVHgFGX9vjzHiUeTwLf+8QUkIY4AxwAo0WEInX2eWD691wAMmkdrtAXoMuNdx98gIy7uXCjTTicR2D6/lqawzu5z2QCHgBNzj9qrL6a/haV+Nshg4ppcD4Rken7fQ5ns8Mzzs1tB8YmBeZ7/8Q4IZhexdKgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAc0lEQVR4nM2PsQ2AMAwEz+BxYIRILMDOZBMGSWIaiggRAUkKipPs1//LFlgNBmDMuO5lXWGqDsOAwvxgvA9mF8yvjCVNRMxUoZplaQj3KBDv214Qi9EIgVqUbasOdykQc67pBUlgCfhCBOycdX8w/LMg5wDZi8q+sNgjfAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAI0lEQVR4nGP8z/D/PwPjfwZyMQuDwAeyNY8aMGrAqAGDyQAAMagCSiGnPaAAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAALklEQVR4nGNkaEj7z8jAwMDIyMBADs0iwEGeRuINgLEH3gU4XDLqglEXDBMXAADR8QTr7Ck7QAAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAzklEQVR4nK2NvQ4BURCFz/yIQjwDjYIt1RKvqfRUG9EQHYXoLNkZxb1Zi70rNorJnJk55xuaz1fuIjBmuAh+1XrKss5hF4EeZ7OkCVICdAP4BkjsXIRdnPU6yeOhVlQPtJfSaA0lehbwOrfu+tDlcNgxHHUF6BKuAF3DRNDFYAArHWYeel2bw0qr5rs5itJePLrLzw2hd5Alby0A+9w1PKkB0l/SAIMethcwC1gEzBy6aKVFBT3hBk/QOp5m8Zg2hf4XwKeH9pvcv31pAzwAW0QJ2B0JSlkAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABB0lEQVR4nIWROU4DQRBF368uEMjCxiBwSIaEuAZH4P4ZgSMCEhujaYJeZ8ZLMKq/vK4KRh/6jMiQiX5iAgmZgQR1CnW9++a5leWzoq3T4y5KYODxaV3LEh7zUQJlXTPww+MCRIULGNUgBFjTfef7h6sZnC7Mlxybvlvb5OppeNYBvl/pIniu9997gEtwPLnYD6shBfRlrACd7ztl7cPqL0GUYjoTKMX8d1svwG+Xu1paBcfemPhu+mb5U83o41w2VO8vd9+YBkIFUhl6rYhR8pINacHrYpsW5AdttgcFTjMdS/2Av9181QuhPMxwoM9jW1h1xN+vt5jIMARBQFkLQ9kr+5C1YRj/Y5iTbVtyNssAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVR4nGNkYPj/n4GRgYGB8T8DOTQLg8APsjTSywAYe9QFA+ECdMWjLhhIFxA2AAB0XII03rOYTwAAAABJRU5ErkJggg==\"","module.exports = \"precision mediump float;\\n\\nvarying vec2 vTextureCoord;\\n\\nuniform sampler2D uSampler;\\nuniform sampler2D colorSampler;\\nuniform vec3 background;\\n\\nvoid main(void)\\n{\\n    vec4 original = texture2D(uSampler, vTextureCoord);\\n    float scaled = floor((original.r * 255.0) + 0.5);\\n    // The textures are 16x16 LUTs where each texture pixel represents a mapping from\\n    // a gray value to a color\\n    float ycoord = scaled/16.0;\\n    float xcoord = mod(scaled, 16.0);\\n    vec2 colorCoord = vec2(clamp(xcoord/16.0, 0.0, 1.0), clamp(ycoord/16.0, 0.0, 1.0));\\n    if ((xcoord <= 0.0) && (ycoord <= 0.0)) {\\n        gl_FragColor = vec4(background.x,background.y, background.z, 1.0); //force 0 background to background\\n    } else {\\n        gl_FragColor = texture2D(colorSampler, colorCoord);\\n    }\\n}\\n\"","/* FileSaver.js\n * A saveAs() FileSaver implementation.\n * 1.3.2\n * 2016-06-16 18:25:19\n *\n * By Eli Grey, http://eligrey.com\n * License: MIT\n *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md\n */\n\n/*global self */\n/*jslint bitwise: true, indent: 4, laxbreak: true, laxcomma: true, smarttabs: true, plusplus: true */\n\n/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */\n\nvar saveAs = saveAs || (function(view) {\n\t\"use strict\";\n\t// IE <10 is explicitly unsupported\n\tif (typeof view === \"undefined\" || typeof navigator !== \"undefined\" && /MSIE [1-9]\\./.test(navigator.userAgent)) {\n\t\treturn;\n\t}\n\tvar\n\t\t  doc = view.document\n\t\t  // only get URL when necessary in case Blob.js hasn't overridden it yet\n\t\t, get_URL = function() {\n\t\t\treturn view.URL || view.webkitURL || view;\n\t\t}\n\t\t, save_link = doc.createElementNS(\"http://www.w3.org/1999/xhtml\", \"a\")\n\t\t, can_use_save_link = \"download\" in save_link\n\t\t, click = function(node) {\n\t\t\tvar event = new MouseEvent(\"click\");\n\t\t\tnode.dispatchEvent(event);\n\t\t}\n\t\t, is_safari = /constructor/i.test(view.HTMLElement) || view.safari\n\t\t, is_chrome_ios =/CriOS\\/[\\d]+/.test(navigator.userAgent)\n\t\t, throw_outside = function(ex) {\n\t\t\t(view.setImmediate || view.setTimeout)(function() {\n\t\t\t\tthrow ex;\n\t\t\t}, 0);\n\t\t}\n\t\t, force_saveable_type = \"application/octet-stream\"\n\t\t// the Blob API is fundamentally broken as there is no \"downloadfinished\" event to subscribe to\n\t\t, arbitrary_revoke_timeout = 1000 * 40 // in ms\n\t\t, revoke = function(file) {\n\t\t\tvar revoker = function() {\n\t\t\t\tif (typeof file === \"string\") { // file is an object URL\n\t\t\t\t\tget_URL().revokeObjectURL(file);\n\t\t\t\t} else { // file is a File\n\t\t\t\t\tfile.remove();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(revoker, arbitrary_revoke_timeout);\n\t\t}\n\t\t, dispatch = function(filesaver, event_types, event) {\n\t\t\tevent_types = [].concat(event_types);\n\t\t\tvar i = event_types.length;\n\t\t\twhile (i--) {\n\t\t\t\tvar listener = filesaver[\"on\" + event_types[i]];\n\t\t\t\tif (typeof listener === \"function\") {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tlistener.call(filesaver, event || filesaver);\n\t\t\t\t\t} catch (ex) {\n\t\t\t\t\t\tthrow_outside(ex);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t, auto_bom = function(blob) {\n\t\t\t// prepend BOM for UTF-8 XML and text/* types (including HTML)\n\t\t\t// note: your browser will automatically convert UTF-16 U+FEFF to EF BB BF\n\t\t\tif (/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(blob.type)) {\n\t\t\t\treturn new Blob([String.fromCharCode(0xFEFF), blob], {type: blob.type});\n\t\t\t}\n\t\t\treturn blob;\n\t\t}\n\t\t, FileSaver = function(blob, name, no_auto_bom) {\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\t// First try a.download, then web filesystem, then object URLs\n\t\t\tvar\n\t\t\t\t  filesaver = this\n\t\t\t\t, type = blob.type\n\t\t\t\t, force = type === force_saveable_type\n\t\t\t\t, object_url\n\t\t\t\t, dispatch_all = function() {\n\t\t\t\t\tdispatch(filesaver, \"writestart progress write writeend\".split(\" \"));\n\t\t\t\t}\n\t\t\t\t// on any filesys errors revert to saving with object URLs\n\t\t\t\t, fs_error = function() {\n\t\t\t\t\tif ((is_chrome_ios || (force && is_safari)) && view.FileReader) {\n\t\t\t\t\t\t// Safari doesn't allow downloading of blob urls\n\t\t\t\t\t\tvar reader = new FileReader();\n\t\t\t\t\t\treader.onloadend = function() {\n\t\t\t\t\t\t\tvar url = is_chrome_ios ? reader.result : reader.result.replace(/^data:[^;]*;/, 'data:attachment/file;');\n\t\t\t\t\t\t\tvar popup = view.open(url, '_blank');\n\t\t\t\t\t\t\tif(!popup) view.location.href = url;\n\t\t\t\t\t\t\turl=undefined; // release reference before dispatching\n\t\t\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\t\t\tdispatch_all();\n\t\t\t\t\t\t};\n\t\t\t\t\t\treader.readAsDataURL(blob);\n\t\t\t\t\t\tfilesaver.readyState = filesaver.INIT;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\t// don't create more object URLs than needed\n\t\t\t\t\tif (!object_url) {\n\t\t\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\t\t}\n\t\t\t\t\tif (force) {\n\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tvar opened = view.open(object_url, \"_blank\");\n\t\t\t\t\t\tif (!opened) {\n\t\t\t\t\t\t\t// Apple does not allow window.open, see https://developer.apple.com/library/safari/documentation/Tools/Conceptual/SafariExtensionGuide/WorkingwithWindowsandTabs/WorkingwithWindowsandTabs.html\n\t\t\t\t\t\t\tview.location.href = object_url;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t}\n\t\t\t;\n\t\t\tfilesaver.readyState = filesaver.INIT;\n\n\t\t\tif (can_use_save_link) {\n\t\t\t\tobject_url = get_URL().createObjectURL(blob);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tsave_link.href = object_url;\n\t\t\t\t\tsave_link.download = name;\n\t\t\t\t\tclick(save_link);\n\t\t\t\t\tdispatch_all();\n\t\t\t\t\trevoke(object_url);\n\t\t\t\t\tfilesaver.readyState = filesaver.DONE;\n\t\t\t\t});\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfs_error();\n\t\t}\n\t\t, FS_proto = FileSaver.prototype\n\t\t, saveAs = function(blob, name, no_auto_bom) {\n\t\t\treturn new FileSaver(blob, name || blob.name || \"download\", no_auto_bom);\n\t\t}\n\t;\n\t// IE 10+ (native saveAs)\n\tif (typeof navigator !== \"undefined\" && navigator.msSaveOrOpenBlob) {\n\t\treturn function(blob, name, no_auto_bom) {\n\t\t\tname = name || blob.name || \"download\";\n\n\t\t\tif (!no_auto_bom) {\n\t\t\t\tblob = auto_bom(blob);\n\t\t\t}\n\t\t\treturn navigator.msSaveOrOpenBlob(blob, name);\n\t\t};\n\t}\n\n\tFS_proto.abort = function(){};\n\tFS_proto.readyState = FS_proto.INIT = 0;\n\tFS_proto.WRITING = 1;\n\tFS_proto.DONE = 2;\n\n\tFS_proto.error =\n\tFS_proto.onwritestart =\n\tFS_proto.onprogress =\n\tFS_proto.onwrite =\n\tFS_proto.onabort =\n\tFS_proto.onerror =\n\tFS_proto.onwriteend =\n\t\tnull;\n\n\treturn saveAs;\n}(\n\t   typeof self !== \"undefined\" && self\n\t|| typeof window !== \"undefined\" && window\n\t|| this.content\n));\n// `self` is undefined in Firefox for Android content script context\n// while `this` is nsIContentFrameMessageManager\n// with an attribute `content` that corresponds to the window\n\nif (typeof module !== \"undefined\" && module.exports) {\n  module.exports.saveAs = saveAs;\n} else if ((typeof define !== \"undefined\" && define !== null) && (define.amd !== null)) {\n  define(\"FileSaver.js\", function() {\n    return saveAs;\n  });\n}\n","module.exports = function() {\n\tthrow new Error(\"define cannot be used indirect\");\n};\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', './clipboard-action', 'tiny-emitter', 'good-listener'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('./clipboard-action'), require('tiny-emitter'), require('good-listener'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.clipboardAction, global.tinyEmitter, global.goodListener);\n        global.clipboard = mod.exports;\n    }\n})(this, function (module, _clipboardAction, _tinyEmitter, _goodListener) {\n    'use strict';\n\n    var _clipboardAction2 = _interopRequireDefault(_clipboardAction);\n\n    var _tinyEmitter2 = _interopRequireDefault(_tinyEmitter);\n\n    var _goodListener2 = _interopRequireDefault(_goodListener);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    function _possibleConstructorReturn(self, call) {\n        if (!self) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== \"function\" && superClass !== null) {\n            throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                enumerable: false,\n                writable: true,\n                configurable: true\n            }\n        });\n        if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n    }\n\n    var Clipboard = function (_Emitter) {\n        _inherits(Clipboard, _Emitter);\n\n        /**\n         * @param {String|HTMLElement|HTMLCollection|NodeList} trigger\n         * @param {Object} options\n         */\n        function Clipboard(trigger, options) {\n            _classCallCheck(this, Clipboard);\n\n            var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this));\n\n            _this.resolveOptions(options);\n            _this.listenClick(trigger);\n            return _this;\n        }\n\n        /**\n         * Defines if attributes would be resolved using internal setter functions\n         * or custom functions that were passed in the constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(Clipboard, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = typeof options.action === 'function' ? options.action : this.defaultAction;\n                this.target = typeof options.target === 'function' ? options.target : this.defaultTarget;\n                this.text = typeof options.text === 'function' ? options.text : this.defaultText;\n                this.container = _typeof(options.container) === 'object' ? options.container : document.body;\n            }\n        }, {\n            key: 'listenClick',\n            value: function listenClick(trigger) {\n                var _this2 = this;\n\n                this.listener = (0, _goodListener2.default)(trigger, 'click', function (e) {\n                    return _this2.onClick(e);\n                });\n            }\n        }, {\n            key: 'onClick',\n            value: function onClick(e) {\n                var trigger = e.delegateTarget || e.currentTarget;\n\n                if (this.clipboardAction) {\n                    this.clipboardAction = null;\n                }\n\n                this.clipboardAction = new _clipboardAction2.default({\n                    action: this.action(trigger),\n                    target: this.target(trigger),\n                    text: this.text(trigger),\n                    container: this.container,\n                    trigger: trigger,\n                    emitter: this\n                });\n            }\n        }, {\n            key: 'defaultAction',\n            value: function defaultAction(trigger) {\n                return getAttributeValue('action', trigger);\n            }\n        }, {\n            key: 'defaultTarget',\n            value: function defaultTarget(trigger) {\n                var selector = getAttributeValue('target', trigger);\n\n                if (selector) {\n                    return document.querySelector(selector);\n                }\n            }\n        }, {\n            key: 'defaultText',\n            value: function defaultText(trigger) {\n                return getAttributeValue('text', trigger);\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.listener.destroy();\n\n                if (this.clipboardAction) {\n                    this.clipboardAction.destroy();\n                    this.clipboardAction = null;\n                }\n            }\n        }], [{\n            key: 'isSupported',\n            value: function isSupported() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : ['copy', 'cut'];\n\n                var actions = typeof action === 'string' ? [action] : action;\n                var support = !!document.queryCommandSupported;\n\n                actions.forEach(function (action) {\n                    support = support && !!document.queryCommandSupported(action);\n                });\n\n                return support;\n            }\n        }]);\n\n        return Clipboard;\n    }(_tinyEmitter2.default);\n\n    /**\n     * Helper function to retrieve attribute value.\n     * @param {String} suffix\n     * @param {Element} element\n     */\n    function getAttributeValue(suffix, element) {\n        var attribute = 'data-clipboard-' + suffix;\n\n        if (!element.hasAttribute(attribute)) {\n            return;\n        }\n\n        return element.getAttribute(attribute);\n    }\n\n    module.exports = Clipboard;\n});","(function (global, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(['module', 'select'], factory);\n    } else if (typeof exports !== \"undefined\") {\n        factory(module, require('select'));\n    } else {\n        var mod = {\n            exports: {}\n        };\n        factory(mod, global.select);\n        global.clipboardAction = mod.exports;\n    }\n})(this, function (module, _select) {\n    'use strict';\n\n    var _select2 = _interopRequireDefault(_select);\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule ? obj : {\n            default: obj\n        };\n    }\n\n    var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n        return typeof obj;\n    } : function (obj) {\n        return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError(\"Cannot call a class as a function\");\n        }\n    }\n\n    var _createClass = function () {\n        function defineProperties(target, props) {\n            for (var i = 0; i < props.length; i++) {\n                var descriptor = props[i];\n                descriptor.enumerable = descriptor.enumerable || false;\n                descriptor.configurable = true;\n                if (\"value\" in descriptor) descriptor.writable = true;\n                Object.defineProperty(target, descriptor.key, descriptor);\n            }\n        }\n\n        return function (Constructor, protoProps, staticProps) {\n            if (protoProps) defineProperties(Constructor.prototype, protoProps);\n            if (staticProps) defineProperties(Constructor, staticProps);\n            return Constructor;\n        };\n    }();\n\n    var ClipboardAction = function () {\n        /**\n         * @param {Object} options\n         */\n        function ClipboardAction(options) {\n            _classCallCheck(this, ClipboardAction);\n\n            this.resolveOptions(options);\n            this.initSelection();\n        }\n\n        /**\n         * Defines base properties passed from constructor.\n         * @param {Object} options\n         */\n\n\n        _createClass(ClipboardAction, [{\n            key: 'resolveOptions',\n            value: function resolveOptions() {\n                var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n                this.action = options.action;\n                this.container = options.container;\n                this.emitter = options.emitter;\n                this.target = options.target;\n                this.text = options.text;\n                this.trigger = options.trigger;\n\n                this.selectedText = '';\n            }\n        }, {\n            key: 'initSelection',\n            value: function initSelection() {\n                if (this.text) {\n                    this.selectFake();\n                } else if (this.target) {\n                    this.selectTarget();\n                }\n            }\n        }, {\n            key: 'selectFake',\n            value: function selectFake() {\n                var _this = this;\n\n                var isRTL = document.documentElement.getAttribute('dir') == 'rtl';\n\n                this.removeFake();\n\n                this.fakeHandlerCallback = function () {\n                    return _this.removeFake();\n                };\n                this.fakeHandler = this.container.addEventListener('click', this.fakeHandlerCallback) || true;\n\n                this.fakeElem = document.createElement('textarea');\n                // Prevent zooming on iOS\n                this.fakeElem.style.fontSize = '12pt';\n                // Reset box model\n                this.fakeElem.style.border = '0';\n                this.fakeElem.style.padding = '0';\n                this.fakeElem.style.margin = '0';\n                // Move element out of screen horizontally\n                this.fakeElem.style.position = 'absolute';\n                this.fakeElem.style[isRTL ? 'right' : 'left'] = '-9999px';\n                // Move element to the same position vertically\n                var yPosition = window.pageYOffset || document.documentElement.scrollTop;\n                this.fakeElem.style.top = yPosition + 'px';\n\n                this.fakeElem.setAttribute('readonly', '');\n                this.fakeElem.value = this.text;\n\n                this.container.appendChild(this.fakeElem);\n\n                this.selectedText = (0, _select2.default)(this.fakeElem);\n                this.copyText();\n            }\n        }, {\n            key: 'removeFake',\n            value: function removeFake() {\n                if (this.fakeHandler) {\n                    this.container.removeEventListener('click', this.fakeHandlerCallback);\n                    this.fakeHandler = null;\n                    this.fakeHandlerCallback = null;\n                }\n\n                if (this.fakeElem) {\n                    this.container.removeChild(this.fakeElem);\n                    this.fakeElem = null;\n                }\n            }\n        }, {\n            key: 'selectTarget',\n            value: function selectTarget() {\n                this.selectedText = (0, _select2.default)(this.target);\n                this.copyText();\n            }\n        }, {\n            key: 'copyText',\n            value: function copyText() {\n                var succeeded = void 0;\n\n                try {\n                    succeeded = document.execCommand(this.action);\n                } catch (err) {\n                    succeeded = false;\n                }\n\n                this.handleResult(succeeded);\n            }\n        }, {\n            key: 'handleResult',\n            value: function handleResult(succeeded) {\n                this.emitter.emit(succeeded ? 'success' : 'error', {\n                    action: this.action,\n                    text: this.selectedText,\n                    trigger: this.trigger,\n                    clearSelection: this.clearSelection.bind(this)\n                });\n            }\n        }, {\n            key: 'clearSelection',\n            value: function clearSelection() {\n                if (this.trigger) {\n                    this.trigger.focus();\n                }\n\n                window.getSelection().removeAllRanges();\n            }\n        }, {\n            key: 'destroy',\n            value: function destroy() {\n                this.removeFake();\n            }\n        }, {\n            key: 'action',\n            set: function set() {\n                var action = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'copy';\n\n                this._action = action;\n\n                if (this._action !== 'copy' && this._action !== 'cut') {\n                    throw new Error('Invalid \"action\" value, use either \"copy\" or \"cut\"');\n                }\n            },\n            get: function get() {\n                return this._action;\n            }\n        }, {\n            key: 'target',\n            set: function set(target) {\n                if (target !== undefined) {\n                    if (target && (typeof target === 'undefined' ? 'undefined' : _typeof(target)) === 'object' && target.nodeType === 1) {\n                        if (this.action === 'copy' && target.hasAttribute('disabled')) {\n                            throw new Error('Invalid \"target\" attribute. Please use \"readonly\" instead of \"disabled\" attribute');\n                        }\n\n                        if (this.action === 'cut' && (target.hasAttribute('readonly') || target.hasAttribute('disabled'))) {\n                            throw new Error('Invalid \"target\" attribute. You can\\'t cut text from elements with \"readonly\" or \"disabled\" attributes');\n                        }\n\n                        this._target = target;\n                    } else {\n                        throw new Error('Invalid \"target\" value, use a valid Element');\n                    }\n                }\n            },\n            get: function get() {\n                return this._target;\n            }\n        }]);\n\n        return ClipboardAction;\n    }();\n\n    module.exports = ClipboardAction;\n});","function select(element) {\n    var selectedText;\n\n    if (element.nodeName === 'SELECT') {\n        element.focus();\n\n        selectedText = element.value;\n    }\n    else if (element.nodeName === 'INPUT' || element.nodeName === 'TEXTAREA') {\n        var isReadOnly = element.hasAttribute('readonly');\n\n        if (!isReadOnly) {\n            element.setAttribute('readonly', '');\n        }\n\n        element.select();\n        element.setSelectionRange(0, element.value.length);\n\n        if (!isReadOnly) {\n            element.removeAttribute('readonly');\n        }\n\n        selectedText = element.value;\n    }\n    else {\n        if (element.hasAttribute('contenteditable')) {\n            element.focus();\n        }\n\n        var selection = window.getSelection();\n        var range = document.createRange();\n\n        range.selectNodeContents(element);\n        selection.removeAllRanges();\n        selection.addRange(range);\n\n        selectedText = selection.toString();\n    }\n\n    return selectedText;\n}\n\nmodule.exports = select;\n","function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","var is = require('./is');\nvar delegate = require('delegate');\n\n/**\n * Validates all params and calls the right\n * listener function based on its target type.\n *\n * @param {String|HTMLElement|HTMLCollection|NodeList} target\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listen(target, type, callback) {\n    if (!target && !type && !callback) {\n        throw new Error('Missing required arguments');\n    }\n\n    if (!is.string(type)) {\n        throw new TypeError('Second argument must be a String');\n    }\n\n    if (!is.fn(callback)) {\n        throw new TypeError('Third argument must be a Function');\n    }\n\n    if (is.node(target)) {\n        return listenNode(target, type, callback);\n    }\n    else if (is.nodeList(target)) {\n        return listenNodeList(target, type, callback);\n    }\n    else if (is.string(target)) {\n        return listenSelector(target, type, callback);\n    }\n    else {\n        throw new TypeError('First argument must be a String, HTMLElement, HTMLCollection, or NodeList');\n    }\n}\n\n/**\n * Adds an event listener to a HTML element\n * and returns a remove listener function.\n *\n * @param {HTMLElement} node\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNode(node, type, callback) {\n    node.addEventListener(type, callback);\n\n    return {\n        destroy: function() {\n            node.removeEventListener(type, callback);\n        }\n    }\n}\n\n/**\n * Add an event listener to a list of HTML elements\n * and returns a remove listener function.\n *\n * @param {NodeList|HTMLCollection} nodeList\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenNodeList(nodeList, type, callback) {\n    Array.prototype.forEach.call(nodeList, function(node) {\n        node.addEventListener(type, callback);\n    });\n\n    return {\n        destroy: function() {\n            Array.prototype.forEach.call(nodeList, function(node) {\n                node.removeEventListener(type, callback);\n            });\n        }\n    }\n}\n\n/**\n * Add an event listener to a selector\n * and returns a remove listener function.\n *\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Object}\n */\nfunction listenSelector(selector, type, callback) {\n    return delegate(document.body, selector, type, callback);\n}\n\nmodule.exports = listen;\n","/**\n * Check if argument is a HTML element.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.node = function(value) {\n    return value !== undefined\n        && value instanceof HTMLElement\n        && value.nodeType === 1;\n};\n\n/**\n * Check if argument is a list of HTML elements.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.nodeList = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return value !== undefined\n        && (type === '[object NodeList]' || type === '[object HTMLCollection]')\n        && ('length' in value)\n        && (value.length === 0 || exports.node(value[0]));\n};\n\n/**\n * Check if argument is a string.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.string = function(value) {\n    return typeof value === 'string'\n        || value instanceof String;\n};\n\n/**\n * Check if argument is a function.\n *\n * @param {Object} value\n * @return {Boolean}\n */\nexports.fn = function(value) {\n    var type = Object.prototype.toString.call(value);\n\n    return type === '[object Function]';\n};\n","var closest = require('./closest');\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n","var DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n","/**\n * k-d Tree JavaScript - V 1.01\n *\n * https://github.com/ubilabs/kd-tree-javascript\n *\n * @author Mircea Pricop <pricop@ubilabs.net>, 2012\n * @author Martin Kleppe <kleppe@ubilabs.net>, 2012\n * @author Ubilabs http://ubilabs.net, 2012\n * @license MIT License <http://www.opensource.org/licenses/mit-license.php>\n */!function(t,n){\"function\"==typeof define&&define.amd?define([\"exports\"],n):n(\"object\"==typeof exports?exports:t)}(this,function(t){function n(t,n,o){this.obj=t,this.left=null,this.right=null,this.parent=o,this.dimension=n}function o(t){this.content=[],this.scoreFunction=t}o.prototype={push:function(t){this.content.push(t),this.bubbleUp(this.content.length-1)},pop:function(){var t=this.content[0],n=this.content.pop();return this.content.length>0&&(this.content[0]=n,this.sinkDown(0)),t},peek:function(){return this.content[0]},remove:function(t){for(var n=this.content.length,o=0;o<n;o++)if(this.content[o]==t){var i=this.content.pop();return void(o!=n-1&&(this.content[o]=i,this.scoreFunction(i)<this.scoreFunction(t)?this.bubbleUp(o):this.sinkDown(o)))}throw new Error(\"Node not found.\")},size:function(){return this.content.length},bubbleUp:function(t){for(var n=this.content[t];t>0;){var o=Math.floor((t+1)/2)-1,i=this.content[o];if(!(this.scoreFunction(n)<this.scoreFunction(i)))break;this.content[o]=n,this.content[t]=i,t=o}},sinkDown:function(t){for(var n=this.content.length,o=this.content[t],i=this.scoreFunction(o);;){var e=2*(t+1),r=e-1,l=null;if(r<n){var u=this.content[r],h=this.scoreFunction(u);h<i&&(l=r)}if(e<n){var s=this.content[e];this.scoreFunction(s)<(null==l?i:h)&&(l=e)}if(null==l)break;this.content[t]=this.content[l],this.content[l]=o,t=l}}},t.kdTree=function(t,i,e){function r(t,o,i){var l,u,h=o%e.length;return 0===t.length?null:1===t.length?new n(t[0],h,i):(t.sort(function(t,n){return t[e[h]]-n[e[h]]}),l=Math.floor(t.length/2),u=new n(t[l],h,i),u.left=r(t.slice(0,l),o+1,u),u.right=r(t.slice(l+1),o+1,u),u)}var l=this;Array.isArray(t)?this.root=r(t,0,null):function(t){function n(t){t.left&&(t.left.parent=t,n(t.left)),t.right&&(t.right.parent=t,n(t.right))}l.root=t,n(l.root)}(t),this.toJSON=function(t){t||(t=this.root);var o=new n(t.obj,t.dimension,null);return t.left&&(o.left=l.toJSON(t.left)),t.right&&(o.right=l.toJSON(t.right)),o},this.insert=function(t){function o(n,i){if(null===n)return i;var r=e[n.dimension];return t[r]<n.obj[r]?o(n.left,n):o(n.right,n)}var i,r,l=o(this.root,null);null!==l?(i=new n(t,(l.dimension+1)%e.length,l),r=e[l.dimension],t[r]<l.obj[r]?l.left=i:l.right=i):this.root=new n(t,0,null)},this.remove=function(t){function n(o){if(null===o)return null;if(o.obj===t)return o;var i=e[o.dimension];return t[i]<o.obj[i]?n(o.left,o):n(o.right,o)}function o(t){function n(t,o){var i,r,l,u,h;return null===t?null:(i=e[o],t.dimension===o?null!==t.left?n(t.left,o):t:(r=t.obj[i],l=n(t.left,o),u=n(t.right,o),h=t,null!==l&&l.obj[i]<r&&(h=l),null!==u&&u.obj[i]<h.obj[i]&&(h=u),h))}var i,r,u;if(null===t.left&&null===t.right)return null===t.parent?void(l.root=null):(u=e[t.parent.dimension],void(t.obj[u]<t.parent.obj[u]?t.parent.left=null:t.parent.right=null));null!==t.right?(r=(i=n(t.right,t.dimension)).obj,o(i),t.obj=r):(r=(i=n(t.left,t.dimension)).obj,o(i),t.right=t.left,t.left=null,t.obj=r)}var i;null!==(i=n(l.root))&&o(i)},this.nearest=function(t,n,r){function u(o){function r(t,o){f.push([t,o]),f.size()>n&&f.pop()}var l,h,s,c,a=e[o.dimension],g=i(t,o.obj),p={};for(c=0;c<e.length;c+=1)c===o.dimension?p[e[c]]=t[e[c]]:p[e[c]]=o.obj[e[c]];h=i(p,o.obj),null!==o.right||null!==o.left?(u(l=null===o.right?o.left:null===o.left?o.right:t[a]<o.obj[a]?o.left:o.right),(f.size()<n||g<f.peek()[1])&&r(o,g),(f.size()<n||Math.abs(h)<f.peek()[1])&&null!==(s=l===o.left?o.right:o.left)&&u(s)):(f.size()<n||g<f.peek()[1])&&r(o,g)}var h,s,f;if(f=new o(function(t){return-t[1]}),r)for(h=0;h<n;h+=1)f.push([null,r]);for(l.root&&u(l.root),s=[],h=0;h<Math.min(n,f.content.length);h+=1)f.content[h][0]&&s.push([f.content[h][0].obj,f.content[h][1]]);return s},this.balanceFactor=function(){function t(n){return null===n?0:Math.max(t(n.left),t(n.right))+1}function n(t){return null===t?0:n(t.left)+n(t.right)+1}return t(l.root)/(Math.log(n(l.root))/Math.log(2))}},t.BinaryHeap=o});\n","/*───────────────────────────────────────────────────────────────────────────*\\\n │  Copyright (C) 2014 PayPal                                                 │\n │                                                                            │\n │  Licensed under the Apache License, Version 2.0 (the \"License\");           │\n │  you may not use this file except in compliance with the License.          │\n │  You may obtain a copy of the License at                                   │\n │                                                                            │\n │    http://www.apache.org/licenses/LICENSE-2.0                              │\n │                                                                            │\n │  Unless required by applicable law or agreed to in writing, software       │\n │  distributed under the License is distributed on an \"AS IS\" BASIS,         │\n │  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  │\n │  See the License for the specific language governing permissions and       │\n │  limitations under the License.                                            │\n \\*───────────────────────────────────────────────────────────────────────────*/\n\n/* global window */\n/* global define */\n\n(function (factory) {\n    \"use strict\";\n\n    var legalize = factory();\n\n    // set globally for use with plain javascript\n    if (typeof window !== \"undefined\") {\n        window.Legalize = legalize;\n    } else {\n        this.Legalize = legalize;\n    }\n\n    // define module for use with requireJs\n    if (typeof define === \"function\" && define.amd) {\n        define(\"Legalize\", [], legalize);\n    }\n}(function (undefined) {\n    \"use strict\";\n\n    function isFunc(f) {\n        return typeof f === 'function';\n    }\n\n    // es5 shims\n    if (!Array.isArray) {\n        Array.isArray = function (arg) {\n            return Object.prototype.toString.call(arg) === '[object Array]';\n        };\n    }\n\n    var ES5Object = {\n\n        freeze: isFunc(Object.freeze) ? Object.freeze : function (x) {\n            // Object.freeze is used to freeze the publicly exposed API.\n            // This will work on all modern browsers, so \"attacking\"\n            // (= shooting yourself in the foot) the API will work only in legacy browsers.\n            // Therefore: The shim just returns the thing and that's all it does.\n            // This is the same behaviour as in github.com/es-shims/es5-shim .\n            return x;\n        },\n\n        keys: isFunc(Object.keys) ? Object.keys : (function () {\n            // Object.keys() is not available in some legacy browsers.\n            // This shim is taken (and slightly modified to make jshint happy) from\n            // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\n\n            var hasOwnProperty = Object.prototype.hasOwnProperty;\n            var hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString');\n            var dontEnums = [\n                'toString',\n                'toLocaleString',\n                'valueOf',\n                'hasOwnProperty',\n                'isPrototypeOf',\n                'propertyIsEnumerable',\n                'constructor'\n            ];\n            var dontEnumsLength = dontEnums.length;\n\n            return function (obj) {\n                var result = [], prop, i;\n\n                for (prop in obj) {\n                    if (hasOwnProperty.call(obj, prop)) {\n                        result.push(prop);\n                    }\n                }\n\n                if (hasDontEnumBug) {\n                    for (i = 0; i < dontEnumsLength; i += 1) {\n                        if (hasOwnProperty.call(obj, dontEnums[i])) {\n                            result.push(dontEnums[i]);\n                        }\n                    }\n                }\n                return result;\n            };\n        }()),\n\n        create: isFunc(Object.create) ? Object.create : function (object) {\n            // Object.create() is not available in some legacy browsers.\n            // This is not a proper shim (for example it does not support a second argument).\n            // The implementation here is however all that is needed for legalize.\n            function F() {}\n            F.prototype = object;\n\n            return new F();\n        }\n    };\n\n    var Legalize = (function (Object) {\n\n        // the `Object` argument overloads the actual `Object` in legacy\n        // browser engines. legalize uses exactly the functions defined\n        // above. Node will not care as this file is only wrapped around\n        // the library for the browser.\n\n        /* jshint unused: false */\n        var _Legalize = window.Legalize;\n\n        /*───────────────────────────────────────────────────────────────────────────*\\\n         │  Copyright (C) 2014 PayPal                                                 │\n         │                                                                            │\n         │  Licensed under the Apache License, Version 2.0 (the \"License\");           │\n         │  you may not use this file except in compliance with the License.          │\n         │  You may obtain a copy of the License at                                   │\n         │                                                                            │\n         │    http://www.apache.org/licenses/LICENSE-2.0                              │\n         │                                                                            │\n         │  Unless required by applicable law or agreed to in writing, software       │\n         │  distributed under the License is distributed on an \"AS IS\" BASIS,         │\n         │  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  │\n         │  See the License for the specific language governing permissions and       │\n         │  limitations under the License.                                            │\n         \\*───────────────────────────────────────────────────────────────────────────*/\n        \n        var publiclyExposedInterface = {};\n        \n        var REQUIRED = \"required\";\n        var OPTIONAL = \"optional\";\n        var FORBIDDEN = \"forbidden\";\n        \n        function not(f) { return function (v) { return !f(v); }; }\n        \n        function typeOf(value) {\n            if (Array.isArray(value)) {\n                return 'array';\n            }\n            if (value === null) {\n                return 'null';\n            }\n            return typeof value;\n        }\n        function noConflict() {\n            if (window.Legalize === Legalize) {\n                window.Legalize = _Legalize;\n            }\n            return Legalize;\n        }\n        function cast(value, type) {\n            if (typeOf(value) === type) {\n                return value;\n            }\n            switch (type) {\n                case 'string':  return String(value);\n                case 'number':  return Number(value);\n                case 'boolean':\n                    if (value === \"true\")    { return true;  }\n                    if (value === \"false\")   { return false; }\n                    return Boolean(Number(value));\n                default:        return undefined;\n            }\n        }\n        function isFunction(value)  { return typeOf(value) === 'function'; }\n        function isObject(value)    { return typeOf(value) === 'object'; }\n        function isNumber(value)    { return typeOf(value) === 'number'; }\n        function isString(value)    { return typeOf(value) === 'string'; }\n        function isArray(value)     { return typeOf(value) === 'array'; }\n        function isUndefined(value) { return value === null || value === undefined; }\n        function isNumeric(value)   {\n            var number = Number(value);\n            // typeof number === \"number\", but `number` can be `NaN` (if value was not\n            // numeric) NaN has a special property: It is the only thing which is not\n            // equal to itself. So checking for whether `number` is not NaN will reveal\n            // whether `value` was numeric or not.\n            return number === number;\n        }\n        function isInteger(value)   { return parseInt(value) === Number(value); }\n        function getLength(thing) {\n            if (isArray(thing) || isString(thing) || isFunction(thing)) { return thing.length; }\n            if (isObject(thing))                   { return Object.keys(thing).length; }\n            return undefined;\n        }\n        function isEmpty(value)     { return isUndefined(value) || getLength(value) === 0; }\n        function is(value, type)    { return value instanceof type; }\n        \n        var isDefined = not(isUndefined);\n        \n        // `applyEach` takes an array or an object `thing` and a function `func`.\n        // `func` is applied on every element in `thing` with its result\n        // replacing the original element.\n        function applyEach(thing, func) {\n            var i;\n            if (isArray(thing)) {\n                for (i = 0; i < thing.length; i += 1) {\n                    thing[i] = func(thing[i], i);\n                }\n            } else {\n                var keys = Object.keys(thing);\n                for (i = 0; i < keys.length; i += 1) {\n                    var key = keys[i];\n                    thing[key] = func(thing[key], key);\n                }\n            }\n        }\n        \n        // `forEach` takes an array or an object `thing` and a function `func`.\n        // `func` is applied on every element in `thing`.\n        // `forEach` will leave the original `thing` unchanged. It is expressed\n        // in terms of `applyEach` by having the functions passed to `applyEach`\n        // returning the original value, not the result of applying `func` to\n        // the elements.\n        function forEach(thing, func) {\n            applyEach(thing, function (value, key) {\n                func(value, key);\n                return value;\n            });\n        }\n        \n        function merge() {\n            var obj = {};\n            for (var i = 0; i < arguments.length; i += 1) {\n                var obj2 = arguments[i];\n                forEach(obj2, function (value, key) {\n                    if (isArray(obj[key])) {\n                        var add = function (e) { obj[key].push(e); };\n                        if (isArray(value)) {\n                            value.forEach(add);\n                        } else {\n                            add(value);\n                        }\n                    } else if (isObject(obj[key]) && isObject(value)) {\n                        obj[key] = merge(obj[key], value);\n                    } else {\n                        obj[key] = value;\n                    }\n                });\n            }\n            return obj;\n        }\n        \n        function copy(obj, obj2) {\n            if (isObject(obj2)) {\n                forEach(obj2, function (value, key) {\n                    obj[key] = obj2[key];\n                });\n            }\n            return obj;\n        }\n        \n        function equals(left, right) {\n            if (!isArray(left) && !isObject(left)) {\n                return left === right || (left !== left && right !== right);\n            }\n            if (getLength(left) !== getLength(right)) {\n                return false;\n            }\n            var allKeys = merge({ x: Object.keys(left) }, { x: Object.keys(right) }).x;\n            for (var i = 0; i < allKeys.length; i += 1) {\n                var key = allKeys[i];\n                if (!equals(left[key], right[key])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        \n        // compile() will transform a schemaBuilder (marked with _isSchemaBuilder)\n        // into a schema (marked with _isSchema).\n        //\n        // Additionally it supports certain shorthands:\n        // - A RegExp -> string().match(thatRegex)\n        // - An Array -> alternatives(...)\n        // - An Object -> object().keys(...)\n        //\n        // All other kinds of values are just compiled using any().valid().\n        function compile(schema) {\n            if (schema._isSchema) {\n                // already a compiled schema, nothing to be done here.\n                return schema;\n            }\n            if (schema._isSchemaBuilder && isFunction(schema.compile)) {\n                // it is a schema builder and it can be compiled, so do it\n                return schema.compile();\n            }\n            if (is(schema, RegExp)) {\n                return publiclyExposedInterface.string().match(schema).compile();\n            }\n            if (isArray(schema)) {\n                var alternatives = publiclyExposedInterface.alternatives;\n                return alternatives.apply(publiclyExposedInterface, schema).compile();\n            }\n            if (isObject(schema)) {\n                return publiclyExposedInterface.object().keys(schema).compile();\n            }\n            return publiclyExposedInterface.any().valid(schema).compile();\n        }\n        \n        function makeSchemaBuilder(arg, validators, isType) {\n            return function () {\n                var expected = Array.prototype.slice.call(arguments);\n                var obj = Object.create(this);\n                var parent = this;\n                copy(obj, validators);\n                obj.compile = function (isNotTopLevel) {\n                    var schema = merge(parent.compile(true), isFunction(arg) ? arg(expected) : arg);\n                    if (!isNotTopLevel) {\n                        var doCompile = function (schema) {\n                            return compile(schema);\n                        };\n                        applyEach(schema.includes, doCompile);\n                        applyEach(schema.excludes, doCompile);\n                        applyEach(schema.keys, doCompile);\n                        applyEach(schema.alternatives, doCompile);\n                    }\n                    schema._isSchema = true;\n                    schema._isType = isType ? true : null;\n                    return schema;\n                };\n                return obj;\n            };\n        }\n        \n        function makeProperty(property) {\n            return makeSchemaBuilder(function (expected) {\n                var obj = {};\n                obj[property] = expected[0];\n                return obj;\n            });\n        }\n        \n        function makeArrayProperty(property) {\n            return makeSchemaBuilder(function (expected) {\n                var obj = {};\n                obj[property] = expected;\n                return obj;\n            });\n        }\n        \n        function makeCheck(predicate) {\n            return makeSchemaBuilder(function (expected) {\n                return {\n                    checks: function (actual) {\n                        return predicate(actual, expected[0]);\n                    }\n                };\n            });\n        }\n        \n        function makeTypeCheck() {\n            return makeSchemaBuilder(function (expected) {\n                return {\n                    checks: function (actual) {\n                        return is(actual, expected[0]);\n                    }\n                };\n            }, undefined, true);\n        }\n        \n        function makeMatchCheck(pattern) {\n            return makeCheck(function (actual) {\n                return pattern.test(actual);\n            });\n        }\n        \n        function bind(thisArg, func) {\n            // this is actually a very simple shim, so bind also works\n            // in legacy browsers.\n            return function () {\n                var args = Array.prototype.slice.call(arguments);\n                return func.apply(thisArg, args);\n            };\n        }\n        \n        function withLengthChecks(validators) {\n            return merge(validators, {\n                minLength: makeCheck(function (actual, expected) {\n                    return getLength(actual) >= expected;\n                }),\n        \n                maxLength: makeCheck(function (actual, expected) {\n                    return getLength(actual) <= expected;\n                }),\n        \n                length: makeCheck(function (actual, expected) {\n                    return getLength(actual) === expected;\n                })\n            });\n        }\n        \n        function rootSchema() {\n            return {\n                allowed: [],\n                valid: [],\n                invalid: [],\n                checks: [],\n                checksAfter: [],\n                alias: {},\n                keys: {},\n                includes: [],\n                excludes: [],\n                alternatives: [],\n                sanitizeBefore: [],\n                sanitize: [],\n                pattern: null,\n                _isSchema: true\n            };\n        }\n        \n        var rootSchemaBuilder = {\n            _isSchemaBuilder: true,\n            compile: rootSchema,\n        \n            notEmpty: makeCheck(not(isEmpty)),\n        \n            allow:    makeArrayProperty('allowed'),\n            valid:    makeArrayProperty('valid'),\n            invalid:  makeArrayProperty('invalid'),\n            alias:    makeProperty('alias'),\n            check:    makeArrayProperty('checksAfter'),\n            satisfy:  makeArrayProperty('checks'),\n            sanitize: makeArrayProperty('sanitize'),\n            sanitizeBefore: makeArrayProperty('sanitizeBefore'),\n        \n            required:  makeSchemaBuilder({ presence: REQUIRED }),\n            optional:  makeSchemaBuilder({ presence: OPTIONAL }),\n            forbidden: makeSchemaBuilder({ presence: FORBIDDEN }),\n        \n            default: makeProperty('defaultValue')\n        };\n        \n        var any  = makeSchemaBuilder({});\n        \n        var bool = makeSchemaBuilder({\n            type: 'boolean'\n        });\n        \n        var func = makeSchemaBuilder({\n            type: 'function'\n        }, withLengthChecks({}));\n        \n        var number = makeSchemaBuilder({\n            type: 'number'\n        }, {\n            min: makeCheck(function (actual, expected) {\n                return actual >= expected;\n            }),\n        \n            max: makeCheck(function (actual, expected) {\n                return actual <= expected;\n            }),\n        \n            greater: makeCheck(function (actual, expected) {\n                return actual > expected;\n            }),\n        \n            lesser: makeCheck(function (actual, expected) {\n                return actual < expected;\n            }),\n        \n            integer: makeCheck(isInteger)\n        \n        });\n        \n        var string = makeSchemaBuilder({\n            type: 'string'\n        }, withLengthChecks({\n        \n            match: makeCheck(function (actual, expected) {\n                return new RegExp(expected).test(actual);\n            }),\n        \n            insensitive: makeSchemaBuilder({ insensitive: true }),\n        \n            lowercase: makeCheck(function (actual) {\n                actual = String(actual);\n                return actual.toLowerCase() === actual;\n            }),\n        \n            uppercase: makeCheck(function (actual) {\n                actual = String(actual);\n                return actual.toUpperCase() === actual;\n            }),\n        \n            alphanum: makeMatchCheck(/^[0-9a-zA-Z]*$/),\n        \n            url: makeMatchCheck(\n                /^https?:\\/\\/(\\w+:?\\w*@)?(\\S+)(:[0-9]+)?(\\/|\\/([\\w#!:.?+=&%@!\\-\\/]))?$/),\n        \n            element: makeCheck(function (actual) {\n                return !!window.document.getElementById(actual);\n            }),\n        \n            digits: makeCheck(/^[0-9]*$/),\n        \n            numeric: makeCheck(isNumeric)\n        }));\n        \n        var array = makeSchemaBuilder({\n            type: 'array'\n        }, withLengthChecks({\n        \n            unique: makeCheck(function (actual) {\n                var hash = {};\n                for (var i = 0; i < actual.length; i += 1) {\n                    var value = actual[i];\n                    if (isNumber(value) || isString(value)) {\n                        if (hash[value]) {\n                            return false;\n                        }\n                        hash[value] = true;\n                    }\n                }\n                return true;\n            }),\n        \n            includes: makeArrayProperty('includes'),\n        \n            excludes: makeArrayProperty('excludes'),\n        \n        }));\n        \n        var object = makeSchemaBuilder({\n            type: 'object'\n        }, withLengthChecks({\n        \n            keys: makeProperty(\"keys\"),\n        \n            type: makeTypeCheck(), //makeCheck(is),\n        \n            pattern: makeProperty(\"pattern\")\n        \n        }));\n        \n        var alternatives = makeArrayProperty('alternatives');\n        \n        // need to be defined here, so jslint does not complain.\n        // these are assigned at the bottom since they use the\n        // publiclyExposedInterface, which is not assigned yet.\n        var optionSchema, defaultOptions;\n        \n        function validate(value, schema, options, callback) {\n        \n            // prepare callback: it is either in the fourth or third argument\n            // or there exists none (in that case set `callback` to `null`).\n            callback = isFunction(callback) ?\n                callback : (isFunction(options) ? options : null);\n        \n            // prepare options: either there is an object in the third argument - or not.\n            options = isObject(options) ? options : {};\n        \n            // if the given options are not empty, assume the defaults\n            if (isEmpty(options)) {\n                options = defaultOptions;\n            }\n        \n            // if the given options are not empty, validate 'em\n            // the check is necessary as we would be calling ourselves\n            // endlessley while validating the options in a neverending\n            // call to validate.\n            else {\n                var validationResult = validate(options, optionSchema);\n                if (validationResult.error) {\n                    throw new Error(validationResult.error);\n                }\n                options = validationResult.value;\n            }\n        \n            // compile the schema - compile will check whether schema is\n            // already compiled.\n            schema = compile(schema);\n        \n            // warnings array will be populated\n            var warnings = [];\n        \n            // A helper that is recursively applied along the object.\n            //\n            // Returns the validated value (or the default, if there is one,\n            // in case the validation failed).\n            function _validate(value, schema, path) {\n        \n                // calculate the type of the value - see `typeOf`.\n                var actualType = typeOf(value);\n        \n                // calculate the presence requirement.\n                // If the schema does not specify one, assume the default presence.\n                var presence = schema.presence || options.presence;\n        \n                // the defaultValue - we will need this in a lot of places.\n                // defaultValue may actually be undefined.\n                var defaultValue = schema.defaultValue;\n        \n                var expectedType = schema.type;\n        \n                // creates an object containing a bunch of information\n                function makeInfoMessageObject(type, expected, actual) {\n                    return {\n                        type: type,\n                        expected: expected,\n                        actual: actual,\n                        sourcePath: path,\n                        sourceValue: value\n                    };\n                }\n        \n                // issues a warning in the warnings-array\n                function issueWarning(warning, expected, actual) {\n                    warnings.push(isObject(warning) ? warning :\n                            makeInfoMessageObject(warning, expected, actual));\n                }\n        \n                // creates a simple, valid return value\n                function makeValue(validValue) {\n                    return { value: validValue };\n                }\n        \n                // creates an errorneous return value\n                function makeError(validValue, error, expected, actual) {\n                    var info = makeInfoMessageObject(error, expected, actual);\n        \n                    if (isDefined(defaultValue) &&\n                            presence === OPTIONAL &&\n                            options.warnOnInvalidOptionals) {\n                        issueWarning(info);\n                        return makeValue(validValue);\n                    }\n                    return {\n                        error: info,\n                        value: validValue\n                    };\n                }\n        \n                // loop variables. due to hoisting will end up here anyway.\n                var i = 0, j = 0;\n        \n                // if the current value is actually nonexistent:\n                if (actualType === 'undefined') {\n                    if (presence === OPTIONAL) {\n                        // it's alright if presence is OPTIONAL\n                        // just return the default (which may be undefined, which is alright)\n                        return makeValue(defaultValue);\n                    }\n                    if (presence === REQUIRED) {\n                        return makeError(undefined, 'required_missing');\n                    }\n                    // if FORBIDDEN -> we're fine, just return\n                    return makeValue();\n                }\n        \n                // Known at this point:\n                // - `value` is not undefined\n        \n                // if FORBIDDEN we're facing a situation here:\n                if (presence === FORBIDDEN) {\n                    return makeError(undefined, 'forbidden_encountered');\n                }\n        \n                // is it a union type?\n                var alternatives = schema.alternatives;\n                if (!isEmpty(alternatives)) {\n                    for (i = 0; i < alternatives.length; i += 1) {\n                        var alternative = alternatives[i];\n                        var result = _validate(value, alternative, path);\n                        if (!result.error) {\n                            return result;\n                        }\n                    }\n                    return makeError(defaultValue, 'no_alternative_matched');\n                }\n        \n                // apply sanitizeBefore\n                forEach(schema.sanitizeBefore, function (sanitizer) {\n                    value = sanitizer(value);\n                });\n        \n                // Translate aliases before\n                var alias = schema.alias;\n                if (isDefined(alias[value])) {\n                    value = alias[value];\n                }\n        \n                // At this point: alias() definitions have been applied.\n        \n                // if the schema prescribes a type for the value\n                // and the actual type and the prescribed type do not match\n                if (isDefined(expectedType) && actualType !== expectedType) {\n        \n                    // when strict: mismatching types cause errors\n                    if (options.strict) {\n                        return makeError(defaultValue, 'mismatching_types',\n                                         expectedType, actualType);\n                    }\n        \n                    // if not strict (we returned already) issue a warning\n                    issueWarning('mismatching_types', expectedType, actualType);\n        \n                    // also cast the value to the respective type\n                    value = cast(value, expectedType);\n                }\n        \n                // Known at this point:\n                // - `value` is of type `expectedType` (or `any`)\n        \n                var allowed = schema.allowed;\n                for (i = 0; i < allowed.length; i += 1) {\n                    if (equals(allowed[i], value)) {\n                        return makeValue(value);\n                    }\n                }\n                var invalid = schema.invalid;\n                for (i = 0; i < invalid.length; i += 1) {\n                    if (equals(invalid[i], value)) {\n                        return makeError(defaultValue, 'invalid_value');\n                    }\n                }\n                var valid = schema.valid;\n                if (!isEmpty(valid)) {\n                    // the subtle difference between `allows` and `valid` is that\n                    // if a value is not in the list of valid values, validation will\n                    // fail. `allows` on the other hand will simply accepts values\n                    // while still allowing other checks to accept the value.\n                    for (i = 0; i < valid.length; i += 1) {\n                        if (equals(valid[i], value)) {\n                            return makeValue(value);\n                        }\n                    }\n                    return makeError(defaultValue, 'not_a_valid_value');\n                }\n        \n                // Known at this point:\n                // - `value` is not in the set of `allowed` values\n                // - `value` is not in the set of `valid` values\n                // - `value` is not in the set of `invalid` values\n        \n                // iterate over all checks and check whether the value satisfies them or not\n                var checksFailed = [];\n                forEach(schema.checks, function (check) {\n                    var checkResult;\n                    try {\n                        // invoking a user-defined function, therefore the try..catch\n                        checkResult = check(value);\n                    } catch (err) {\n                        console.log(\"Error while executing user-defined function\");\n                        console.log(err);\n                        return false;\n                    }\n                    if (checkResult === true) {\n                        return;\n                    }\n                    if (!isObject(checkResult)) {\n                        checkResult = makeInfoMessageObject(\"check_failed\");\n                    }\n                    checksFailed.push(checkResult);\n                });\n        \n                // did we encounter any failing checks?\n                if (!isEmpty(checksFailed)) {\n                    return makeError(defaultValue, 'checks_failed');\n                }\n        \n                // objects are special as they require to recursively descend into them\n                if (expectedType === 'object') {\n        \n        \n                    var validObject = {};\n                    var objectErrors = [];\n        \n                    // schema was a .type test. Simply copy the\n                    // object to the output. The other tests (keys, pattern)\n                    // are redundant in this case\n                    if (schema._isType) {\n                        validObject = value;\n                    }\n                    else {\n                        forEach(schema.keys, function (val, key) {\n                            var validationResult = _validate(value[key], val, path + \"/\" + key);\n                            if (validationResult.error) {\n                                var keyPresence = val.presence || options.presence;\n                                if (keyPresence === OPTIONAL && options.warnOnInvalidOptionals) {\n                                    issueWarning(validationResult.error);\n                                } else {\n                                    objectErrors.push(validationResult.error);\n                                }\n                            }\n                            validObject[key] = validationResult.value;\n                            // remove the validated keys\n                            delete value[key];\n                        });\n        \n                        // check the remaining value keys agains pattern and schema if any\n                        // pattern can be either RegExp or [RegExp, schema]\n                        var pattern = null;\n                        var patternSchema = null;\n                        if (schema.pattern) {\n                            if (isArray(schema.pattern) && (schema.pattern.length >= 2)) {\n                                pattern = schema.pattern[0];\n                                patternSchema = compile(schema.pattern[1]);\n                            } else {\n                                pattern = schema.pattern;\n                            }\n        \n                            forEach(value, function (val, key) {\n                                if (!schema.keys[key]) {\n                                    var message = makeInfoMessageObject('unknown_key', undefined, key);\n                                    var preserve = !options.stripUnknown;\n                                    if (pattern && pattern.test(key)) {\n                                        preserve = true;\n                                    } else if (options.allowUnknown) {\n                                        if (options.warnUnknown) {\n                                            issueWarning(message);\n                                        }\n                                    } else {\n                                        objectErrors.push(message);\n                                    }\n                                    if (preserve) {\n                                        if (patternSchema) {\n                                            var validationResult = _validate(val, patternSchema, path + \"/\" + key);\n                                            if (validationResult.error) {\n                                                var keyPresence = val.presence || options.presence;\n                                                if (keyPresence === OPTIONAL && options.warnOnInvalidOptionals) {\n                                                    issueWarning(validationResult.error);\n                                                } else {\n                                                    objectErrors.push(validationResult.error);\n                                                }\n                                            }\n                                            validObject[key] = validationResult.value;\n                                        } else {\n                                            validObject[key] = val;\n                                        }\n                                    }\n                                }\n                            });\n                        }\n        \n                        if (!isEmpty(objectErrors)) {\n                            return makeError(validObject, objectErrors);\n                        }\n        \n                        // the value we are working with is now the `validObject`\n                        value = validObject;\n                    }\n                }\n        \n                // arrays are special just like objects - but different\n                else if (expectedType === 'array') {\n        \n                    var validArray = [];\n                    var arrayErrors = [];\n                    var includes = schema.includes;\n                    var excludes = schema.excludes;\n        \n                    // if `includes` is set, check that every value satisfies any includes schema.\n                    if (!isEmpty(includes)) {\n                        forEach(value, function (elem) {\n                            var validationResult;\n                            var passedIncludes = false;\n                            for (j = 0; j < includes.length; j += 1) {\n                                validationResult = _validate(elem, includes[j], path + \"/\" + i);\n                                // in case of no error -> value satisfies one includes schema.\n                                if (!validationResult.error) {\n                                    passedIncludes = true;\n                                    break;\n                                }\n                            }\n                            if (!passedIncludes) {\n                                arrayErrors.push(validationResult.error);\n                            } else {\n                                validArray.push(validationResult.value);\n                            }\n                        });\n                    }\n        \n                    // otherwise if `excludes` is set, check that every value does not satisfy\n                    // any excludes schema.\n                    else if (!isEmpty(excludes)) {\n                        forEach(value, function (elem) {\n                            var validationResult;\n                            var passedExcludes = true;\n                            for (j = 0; j < excludes.length; j += 1) {\n                                validationResult = _validate(elem, excludes[j], path + \"/\" + i);\n                                // in case of no error -> value violates one excludes schema.\n                                if (!validationResult.error) {\n                                    passedExcludes = false;\n                                    break;\n                                }\n                            }\n                            if (!passedExcludes) {\n                                arrayErrors.push(makeInfoMessageObject('matched_excluded_type'));\n                            } else {\n                                validArray.push(validationResult.value);\n                            }\n                        });\n                    }\n        \n                    // if neither `includes` nor `excludes` are set, do assume value\n                    // to be the validArray.\n                    else {\n                        validArray = value;\n                    }\n        \n                    if (!isEmpty(arrayErrors)) {\n                        return makeError(validArray, arrayErrors);\n                    }\n        \n                    // the value we are working with is now the `validArray`\n                    value = validArray;\n                }\n        \n                // iterate over all checksAfter and check whether the value is ok or not\n                function customWarning(checkResult) {\n                    if (isArray(checkResult)) {\n                        forEach(checkResult, function (result) {\n                            customWarning(result);\n                        });\n                    }\n                    else if (isString(checkResult)) {\n                        customWarning(makeInfoMessageObject(checkResult));\n                    }\n                    else if (isObject(checkResult)) {\n                        issueWarning(copy(makeInfoMessageObject(), checkResult));\n                    }\n                }\n                forEach(schema.checksAfter, function (check) {\n                    var checkResult;\n                    try {\n                        // invoking a user-defined function, therefor the try..catch\n                        checkResult = check(value);\n                    } catch (err) {\n                        console.log(\"Error while executing user-defined function\");\n                        console.log(err);\n                        return false;\n                    }\n                    if (checkResult === true) {\n                        return;\n                    }\n                    customWarning(checkResult);\n                });\n        \n                // Known at this point:\n                // - `value` passed all checks\n        \n                // apply sanitizeAfter\n                forEach(schema.sanitize, function (sanitizer) {\n                    value = sanitizer(value);\n                });\n        \n                // hooray! If we did not return with an error yet, we are fine!\n                return makeValue(value);\n            }\n        \n            var theResult = _validate(value, schema, \"\");\n        \n            function flatten(error, errors) {\n                if (isArray(error.type)) {\n                    forEach(error.type, function (error) {\n                        flatten(error, errors);\n                    });\n                } else {\n                    errors.push(error);\n                }\n                return errors;\n            }\n        \n            var errors = theResult.error ? flatten(theResult.error, []) : null;\n            var legalValue = theResult.value;\n            warnings = isEmpty(warnings) ? null : warnings;\n        \n            if (!isFunction(callback)) {\n                return { error: errors, value: legalValue, warnings: warnings };\n            }\n            setTimeout(function () {\n                callback(errors, legalValue, warnings);\n            }, 0);\n        }\n        \n        \n        publiclyExposedInterface = Object.freeze({\n        \n            any:        bind(rootSchemaBuilder, any),\n            bool:       bind(rootSchemaBuilder, bool),\n            boolean:    bind(rootSchemaBuilder, bool),\n            number:     bind(rootSchemaBuilder, number),\n            string:     bind(rootSchemaBuilder, string),\n            object:     bind(rootSchemaBuilder, object),\n            array:      bind(rootSchemaBuilder, array),\n            func:       bind(rootSchemaBuilder, func),\n        \n            alternatives:  bind(rootSchemaBuilder, alternatives),\n        \n            compile: compile,\n            validate: validate,\n        \n            typeOf: typeOf,\n            noConflict: noConflict\n        });\n        \n        optionSchema = compile({\n            allowUnknown:\n                publiclyExposedInterface.bool().default(false),\n            stripUnknown:\n                publiclyExposedInterface.bool().default(true),\n            warnUnknown:\n                publiclyExposedInterface.bool().default(true),\n            strict:\n                publiclyExposedInterface.bool().default(true),\n            warnOnInvalidOptionals:\n                publiclyExposedInterface.bool().default(true),\n            presence:\n                publiclyExposedInterface.any()\n                    .valid(OPTIONAL).valid(REQUIRED).valid(FORBIDDEN)\n                    .default(OPTIONAL)\n        });\n        \n        defaultOptions = {\n            allowUnknown: false,\n            stripUnknown: true,\n            warnUnknown: true,\n            strict: true,\n            warnOnInvalidOptionals: true,\n            presence: OPTIONAL\n        };\n        \n        \n\n        /* global publiclyExposedInterface */\n        return publiclyExposedInterface;\n\n    }(ES5Object));\n\n    return Legalize;\n}));\n\n","'use strict';\n\n\nvar zlib_deflate = require('./zlib/deflate');\nvar utils        = require('./utils/common');\nvar strings      = require('./utils/strings');\nvar msg          = require('./zlib/messages');\nvar ZStream      = require('./zlib/zstream');\n\nvar toString = Object.prototype.toString;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\nvar Z_NO_FLUSH      = 0;\nvar Z_FINISH        = 4;\n\nvar Z_OK            = 0;\nvar Z_STREAM_END    = 1;\nvar Z_SYNC_FLUSH    = 2;\n\nvar Z_DEFAULT_COMPRESSION = -1;\n\nvar Z_DEFAULT_STRATEGY    = 0;\n\nvar Z_DEFLATED  = 8;\n\n/* ===========================================================================*/\n\n\n/**\n * class Deflate\n *\n * Generic JS-style wrapper for zlib calls. If you don't need\n * streaming behaviour - use more simple functions: [[deflate]],\n * [[deflateRaw]] and [[gzip]].\n **/\n\n/* internal\n * Deflate.chunks -> Array\n *\n * Chunks of output data, if [[Deflate#onData]] not overridden.\n **/\n\n/**\n * Deflate.result -> Uint8Array|Array\n *\n * Compressed result, generated by default [[Deflate#onData]]\n * and [[Deflate#onEnd]] handlers. Filled after you push last chunk\n * (call [[Deflate#push]] with `Z_FINISH` / `true` param)  or if you\n * push a chunk with explicit flush (call [[Deflate#push]] with\n * `Z_SYNC_FLUSH` param).\n **/\n\n/**\n * Deflate.err -> Number\n *\n * Error code after deflate finished. 0 (Z_OK) on success.\n * You will not need it in real life, because deflate errors\n * are possible only on wrong options or bad `onData` / `onEnd`\n * custom handlers.\n **/\n\n/**\n * Deflate.msg -> String\n *\n * Error message, if [[Deflate.err]] != 0\n **/\n\n\n/**\n * new Deflate(options)\n * - options (Object): zlib deflate options.\n *\n * Creates new deflator instance with specified params. Throws exception\n * on bad params. Supported options:\n *\n * - `level`\n * - `windowBits`\n * - `memLevel`\n * - `strategy`\n * - `dictionary`\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Additional options, for internal needs:\n *\n * - `chunkSize` - size of generated data chunks (16K by default)\n * - `raw` (Boolean) - do raw deflate\n * - `gzip` (Boolean) - create gzip wrapper\n * - `to` (String) - if equal to 'string', then result will be \"binary string\"\n *    (each char code [0..255])\n * - `header` (Object) - custom header for gzip\n *   - `text` (Boolean) - true if compressed data believed to be text\n *   - `time` (Number) - modification time, unix timestamp\n *   - `os` (Number) - operation system code\n *   - `extra` (Array) - array of bytes with extra data (max 65536)\n *   - `name` (String) - file name (binary string)\n *   - `comment` (String) - comment (binary string)\n *   - `hcrc` (Boolean) - true if header crc should be added\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])\n *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n *\n * var deflate = new pako.Deflate({ level: 3});\n *\n * deflate.push(chunk1, false);\n * deflate.push(chunk2, true);  // true -> last chunk\n *\n * if (deflate.err) { throw new Error(deflate.err); }\n *\n * console.log(deflate.result);\n * ```\n **/\nfunction Deflate(options) {\n  if (!(this instanceof Deflate)) return new Deflate(options);\n\n  this.options = utils.assign({\n    level: Z_DEFAULT_COMPRESSION,\n    method: Z_DEFLATED,\n    chunkSize: 16384,\n    windowBits: 15,\n    memLevel: 8,\n    strategy: Z_DEFAULT_STRATEGY,\n    to: ''\n  }, options || {});\n\n  var opt = this.options;\n\n  if (opt.raw && (opt.windowBits > 0)) {\n    opt.windowBits = -opt.windowBits;\n  }\n\n  else if (opt.gzip && (opt.windowBits > 0) && (opt.windowBits < 16)) {\n    opt.windowBits += 16;\n  }\n\n  this.err    = 0;      // error code, if happens (0 = Z_OK)\n  this.msg    = '';     // error message\n  this.ended  = false;  // used to avoid multiple onEnd() calls\n  this.chunks = [];     // chunks of compressed data\n\n  this.strm = new ZStream();\n  this.strm.avail_out = 0;\n\n  var status = zlib_deflate.deflateInit2(\n    this.strm,\n    opt.level,\n    opt.method,\n    opt.windowBits,\n    opt.memLevel,\n    opt.strategy\n  );\n\n  if (status !== Z_OK) {\n    throw new Error(msg[status]);\n  }\n\n  if (opt.header) {\n    zlib_deflate.deflateSetHeader(this.strm, opt.header);\n  }\n\n  if (opt.dictionary) {\n    var dict;\n    // Convert data if needed\n    if (typeof opt.dictionary === 'string') {\n      // If we need to compress text, change encoding to utf8.\n      dict = strings.string2buf(opt.dictionary);\n    } else if (toString.call(opt.dictionary) === '[object ArrayBuffer]') {\n      dict = new Uint8Array(opt.dictionary);\n    } else {\n      dict = opt.dictionary;\n    }\n\n    status = zlib_deflate.deflateSetDictionary(this.strm, dict);\n\n    if (status !== Z_OK) {\n      throw new Error(msg[status]);\n    }\n\n    this._dict_set = true;\n  }\n}\n\n/**\n * Deflate#push(data[, mode]) -> Boolean\n * - data (Uint8Array|Array|ArrayBuffer|String): input data. Strings will be\n *   converted to utf8 byte sequence.\n * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n *\n * Sends input data to deflate pipe, generating [[Deflate#onData]] calls with\n * new compressed chunks. Returns `true` on success. The last data block must have\n * mode Z_FINISH (or `true`). That will flush internal pending buffers and call\n * [[Deflate#onEnd]]. For interim explicit flushes (without ending the stream) you\n * can use mode Z_SYNC_FLUSH, keeping the compression context.\n *\n * On fail call [[Deflate#onEnd]] with error code and return false.\n *\n * We strongly recommend to use `Uint8Array` on input for best speed (output\n * array format is detected automatically). Also, don't skip last param and always\n * use the same type in your code (boolean or number). That will improve JS speed.\n *\n * For regular `Array`-s make sure all elements are [0..255].\n *\n * ##### Example\n *\n * ```javascript\n * push(chunk, false); // push one of data chunks\n * ...\n * push(chunk, true);  // push last chunk\n * ```\n **/\nDeflate.prototype.push = function (data, mode) {\n  var strm = this.strm;\n  var chunkSize = this.options.chunkSize;\n  var status, _mode;\n\n  if (this.ended) { return false; }\n\n  _mode = (mode === ~~mode) ? mode : ((mode === true) ? Z_FINISH : Z_NO_FLUSH);\n\n  // Convert data if needed\n  if (typeof data === 'string') {\n    // If we need to compress text, change encoding to utf8.\n    strm.input = strings.string2buf(data);\n  } else if (toString.call(data) === '[object ArrayBuffer]') {\n    strm.input = new Uint8Array(data);\n  } else {\n    strm.input = data;\n  }\n\n  strm.next_in = 0;\n  strm.avail_in = strm.input.length;\n\n  do {\n    if (strm.avail_out === 0) {\n      strm.output = new utils.Buf8(chunkSize);\n      strm.next_out = 0;\n      strm.avail_out = chunkSize;\n    }\n    status = zlib_deflate.deflate(strm, _mode);    /* no bad return value */\n\n    if (status !== Z_STREAM_END && status !== Z_OK) {\n      this.onEnd(status);\n      this.ended = true;\n      return false;\n    }\n    if (strm.avail_out === 0 || (strm.avail_in === 0 && (_mode === Z_FINISH || _mode === Z_SYNC_FLUSH))) {\n      if (this.options.to === 'string') {\n        this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output, strm.next_out)));\n      } else {\n        this.onData(utils.shrinkBuf(strm.output, strm.next_out));\n      }\n    }\n  } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== Z_STREAM_END);\n\n  // Finalize on the last chunk.\n  if (_mode === Z_FINISH) {\n    status = zlib_deflate.deflateEnd(this.strm);\n    this.onEnd(status);\n    this.ended = true;\n    return status === Z_OK;\n  }\n\n  // callback interim results if Z_SYNC_FLUSH.\n  if (_mode === Z_SYNC_FLUSH) {\n    this.onEnd(Z_OK);\n    strm.avail_out = 0;\n    return true;\n  }\n\n  return true;\n};\n\n\n/**\n * Deflate#onData(chunk) -> Void\n * - chunk (Uint8Array|Array|String): output data. Type of array depends\n *   on js engine support. When string output requested, each chunk\n *   will be string.\n *\n * By default, stores data blocks in `chunks[]` property and glue\n * those in `onEnd`. Override this handler, if you need another behaviour.\n **/\nDeflate.prototype.onData = function (chunk) {\n  this.chunks.push(chunk);\n};\n\n\n/**\n * Deflate#onEnd(status) -> Void\n * - status (Number): deflate status. 0 (Z_OK) on success,\n *   other if not.\n *\n * Called once after you tell deflate that the input stream is\n * complete (Z_FINISH) or should be flushed (Z_SYNC_FLUSH)\n * or if an error happened. By default - join collected chunks,\n * free memory and fill `results` / `err` properties.\n **/\nDeflate.prototype.onEnd = function (status) {\n  // On success - join\n  if (status === Z_OK) {\n    if (this.options.to === 'string') {\n      this.result = this.chunks.join('');\n    } else {\n      this.result = utils.flattenChunks(this.chunks);\n    }\n  }\n  this.chunks = [];\n  this.err = status;\n  this.msg = this.strm.msg;\n};\n\n\n/**\n * deflate(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * Compress `data` with deflate algorithm and `options`.\n *\n * Supported options are:\n *\n * - level\n * - windowBits\n * - memLevel\n * - strategy\n * - dictionary\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Sugar (options):\n *\n * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n *   negative windowBits implicitly.\n * - `to` (String) - if equal to 'string', then result will be \"binary string\"\n *    (each char code [0..255])\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , data = Uint8Array([1,2,3,4,5,6,7,8,9]);\n *\n * console.log(pako.deflate(data));\n * ```\n **/\nfunction deflate(input, options) {\n  var deflator = new Deflate(options);\n\n  deflator.push(input, true);\n\n  // That will never happens, if you don't cheat with options :)\n  if (deflator.err) { throw deflator.msg || msg[deflator.err]; }\n\n  return deflator.result;\n}\n\n\n/**\n * deflateRaw(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * The same as [[deflate]], but creates raw data, without wrapper\n * (header and adler32 crc).\n **/\nfunction deflateRaw(input, options) {\n  options = options || {};\n  options.raw = true;\n  return deflate(input, options);\n}\n\n\n/**\n * gzip(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to compress.\n * - options (Object): zlib deflate options.\n *\n * The same as [[deflate]], but create gzip wrapper instead of\n * deflate one.\n **/\nfunction gzip(input, options) {\n  options = options || {};\n  options.gzip = true;\n  return deflate(input, options);\n}\n\n\nexports.Deflate = Deflate;\nexports.deflate = deflate;\nexports.deflateRaw = deflateRaw;\nexports.gzip = gzip;\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nvar utils   = require('../utils/common');\nvar trees   = require('./trees');\nvar adler32 = require('./adler32');\nvar crc32   = require('./crc32');\nvar msg     = require('./messages');\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\n\n/* Allowed flush values; see deflate() and inflate() below for details */\nvar Z_NO_FLUSH      = 0;\nvar Z_PARTIAL_FLUSH = 1;\n//var Z_SYNC_FLUSH    = 2;\nvar Z_FULL_FLUSH    = 3;\nvar Z_FINISH        = 4;\nvar Z_BLOCK         = 5;\n//var Z_TREES         = 6;\n\n\n/* Return codes for the compression/decompression functions. Negative values\n * are errors, positive values are used for special but normal events.\n */\nvar Z_OK            = 0;\nvar Z_STREAM_END    = 1;\n//var Z_NEED_DICT     = 2;\n//var Z_ERRNO         = -1;\nvar Z_STREAM_ERROR  = -2;\nvar Z_DATA_ERROR    = -3;\n//var Z_MEM_ERROR     = -4;\nvar Z_BUF_ERROR     = -5;\n//var Z_VERSION_ERROR = -6;\n\n\n/* compression levels */\n//var Z_NO_COMPRESSION      = 0;\n//var Z_BEST_SPEED          = 1;\n//var Z_BEST_COMPRESSION    = 9;\nvar Z_DEFAULT_COMPRESSION = -1;\n\n\nvar Z_FILTERED            = 1;\nvar Z_HUFFMAN_ONLY        = 2;\nvar Z_RLE                 = 3;\nvar Z_FIXED               = 4;\nvar Z_DEFAULT_STRATEGY    = 0;\n\n/* Possible values of the data_type field (though see inflate()) */\n//var Z_BINARY              = 0;\n//var Z_TEXT                = 1;\n//var Z_ASCII               = 1; // = Z_TEXT\nvar Z_UNKNOWN             = 2;\n\n\n/* The deflate compression method */\nvar Z_DEFLATED  = 8;\n\n/*============================================================================*/\n\n\nvar MAX_MEM_LEVEL = 9;\n/* Maximum value for memLevel in deflateInit2 */\nvar MAX_WBITS = 15;\n/* 32K LZ77 window */\nvar DEF_MEM_LEVEL = 8;\n\n\nvar LENGTH_CODES  = 29;\n/* number of length codes, not counting the special END_BLOCK code */\nvar LITERALS      = 256;\n/* number of literal bytes 0..255 */\nvar L_CODES       = LITERALS + 1 + LENGTH_CODES;\n/* number of Literal or Length codes, including the END_BLOCK code */\nvar D_CODES       = 30;\n/* number of distance codes */\nvar BL_CODES      = 19;\n/* number of codes used to transfer the bit lengths */\nvar HEAP_SIZE     = 2 * L_CODES + 1;\n/* maximum heap size */\nvar MAX_BITS  = 15;\n/* All codes must not exceed MAX_BITS bits */\n\nvar MIN_MATCH = 3;\nvar MAX_MATCH = 258;\nvar MIN_LOOKAHEAD = (MAX_MATCH + MIN_MATCH + 1);\n\nvar PRESET_DICT = 0x20;\n\nvar INIT_STATE = 42;\nvar EXTRA_STATE = 69;\nvar NAME_STATE = 73;\nvar COMMENT_STATE = 91;\nvar HCRC_STATE = 103;\nvar BUSY_STATE = 113;\nvar FINISH_STATE = 666;\n\nvar BS_NEED_MORE      = 1; /* block not completed, need more input or more output */\nvar BS_BLOCK_DONE     = 2; /* block flush performed */\nvar BS_FINISH_STARTED = 3; /* finish started, need only more output at next deflate */\nvar BS_FINISH_DONE    = 4; /* finish done, accept no more input or output */\n\nvar OS_CODE = 0x03; // Unix :) . Don't detect, use this default.\n\nfunction err(strm, errorCode) {\n  strm.msg = msg[errorCode];\n  return errorCode;\n}\n\nfunction rank(f) {\n  return ((f) << 1) - ((f) > 4 ? 9 : 0);\n}\n\nfunction zero(buf) { var len = buf.length; while (--len >= 0) { buf[len] = 0; } }\n\n\n/* =========================================================================\n * Flush as much pending output as possible. All deflate() output goes\n * through this function so some applications may wish to modify it\n * to avoid allocating a large strm->output buffer and copying into it.\n * (See also read_buf()).\n */\nfunction flush_pending(strm) {\n  var s = strm.state;\n\n  //_tr_flush_bits(s);\n  var len = s.pending;\n  if (len > strm.avail_out) {\n    len = strm.avail_out;\n  }\n  if (len === 0) { return; }\n\n  utils.arraySet(strm.output, s.pending_buf, s.pending_out, len, strm.next_out);\n  strm.next_out += len;\n  s.pending_out += len;\n  strm.total_out += len;\n  strm.avail_out -= len;\n  s.pending -= len;\n  if (s.pending === 0) {\n    s.pending_out = 0;\n  }\n}\n\n\nfunction flush_block_only(s, last) {\n  trees._tr_flush_block(s, (s.block_start >= 0 ? s.block_start : -1), s.strstart - s.block_start, last);\n  s.block_start = s.strstart;\n  flush_pending(s.strm);\n}\n\n\nfunction put_byte(s, b) {\n  s.pending_buf[s.pending++] = b;\n}\n\n\n/* =========================================================================\n * Put a short in the pending buffer. The 16-bit value is put in MSB order.\n * IN assertion: the stream state is correct and there is enough room in\n * pending_buf.\n */\nfunction putShortMSB(s, b) {\n//  put_byte(s, (Byte)(b >> 8));\n//  put_byte(s, (Byte)(b & 0xff));\n  s.pending_buf[s.pending++] = (b >>> 8) & 0xff;\n  s.pending_buf[s.pending++] = b & 0xff;\n}\n\n\n/* ===========================================================================\n * Read a new buffer from the current input stream, update the adler32\n * and total number of bytes read.  All deflate() input goes through\n * this function so some applications may wish to modify it to avoid\n * allocating a large strm->input buffer and copying from it.\n * (See also flush_pending()).\n */\nfunction read_buf(strm, buf, start, size) {\n  var len = strm.avail_in;\n\n  if (len > size) { len = size; }\n  if (len === 0) { return 0; }\n\n  strm.avail_in -= len;\n\n  // zmemcpy(buf, strm->next_in, len);\n  utils.arraySet(buf, strm.input, strm.next_in, len, start);\n  if (strm.state.wrap === 1) {\n    strm.adler = adler32(strm.adler, buf, len, start);\n  }\n\n  else if (strm.state.wrap === 2) {\n    strm.adler = crc32(strm.adler, buf, len, start);\n  }\n\n  strm.next_in += len;\n  strm.total_in += len;\n\n  return len;\n}\n\n\n/* ===========================================================================\n * Set match_start to the longest match starting at the given string and\n * return its length. Matches shorter or equal to prev_length are discarded,\n * in which case the result is equal to prev_length and match_start is\n * garbage.\n * IN assertions: cur_match is the head of the hash chain for the current\n *   string (strstart) and its distance is <= MAX_DIST, and prev_length >= 1\n * OUT assertion: the match length is not greater than s->lookahead.\n */\nfunction longest_match(s, cur_match) {\n  var chain_length = s.max_chain_length;      /* max hash chain length */\n  var scan = s.strstart; /* current string */\n  var match;                       /* matched string */\n  var len;                           /* length of current match */\n  var best_len = s.prev_length;              /* best match length so far */\n  var nice_match = s.nice_match;             /* stop if match long enough */\n  var limit = (s.strstart > (s.w_size - MIN_LOOKAHEAD)) ?\n      s.strstart - (s.w_size - MIN_LOOKAHEAD) : 0/*NIL*/;\n\n  var _win = s.window; // shortcut\n\n  var wmask = s.w_mask;\n  var prev  = s.prev;\n\n  /* Stop when cur_match becomes <= limit. To simplify the code,\n   * we prevent matches with the string of window index 0.\n   */\n\n  var strend = s.strstart + MAX_MATCH;\n  var scan_end1  = _win[scan + best_len - 1];\n  var scan_end   = _win[scan + best_len];\n\n  /* The code is optimized for HASH_BITS >= 8 and MAX_MATCH-2 multiple of 16.\n   * It is easy to get rid of this optimization if necessary.\n   */\n  // Assert(s->hash_bits >= 8 && MAX_MATCH == 258, \"Code too clever\");\n\n  /* Do not waste too much time if we already have a good match: */\n  if (s.prev_length >= s.good_match) {\n    chain_length >>= 2;\n  }\n  /* Do not look for matches beyond the end of the input. This is necessary\n   * to make deflate deterministic.\n   */\n  if (nice_match > s.lookahead) { nice_match = s.lookahead; }\n\n  // Assert((ulg)s->strstart <= s->window_size-MIN_LOOKAHEAD, \"need lookahead\");\n\n  do {\n    // Assert(cur_match < s->strstart, \"no future\");\n    match = cur_match;\n\n    /* Skip to next match if the match length cannot increase\n     * or if the match length is less than 2.  Note that the checks below\n     * for insufficient lookahead only occur occasionally for performance\n     * reasons.  Therefore uninitialized memory will be accessed, and\n     * conditional jumps will be made that depend on those values.\n     * However the length of the match is limited to the lookahead, so\n     * the output of deflate is not affected by the uninitialized values.\n     */\n\n    if (_win[match + best_len]     !== scan_end  ||\n        _win[match + best_len - 1] !== scan_end1 ||\n        _win[match]                !== _win[scan] ||\n        _win[++match]              !== _win[scan + 1]) {\n      continue;\n    }\n\n    /* The check at best_len-1 can be removed because it will be made\n     * again later. (This heuristic is not always a win.)\n     * It is not necessary to compare scan[2] and match[2] since they\n     * are always equal when the other bytes match, given that\n     * the hash keys are equal and that HASH_BITS >= 8.\n     */\n    scan += 2;\n    match++;\n    // Assert(*scan == *match, \"match[2]?\");\n\n    /* We check for insufficient lookahead only every 8th comparison;\n     * the 256th check will be made at strstart+258.\n     */\n    do {\n      /*jshint noempty:false*/\n    } while (_win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             _win[++scan] === _win[++match] && _win[++scan] === _win[++match] &&\n             scan < strend);\n\n    // Assert(scan <= s->window+(unsigned)(s->window_size-1), \"wild scan\");\n\n    len = MAX_MATCH - (strend - scan);\n    scan = strend - MAX_MATCH;\n\n    if (len > best_len) {\n      s.match_start = cur_match;\n      best_len = len;\n      if (len >= nice_match) {\n        break;\n      }\n      scan_end1  = _win[scan + best_len - 1];\n      scan_end   = _win[scan + best_len];\n    }\n  } while ((cur_match = prev[cur_match & wmask]) > limit && --chain_length !== 0);\n\n  if (best_len <= s.lookahead) {\n    return best_len;\n  }\n  return s.lookahead;\n}\n\n\n/* ===========================================================================\n * Fill the window when the lookahead becomes insufficient.\n * Updates strstart and lookahead.\n *\n * IN assertion: lookahead < MIN_LOOKAHEAD\n * OUT assertions: strstart <= window_size-MIN_LOOKAHEAD\n *    At least one byte has been read, or avail_in == 0; reads are\n *    performed for at least two bytes (required for the zip translate_eol\n *    option -- not supported here).\n */\nfunction fill_window(s) {\n  var _w_size = s.w_size;\n  var p, n, m, more, str;\n\n  //Assert(s->lookahead < MIN_LOOKAHEAD, \"already enough lookahead\");\n\n  do {\n    more = s.window_size - s.lookahead - s.strstart;\n\n    // JS ints have 32 bit, block below not needed\n    /* Deal with !@#$% 64K limit: */\n    //if (sizeof(int) <= 2) {\n    //    if (more == 0 && s->strstart == 0 && s->lookahead == 0) {\n    //        more = wsize;\n    //\n    //  } else if (more == (unsigned)(-1)) {\n    //        /* Very unlikely, but possible on 16 bit machine if\n    //         * strstart == 0 && lookahead == 1 (input done a byte at time)\n    //         */\n    //        more--;\n    //    }\n    //}\n\n\n    /* If the window is almost full and there is insufficient lookahead,\n     * move the upper half to the lower one to make room in the upper half.\n     */\n    if (s.strstart >= _w_size + (_w_size - MIN_LOOKAHEAD)) {\n\n      utils.arraySet(s.window, s.window, _w_size, _w_size, 0);\n      s.match_start -= _w_size;\n      s.strstart -= _w_size;\n      /* we now have strstart >= MAX_DIST */\n      s.block_start -= _w_size;\n\n      /* Slide the hash table (could be avoided with 32 bit values\n       at the expense of memory usage). We slide even when level == 0\n       to keep the hash table consistent if we switch back to level > 0\n       later. (Using level 0 permanently is not an optimal usage of\n       zlib, so we don't care about this pathological case.)\n       */\n\n      n = s.hash_size;\n      p = n;\n      do {\n        m = s.head[--p];\n        s.head[p] = (m >= _w_size ? m - _w_size : 0);\n      } while (--n);\n\n      n = _w_size;\n      p = n;\n      do {\n        m = s.prev[--p];\n        s.prev[p] = (m >= _w_size ? m - _w_size : 0);\n        /* If n is not on any hash chain, prev[n] is garbage but\n         * its value will never be used.\n         */\n      } while (--n);\n\n      more += _w_size;\n    }\n    if (s.strm.avail_in === 0) {\n      break;\n    }\n\n    /* If there was no sliding:\n     *    strstart <= WSIZE+MAX_DIST-1 && lookahead <= MIN_LOOKAHEAD - 1 &&\n     *    more == window_size - lookahead - strstart\n     * => more >= window_size - (MIN_LOOKAHEAD-1 + WSIZE + MAX_DIST-1)\n     * => more >= window_size - 2*WSIZE + 2\n     * In the BIG_MEM or MMAP case (not yet supported),\n     *   window_size == input_size + MIN_LOOKAHEAD  &&\n     *   strstart + s->lookahead <= input_size => more >= MIN_LOOKAHEAD.\n     * Otherwise, window_size == 2*WSIZE so more >= 2.\n     * If there was sliding, more >= WSIZE. So in all cases, more >= 2.\n     */\n    //Assert(more >= 2, \"more < 2\");\n    n = read_buf(s.strm, s.window, s.strstart + s.lookahead, more);\n    s.lookahead += n;\n\n    /* Initialize the hash value now that we have some input: */\n    if (s.lookahead + s.insert >= MIN_MATCH) {\n      str = s.strstart - s.insert;\n      s.ins_h = s.window[str];\n\n      /* UPDATE_HASH(s, s->ins_h, s->window[str + 1]); */\n      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[str + 1]) & s.hash_mask;\n//#if MIN_MATCH != 3\n//        Call update_hash() MIN_MATCH-3 more times\n//#endif\n      while (s.insert) {\n        /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n        s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[str + MIN_MATCH - 1]) & s.hash_mask;\n\n        s.prev[str & s.w_mask] = s.head[s.ins_h];\n        s.head[s.ins_h] = str;\n        str++;\n        s.insert--;\n        if (s.lookahead + s.insert < MIN_MATCH) {\n          break;\n        }\n      }\n    }\n    /* If the whole input has less than MIN_MATCH bytes, ins_h is garbage,\n     * but this is not important since only literal bytes will be emitted.\n     */\n\n  } while (s.lookahead < MIN_LOOKAHEAD && s.strm.avail_in !== 0);\n\n  /* If the WIN_INIT bytes after the end of the current data have never been\n   * written, then zero those bytes in order to avoid memory check reports of\n   * the use of uninitialized (or uninitialised as Julian writes) bytes by\n   * the longest match routines.  Update the high water mark for the next\n   * time through here.  WIN_INIT is set to MAX_MATCH since the longest match\n   * routines allow scanning to strstart + MAX_MATCH, ignoring lookahead.\n   */\n//  if (s.high_water < s.window_size) {\n//    var curr = s.strstart + s.lookahead;\n//    var init = 0;\n//\n//    if (s.high_water < curr) {\n//      /* Previous high water mark below current data -- zero WIN_INIT\n//       * bytes or up to end of window, whichever is less.\n//       */\n//      init = s.window_size - curr;\n//      if (init > WIN_INIT)\n//        init = WIN_INIT;\n//      zmemzero(s->window + curr, (unsigned)init);\n//      s->high_water = curr + init;\n//    }\n//    else if (s->high_water < (ulg)curr + WIN_INIT) {\n//      /* High water mark at or above current data, but below current data\n//       * plus WIN_INIT -- zero out to current data plus WIN_INIT, or up\n//       * to end of window, whichever is less.\n//       */\n//      init = (ulg)curr + WIN_INIT - s->high_water;\n//      if (init > s->window_size - s->high_water)\n//        init = s->window_size - s->high_water;\n//      zmemzero(s->window + s->high_water, (unsigned)init);\n//      s->high_water += init;\n//    }\n//  }\n//\n//  Assert((ulg)s->strstart <= s->window_size - MIN_LOOKAHEAD,\n//    \"not enough room for search\");\n}\n\n/* ===========================================================================\n * Copy without compression as much as possible from the input stream, return\n * the current block state.\n * This function does not insert new strings in the dictionary since\n * uncompressible data is probably not useful. This function is used\n * only for the level=0 compression option.\n * NOTE: this function should be optimized to avoid extra copying from\n * window to pending_buf.\n */\nfunction deflate_stored(s, flush) {\n  /* Stored blocks are limited to 0xffff bytes, pending_buf is limited\n   * to pending_buf_size, and each stored block has a 5 byte header:\n   */\n  var max_block_size = 0xffff;\n\n  if (max_block_size > s.pending_buf_size - 5) {\n    max_block_size = s.pending_buf_size - 5;\n  }\n\n  /* Copy as much as possible from input to output: */\n  for (;;) {\n    /* Fill the window as much as possible: */\n    if (s.lookahead <= 1) {\n\n      //Assert(s->strstart < s->w_size+MAX_DIST(s) ||\n      //  s->block_start >= (long)s->w_size, \"slide too late\");\n//      if (!(s.strstart < s.w_size + (s.w_size - MIN_LOOKAHEAD) ||\n//        s.block_start >= s.w_size)) {\n//        throw  new Error(\"slide too late\");\n//      }\n\n      fill_window(s);\n      if (s.lookahead === 0 && flush === Z_NO_FLUSH) {\n        return BS_NEED_MORE;\n      }\n\n      if (s.lookahead === 0) {\n        break;\n      }\n      /* flush the current block */\n    }\n    //Assert(s->block_start >= 0L, \"block gone\");\n//    if (s.block_start < 0) throw new Error(\"block gone\");\n\n    s.strstart += s.lookahead;\n    s.lookahead = 0;\n\n    /* Emit a stored block if pending_buf will be full: */\n    var max_start = s.block_start + max_block_size;\n\n    if (s.strstart === 0 || s.strstart >= max_start) {\n      /* strstart == 0 is possible when wraparound on 16-bit machine */\n      s.lookahead = s.strstart - max_start;\n      s.strstart = max_start;\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n\n\n    }\n    /* Flush if we may have to slide, otherwise block_start may become\n     * negative and the data will be gone:\n     */\n    if (s.strstart - s.block_start >= (s.w_size - MIN_LOOKAHEAD)) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n\n  s.insert = 0;\n\n  if (flush === Z_FINISH) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n\n  if (s.strstart > s.block_start) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n\n  return BS_NEED_MORE;\n}\n\n/* ===========================================================================\n * Compress as much as possible from the input stream, return the current\n * block state.\n * This function does not perform lazy evaluation of matches and inserts\n * new strings in the dictionary only for unmatched strings or for short\n * matches. It is used only for the fast compression options.\n */\nfunction deflate_fast(s, flush) {\n  var hash_head;        /* head of the hash chain */\n  var bflush;           /* set if current block must be flushed */\n\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the next match, plus MIN_MATCH bytes to insert the\n     * string following the next match.\n     */\n    if (s.lookahead < MIN_LOOKAHEAD) {\n      fill_window(s);\n      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) {\n        break; /* flush the current block */\n      }\n    }\n\n    /* Insert the string window[strstart .. strstart+2] in the\n     * dictionary, and set hash_head to the head of the hash chain:\n     */\n    hash_head = 0/*NIL*/;\n    if (s.lookahead >= MIN_MATCH) {\n      /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;\n      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n      s.head[s.ins_h] = s.strstart;\n      /***/\n    }\n\n    /* Find the longest match, discarding those <= prev_length.\n     * At this point we have always match_length < MIN_MATCH\n     */\n    if (hash_head !== 0/*NIL*/ && ((s.strstart - hash_head) <= (s.w_size - MIN_LOOKAHEAD))) {\n      /* To simplify the code, we prevent matches with the string\n       * of window index 0 (in particular we have to avoid a match\n       * of the string with itself at the start of the input file).\n       */\n      s.match_length = longest_match(s, hash_head);\n      /* longest_match() sets match_start */\n    }\n    if (s.match_length >= MIN_MATCH) {\n      // check_match(s, s.strstart, s.match_start, s.match_length); // for debug only\n\n      /*** _tr_tally_dist(s, s.strstart - s.match_start,\n                     s.match_length - MIN_MATCH, bflush); ***/\n      bflush = trees._tr_tally(s, s.strstart - s.match_start, s.match_length - MIN_MATCH);\n\n      s.lookahead -= s.match_length;\n\n      /* Insert new strings in the hash table only if the match length\n       * is not too large. This saves time but degrades compression.\n       */\n      if (s.match_length <= s.max_lazy_match/*max_insert_length*/ && s.lookahead >= MIN_MATCH) {\n        s.match_length--; /* string at strstart already in table */\n        do {\n          s.strstart++;\n          /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n          s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;\n          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n          s.head[s.ins_h] = s.strstart;\n          /***/\n          /* strstart never exceeds WSIZE-MAX_MATCH, so there are\n           * always MIN_MATCH bytes ahead.\n           */\n        } while (--s.match_length !== 0);\n        s.strstart++;\n      } else\n      {\n        s.strstart += s.match_length;\n        s.match_length = 0;\n        s.ins_h = s.window[s.strstart];\n        /* UPDATE_HASH(s, s.ins_h, s.window[s.strstart+1]); */\n        s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + 1]) & s.hash_mask;\n\n//#if MIN_MATCH != 3\n//                Call UPDATE_HASH() MIN_MATCH-3 more times\n//#endif\n        /* If lookahead < MIN_MATCH, ins_h is garbage, but it does not\n         * matter since it will be recomputed at next deflate call.\n         */\n      }\n    } else {\n      /* No match, output a literal byte */\n      //Tracevv((stderr,\"%c\", s.window[s.strstart]));\n      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n      bflush = trees._tr_tally(s, 0, s.window[s.strstart]);\n\n      s.lookahead--;\n      s.strstart++;\n    }\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = ((s.strstart < (MIN_MATCH - 1)) ? s.strstart : MIN_MATCH - 1);\n  if (flush === Z_FINISH) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.last_lit) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n}\n\n/* ===========================================================================\n * Same as above, but achieves better compression. We use a lazy\n * evaluation for matches: a match is finally adopted only if there is\n * no better match at the next window position.\n */\nfunction deflate_slow(s, flush) {\n  var hash_head;          /* head of hash chain */\n  var bflush;              /* set if current block must be flushed */\n\n  var max_insert;\n\n  /* Process the input block. */\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the next match, plus MIN_MATCH bytes to insert the\n     * string following the next match.\n     */\n    if (s.lookahead < MIN_LOOKAHEAD) {\n      fill_window(s);\n      if (s.lookahead < MIN_LOOKAHEAD && flush === Z_NO_FLUSH) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) { break; } /* flush the current block */\n    }\n\n    /* Insert the string window[strstart .. strstart+2] in the\n     * dictionary, and set hash_head to the head of the hash chain:\n     */\n    hash_head = 0/*NIL*/;\n    if (s.lookahead >= MIN_MATCH) {\n      /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;\n      hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n      s.head[s.ins_h] = s.strstart;\n      /***/\n    }\n\n    /* Find the longest match, discarding those <= prev_length.\n     */\n    s.prev_length = s.match_length;\n    s.prev_match = s.match_start;\n    s.match_length = MIN_MATCH - 1;\n\n    if (hash_head !== 0/*NIL*/ && s.prev_length < s.max_lazy_match &&\n        s.strstart - hash_head <= (s.w_size - MIN_LOOKAHEAD)/*MAX_DIST(s)*/) {\n      /* To simplify the code, we prevent matches with the string\n       * of window index 0 (in particular we have to avoid a match\n       * of the string with itself at the start of the input file).\n       */\n      s.match_length = longest_match(s, hash_head);\n      /* longest_match() sets match_start */\n\n      if (s.match_length <= 5 &&\n         (s.strategy === Z_FILTERED || (s.match_length === MIN_MATCH && s.strstart - s.match_start > 4096/*TOO_FAR*/))) {\n\n        /* If prev_match is also MIN_MATCH, match_start is garbage\n         * but we will ignore the current match anyway.\n         */\n        s.match_length = MIN_MATCH - 1;\n      }\n    }\n    /* If there was a match at the previous step and the current\n     * match is not better, output the previous match:\n     */\n    if (s.prev_length >= MIN_MATCH && s.match_length <= s.prev_length) {\n      max_insert = s.strstart + s.lookahead - MIN_MATCH;\n      /* Do not insert strings in hash table beyond this. */\n\n      //check_match(s, s.strstart-1, s.prev_match, s.prev_length);\n\n      /***_tr_tally_dist(s, s.strstart - 1 - s.prev_match,\n                     s.prev_length - MIN_MATCH, bflush);***/\n      bflush = trees._tr_tally(s, s.strstart - 1 - s.prev_match, s.prev_length - MIN_MATCH);\n      /* Insert in hash table all strings up to the end of the match.\n       * strstart-1 and strstart are already inserted. If there is not\n       * enough lookahead, the last two strings are not inserted in\n       * the hash table.\n       */\n      s.lookahead -= s.prev_length - 1;\n      s.prev_length -= 2;\n      do {\n        if (++s.strstart <= max_insert) {\n          /*** INSERT_STRING(s, s.strstart, hash_head); ***/\n          s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[s.strstart + MIN_MATCH - 1]) & s.hash_mask;\n          hash_head = s.prev[s.strstart & s.w_mask] = s.head[s.ins_h];\n          s.head[s.ins_h] = s.strstart;\n          /***/\n        }\n      } while (--s.prev_length !== 0);\n      s.match_available = 0;\n      s.match_length = MIN_MATCH - 1;\n      s.strstart++;\n\n      if (bflush) {\n        /*** FLUSH_BLOCK(s, 0); ***/\n        flush_block_only(s, false);\n        if (s.strm.avail_out === 0) {\n          return BS_NEED_MORE;\n        }\n        /***/\n      }\n\n    } else if (s.match_available) {\n      /* If there was no match at the previous position, output a\n       * single literal. If there was a match but the current match\n       * is longer, truncate the previous match to a single literal.\n       */\n      //Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n      /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/\n      bflush = trees._tr_tally(s, 0, s.window[s.strstart - 1]);\n\n      if (bflush) {\n        /*** FLUSH_BLOCK_ONLY(s, 0) ***/\n        flush_block_only(s, false);\n        /***/\n      }\n      s.strstart++;\n      s.lookahead--;\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n    } else {\n      /* There is no previous match to compare with, wait for\n       * the next step to decide.\n       */\n      s.match_available = 1;\n      s.strstart++;\n      s.lookahead--;\n    }\n  }\n  //Assert (flush != Z_NO_FLUSH, \"no flush?\");\n  if (s.match_available) {\n    //Tracevv((stderr,\"%c\", s->window[s->strstart-1]));\n    /*** _tr_tally_lit(s, s.window[s.strstart-1], bflush); ***/\n    bflush = trees._tr_tally(s, 0, s.window[s.strstart - 1]);\n\n    s.match_available = 0;\n  }\n  s.insert = s.strstart < MIN_MATCH - 1 ? s.strstart : MIN_MATCH - 1;\n  if (flush === Z_FINISH) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.last_lit) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n\n  return BS_BLOCK_DONE;\n}\n\n\n/* ===========================================================================\n * For Z_RLE, simply look for runs of bytes, generate matches only of distance\n * one.  Do not maintain a hash table.  (It will be regenerated if this run of\n * deflate switches away from Z_RLE.)\n */\nfunction deflate_rle(s, flush) {\n  var bflush;            /* set if current block must be flushed */\n  var prev;              /* byte at distance one to match */\n  var scan, strend;      /* scan goes up to strend for length of run */\n\n  var _win = s.window;\n\n  for (;;) {\n    /* Make sure that we always have enough lookahead, except\n     * at the end of the input file. We need MAX_MATCH bytes\n     * for the longest run, plus one for the unrolled loop.\n     */\n    if (s.lookahead <= MAX_MATCH) {\n      fill_window(s);\n      if (s.lookahead <= MAX_MATCH && flush === Z_NO_FLUSH) {\n        return BS_NEED_MORE;\n      }\n      if (s.lookahead === 0) { break; } /* flush the current block */\n    }\n\n    /* See how many times the previous byte repeats */\n    s.match_length = 0;\n    if (s.lookahead >= MIN_MATCH && s.strstart > 0) {\n      scan = s.strstart - 1;\n      prev = _win[scan];\n      if (prev === _win[++scan] && prev === _win[++scan] && prev === _win[++scan]) {\n        strend = s.strstart + MAX_MATCH;\n        do {\n          /*jshint noempty:false*/\n        } while (prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 prev === _win[++scan] && prev === _win[++scan] &&\n                 scan < strend);\n        s.match_length = MAX_MATCH - (strend - scan);\n        if (s.match_length > s.lookahead) {\n          s.match_length = s.lookahead;\n        }\n      }\n      //Assert(scan <= s->window+(uInt)(s->window_size-1), \"wild scan\");\n    }\n\n    /* Emit match if have run of MIN_MATCH or longer, else emit literal */\n    if (s.match_length >= MIN_MATCH) {\n      //check_match(s, s.strstart, s.strstart - 1, s.match_length);\n\n      /*** _tr_tally_dist(s, 1, s.match_length - MIN_MATCH, bflush); ***/\n      bflush = trees._tr_tally(s, 1, s.match_length - MIN_MATCH);\n\n      s.lookahead -= s.match_length;\n      s.strstart += s.match_length;\n      s.match_length = 0;\n    } else {\n      /* No match, output a literal byte */\n      //Tracevv((stderr,\"%c\", s->window[s->strstart]));\n      /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n      bflush = trees._tr_tally(s, 0, s.window[s.strstart]);\n\n      s.lookahead--;\n      s.strstart++;\n    }\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = 0;\n  if (flush === Z_FINISH) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.last_lit) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n}\n\n/* ===========================================================================\n * For Z_HUFFMAN_ONLY, do not look for matches.  Do not maintain a hash table.\n * (It will be regenerated if this run of deflate switches away from Huffman.)\n */\nfunction deflate_huff(s, flush) {\n  var bflush;             /* set if current block must be flushed */\n\n  for (;;) {\n    /* Make sure that we have a literal to write. */\n    if (s.lookahead === 0) {\n      fill_window(s);\n      if (s.lookahead === 0) {\n        if (flush === Z_NO_FLUSH) {\n          return BS_NEED_MORE;\n        }\n        break;      /* flush the current block */\n      }\n    }\n\n    /* Output a literal byte */\n    s.match_length = 0;\n    //Tracevv((stderr,\"%c\", s->window[s->strstart]));\n    /*** _tr_tally_lit(s, s.window[s.strstart], bflush); ***/\n    bflush = trees._tr_tally(s, 0, s.window[s.strstart]);\n    s.lookahead--;\n    s.strstart++;\n    if (bflush) {\n      /*** FLUSH_BLOCK(s, 0); ***/\n      flush_block_only(s, false);\n      if (s.strm.avail_out === 0) {\n        return BS_NEED_MORE;\n      }\n      /***/\n    }\n  }\n  s.insert = 0;\n  if (flush === Z_FINISH) {\n    /*** FLUSH_BLOCK(s, 1); ***/\n    flush_block_only(s, true);\n    if (s.strm.avail_out === 0) {\n      return BS_FINISH_STARTED;\n    }\n    /***/\n    return BS_FINISH_DONE;\n  }\n  if (s.last_lit) {\n    /*** FLUSH_BLOCK(s, 0); ***/\n    flush_block_only(s, false);\n    if (s.strm.avail_out === 0) {\n      return BS_NEED_MORE;\n    }\n    /***/\n  }\n  return BS_BLOCK_DONE;\n}\n\n/* Values for max_lazy_match, good_match and max_chain_length, depending on\n * the desired pack level (0..9). The values given below have been tuned to\n * exclude worst case performance for pathological files. Better values may be\n * found for specific files.\n */\nfunction Config(good_length, max_lazy, nice_length, max_chain, func) {\n  this.good_length = good_length;\n  this.max_lazy = max_lazy;\n  this.nice_length = nice_length;\n  this.max_chain = max_chain;\n  this.func = func;\n}\n\nvar configuration_table;\n\nconfiguration_table = [\n  /*      good lazy nice chain */\n  new Config(0, 0, 0, 0, deflate_stored),          /* 0 store only */\n  new Config(4, 4, 8, 4, deflate_fast),            /* 1 max speed, no lazy matches */\n  new Config(4, 5, 16, 8, deflate_fast),           /* 2 */\n  new Config(4, 6, 32, 32, deflate_fast),          /* 3 */\n\n  new Config(4, 4, 16, 16, deflate_slow),          /* 4 lazy matches */\n  new Config(8, 16, 32, 32, deflate_slow),         /* 5 */\n  new Config(8, 16, 128, 128, deflate_slow),       /* 6 */\n  new Config(8, 32, 128, 256, deflate_slow),       /* 7 */\n  new Config(32, 128, 258, 1024, deflate_slow),    /* 8 */\n  new Config(32, 258, 258, 4096, deflate_slow)     /* 9 max compression */\n];\n\n\n/* ===========================================================================\n * Initialize the \"longest match\" routines for a new zlib stream\n */\nfunction lm_init(s) {\n  s.window_size = 2 * s.w_size;\n\n  /*** CLEAR_HASH(s); ***/\n  zero(s.head); // Fill with NIL (= 0);\n\n  /* Set the default configuration parameters:\n   */\n  s.max_lazy_match = configuration_table[s.level].max_lazy;\n  s.good_match = configuration_table[s.level].good_length;\n  s.nice_match = configuration_table[s.level].nice_length;\n  s.max_chain_length = configuration_table[s.level].max_chain;\n\n  s.strstart = 0;\n  s.block_start = 0;\n  s.lookahead = 0;\n  s.insert = 0;\n  s.match_length = s.prev_length = MIN_MATCH - 1;\n  s.match_available = 0;\n  s.ins_h = 0;\n}\n\n\nfunction DeflateState() {\n  this.strm = null;            /* pointer back to this zlib stream */\n  this.status = 0;            /* as the name implies */\n  this.pending_buf = null;      /* output still pending */\n  this.pending_buf_size = 0;  /* size of pending_buf */\n  this.pending_out = 0;       /* next pending byte to output to the stream */\n  this.pending = 0;           /* nb of bytes in the pending buffer */\n  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */\n  this.gzhead = null;         /* gzip header information to write */\n  this.gzindex = 0;           /* where in extra, name, or comment */\n  this.method = Z_DEFLATED; /* can only be DEFLATED */\n  this.last_flush = -1;   /* value of flush param for previous deflate call */\n\n  this.w_size = 0;  /* LZ77 window size (32K by default) */\n  this.w_bits = 0;  /* log2(w_size)  (8..16) */\n  this.w_mask = 0;  /* w_size - 1 */\n\n  this.window = null;\n  /* Sliding window. Input bytes are read into the second half of the window,\n   * and move to the first half later to keep a dictionary of at least wSize\n   * bytes. With this organization, matches are limited to a distance of\n   * wSize-MAX_MATCH bytes, but this ensures that IO is always\n   * performed with a length multiple of the block size.\n   */\n\n  this.window_size = 0;\n  /* Actual size of window: 2*wSize, except when the user input buffer\n   * is directly used as sliding window.\n   */\n\n  this.prev = null;\n  /* Link to older string with same hash index. To limit the size of this\n   * array to 64K, this link is maintained only for the last 32K strings.\n   * An index in this array is thus a window index modulo 32K.\n   */\n\n  this.head = null;   /* Heads of the hash chains or NIL. */\n\n  this.ins_h = 0;       /* hash index of string to be inserted */\n  this.hash_size = 0;   /* number of elements in hash table */\n  this.hash_bits = 0;   /* log2(hash_size) */\n  this.hash_mask = 0;   /* hash_size-1 */\n\n  this.hash_shift = 0;\n  /* Number of bits by which ins_h must be shifted at each input\n   * step. It must be such that after MIN_MATCH steps, the oldest\n   * byte no longer takes part in the hash key, that is:\n   *   hash_shift * MIN_MATCH >= hash_bits\n   */\n\n  this.block_start = 0;\n  /* Window position at the beginning of the current output block. Gets\n   * negative when the window is moved backwards.\n   */\n\n  this.match_length = 0;      /* length of best match */\n  this.prev_match = 0;        /* previous match */\n  this.match_available = 0;   /* set if previous match exists */\n  this.strstart = 0;          /* start of string to insert */\n  this.match_start = 0;       /* start of matching string */\n  this.lookahead = 0;         /* number of valid bytes ahead in window */\n\n  this.prev_length = 0;\n  /* Length of the best match at previous step. Matches not greater than this\n   * are discarded. This is used in the lazy match evaluation.\n   */\n\n  this.max_chain_length = 0;\n  /* To speed up deflation, hash chains are never searched beyond this\n   * length.  A higher limit improves compression ratio but degrades the\n   * speed.\n   */\n\n  this.max_lazy_match = 0;\n  /* Attempt to find a better match only when the current match is strictly\n   * smaller than this value. This mechanism is used only for compression\n   * levels >= 4.\n   */\n  // That's alias to max_lazy_match, don't use directly\n  //this.max_insert_length = 0;\n  /* Insert new strings in the hash table only if the match length is not\n   * greater than this length. This saves time but degrades compression.\n   * max_insert_length is used only for compression levels <= 3.\n   */\n\n  this.level = 0;     /* compression level (1..9) */\n  this.strategy = 0;  /* favor or force Huffman coding*/\n\n  this.good_match = 0;\n  /* Use a faster search when the previous match is longer than this */\n\n  this.nice_match = 0; /* Stop searching when current match exceeds this */\n\n              /* used by trees.c: */\n\n  /* Didn't use ct_data typedef below to suppress compiler warning */\n\n  // struct ct_data_s dyn_ltree[HEAP_SIZE];   /* literal and length tree */\n  // struct ct_data_s dyn_dtree[2*D_CODES+1]; /* distance tree */\n  // struct ct_data_s bl_tree[2*BL_CODES+1];  /* Huffman tree for bit lengths */\n\n  // Use flat array of DOUBLE size, with interleaved fata,\n  // because JS does not support effective\n  this.dyn_ltree  = new utils.Buf16(HEAP_SIZE * 2);\n  this.dyn_dtree  = new utils.Buf16((2 * D_CODES + 1) * 2);\n  this.bl_tree    = new utils.Buf16((2 * BL_CODES + 1) * 2);\n  zero(this.dyn_ltree);\n  zero(this.dyn_dtree);\n  zero(this.bl_tree);\n\n  this.l_desc   = null;         /* desc. for literal tree */\n  this.d_desc   = null;         /* desc. for distance tree */\n  this.bl_desc  = null;         /* desc. for bit length tree */\n\n  //ush bl_count[MAX_BITS+1];\n  this.bl_count = new utils.Buf16(MAX_BITS + 1);\n  /* number of codes at each bit length for an optimal tree */\n\n  //int heap[2*L_CODES+1];      /* heap used to build the Huffman trees */\n  this.heap = new utils.Buf16(2 * L_CODES + 1);  /* heap used to build the Huffman trees */\n  zero(this.heap);\n\n  this.heap_len = 0;               /* number of elements in the heap */\n  this.heap_max = 0;               /* element of largest frequency */\n  /* The sons of heap[n] are heap[2*n] and heap[2*n+1]. heap[0] is not used.\n   * The same heap array is used to build all trees.\n   */\n\n  this.depth = new utils.Buf16(2 * L_CODES + 1); //uch depth[2*L_CODES+1];\n  zero(this.depth);\n  /* Depth of each subtree used as tie breaker for trees of equal frequency\n   */\n\n  this.l_buf = 0;          /* buffer index for literals or lengths */\n\n  this.lit_bufsize = 0;\n  /* Size of match buffer for literals/lengths.  There are 4 reasons for\n   * limiting lit_bufsize to 64K:\n   *   - frequencies can be kept in 16 bit counters\n   *   - if compression is not successful for the first block, all input\n   *     data is still in the window so we can still emit a stored block even\n   *     when input comes from standard input.  (This can also be done for\n   *     all blocks if lit_bufsize is not greater than 32K.)\n   *   - if compression is not successful for a file smaller than 64K, we can\n   *     even emit a stored file instead of a stored block (saving 5 bytes).\n   *     This is applicable only for zip (not gzip or zlib).\n   *   - creating new Huffman trees less frequently may not provide fast\n   *     adaptation to changes in the input data statistics. (Take for\n   *     example a binary file with poorly compressible code followed by\n   *     a highly compressible string table.) Smaller buffer sizes give\n   *     fast adaptation but have of course the overhead of transmitting\n   *     trees more frequently.\n   *   - I can't count above 4\n   */\n\n  this.last_lit = 0;      /* running index in l_buf */\n\n  this.d_buf = 0;\n  /* Buffer index for distances. To simplify the code, d_buf and l_buf have\n   * the same number of elements. To use different lengths, an extra flag\n   * array would be necessary.\n   */\n\n  this.opt_len = 0;       /* bit length of current block with optimal trees */\n  this.static_len = 0;    /* bit length of current block with static trees */\n  this.matches = 0;       /* number of string matches in current block */\n  this.insert = 0;        /* bytes at end of window left to insert */\n\n\n  this.bi_buf = 0;\n  /* Output buffer. bits are inserted starting at the bottom (least\n   * significant bits).\n   */\n  this.bi_valid = 0;\n  /* Number of valid bits in bi_buf.  All bits above the last valid bit\n   * are always zero.\n   */\n\n  // Used for window memory init. We safely ignore it for JS. That makes\n  // sense only for pointers and memory check tools.\n  //this.high_water = 0;\n  /* High water mark offset in window for initialized bytes -- bytes above\n   * this are set to zero in order to avoid memory check warnings when\n   * longest match routines access bytes past the input.  This is then\n   * updated to the new high water mark.\n   */\n}\n\n\nfunction deflateResetKeep(strm) {\n  var s;\n\n  if (!strm || !strm.state) {\n    return err(strm, Z_STREAM_ERROR);\n  }\n\n  strm.total_in = strm.total_out = 0;\n  strm.data_type = Z_UNKNOWN;\n\n  s = strm.state;\n  s.pending = 0;\n  s.pending_out = 0;\n\n  if (s.wrap < 0) {\n    s.wrap = -s.wrap;\n    /* was made negative by deflate(..., Z_FINISH); */\n  }\n  s.status = (s.wrap ? INIT_STATE : BUSY_STATE);\n  strm.adler = (s.wrap === 2) ?\n    0  // crc32(0, Z_NULL, 0)\n  :\n    1; // adler32(0, Z_NULL, 0)\n  s.last_flush = Z_NO_FLUSH;\n  trees._tr_init(s);\n  return Z_OK;\n}\n\n\nfunction deflateReset(strm) {\n  var ret = deflateResetKeep(strm);\n  if (ret === Z_OK) {\n    lm_init(strm.state);\n  }\n  return ret;\n}\n\n\nfunction deflateSetHeader(strm, head) {\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  if (strm.state.wrap !== 2) { return Z_STREAM_ERROR; }\n  strm.state.gzhead = head;\n  return Z_OK;\n}\n\n\nfunction deflateInit2(strm, level, method, windowBits, memLevel, strategy) {\n  if (!strm) { // === Z_NULL\n    return Z_STREAM_ERROR;\n  }\n  var wrap = 1;\n\n  if (level === Z_DEFAULT_COMPRESSION) {\n    level = 6;\n  }\n\n  if (windowBits < 0) { /* suppress zlib wrapper */\n    wrap = 0;\n    windowBits = -windowBits;\n  }\n\n  else if (windowBits > 15) {\n    wrap = 2;           /* write gzip wrapper instead */\n    windowBits -= 16;\n  }\n\n\n  if (memLevel < 1 || memLevel > MAX_MEM_LEVEL || method !== Z_DEFLATED ||\n    windowBits < 8 || windowBits > 15 || level < 0 || level > 9 ||\n    strategy < 0 || strategy > Z_FIXED) {\n    return err(strm, Z_STREAM_ERROR);\n  }\n\n\n  if (windowBits === 8) {\n    windowBits = 9;\n  }\n  /* until 256-byte window bug fixed */\n\n  var s = new DeflateState();\n\n  strm.state = s;\n  s.strm = strm;\n\n  s.wrap = wrap;\n  s.gzhead = null;\n  s.w_bits = windowBits;\n  s.w_size = 1 << s.w_bits;\n  s.w_mask = s.w_size - 1;\n\n  s.hash_bits = memLevel + 7;\n  s.hash_size = 1 << s.hash_bits;\n  s.hash_mask = s.hash_size - 1;\n  s.hash_shift = ~~((s.hash_bits + MIN_MATCH - 1) / MIN_MATCH);\n\n  s.window = new utils.Buf8(s.w_size * 2);\n  s.head = new utils.Buf16(s.hash_size);\n  s.prev = new utils.Buf16(s.w_size);\n\n  // Don't need mem init magic for JS.\n  //s.high_water = 0;  /* nothing written to s->window yet */\n\n  s.lit_bufsize = 1 << (memLevel + 6); /* 16K elements by default */\n\n  s.pending_buf_size = s.lit_bufsize * 4;\n\n  //overlay = (ushf *) ZALLOC(strm, s->lit_bufsize, sizeof(ush)+2);\n  //s->pending_buf = (uchf *) overlay;\n  s.pending_buf = new utils.Buf8(s.pending_buf_size);\n\n  // It is offset from `s.pending_buf` (size is `s.lit_bufsize * 2`)\n  //s->d_buf = overlay + s->lit_bufsize/sizeof(ush);\n  s.d_buf = 1 * s.lit_bufsize;\n\n  //s->l_buf = s->pending_buf + (1+sizeof(ush))*s->lit_bufsize;\n  s.l_buf = (1 + 2) * s.lit_bufsize;\n\n  s.level = level;\n  s.strategy = strategy;\n  s.method = method;\n\n  return deflateReset(strm);\n}\n\nfunction deflateInit(strm, level) {\n  return deflateInit2(strm, level, Z_DEFLATED, MAX_WBITS, DEF_MEM_LEVEL, Z_DEFAULT_STRATEGY);\n}\n\n\nfunction deflate(strm, flush) {\n  var old_flush, s;\n  var beg, val; // for gzip header write only\n\n  if (!strm || !strm.state ||\n    flush > Z_BLOCK || flush < 0) {\n    return strm ? err(strm, Z_STREAM_ERROR) : Z_STREAM_ERROR;\n  }\n\n  s = strm.state;\n\n  if (!strm.output ||\n      (!strm.input && strm.avail_in !== 0) ||\n      (s.status === FINISH_STATE && flush !== Z_FINISH)) {\n    return err(strm, (strm.avail_out === 0) ? Z_BUF_ERROR : Z_STREAM_ERROR);\n  }\n\n  s.strm = strm; /* just in case */\n  old_flush = s.last_flush;\n  s.last_flush = flush;\n\n  /* Write the header */\n  if (s.status === INIT_STATE) {\n\n    if (s.wrap === 2) { // GZIP header\n      strm.adler = 0;  //crc32(0L, Z_NULL, 0);\n      put_byte(s, 31);\n      put_byte(s, 139);\n      put_byte(s, 8);\n      if (!s.gzhead) { // s->gzhead == Z_NULL\n        put_byte(s, 0);\n        put_byte(s, 0);\n        put_byte(s, 0);\n        put_byte(s, 0);\n        put_byte(s, 0);\n        put_byte(s, s.level === 9 ? 2 :\n                    (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?\n                     4 : 0));\n        put_byte(s, OS_CODE);\n        s.status = BUSY_STATE;\n      }\n      else {\n        put_byte(s, (s.gzhead.text ? 1 : 0) +\n                    (s.gzhead.hcrc ? 2 : 0) +\n                    (!s.gzhead.extra ? 0 : 4) +\n                    (!s.gzhead.name ? 0 : 8) +\n                    (!s.gzhead.comment ? 0 : 16)\n        );\n        put_byte(s, s.gzhead.time & 0xff);\n        put_byte(s, (s.gzhead.time >> 8) & 0xff);\n        put_byte(s, (s.gzhead.time >> 16) & 0xff);\n        put_byte(s, (s.gzhead.time >> 24) & 0xff);\n        put_byte(s, s.level === 9 ? 2 :\n                    (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2 ?\n                     4 : 0));\n        put_byte(s, s.gzhead.os & 0xff);\n        if (s.gzhead.extra && s.gzhead.extra.length) {\n          put_byte(s, s.gzhead.extra.length & 0xff);\n          put_byte(s, (s.gzhead.extra.length >> 8) & 0xff);\n        }\n        if (s.gzhead.hcrc) {\n          strm.adler = crc32(strm.adler, s.pending_buf, s.pending, 0);\n        }\n        s.gzindex = 0;\n        s.status = EXTRA_STATE;\n      }\n    }\n    else // DEFLATE header\n    {\n      var header = (Z_DEFLATED + ((s.w_bits - 8) << 4)) << 8;\n      var level_flags = -1;\n\n      if (s.strategy >= Z_HUFFMAN_ONLY || s.level < 2) {\n        level_flags = 0;\n      } else if (s.level < 6) {\n        level_flags = 1;\n      } else if (s.level === 6) {\n        level_flags = 2;\n      } else {\n        level_flags = 3;\n      }\n      header |= (level_flags << 6);\n      if (s.strstart !== 0) { header |= PRESET_DICT; }\n      header += 31 - (header % 31);\n\n      s.status = BUSY_STATE;\n      putShortMSB(s, header);\n\n      /* Save the adler32 of the preset dictionary: */\n      if (s.strstart !== 0) {\n        putShortMSB(s, strm.adler >>> 16);\n        putShortMSB(s, strm.adler & 0xffff);\n      }\n      strm.adler = 1; // adler32(0L, Z_NULL, 0);\n    }\n  }\n\n//#ifdef GZIP\n  if (s.status === EXTRA_STATE) {\n    if (s.gzhead.extra/* != Z_NULL*/) {\n      beg = s.pending;  /* start of bytes to update crc */\n\n      while (s.gzindex < (s.gzhead.extra.length & 0xffff)) {\n        if (s.pending === s.pending_buf_size) {\n          if (s.gzhead.hcrc && s.pending > beg) {\n            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n          }\n          flush_pending(strm);\n          beg = s.pending;\n          if (s.pending === s.pending_buf_size) {\n            break;\n          }\n        }\n        put_byte(s, s.gzhead.extra[s.gzindex] & 0xff);\n        s.gzindex++;\n      }\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      if (s.gzindex === s.gzhead.extra.length) {\n        s.gzindex = 0;\n        s.status = NAME_STATE;\n      }\n    }\n    else {\n      s.status = NAME_STATE;\n    }\n  }\n  if (s.status === NAME_STATE) {\n    if (s.gzhead.name/* != Z_NULL*/) {\n      beg = s.pending;  /* start of bytes to update crc */\n      //int val;\n\n      do {\n        if (s.pending === s.pending_buf_size) {\n          if (s.gzhead.hcrc && s.pending > beg) {\n            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n          }\n          flush_pending(strm);\n          beg = s.pending;\n          if (s.pending === s.pending_buf_size) {\n            val = 1;\n            break;\n          }\n        }\n        // JS specific: little magic to add zero terminator to end of string\n        if (s.gzindex < s.gzhead.name.length) {\n          val = s.gzhead.name.charCodeAt(s.gzindex++) & 0xff;\n        } else {\n          val = 0;\n        }\n        put_byte(s, val);\n      } while (val !== 0);\n\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      if (val === 0) {\n        s.gzindex = 0;\n        s.status = COMMENT_STATE;\n      }\n    }\n    else {\n      s.status = COMMENT_STATE;\n    }\n  }\n  if (s.status === COMMENT_STATE) {\n    if (s.gzhead.comment/* != Z_NULL*/) {\n      beg = s.pending;  /* start of bytes to update crc */\n      //int val;\n\n      do {\n        if (s.pending === s.pending_buf_size) {\n          if (s.gzhead.hcrc && s.pending > beg) {\n            strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n          }\n          flush_pending(strm);\n          beg = s.pending;\n          if (s.pending === s.pending_buf_size) {\n            val = 1;\n            break;\n          }\n        }\n        // JS specific: little magic to add zero terminator to end of string\n        if (s.gzindex < s.gzhead.comment.length) {\n          val = s.gzhead.comment.charCodeAt(s.gzindex++) & 0xff;\n        } else {\n          val = 0;\n        }\n        put_byte(s, val);\n      } while (val !== 0);\n\n      if (s.gzhead.hcrc && s.pending > beg) {\n        strm.adler = crc32(strm.adler, s.pending_buf, s.pending - beg, beg);\n      }\n      if (val === 0) {\n        s.status = HCRC_STATE;\n      }\n    }\n    else {\n      s.status = HCRC_STATE;\n    }\n  }\n  if (s.status === HCRC_STATE) {\n    if (s.gzhead.hcrc) {\n      if (s.pending + 2 > s.pending_buf_size) {\n        flush_pending(strm);\n      }\n      if (s.pending + 2 <= s.pending_buf_size) {\n        put_byte(s, strm.adler & 0xff);\n        put_byte(s, (strm.adler >> 8) & 0xff);\n        strm.adler = 0; //crc32(0L, Z_NULL, 0);\n        s.status = BUSY_STATE;\n      }\n    }\n    else {\n      s.status = BUSY_STATE;\n    }\n  }\n//#endif\n\n  /* Flush as much pending output as possible */\n  if (s.pending !== 0) {\n    flush_pending(strm);\n    if (strm.avail_out === 0) {\n      /* Since avail_out is 0, deflate will be called again with\n       * more output space, but possibly with both pending and\n       * avail_in equal to zero. There won't be anything to do,\n       * but this is not an error situation so make sure we\n       * return OK instead of BUF_ERROR at next call of deflate:\n       */\n      s.last_flush = -1;\n      return Z_OK;\n    }\n\n    /* Make sure there is something to do and avoid duplicate consecutive\n     * flushes. For repeated and useless calls with Z_FINISH, we keep\n     * returning Z_STREAM_END instead of Z_BUF_ERROR.\n     */\n  } else if (strm.avail_in === 0 && rank(flush) <= rank(old_flush) &&\n    flush !== Z_FINISH) {\n    return err(strm, Z_BUF_ERROR);\n  }\n\n  /* User must not provide more input after the first FINISH: */\n  if (s.status === FINISH_STATE && strm.avail_in !== 0) {\n    return err(strm, Z_BUF_ERROR);\n  }\n\n  /* Start a new block or continue the current one.\n   */\n  if (strm.avail_in !== 0 || s.lookahead !== 0 ||\n    (flush !== Z_NO_FLUSH && s.status !== FINISH_STATE)) {\n    var bstate = (s.strategy === Z_HUFFMAN_ONLY) ? deflate_huff(s, flush) :\n      (s.strategy === Z_RLE ? deflate_rle(s, flush) :\n        configuration_table[s.level].func(s, flush));\n\n    if (bstate === BS_FINISH_STARTED || bstate === BS_FINISH_DONE) {\n      s.status = FINISH_STATE;\n    }\n    if (bstate === BS_NEED_MORE || bstate === BS_FINISH_STARTED) {\n      if (strm.avail_out === 0) {\n        s.last_flush = -1;\n        /* avoid BUF_ERROR next call, see above */\n      }\n      return Z_OK;\n      /* If flush != Z_NO_FLUSH && avail_out == 0, the next call\n       * of deflate should use the same flush parameter to make sure\n       * that the flush is complete. So we don't have to output an\n       * empty block here, this will be done at next call. This also\n       * ensures that for a very small output buffer, we emit at most\n       * one empty block.\n       */\n    }\n    if (bstate === BS_BLOCK_DONE) {\n      if (flush === Z_PARTIAL_FLUSH) {\n        trees._tr_align(s);\n      }\n      else if (flush !== Z_BLOCK) { /* FULL_FLUSH or SYNC_FLUSH */\n\n        trees._tr_stored_block(s, 0, 0, false);\n        /* For a full flush, this empty block will be recognized\n         * as a special marker by inflate_sync().\n         */\n        if (flush === Z_FULL_FLUSH) {\n          /*** CLEAR_HASH(s); ***/             /* forget history */\n          zero(s.head); // Fill with NIL (= 0);\n\n          if (s.lookahead === 0) {\n            s.strstart = 0;\n            s.block_start = 0;\n            s.insert = 0;\n          }\n        }\n      }\n      flush_pending(strm);\n      if (strm.avail_out === 0) {\n        s.last_flush = -1; /* avoid BUF_ERROR at next call, see above */\n        return Z_OK;\n      }\n    }\n  }\n  //Assert(strm->avail_out > 0, \"bug2\");\n  //if (strm.avail_out <= 0) { throw new Error(\"bug2\");}\n\n  if (flush !== Z_FINISH) { return Z_OK; }\n  if (s.wrap <= 0) { return Z_STREAM_END; }\n\n  /* Write the trailer */\n  if (s.wrap === 2) {\n    put_byte(s, strm.adler & 0xff);\n    put_byte(s, (strm.adler >> 8) & 0xff);\n    put_byte(s, (strm.adler >> 16) & 0xff);\n    put_byte(s, (strm.adler >> 24) & 0xff);\n    put_byte(s, strm.total_in & 0xff);\n    put_byte(s, (strm.total_in >> 8) & 0xff);\n    put_byte(s, (strm.total_in >> 16) & 0xff);\n    put_byte(s, (strm.total_in >> 24) & 0xff);\n  }\n  else\n  {\n    putShortMSB(s, strm.adler >>> 16);\n    putShortMSB(s, strm.adler & 0xffff);\n  }\n\n  flush_pending(strm);\n  /* If avail_out is zero, the application will call deflate again\n   * to flush the rest.\n   */\n  if (s.wrap > 0) { s.wrap = -s.wrap; }\n  /* write the trailer only once! */\n  return s.pending !== 0 ? Z_OK : Z_STREAM_END;\n}\n\nfunction deflateEnd(strm) {\n  var status;\n\n  if (!strm/*== Z_NULL*/ || !strm.state/*== Z_NULL*/) {\n    return Z_STREAM_ERROR;\n  }\n\n  status = strm.state.status;\n  if (status !== INIT_STATE &&\n    status !== EXTRA_STATE &&\n    status !== NAME_STATE &&\n    status !== COMMENT_STATE &&\n    status !== HCRC_STATE &&\n    status !== BUSY_STATE &&\n    status !== FINISH_STATE\n  ) {\n    return err(strm, Z_STREAM_ERROR);\n  }\n\n  strm.state = null;\n\n  return status === BUSY_STATE ? err(strm, Z_DATA_ERROR) : Z_OK;\n}\n\n\n/* =========================================================================\n * Initializes the compression dictionary from the given byte\n * sequence without producing any compressed output.\n */\nfunction deflateSetDictionary(strm, dictionary) {\n  var dictLength = dictionary.length;\n\n  var s;\n  var str, n;\n  var wrap;\n  var avail;\n  var next;\n  var input;\n  var tmpDict;\n\n  if (!strm/*== Z_NULL*/ || !strm.state/*== Z_NULL*/) {\n    return Z_STREAM_ERROR;\n  }\n\n  s = strm.state;\n  wrap = s.wrap;\n\n  if (wrap === 2 || (wrap === 1 && s.status !== INIT_STATE) || s.lookahead) {\n    return Z_STREAM_ERROR;\n  }\n\n  /* when using zlib wrappers, compute Adler-32 for provided dictionary */\n  if (wrap === 1) {\n    /* adler32(strm->adler, dictionary, dictLength); */\n    strm.adler = adler32(strm.adler, dictionary, dictLength, 0);\n  }\n\n  s.wrap = 0;   /* avoid computing Adler-32 in read_buf */\n\n  /* if dictionary would fill window, just replace the history */\n  if (dictLength >= s.w_size) {\n    if (wrap === 0) {            /* already empty otherwise */\n      /*** CLEAR_HASH(s); ***/\n      zero(s.head); // Fill with NIL (= 0);\n      s.strstart = 0;\n      s.block_start = 0;\n      s.insert = 0;\n    }\n    /* use the tail */\n    // dictionary = dictionary.slice(dictLength - s.w_size);\n    tmpDict = new utils.Buf8(s.w_size);\n    utils.arraySet(tmpDict, dictionary, dictLength - s.w_size, s.w_size, 0);\n    dictionary = tmpDict;\n    dictLength = s.w_size;\n  }\n  /* insert dictionary into window and hash */\n  avail = strm.avail_in;\n  next = strm.next_in;\n  input = strm.input;\n  strm.avail_in = dictLength;\n  strm.next_in = 0;\n  strm.input = dictionary;\n  fill_window(s);\n  while (s.lookahead >= MIN_MATCH) {\n    str = s.strstart;\n    n = s.lookahead - (MIN_MATCH - 1);\n    do {\n      /* UPDATE_HASH(s, s->ins_h, s->window[str + MIN_MATCH-1]); */\n      s.ins_h = ((s.ins_h << s.hash_shift) ^ s.window[str + MIN_MATCH - 1]) & s.hash_mask;\n\n      s.prev[str & s.w_mask] = s.head[s.ins_h];\n\n      s.head[s.ins_h] = str;\n      str++;\n    } while (--n);\n    s.strstart = str;\n    s.lookahead = MIN_MATCH - 1;\n    fill_window(s);\n  }\n  s.strstart += s.lookahead;\n  s.block_start = s.strstart;\n  s.insert = s.lookahead;\n  s.lookahead = 0;\n  s.match_length = s.prev_length = MIN_MATCH - 1;\n  s.match_available = 0;\n  strm.next_in = next;\n  strm.input = input;\n  strm.avail_in = avail;\n  s.wrap = wrap;\n  return Z_OK;\n}\n\n\nexports.deflateInit = deflateInit;\nexports.deflateInit2 = deflateInit2;\nexports.deflateReset = deflateReset;\nexports.deflateResetKeep = deflateResetKeep;\nexports.deflateSetHeader = deflateSetHeader;\nexports.deflate = deflate;\nexports.deflateEnd = deflateEnd;\nexports.deflateSetDictionary = deflateSetDictionary;\nexports.deflateInfo = 'pako deflate (from Nodeca project)';\n\n/* Not implemented\nexports.deflateBound = deflateBound;\nexports.deflateCopy = deflateCopy;\nexports.deflateParams = deflateParams;\nexports.deflatePending = deflatePending;\nexports.deflatePrime = deflatePrime;\nexports.deflateTune = deflateTune;\n*/\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n/* eslint-disable space-unary-ops */\n\nvar utils = require('../utils/common');\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\n\n//var Z_FILTERED          = 1;\n//var Z_HUFFMAN_ONLY      = 2;\n//var Z_RLE               = 3;\nvar Z_FIXED               = 4;\n//var Z_DEFAULT_STRATEGY  = 0;\n\n/* Possible values of the data_type field (though see inflate()) */\nvar Z_BINARY              = 0;\nvar Z_TEXT                = 1;\n//var Z_ASCII             = 1; // = Z_TEXT\nvar Z_UNKNOWN             = 2;\n\n/*============================================================================*/\n\n\nfunction zero(buf) { var len = buf.length; while (--len >= 0) { buf[len] = 0; } }\n\n// From zutil.h\n\nvar STORED_BLOCK = 0;\nvar STATIC_TREES = 1;\nvar DYN_TREES    = 2;\n/* The three kinds of block type */\n\nvar MIN_MATCH    = 3;\nvar MAX_MATCH    = 258;\n/* The minimum and maximum match lengths */\n\n// From deflate.h\n/* ===========================================================================\n * Internal compression state.\n */\n\nvar LENGTH_CODES  = 29;\n/* number of length codes, not counting the special END_BLOCK code */\n\nvar LITERALS      = 256;\n/* number of literal bytes 0..255 */\n\nvar L_CODES       = LITERALS + 1 + LENGTH_CODES;\n/* number of Literal or Length codes, including the END_BLOCK code */\n\nvar D_CODES       = 30;\n/* number of distance codes */\n\nvar BL_CODES      = 19;\n/* number of codes used to transfer the bit lengths */\n\nvar HEAP_SIZE     = 2 * L_CODES + 1;\n/* maximum heap size */\n\nvar MAX_BITS      = 15;\n/* All codes must not exceed MAX_BITS bits */\n\nvar Buf_size      = 16;\n/* size of bit buffer in bi_buf */\n\n\n/* ===========================================================================\n * Constants\n */\n\nvar MAX_BL_BITS = 7;\n/* Bit length codes must not exceed MAX_BL_BITS bits */\n\nvar END_BLOCK   = 256;\n/* end of block literal code */\n\nvar REP_3_6     = 16;\n/* repeat previous bit length 3-6 times (2 bits of repeat count) */\n\nvar REPZ_3_10   = 17;\n/* repeat a zero length 3-10 times  (3 bits of repeat count) */\n\nvar REPZ_11_138 = 18;\n/* repeat a zero length 11-138 times  (7 bits of repeat count) */\n\n/* eslint-disable comma-spacing,array-bracket-spacing */\nvar extra_lbits =   /* extra bits for each length code */\n  [0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0];\n\nvar extra_dbits =   /* extra bits for each distance code */\n  [0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13];\n\nvar extra_blbits =  /* extra bits for each bit length code */\n  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7];\n\nvar bl_order =\n  [16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];\n/* eslint-enable comma-spacing,array-bracket-spacing */\n\n/* The lengths of the bit length codes are sent in order of decreasing\n * probability, to avoid transmitting the lengths for unused bit length codes.\n */\n\n/* ===========================================================================\n * Local data. These are initialized only once.\n */\n\n// We pre-fill arrays with 0 to avoid uninitialized gaps\n\nvar DIST_CODE_LEN = 512; /* see definition of array dist_code below */\n\n// !!!! Use flat array instead of structure, Freq = i*2, Len = i*2+1\nvar static_ltree  = new Array((L_CODES + 2) * 2);\nzero(static_ltree);\n/* The static literal tree. Since the bit lengths are imposed, there is no\n * need for the L_CODES extra codes used during heap construction. However\n * The codes 286 and 287 are needed to build a canonical tree (see _tr_init\n * below).\n */\n\nvar static_dtree  = new Array(D_CODES * 2);\nzero(static_dtree);\n/* The static distance tree. (Actually a trivial tree since all codes use\n * 5 bits.)\n */\n\nvar _dist_code    = new Array(DIST_CODE_LEN);\nzero(_dist_code);\n/* Distance codes. The first 256 values correspond to the distances\n * 3 .. 258, the last 256 values correspond to the top 8 bits of\n * the 15 bit distances.\n */\n\nvar _length_code  = new Array(MAX_MATCH - MIN_MATCH + 1);\nzero(_length_code);\n/* length code for each normalized match length (0 == MIN_MATCH) */\n\nvar base_length   = new Array(LENGTH_CODES);\nzero(base_length);\n/* First normalized length for each code (0 = MIN_MATCH) */\n\nvar base_dist     = new Array(D_CODES);\nzero(base_dist);\n/* First normalized distance for each code (0 = distance of 1) */\n\n\nfunction StaticTreeDesc(static_tree, extra_bits, extra_base, elems, max_length) {\n\n  this.static_tree  = static_tree;  /* static tree or NULL */\n  this.extra_bits   = extra_bits;   /* extra bits for each code or NULL */\n  this.extra_base   = extra_base;   /* base index for extra_bits */\n  this.elems        = elems;        /* max number of elements in the tree */\n  this.max_length   = max_length;   /* max bit length for the codes */\n\n  // show if `static_tree` has data or dummy - needed for monomorphic objects\n  this.has_stree    = static_tree && static_tree.length;\n}\n\n\nvar static_l_desc;\nvar static_d_desc;\nvar static_bl_desc;\n\n\nfunction TreeDesc(dyn_tree, stat_desc) {\n  this.dyn_tree = dyn_tree;     /* the dynamic tree */\n  this.max_code = 0;            /* largest code with non zero frequency */\n  this.stat_desc = stat_desc;   /* the corresponding static tree */\n}\n\n\n\nfunction d_code(dist) {\n  return dist < 256 ? _dist_code[dist] : _dist_code[256 + (dist >>> 7)];\n}\n\n\n/* ===========================================================================\n * Output a short LSB first on the stream.\n * IN assertion: there is enough room in pendingBuf.\n */\nfunction put_short(s, w) {\n//    put_byte(s, (uch)((w) & 0xff));\n//    put_byte(s, (uch)((ush)(w) >> 8));\n  s.pending_buf[s.pending++] = (w) & 0xff;\n  s.pending_buf[s.pending++] = (w >>> 8) & 0xff;\n}\n\n\n/* ===========================================================================\n * Send a value on a given number of bits.\n * IN assertion: length <= 16 and value fits in length bits.\n */\nfunction send_bits(s, value, length) {\n  if (s.bi_valid > (Buf_size - length)) {\n    s.bi_buf |= (value << s.bi_valid) & 0xffff;\n    put_short(s, s.bi_buf);\n    s.bi_buf = value >> (Buf_size - s.bi_valid);\n    s.bi_valid += length - Buf_size;\n  } else {\n    s.bi_buf |= (value << s.bi_valid) & 0xffff;\n    s.bi_valid += length;\n  }\n}\n\n\nfunction send_code(s, c, tree) {\n  send_bits(s, tree[c * 2]/*.Code*/, tree[c * 2 + 1]/*.Len*/);\n}\n\n\n/* ===========================================================================\n * Reverse the first len bits of a code, using straightforward code (a faster\n * method would use a table)\n * IN assertion: 1 <= len <= 15\n */\nfunction bi_reverse(code, len) {\n  var res = 0;\n  do {\n    res |= code & 1;\n    code >>>= 1;\n    res <<= 1;\n  } while (--len > 0);\n  return res >>> 1;\n}\n\n\n/* ===========================================================================\n * Flush the bit buffer, keeping at most 7 bits in it.\n */\nfunction bi_flush(s) {\n  if (s.bi_valid === 16) {\n    put_short(s, s.bi_buf);\n    s.bi_buf = 0;\n    s.bi_valid = 0;\n\n  } else if (s.bi_valid >= 8) {\n    s.pending_buf[s.pending++] = s.bi_buf & 0xff;\n    s.bi_buf >>= 8;\n    s.bi_valid -= 8;\n  }\n}\n\n\n/* ===========================================================================\n * Compute the optimal bit lengths for a tree and update the total bit length\n * for the current block.\n * IN assertion: the fields freq and dad are set, heap[heap_max] and\n *    above are the tree nodes sorted by increasing frequency.\n * OUT assertions: the field len is set to the optimal bit length, the\n *     array bl_count contains the frequencies for each bit length.\n *     The length opt_len is updated; static_len is also updated if stree is\n *     not null.\n */\nfunction gen_bitlen(s, desc)\n//    deflate_state *s;\n//    tree_desc *desc;    /* the tree descriptor */\n{\n  var tree            = desc.dyn_tree;\n  var max_code        = desc.max_code;\n  var stree           = desc.stat_desc.static_tree;\n  var has_stree       = desc.stat_desc.has_stree;\n  var extra           = desc.stat_desc.extra_bits;\n  var base            = desc.stat_desc.extra_base;\n  var max_length      = desc.stat_desc.max_length;\n  var h;              /* heap index */\n  var n, m;           /* iterate over the tree elements */\n  var bits;           /* bit length */\n  var xbits;          /* extra bits */\n  var f;              /* frequency */\n  var overflow = 0;   /* number of elements with bit length too large */\n\n  for (bits = 0; bits <= MAX_BITS; bits++) {\n    s.bl_count[bits] = 0;\n  }\n\n  /* In a first pass, compute the optimal bit lengths (which may\n   * overflow in the case of the bit length tree).\n   */\n  tree[s.heap[s.heap_max] * 2 + 1]/*.Len*/ = 0; /* root of the heap */\n\n  for (h = s.heap_max + 1; h < HEAP_SIZE; h++) {\n    n = s.heap[h];\n    bits = tree[tree[n * 2 + 1]/*.Dad*/ * 2 + 1]/*.Len*/ + 1;\n    if (bits > max_length) {\n      bits = max_length;\n      overflow++;\n    }\n    tree[n * 2 + 1]/*.Len*/ = bits;\n    /* We overwrite tree[n].Dad which is no longer needed */\n\n    if (n > max_code) { continue; } /* not a leaf node */\n\n    s.bl_count[bits]++;\n    xbits = 0;\n    if (n >= base) {\n      xbits = extra[n - base];\n    }\n    f = tree[n * 2]/*.Freq*/;\n    s.opt_len += f * (bits + xbits);\n    if (has_stree) {\n      s.static_len += f * (stree[n * 2 + 1]/*.Len*/ + xbits);\n    }\n  }\n  if (overflow === 0) { return; }\n\n  // Trace((stderr,\"\\nbit length overflow\\n\"));\n  /* This happens for example on obj2 and pic of the Calgary corpus */\n\n  /* Find the first bit length which could increase: */\n  do {\n    bits = max_length - 1;\n    while (s.bl_count[bits] === 0) { bits--; }\n    s.bl_count[bits]--;      /* move one leaf down the tree */\n    s.bl_count[bits + 1] += 2; /* move one overflow item as its brother */\n    s.bl_count[max_length]--;\n    /* The brother of the overflow item also moves one step up,\n     * but this does not affect bl_count[max_length]\n     */\n    overflow -= 2;\n  } while (overflow > 0);\n\n  /* Now recompute all bit lengths, scanning in increasing frequency.\n   * h is still equal to HEAP_SIZE. (It is simpler to reconstruct all\n   * lengths instead of fixing only the wrong ones. This idea is taken\n   * from 'ar' written by Haruhiko Okumura.)\n   */\n  for (bits = max_length; bits !== 0; bits--) {\n    n = s.bl_count[bits];\n    while (n !== 0) {\n      m = s.heap[--h];\n      if (m > max_code) { continue; }\n      if (tree[m * 2 + 1]/*.Len*/ !== bits) {\n        // Trace((stderr,\"code %d bits %d->%d\\n\", m, tree[m].Len, bits));\n        s.opt_len += (bits - tree[m * 2 + 1]/*.Len*/) * tree[m * 2]/*.Freq*/;\n        tree[m * 2 + 1]/*.Len*/ = bits;\n      }\n      n--;\n    }\n  }\n}\n\n\n/* ===========================================================================\n * Generate the codes for a given tree and bit counts (which need not be\n * optimal).\n * IN assertion: the array bl_count contains the bit length statistics for\n * the given tree and the field len is set for all tree elements.\n * OUT assertion: the field code is set for all tree elements of non\n *     zero code length.\n */\nfunction gen_codes(tree, max_code, bl_count)\n//    ct_data *tree;             /* the tree to decorate */\n//    int max_code;              /* largest code with non zero frequency */\n//    ushf *bl_count;            /* number of codes at each bit length */\n{\n  var next_code = new Array(MAX_BITS + 1); /* next code value for each bit length */\n  var code = 0;              /* running code value */\n  var bits;                  /* bit index */\n  var n;                     /* code index */\n\n  /* The distribution counts are first used to generate the code values\n   * without bit reversal.\n   */\n  for (bits = 1; bits <= MAX_BITS; bits++) {\n    next_code[bits] = code = (code + bl_count[bits - 1]) << 1;\n  }\n  /* Check that the bit counts in bl_count are consistent. The last code\n   * must be all ones.\n   */\n  //Assert (code + bl_count[MAX_BITS]-1 == (1<<MAX_BITS)-1,\n  //        \"inconsistent bit counts\");\n  //Tracev((stderr,\"\\ngen_codes: max_code %d \", max_code));\n\n  for (n = 0;  n <= max_code; n++) {\n    var len = tree[n * 2 + 1]/*.Len*/;\n    if (len === 0) { continue; }\n    /* Now reverse the bits */\n    tree[n * 2]/*.Code*/ = bi_reverse(next_code[len]++, len);\n\n    //Tracecv(tree != static_ltree, (stderr,\"\\nn %3d %c l %2d c %4x (%x) \",\n    //     n, (isgraph(n) ? n : ' '), len, tree[n].Code, next_code[len]-1));\n  }\n}\n\n\n/* ===========================================================================\n * Initialize the various 'constant' tables.\n */\nfunction tr_static_init() {\n  var n;        /* iterates over tree elements */\n  var bits;     /* bit counter */\n  var length;   /* length value */\n  var code;     /* code value */\n  var dist;     /* distance index */\n  var bl_count = new Array(MAX_BITS + 1);\n  /* number of codes at each bit length for an optimal tree */\n\n  // do check in _tr_init()\n  //if (static_init_done) return;\n\n  /* For some embedded targets, global variables are not initialized: */\n/*#ifdef NO_INIT_GLOBAL_POINTERS\n  static_l_desc.static_tree = static_ltree;\n  static_l_desc.extra_bits = extra_lbits;\n  static_d_desc.static_tree = static_dtree;\n  static_d_desc.extra_bits = extra_dbits;\n  static_bl_desc.extra_bits = extra_blbits;\n#endif*/\n\n  /* Initialize the mapping length (0..255) -> length code (0..28) */\n  length = 0;\n  for (code = 0; code < LENGTH_CODES - 1; code++) {\n    base_length[code] = length;\n    for (n = 0; n < (1 << extra_lbits[code]); n++) {\n      _length_code[length++] = code;\n    }\n  }\n  //Assert (length == 256, \"tr_static_init: length != 256\");\n  /* Note that the length 255 (match length 258) can be represented\n   * in two different ways: code 284 + 5 bits or code 285, so we\n   * overwrite length_code[255] to use the best encoding:\n   */\n  _length_code[length - 1] = code;\n\n  /* Initialize the mapping dist (0..32K) -> dist code (0..29) */\n  dist = 0;\n  for (code = 0; code < 16; code++) {\n    base_dist[code] = dist;\n    for (n = 0; n < (1 << extra_dbits[code]); n++) {\n      _dist_code[dist++] = code;\n    }\n  }\n  //Assert (dist == 256, \"tr_static_init: dist != 256\");\n  dist >>= 7; /* from now on, all distances are divided by 128 */\n  for (; code < D_CODES; code++) {\n    base_dist[code] = dist << 7;\n    for (n = 0; n < (1 << (extra_dbits[code] - 7)); n++) {\n      _dist_code[256 + dist++] = code;\n    }\n  }\n  //Assert (dist == 256, \"tr_static_init: 256+dist != 512\");\n\n  /* Construct the codes of the static literal tree */\n  for (bits = 0; bits <= MAX_BITS; bits++) {\n    bl_count[bits] = 0;\n  }\n\n  n = 0;\n  while (n <= 143) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 8;\n    n++;\n    bl_count[8]++;\n  }\n  while (n <= 255) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 9;\n    n++;\n    bl_count[9]++;\n  }\n  while (n <= 279) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 7;\n    n++;\n    bl_count[7]++;\n  }\n  while (n <= 287) {\n    static_ltree[n * 2 + 1]/*.Len*/ = 8;\n    n++;\n    bl_count[8]++;\n  }\n  /* Codes 286 and 287 do not exist, but we must include them in the\n   * tree construction to get a canonical Huffman tree (longest code\n   * all ones)\n   */\n  gen_codes(static_ltree, L_CODES + 1, bl_count);\n\n  /* The static distance tree is trivial: */\n  for (n = 0; n < D_CODES; n++) {\n    static_dtree[n * 2 + 1]/*.Len*/ = 5;\n    static_dtree[n * 2]/*.Code*/ = bi_reverse(n, 5);\n  }\n\n  // Now data ready and we can init static trees\n  static_l_desc = new StaticTreeDesc(static_ltree, extra_lbits, LITERALS + 1, L_CODES, MAX_BITS);\n  static_d_desc = new StaticTreeDesc(static_dtree, extra_dbits, 0,          D_CODES, MAX_BITS);\n  static_bl_desc = new StaticTreeDesc(new Array(0), extra_blbits, 0,         BL_CODES, MAX_BL_BITS);\n\n  //static_init_done = true;\n}\n\n\n/* ===========================================================================\n * Initialize a new block.\n */\nfunction init_block(s) {\n  var n; /* iterates over tree elements */\n\n  /* Initialize the trees. */\n  for (n = 0; n < L_CODES;  n++) { s.dyn_ltree[n * 2]/*.Freq*/ = 0; }\n  for (n = 0; n < D_CODES;  n++) { s.dyn_dtree[n * 2]/*.Freq*/ = 0; }\n  for (n = 0; n < BL_CODES; n++) { s.bl_tree[n * 2]/*.Freq*/ = 0; }\n\n  s.dyn_ltree[END_BLOCK * 2]/*.Freq*/ = 1;\n  s.opt_len = s.static_len = 0;\n  s.last_lit = s.matches = 0;\n}\n\n\n/* ===========================================================================\n * Flush the bit buffer and align the output on a byte boundary\n */\nfunction bi_windup(s)\n{\n  if (s.bi_valid > 8) {\n    put_short(s, s.bi_buf);\n  } else if (s.bi_valid > 0) {\n    //put_byte(s, (Byte)s->bi_buf);\n    s.pending_buf[s.pending++] = s.bi_buf;\n  }\n  s.bi_buf = 0;\n  s.bi_valid = 0;\n}\n\n/* ===========================================================================\n * Copy a stored block, storing first the length and its\n * one's complement if requested.\n */\nfunction copy_block(s, buf, len, header)\n//DeflateState *s;\n//charf    *buf;    /* the input data */\n//unsigned len;     /* its length */\n//int      header;  /* true if block header must be written */\n{\n  bi_windup(s);        /* align on byte boundary */\n\n  if (header) {\n    put_short(s, len);\n    put_short(s, ~len);\n  }\n//  while (len--) {\n//    put_byte(s, *buf++);\n//  }\n  utils.arraySet(s.pending_buf, s.window, buf, len, s.pending);\n  s.pending += len;\n}\n\n/* ===========================================================================\n * Compares to subtrees, using the tree depth as tie breaker when\n * the subtrees have equal frequency. This minimizes the worst case length.\n */\nfunction smaller(tree, n, m, depth) {\n  var _n2 = n * 2;\n  var _m2 = m * 2;\n  return (tree[_n2]/*.Freq*/ < tree[_m2]/*.Freq*/ ||\n         (tree[_n2]/*.Freq*/ === tree[_m2]/*.Freq*/ && depth[n] <= depth[m]));\n}\n\n/* ===========================================================================\n * Restore the heap property by moving down the tree starting at node k,\n * exchanging a node with the smallest of its two sons if necessary, stopping\n * when the heap property is re-established (each father smaller than its\n * two sons).\n */\nfunction pqdownheap(s, tree, k)\n//    deflate_state *s;\n//    ct_data *tree;  /* the tree to restore */\n//    int k;               /* node to move down */\n{\n  var v = s.heap[k];\n  var j = k << 1;  /* left son of k */\n  while (j <= s.heap_len) {\n    /* Set j to the smallest of the two sons: */\n    if (j < s.heap_len &&\n      smaller(tree, s.heap[j + 1], s.heap[j], s.depth)) {\n      j++;\n    }\n    /* Exit if v is smaller than both sons */\n    if (smaller(tree, v, s.heap[j], s.depth)) { break; }\n\n    /* Exchange v with the smallest son */\n    s.heap[k] = s.heap[j];\n    k = j;\n\n    /* And continue down the tree, setting j to the left son of k */\n    j <<= 1;\n  }\n  s.heap[k] = v;\n}\n\n\n// inlined manually\n// var SMALLEST = 1;\n\n/* ===========================================================================\n * Send the block data compressed using the given Huffman trees\n */\nfunction compress_block(s, ltree, dtree)\n//    deflate_state *s;\n//    const ct_data *ltree; /* literal tree */\n//    const ct_data *dtree; /* distance tree */\n{\n  var dist;           /* distance of matched string */\n  var lc;             /* match length or unmatched char (if dist == 0) */\n  var lx = 0;         /* running index in l_buf */\n  var code;           /* the code to send */\n  var extra;          /* number of extra bits to send */\n\n  if (s.last_lit !== 0) {\n    do {\n      dist = (s.pending_buf[s.d_buf + lx * 2] << 8) | (s.pending_buf[s.d_buf + lx * 2 + 1]);\n      lc = s.pending_buf[s.l_buf + lx];\n      lx++;\n\n      if (dist === 0) {\n        send_code(s, lc, ltree); /* send a literal byte */\n        //Tracecv(isgraph(lc), (stderr,\" '%c' \", lc));\n      } else {\n        /* Here, lc is the match length - MIN_MATCH */\n        code = _length_code[lc];\n        send_code(s, code + LITERALS + 1, ltree); /* send the length code */\n        extra = extra_lbits[code];\n        if (extra !== 0) {\n          lc -= base_length[code];\n          send_bits(s, lc, extra);       /* send the extra length bits */\n        }\n        dist--; /* dist is now the match distance - 1 */\n        code = d_code(dist);\n        //Assert (code < D_CODES, \"bad d_code\");\n\n        send_code(s, code, dtree);       /* send the distance code */\n        extra = extra_dbits[code];\n        if (extra !== 0) {\n          dist -= base_dist[code];\n          send_bits(s, dist, extra);   /* send the extra distance bits */\n        }\n      } /* literal or match pair ? */\n\n      /* Check that the overlay between pending_buf and d_buf+l_buf is ok: */\n      //Assert((uInt)(s->pending) < s->lit_bufsize + 2*lx,\n      //       \"pendingBuf overflow\");\n\n    } while (lx < s.last_lit);\n  }\n\n  send_code(s, END_BLOCK, ltree);\n}\n\n\n/* ===========================================================================\n * Construct one Huffman tree and assigns the code bit strings and lengths.\n * Update the total bit length for the current block.\n * IN assertion: the field freq is set for all tree elements.\n * OUT assertions: the fields len and code are set to the optimal bit length\n *     and corresponding code. The length opt_len is updated; static_len is\n *     also updated if stree is not null. The field max_code is set.\n */\nfunction build_tree(s, desc)\n//    deflate_state *s;\n//    tree_desc *desc; /* the tree descriptor */\n{\n  var tree     = desc.dyn_tree;\n  var stree    = desc.stat_desc.static_tree;\n  var has_stree = desc.stat_desc.has_stree;\n  var elems    = desc.stat_desc.elems;\n  var n, m;          /* iterate over heap elements */\n  var max_code = -1; /* largest code with non zero frequency */\n  var node;          /* new node being created */\n\n  /* Construct the initial heap, with least frequent element in\n   * heap[SMALLEST]. The sons of heap[n] are heap[2*n] and heap[2*n+1].\n   * heap[0] is not used.\n   */\n  s.heap_len = 0;\n  s.heap_max = HEAP_SIZE;\n\n  for (n = 0; n < elems; n++) {\n    if (tree[n * 2]/*.Freq*/ !== 0) {\n      s.heap[++s.heap_len] = max_code = n;\n      s.depth[n] = 0;\n\n    } else {\n      tree[n * 2 + 1]/*.Len*/ = 0;\n    }\n  }\n\n  /* The pkzip format requires that at least one distance code exists,\n   * and that at least one bit should be sent even if there is only one\n   * possible code. So to avoid special checks later on we force at least\n   * two codes of non zero frequency.\n   */\n  while (s.heap_len < 2) {\n    node = s.heap[++s.heap_len] = (max_code < 2 ? ++max_code : 0);\n    tree[node * 2]/*.Freq*/ = 1;\n    s.depth[node] = 0;\n    s.opt_len--;\n\n    if (has_stree) {\n      s.static_len -= stree[node * 2 + 1]/*.Len*/;\n    }\n    /* node is 0 or 1 so it does not have extra bits */\n  }\n  desc.max_code = max_code;\n\n  /* The elements heap[heap_len/2+1 .. heap_len] are leaves of the tree,\n   * establish sub-heaps of increasing lengths:\n   */\n  for (n = (s.heap_len >> 1/*int /2*/); n >= 1; n--) { pqdownheap(s, tree, n); }\n\n  /* Construct the Huffman tree by repeatedly combining the least two\n   * frequent nodes.\n   */\n  node = elems;              /* next internal node of the tree */\n  do {\n    //pqremove(s, tree, n);  /* n = node of least frequency */\n    /*** pqremove ***/\n    n = s.heap[1/*SMALLEST*/];\n    s.heap[1/*SMALLEST*/] = s.heap[s.heap_len--];\n    pqdownheap(s, tree, 1/*SMALLEST*/);\n    /***/\n\n    m = s.heap[1/*SMALLEST*/]; /* m = node of next least frequency */\n\n    s.heap[--s.heap_max] = n; /* keep the nodes sorted by frequency */\n    s.heap[--s.heap_max] = m;\n\n    /* Create a new node father of n and m */\n    tree[node * 2]/*.Freq*/ = tree[n * 2]/*.Freq*/ + tree[m * 2]/*.Freq*/;\n    s.depth[node] = (s.depth[n] >= s.depth[m] ? s.depth[n] : s.depth[m]) + 1;\n    tree[n * 2 + 1]/*.Dad*/ = tree[m * 2 + 1]/*.Dad*/ = node;\n\n    /* and insert the new node in the heap */\n    s.heap[1/*SMALLEST*/] = node++;\n    pqdownheap(s, tree, 1/*SMALLEST*/);\n\n  } while (s.heap_len >= 2);\n\n  s.heap[--s.heap_max] = s.heap[1/*SMALLEST*/];\n\n  /* At this point, the fields freq and dad are set. We can now\n   * generate the bit lengths.\n   */\n  gen_bitlen(s, desc);\n\n  /* The field len is now set, we can generate the bit codes */\n  gen_codes(tree, max_code, s.bl_count);\n}\n\n\n/* ===========================================================================\n * Scan a literal or distance tree to determine the frequencies of the codes\n * in the bit length tree.\n */\nfunction scan_tree(s, tree, max_code)\n//    deflate_state *s;\n//    ct_data *tree;   /* the tree to be scanned */\n//    int max_code;    /* and its largest code of non zero frequency */\n{\n  var n;                     /* iterates over all tree elements */\n  var prevlen = -1;          /* last emitted length */\n  var curlen;                /* length of current code */\n\n  var nextlen = tree[0 * 2 + 1]/*.Len*/; /* length of next code */\n\n  var count = 0;             /* repeat count of the current code */\n  var max_count = 7;         /* max repeat count */\n  var min_count = 4;         /* min repeat count */\n\n  if (nextlen === 0) {\n    max_count = 138;\n    min_count = 3;\n  }\n  tree[(max_code + 1) * 2 + 1]/*.Len*/ = 0xffff; /* guard */\n\n  for (n = 0; n <= max_code; n++) {\n    curlen = nextlen;\n    nextlen = tree[(n + 1) * 2 + 1]/*.Len*/;\n\n    if (++count < max_count && curlen === nextlen) {\n      continue;\n\n    } else if (count < min_count) {\n      s.bl_tree[curlen * 2]/*.Freq*/ += count;\n\n    } else if (curlen !== 0) {\n\n      if (curlen !== prevlen) { s.bl_tree[curlen * 2]/*.Freq*/++; }\n      s.bl_tree[REP_3_6 * 2]/*.Freq*/++;\n\n    } else if (count <= 10) {\n      s.bl_tree[REPZ_3_10 * 2]/*.Freq*/++;\n\n    } else {\n      s.bl_tree[REPZ_11_138 * 2]/*.Freq*/++;\n    }\n\n    count = 0;\n    prevlen = curlen;\n\n    if (nextlen === 0) {\n      max_count = 138;\n      min_count = 3;\n\n    } else if (curlen === nextlen) {\n      max_count = 6;\n      min_count = 3;\n\n    } else {\n      max_count = 7;\n      min_count = 4;\n    }\n  }\n}\n\n\n/* ===========================================================================\n * Send a literal or distance tree in compressed form, using the codes in\n * bl_tree.\n */\nfunction send_tree(s, tree, max_code)\n//    deflate_state *s;\n//    ct_data *tree; /* the tree to be scanned */\n//    int max_code;       /* and its largest code of non zero frequency */\n{\n  var n;                     /* iterates over all tree elements */\n  var prevlen = -1;          /* last emitted length */\n  var curlen;                /* length of current code */\n\n  var nextlen = tree[0 * 2 + 1]/*.Len*/; /* length of next code */\n\n  var count = 0;             /* repeat count of the current code */\n  var max_count = 7;         /* max repeat count */\n  var min_count = 4;         /* min repeat count */\n\n  /* tree[max_code+1].Len = -1; */  /* guard already set */\n  if (nextlen === 0) {\n    max_count = 138;\n    min_count = 3;\n  }\n\n  for (n = 0; n <= max_code; n++) {\n    curlen = nextlen;\n    nextlen = tree[(n + 1) * 2 + 1]/*.Len*/;\n\n    if (++count < max_count && curlen === nextlen) {\n      continue;\n\n    } else if (count < min_count) {\n      do { send_code(s, curlen, s.bl_tree); } while (--count !== 0);\n\n    } else if (curlen !== 0) {\n      if (curlen !== prevlen) {\n        send_code(s, curlen, s.bl_tree);\n        count--;\n      }\n      //Assert(count >= 3 && count <= 6, \" 3_6?\");\n      send_code(s, REP_3_6, s.bl_tree);\n      send_bits(s, count - 3, 2);\n\n    } else if (count <= 10) {\n      send_code(s, REPZ_3_10, s.bl_tree);\n      send_bits(s, count - 3, 3);\n\n    } else {\n      send_code(s, REPZ_11_138, s.bl_tree);\n      send_bits(s, count - 11, 7);\n    }\n\n    count = 0;\n    prevlen = curlen;\n    if (nextlen === 0) {\n      max_count = 138;\n      min_count = 3;\n\n    } else if (curlen === nextlen) {\n      max_count = 6;\n      min_count = 3;\n\n    } else {\n      max_count = 7;\n      min_count = 4;\n    }\n  }\n}\n\n\n/* ===========================================================================\n * Construct the Huffman tree for the bit lengths and return the index in\n * bl_order of the last bit length code to send.\n */\nfunction build_bl_tree(s) {\n  var max_blindex;  /* index of last bit length code of non zero freq */\n\n  /* Determine the bit length frequencies for literal and distance trees */\n  scan_tree(s, s.dyn_ltree, s.l_desc.max_code);\n  scan_tree(s, s.dyn_dtree, s.d_desc.max_code);\n\n  /* Build the bit length tree: */\n  build_tree(s, s.bl_desc);\n  /* opt_len now includes the length of the tree representations, except\n   * the lengths of the bit lengths codes and the 5+5+4 bits for the counts.\n   */\n\n  /* Determine the number of bit length codes to send. The pkzip format\n   * requires that at least 4 bit length codes be sent. (appnote.txt says\n   * 3 but the actual value used is 4.)\n   */\n  for (max_blindex = BL_CODES - 1; max_blindex >= 3; max_blindex--) {\n    if (s.bl_tree[bl_order[max_blindex] * 2 + 1]/*.Len*/ !== 0) {\n      break;\n    }\n  }\n  /* Update opt_len to include the bit length tree and counts */\n  s.opt_len += 3 * (max_blindex + 1) + 5 + 5 + 4;\n  //Tracev((stderr, \"\\ndyn trees: dyn %ld, stat %ld\",\n  //        s->opt_len, s->static_len));\n\n  return max_blindex;\n}\n\n\n/* ===========================================================================\n * Send the header for a block using dynamic Huffman trees: the counts, the\n * lengths of the bit length codes, the literal tree and the distance tree.\n * IN assertion: lcodes >= 257, dcodes >= 1, blcodes >= 4.\n */\nfunction send_all_trees(s, lcodes, dcodes, blcodes)\n//    deflate_state *s;\n//    int lcodes, dcodes, blcodes; /* number of codes for each tree */\n{\n  var rank;                    /* index in bl_order */\n\n  //Assert (lcodes >= 257 && dcodes >= 1 && blcodes >= 4, \"not enough codes\");\n  //Assert (lcodes <= L_CODES && dcodes <= D_CODES && blcodes <= BL_CODES,\n  //        \"too many codes\");\n  //Tracev((stderr, \"\\nbl counts: \"));\n  send_bits(s, lcodes - 257, 5); /* not +255 as stated in appnote.txt */\n  send_bits(s, dcodes - 1,   5);\n  send_bits(s, blcodes - 4,  4); /* not -3 as stated in appnote.txt */\n  for (rank = 0; rank < blcodes; rank++) {\n    //Tracev((stderr, \"\\nbl code %2d \", bl_order[rank]));\n    send_bits(s, s.bl_tree[bl_order[rank] * 2 + 1]/*.Len*/, 3);\n  }\n  //Tracev((stderr, \"\\nbl tree: sent %ld\", s->bits_sent));\n\n  send_tree(s, s.dyn_ltree, lcodes - 1); /* literal tree */\n  //Tracev((stderr, \"\\nlit tree: sent %ld\", s->bits_sent));\n\n  send_tree(s, s.dyn_dtree, dcodes - 1); /* distance tree */\n  //Tracev((stderr, \"\\ndist tree: sent %ld\", s->bits_sent));\n}\n\n\n/* ===========================================================================\n * Check if the data type is TEXT or BINARY, using the following algorithm:\n * - TEXT if the two conditions below are satisfied:\n *    a) There are no non-portable control characters belonging to the\n *       \"black list\" (0..6, 14..25, 28..31).\n *    b) There is at least one printable character belonging to the\n *       \"white list\" (9 {TAB}, 10 {LF}, 13 {CR}, 32..255).\n * - BINARY otherwise.\n * - The following partially-portable control characters form a\n *   \"gray list\" that is ignored in this detection algorithm:\n *   (7 {BEL}, 8 {BS}, 11 {VT}, 12 {FF}, 26 {SUB}, 27 {ESC}).\n * IN assertion: the fields Freq of dyn_ltree are set.\n */\nfunction detect_data_type(s) {\n  /* black_mask is the bit mask of black-listed bytes\n   * set bits 0..6, 14..25, and 28..31\n   * 0xf3ffc07f = binary 11110011111111111100000001111111\n   */\n  var black_mask = 0xf3ffc07f;\n  var n;\n\n  /* Check for non-textual (\"black-listed\") bytes. */\n  for (n = 0; n <= 31; n++, black_mask >>>= 1) {\n    if ((black_mask & 1) && (s.dyn_ltree[n * 2]/*.Freq*/ !== 0)) {\n      return Z_BINARY;\n    }\n  }\n\n  /* Check for textual (\"white-listed\") bytes. */\n  if (s.dyn_ltree[9 * 2]/*.Freq*/ !== 0 || s.dyn_ltree[10 * 2]/*.Freq*/ !== 0 ||\n      s.dyn_ltree[13 * 2]/*.Freq*/ !== 0) {\n    return Z_TEXT;\n  }\n  for (n = 32; n < LITERALS; n++) {\n    if (s.dyn_ltree[n * 2]/*.Freq*/ !== 0) {\n      return Z_TEXT;\n    }\n  }\n\n  /* There are no \"black-listed\" or \"white-listed\" bytes:\n   * this stream either is empty or has tolerated (\"gray-listed\") bytes only.\n   */\n  return Z_BINARY;\n}\n\n\nvar static_init_done = false;\n\n/* ===========================================================================\n * Initialize the tree data structures for a new zlib stream.\n */\nfunction _tr_init(s)\n{\n\n  if (!static_init_done) {\n    tr_static_init();\n    static_init_done = true;\n  }\n\n  s.l_desc  = new TreeDesc(s.dyn_ltree, static_l_desc);\n  s.d_desc  = new TreeDesc(s.dyn_dtree, static_d_desc);\n  s.bl_desc = new TreeDesc(s.bl_tree, static_bl_desc);\n\n  s.bi_buf = 0;\n  s.bi_valid = 0;\n\n  /* Initialize the first block of the first file: */\n  init_block(s);\n}\n\n\n/* ===========================================================================\n * Send a stored block\n */\nfunction _tr_stored_block(s, buf, stored_len, last)\n//DeflateState *s;\n//charf *buf;       /* input block */\n//ulg stored_len;   /* length of input block */\n//int last;         /* one if this is the last block for a file */\n{\n  send_bits(s, (STORED_BLOCK << 1) + (last ? 1 : 0), 3);    /* send block type */\n  copy_block(s, buf, stored_len, true); /* with header */\n}\n\n\n/* ===========================================================================\n * Send one empty static block to give enough lookahead for inflate.\n * This takes 10 bits, of which 7 may remain in the bit buffer.\n */\nfunction _tr_align(s) {\n  send_bits(s, STATIC_TREES << 1, 3);\n  send_code(s, END_BLOCK, static_ltree);\n  bi_flush(s);\n}\n\n\n/* ===========================================================================\n * Determine the best encoding for the current block: dynamic trees, static\n * trees or store, and output the encoded block to the zip file.\n */\nfunction _tr_flush_block(s, buf, stored_len, last)\n//DeflateState *s;\n//charf *buf;       /* input block, or NULL if too old */\n//ulg stored_len;   /* length of input block */\n//int last;         /* one if this is the last block for a file */\n{\n  var opt_lenb, static_lenb;  /* opt_len and static_len in bytes */\n  var max_blindex = 0;        /* index of last bit length code of non zero freq */\n\n  /* Build the Huffman trees unless a stored block is forced */\n  if (s.level > 0) {\n\n    /* Check if the file is binary or text */\n    if (s.strm.data_type === Z_UNKNOWN) {\n      s.strm.data_type = detect_data_type(s);\n    }\n\n    /* Construct the literal and distance trees */\n    build_tree(s, s.l_desc);\n    // Tracev((stderr, \"\\nlit data: dyn %ld, stat %ld\", s->opt_len,\n    //        s->static_len));\n\n    build_tree(s, s.d_desc);\n    // Tracev((stderr, \"\\ndist data: dyn %ld, stat %ld\", s->opt_len,\n    //        s->static_len));\n    /* At this point, opt_len and static_len are the total bit lengths of\n     * the compressed block data, excluding the tree representations.\n     */\n\n    /* Build the bit length tree for the above two trees, and get the index\n     * in bl_order of the last bit length code to send.\n     */\n    max_blindex = build_bl_tree(s);\n\n    /* Determine the best encoding. Compute the block lengths in bytes. */\n    opt_lenb = (s.opt_len + 3 + 7) >>> 3;\n    static_lenb = (s.static_len + 3 + 7) >>> 3;\n\n    // Tracev((stderr, \"\\nopt %lu(%lu) stat %lu(%lu) stored %lu lit %u \",\n    //        opt_lenb, s->opt_len, static_lenb, s->static_len, stored_len,\n    //        s->last_lit));\n\n    if (static_lenb <= opt_lenb) { opt_lenb = static_lenb; }\n\n  } else {\n    // Assert(buf != (char*)0, \"lost buf\");\n    opt_lenb = static_lenb = stored_len + 5; /* force a stored block */\n  }\n\n  if ((stored_len + 4 <= opt_lenb) && (buf !== -1)) {\n    /* 4: two words for the lengths */\n\n    /* The test buf != NULL is only necessary if LIT_BUFSIZE > WSIZE.\n     * Otherwise we can't have processed more than WSIZE input bytes since\n     * the last block flush, because compression would have been\n     * successful. If LIT_BUFSIZE <= WSIZE, it is never too late to\n     * transform a block into a stored block.\n     */\n    _tr_stored_block(s, buf, stored_len, last);\n\n  } else if (s.strategy === Z_FIXED || static_lenb === opt_lenb) {\n\n    send_bits(s, (STATIC_TREES << 1) + (last ? 1 : 0), 3);\n    compress_block(s, static_ltree, static_dtree);\n\n  } else {\n    send_bits(s, (DYN_TREES << 1) + (last ? 1 : 0), 3);\n    send_all_trees(s, s.l_desc.max_code + 1, s.d_desc.max_code + 1, max_blindex + 1);\n    compress_block(s, s.dyn_ltree, s.dyn_dtree);\n  }\n  // Assert (s->compressed_len == s->bits_sent, \"bad compressed size\");\n  /* The above check is made mod 2^32, for files larger than 512 MB\n   * and uLong implemented on 32 bits.\n   */\n  init_block(s);\n\n  if (last) {\n    bi_windup(s);\n  }\n  // Tracev((stderr,\"\\ncomprlen %lu(%lu) \", s->compressed_len>>3,\n  //       s->compressed_len-7*last));\n}\n\n/* ===========================================================================\n * Save the match info and tally the frequency counts. Return true if\n * the current block must be flushed.\n */\nfunction _tr_tally(s, dist, lc)\n//    deflate_state *s;\n//    unsigned dist;  /* distance of matched string */\n//    unsigned lc;    /* match length-MIN_MATCH or unmatched char (if dist==0) */\n{\n  //var out_length, in_length, dcode;\n\n  s.pending_buf[s.d_buf + s.last_lit * 2]     = (dist >>> 8) & 0xff;\n  s.pending_buf[s.d_buf + s.last_lit * 2 + 1] = dist & 0xff;\n\n  s.pending_buf[s.l_buf + s.last_lit] = lc & 0xff;\n  s.last_lit++;\n\n  if (dist === 0) {\n    /* lc is the unmatched char */\n    s.dyn_ltree[lc * 2]/*.Freq*/++;\n  } else {\n    s.matches++;\n    /* Here, lc is the match length - MIN_MATCH */\n    dist--;             /* dist = match distance - 1 */\n    //Assert((ush)dist < (ush)MAX_DIST(s) &&\n    //       (ush)lc <= (ush)(MAX_MATCH-MIN_MATCH) &&\n    //       (ush)d_code(dist) < (ush)D_CODES,  \"_tr_tally: bad match\");\n\n    s.dyn_ltree[(_length_code[lc] + LITERALS + 1) * 2]/*.Freq*/++;\n    s.dyn_dtree[d_code(dist) * 2]/*.Freq*/++;\n  }\n\n// (!) This block is disabled in zlib defaults,\n// don't enable it for binary compatibility\n\n//#ifdef TRUNCATE_BLOCK\n//  /* Try to guess if it is profitable to stop the current block here */\n//  if ((s.last_lit & 0x1fff) === 0 && s.level > 2) {\n//    /* Compute an upper bound for the compressed length */\n//    out_length = s.last_lit*8;\n//    in_length = s.strstart - s.block_start;\n//\n//    for (dcode = 0; dcode < D_CODES; dcode++) {\n//      out_length += s.dyn_dtree[dcode*2]/*.Freq*/ * (5 + extra_dbits[dcode]);\n//    }\n//    out_length >>>= 3;\n//    //Tracev((stderr,\"\\nlast_lit %u, in %ld, out ~%ld(%ld%%) \",\n//    //       s->last_lit, in_length, out_length,\n//    //       100L - out_length*100L/in_length));\n//    if (s.matches < (s.last_lit>>1)/*int /2*/ && out_length < (in_length>>1)/*int /2*/) {\n//      return true;\n//    }\n//  }\n//#endif\n\n  return (s.last_lit === s.lit_bufsize - 1);\n  /* We avoid equality with lit_bufsize because of wraparound at 64K\n   * on 16 bit machines and because stored blocks are restricted to\n   * 64K-1 bytes.\n   */\n}\n\nexports._tr_init  = _tr_init;\nexports._tr_stored_block = _tr_stored_block;\nexports._tr_flush_block  = _tr_flush_block;\nexports._tr_tally = _tr_tally;\nexports._tr_align = _tr_align;\n","'use strict';\n\n\nvar zlib_inflate = require('./zlib/inflate');\nvar utils        = require('./utils/common');\nvar strings      = require('./utils/strings');\nvar c            = require('./zlib/constants');\nvar msg          = require('./zlib/messages');\nvar ZStream      = require('./zlib/zstream');\nvar GZheader     = require('./zlib/gzheader');\n\nvar toString = Object.prototype.toString;\n\n/**\n * class Inflate\n *\n * Generic JS-style wrapper for zlib calls. If you don't need\n * streaming behaviour - use more simple functions: [[inflate]]\n * and [[inflateRaw]].\n **/\n\n/* internal\n * inflate.chunks -> Array\n *\n * Chunks of output data, if [[Inflate#onData]] not overridden.\n **/\n\n/**\n * Inflate.result -> Uint8Array|Array|String\n *\n * Uncompressed result, generated by default [[Inflate#onData]]\n * and [[Inflate#onEnd]] handlers. Filled after you push last chunk\n * (call [[Inflate#push]] with `Z_FINISH` / `true` param) or if you\n * push a chunk with explicit flush (call [[Inflate#push]] with\n * `Z_SYNC_FLUSH` param).\n **/\n\n/**\n * Inflate.err -> Number\n *\n * Error code after inflate finished. 0 (Z_OK) on success.\n * Should be checked if broken data possible.\n **/\n\n/**\n * Inflate.msg -> String\n *\n * Error message, if [[Inflate.err]] != 0\n **/\n\n\n/**\n * new Inflate(options)\n * - options (Object): zlib inflate options.\n *\n * Creates new inflator instance with specified params. Throws exception\n * on bad params. Supported options:\n *\n * - `windowBits`\n * - `dictionary`\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information on these.\n *\n * Additional options, for internal needs:\n *\n * - `chunkSize` - size of generated data chunks (16K by default)\n * - `raw` (Boolean) - do raw inflate\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n * By default, when no options set, autodetect deflate/gzip data format via\n * wrapper header.\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , chunk1 = Uint8Array([1,2,3,4,5,6,7,8,9])\n *   , chunk2 = Uint8Array([10,11,12,13,14,15,16,17,18,19]);\n *\n * var inflate = new pako.Inflate({ level: 3});\n *\n * inflate.push(chunk1, false);\n * inflate.push(chunk2, true);  // true -> last chunk\n *\n * if (inflate.err) { throw new Error(inflate.err); }\n *\n * console.log(inflate.result);\n * ```\n **/\nfunction Inflate(options) {\n  if (!(this instanceof Inflate)) return new Inflate(options);\n\n  this.options = utils.assign({\n    chunkSize: 16384,\n    windowBits: 0,\n    to: ''\n  }, options || {});\n\n  var opt = this.options;\n\n  // Force window size for `raw` data, if not set directly,\n  // because we have no header for autodetect.\n  if (opt.raw && (opt.windowBits >= 0) && (opt.windowBits < 16)) {\n    opt.windowBits = -opt.windowBits;\n    if (opt.windowBits === 0) { opt.windowBits = -15; }\n  }\n\n  // If `windowBits` not defined (and mode not raw) - set autodetect flag for gzip/deflate\n  if ((opt.windowBits >= 0) && (opt.windowBits < 16) &&\n      !(options && options.windowBits)) {\n    opt.windowBits += 32;\n  }\n\n  // Gzip header has no info about windows size, we can do autodetect only\n  // for deflate. So, if window size not set, force it to max when gzip possible\n  if ((opt.windowBits > 15) && (opt.windowBits < 48)) {\n    // bit 3 (16) -> gzipped data\n    // bit 4 (32) -> autodetect gzip/deflate\n    if ((opt.windowBits & 15) === 0) {\n      opt.windowBits |= 15;\n    }\n  }\n\n  this.err    = 0;      // error code, if happens (0 = Z_OK)\n  this.msg    = '';     // error message\n  this.ended  = false;  // used to avoid multiple onEnd() calls\n  this.chunks = [];     // chunks of compressed data\n\n  this.strm   = new ZStream();\n  this.strm.avail_out = 0;\n\n  var status  = zlib_inflate.inflateInit2(\n    this.strm,\n    opt.windowBits\n  );\n\n  if (status !== c.Z_OK) {\n    throw new Error(msg[status]);\n  }\n\n  this.header = new GZheader();\n\n  zlib_inflate.inflateGetHeader(this.strm, this.header);\n\n  // Setup dictionary\n  if (opt.dictionary) {\n    // Convert data if needed\n    if (typeof opt.dictionary === 'string') {\n      opt.dictionary = strings.string2buf(opt.dictionary);\n    } else if (toString.call(opt.dictionary) === '[object ArrayBuffer]') {\n      opt.dictionary = new Uint8Array(opt.dictionary);\n    }\n    if (opt.raw) { //In raw mode we need to set the dictionary early\n      status = zlib_inflate.inflateSetDictionary(this.strm, opt.dictionary);\n      if (status !== c.Z_OK) {\n        throw new Error(msg[status]);\n      }\n    }\n  }\n}\n\n/**\n * Inflate#push(data[, mode]) -> Boolean\n * - data (Uint8Array|Array|ArrayBuffer|String): input data\n * - mode (Number|Boolean): 0..6 for corresponding Z_NO_FLUSH..Z_TREE modes.\n *   See constants. Skipped or `false` means Z_NO_FLUSH, `true` means Z_FINISH.\n *\n * Sends input data to inflate pipe, generating [[Inflate#onData]] calls with\n * new output chunks. Returns `true` on success. The last data block must have\n * mode Z_FINISH (or `true`). That will flush internal pending buffers and call\n * [[Inflate#onEnd]]. For interim explicit flushes (without ending the stream) you\n * can use mode Z_SYNC_FLUSH, keeping the decompression context.\n *\n * On fail call [[Inflate#onEnd]] with error code and return false.\n *\n * We strongly recommend to use `Uint8Array` on input for best speed (output\n * format is detected automatically). Also, don't skip last param and always\n * use the same type in your code (boolean or number). That will improve JS speed.\n *\n * For regular `Array`-s make sure all elements are [0..255].\n *\n * ##### Example\n *\n * ```javascript\n * push(chunk, false); // push one of data chunks\n * ...\n * push(chunk, true);  // push last chunk\n * ```\n **/\nInflate.prototype.push = function (data, mode) {\n  var strm = this.strm;\n  var chunkSize = this.options.chunkSize;\n  var dictionary = this.options.dictionary;\n  var status, _mode;\n  var next_out_utf8, tail, utf8str;\n\n  // Flag to properly process Z_BUF_ERROR on testing inflate call\n  // when we check that all output data was flushed.\n  var allowBufError = false;\n\n  if (this.ended) { return false; }\n  _mode = (mode === ~~mode) ? mode : ((mode === true) ? c.Z_FINISH : c.Z_NO_FLUSH);\n\n  // Convert data if needed\n  if (typeof data === 'string') {\n    // Only binary strings can be decompressed on practice\n    strm.input = strings.binstring2buf(data);\n  } else if (toString.call(data) === '[object ArrayBuffer]') {\n    strm.input = new Uint8Array(data);\n  } else {\n    strm.input = data;\n  }\n\n  strm.next_in = 0;\n  strm.avail_in = strm.input.length;\n\n  do {\n    if (strm.avail_out === 0) {\n      strm.output = new utils.Buf8(chunkSize);\n      strm.next_out = 0;\n      strm.avail_out = chunkSize;\n    }\n\n    status = zlib_inflate.inflate(strm, c.Z_NO_FLUSH);    /* no bad return value */\n\n    if (status === c.Z_NEED_DICT && dictionary) {\n      status = zlib_inflate.inflateSetDictionary(this.strm, dictionary);\n    }\n\n    if (status === c.Z_BUF_ERROR && allowBufError === true) {\n      status = c.Z_OK;\n      allowBufError = false;\n    }\n\n    if (status !== c.Z_STREAM_END && status !== c.Z_OK) {\n      this.onEnd(status);\n      this.ended = true;\n      return false;\n    }\n\n    if (strm.next_out) {\n      if (strm.avail_out === 0 || status === c.Z_STREAM_END || (strm.avail_in === 0 && (_mode === c.Z_FINISH || _mode === c.Z_SYNC_FLUSH))) {\n\n        if (this.options.to === 'string') {\n\n          next_out_utf8 = strings.utf8border(strm.output, strm.next_out);\n\n          tail = strm.next_out - next_out_utf8;\n          utf8str = strings.buf2string(strm.output, next_out_utf8);\n\n          // move tail\n          strm.next_out = tail;\n          strm.avail_out = chunkSize - tail;\n          if (tail) { utils.arraySet(strm.output, strm.output, next_out_utf8, tail, 0); }\n\n          this.onData(utf8str);\n\n        } else {\n          this.onData(utils.shrinkBuf(strm.output, strm.next_out));\n        }\n      }\n    }\n\n    // When no more input data, we should check that internal inflate buffers\n    // are flushed. The only way to do it when avail_out = 0 - run one more\n    // inflate pass. But if output data not exists, inflate return Z_BUF_ERROR.\n    // Here we set flag to process this error properly.\n    //\n    // NOTE. Deflate does not return error in this case and does not needs such\n    // logic.\n    if (strm.avail_in === 0 && strm.avail_out === 0) {\n      allowBufError = true;\n    }\n\n  } while ((strm.avail_in > 0 || strm.avail_out === 0) && status !== c.Z_STREAM_END);\n\n  if (status === c.Z_STREAM_END) {\n    _mode = c.Z_FINISH;\n  }\n\n  // Finalize on the last chunk.\n  if (_mode === c.Z_FINISH) {\n    status = zlib_inflate.inflateEnd(this.strm);\n    this.onEnd(status);\n    this.ended = true;\n    return status === c.Z_OK;\n  }\n\n  // callback interim results if Z_SYNC_FLUSH.\n  if (_mode === c.Z_SYNC_FLUSH) {\n    this.onEnd(c.Z_OK);\n    strm.avail_out = 0;\n    return true;\n  }\n\n  return true;\n};\n\n\n/**\n * Inflate#onData(chunk) -> Void\n * - chunk (Uint8Array|Array|String): output data. Type of array depends\n *   on js engine support. When string output requested, each chunk\n *   will be string.\n *\n * By default, stores data blocks in `chunks[]` property and glue\n * those in `onEnd`. Override this handler, if you need another behaviour.\n **/\nInflate.prototype.onData = function (chunk) {\n  this.chunks.push(chunk);\n};\n\n\n/**\n * Inflate#onEnd(status) -> Void\n * - status (Number): inflate status. 0 (Z_OK) on success,\n *   other if not.\n *\n * Called either after you tell inflate that the input stream is\n * complete (Z_FINISH) or should be flushed (Z_SYNC_FLUSH)\n * or if an error happened. By default - join collected chunks,\n * free memory and fill `results` / `err` properties.\n **/\nInflate.prototype.onEnd = function (status) {\n  // On success - join\n  if (status === c.Z_OK) {\n    if (this.options.to === 'string') {\n      // Glue & convert here, until we teach pako to send\n      // utf8 aligned strings to onData\n      this.result = this.chunks.join('');\n    } else {\n      this.result = utils.flattenChunks(this.chunks);\n    }\n  }\n  this.chunks = [];\n  this.err = status;\n  this.msg = this.strm.msg;\n};\n\n\n/**\n * inflate(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * Decompress `data` with inflate/ungzip and `options`. Autodetect\n * format via wrapper header by default. That's why we don't provide\n * separate `ungzip` method.\n *\n * Supported options are:\n *\n * - windowBits\n *\n * [http://zlib.net/manual.html#Advanced](http://zlib.net/manual.html#Advanced)\n * for more information.\n *\n * Sugar (options):\n *\n * - `raw` (Boolean) - say that we work with raw stream, if you don't wish to specify\n *   negative windowBits implicitly.\n * - `to` (String) - if equal to 'string', then result will be converted\n *   from utf8 to utf16 (javascript) string. When string output requested,\n *   chunk length can differ from `chunkSize`, depending on content.\n *\n *\n * ##### Example:\n *\n * ```javascript\n * var pako = require('pako')\n *   , input = pako.deflate([1,2,3,4,5,6,7,8,9])\n *   , output;\n *\n * try {\n *   output = pako.inflate(input);\n * } catch (err)\n *   console.log(err);\n * }\n * ```\n **/\nfunction inflate(input, options) {\n  var inflator = new Inflate(options);\n\n  inflator.push(input, true);\n\n  // That will never happens, if you don't cheat with options :)\n  if (inflator.err) { throw inflator.msg || msg[inflator.err]; }\n\n  return inflator.result;\n}\n\n\n/**\n * inflateRaw(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * The same as [[inflate]], but creates raw data, without wrapper\n * (header and adler32 crc).\n **/\nfunction inflateRaw(input, options) {\n  options = options || {};\n  options.raw = true;\n  return inflate(input, options);\n}\n\n\n/**\n * ungzip(data[, options]) -> Uint8Array|Array|String\n * - data (Uint8Array|Array|String): input data to decompress.\n * - options (Object): zlib inflate options.\n *\n * Just shortcut to [[inflate]], because it autodetects format\n * by header.content. Done for convenience.\n **/\n\n\nexports.Inflate = Inflate;\nexports.inflate = inflate;\nexports.inflateRaw = inflateRaw;\nexports.ungzip  = inflate;\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nvar utils         = require('../utils/common');\nvar adler32       = require('./adler32');\nvar crc32         = require('./crc32');\nvar inflate_fast  = require('./inffast');\nvar inflate_table = require('./inftrees');\n\nvar CODES = 0;\nvar LENS = 1;\nvar DISTS = 2;\n\n/* Public constants ==========================================================*/\n/* ===========================================================================*/\n\n\n/* Allowed flush values; see deflate() and inflate() below for details */\n//var Z_NO_FLUSH      = 0;\n//var Z_PARTIAL_FLUSH = 1;\n//var Z_SYNC_FLUSH    = 2;\n//var Z_FULL_FLUSH    = 3;\nvar Z_FINISH        = 4;\nvar Z_BLOCK         = 5;\nvar Z_TREES         = 6;\n\n\n/* Return codes for the compression/decompression functions. Negative values\n * are errors, positive values are used for special but normal events.\n */\nvar Z_OK            = 0;\nvar Z_STREAM_END    = 1;\nvar Z_NEED_DICT     = 2;\n//var Z_ERRNO         = -1;\nvar Z_STREAM_ERROR  = -2;\nvar Z_DATA_ERROR    = -3;\nvar Z_MEM_ERROR     = -4;\nvar Z_BUF_ERROR     = -5;\n//var Z_VERSION_ERROR = -6;\n\n/* The deflate compression method */\nvar Z_DEFLATED  = 8;\n\n\n/* STATES ====================================================================*/\n/* ===========================================================================*/\n\n\nvar    HEAD = 1;       /* i: waiting for magic header */\nvar    FLAGS = 2;      /* i: waiting for method and flags (gzip) */\nvar    TIME = 3;       /* i: waiting for modification time (gzip) */\nvar    OS = 4;         /* i: waiting for extra flags and operating system (gzip) */\nvar    EXLEN = 5;      /* i: waiting for extra length (gzip) */\nvar    EXTRA = 6;      /* i: waiting for extra bytes (gzip) */\nvar    NAME = 7;       /* i: waiting for end of file name (gzip) */\nvar    COMMENT = 8;    /* i: waiting for end of comment (gzip) */\nvar    HCRC = 9;       /* i: waiting for header crc (gzip) */\nvar    DICTID = 10;    /* i: waiting for dictionary check value */\nvar    DICT = 11;      /* waiting for inflateSetDictionary() call */\nvar        TYPE = 12;      /* i: waiting for type bits, including last-flag bit */\nvar        TYPEDO = 13;    /* i: same, but skip check to exit inflate on new block */\nvar        STORED = 14;    /* i: waiting for stored size (length and complement) */\nvar        COPY_ = 15;     /* i/o: same as COPY below, but only first time in */\nvar        COPY = 16;      /* i/o: waiting for input or output to copy stored block */\nvar        TABLE = 17;     /* i: waiting for dynamic block table lengths */\nvar        LENLENS = 18;   /* i: waiting for code length code lengths */\nvar        CODELENS = 19;  /* i: waiting for length/lit and distance code lengths */\nvar            LEN_ = 20;      /* i: same as LEN below, but only first time in */\nvar            LEN = 21;       /* i: waiting for length/lit/eob code */\nvar            LENEXT = 22;    /* i: waiting for length extra bits */\nvar            DIST = 23;      /* i: waiting for distance code */\nvar            DISTEXT = 24;   /* i: waiting for distance extra bits */\nvar            MATCH = 25;     /* o: waiting for output space to copy string */\nvar            LIT = 26;       /* o: waiting for output space to write literal */\nvar    CHECK = 27;     /* i: waiting for 32-bit check value */\nvar    LENGTH = 28;    /* i: waiting for 32-bit length (gzip) */\nvar    DONE = 29;      /* finished check, done -- remain here until reset */\nvar    BAD = 30;       /* got a data error -- remain here until reset */\nvar    MEM = 31;       /* got an inflate() memory error -- remain here until reset */\nvar    SYNC = 32;      /* looking for synchronization bytes to restart inflate() */\n\n/* ===========================================================================*/\n\n\n\nvar ENOUGH_LENS = 852;\nvar ENOUGH_DISTS = 592;\n//var ENOUGH =  (ENOUGH_LENS+ENOUGH_DISTS);\n\nvar MAX_WBITS = 15;\n/* 32K LZ77 window */\nvar DEF_WBITS = MAX_WBITS;\n\n\nfunction zswap32(q) {\n  return  (((q >>> 24) & 0xff) +\n          ((q >>> 8) & 0xff00) +\n          ((q & 0xff00) << 8) +\n          ((q & 0xff) << 24));\n}\n\n\nfunction InflateState() {\n  this.mode = 0;             /* current inflate mode */\n  this.last = false;          /* true if processing last block */\n  this.wrap = 0;              /* bit 0 true for zlib, bit 1 true for gzip */\n  this.havedict = false;      /* true if dictionary provided */\n  this.flags = 0;             /* gzip header method and flags (0 if zlib) */\n  this.dmax = 0;              /* zlib header max distance (INFLATE_STRICT) */\n  this.check = 0;             /* protected copy of check value */\n  this.total = 0;             /* protected copy of output count */\n  // TODO: may be {}\n  this.head = null;           /* where to save gzip header information */\n\n  /* sliding window */\n  this.wbits = 0;             /* log base 2 of requested window size */\n  this.wsize = 0;             /* window size or zero if not using window */\n  this.whave = 0;             /* valid bytes in the window */\n  this.wnext = 0;             /* window write index */\n  this.window = null;         /* allocated sliding window, if needed */\n\n  /* bit accumulator */\n  this.hold = 0;              /* input bit accumulator */\n  this.bits = 0;              /* number of bits in \"in\" */\n\n  /* for string and stored block copying */\n  this.length = 0;            /* literal or length of data to copy */\n  this.offset = 0;            /* distance back to copy string from */\n\n  /* for table and code decoding */\n  this.extra = 0;             /* extra bits needed */\n\n  /* fixed and dynamic code tables */\n  this.lencode = null;          /* starting table for length/literal codes */\n  this.distcode = null;         /* starting table for distance codes */\n  this.lenbits = 0;           /* index bits for lencode */\n  this.distbits = 0;          /* index bits for distcode */\n\n  /* dynamic table building */\n  this.ncode = 0;             /* number of code length code lengths */\n  this.nlen = 0;              /* number of length code lengths */\n  this.ndist = 0;             /* number of distance code lengths */\n  this.have = 0;              /* number of code lengths in lens[] */\n  this.next = null;              /* next available space in codes[] */\n\n  this.lens = new utils.Buf16(320); /* temporary storage for code lengths */\n  this.work = new utils.Buf16(288); /* work area for code table building */\n\n  /*\n   because we don't have pointers in js, we use lencode and distcode directly\n   as buffers so we don't need codes\n  */\n  //this.codes = new utils.Buf32(ENOUGH);       /* space for code tables */\n  this.lendyn = null;              /* dynamic table for length/literal codes (JS specific) */\n  this.distdyn = null;             /* dynamic table for distance codes (JS specific) */\n  this.sane = 0;                   /* if false, allow invalid distance too far */\n  this.back = 0;                   /* bits back of last unprocessed length/lit */\n  this.was = 0;                    /* initial length of match */\n}\n\nfunction inflateResetKeep(strm) {\n  var state;\n\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  strm.total_in = strm.total_out = state.total = 0;\n  strm.msg = ''; /*Z_NULL*/\n  if (state.wrap) {       /* to support ill-conceived Java test suite */\n    strm.adler = state.wrap & 1;\n  }\n  state.mode = HEAD;\n  state.last = 0;\n  state.havedict = 0;\n  state.dmax = 32768;\n  state.head = null/*Z_NULL*/;\n  state.hold = 0;\n  state.bits = 0;\n  //state.lencode = state.distcode = state.next = state.codes;\n  state.lencode = state.lendyn = new utils.Buf32(ENOUGH_LENS);\n  state.distcode = state.distdyn = new utils.Buf32(ENOUGH_DISTS);\n\n  state.sane = 1;\n  state.back = -1;\n  //Tracev((stderr, \"inflate: reset\\n\"));\n  return Z_OK;\n}\n\nfunction inflateReset(strm) {\n  var state;\n\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  state.wsize = 0;\n  state.whave = 0;\n  state.wnext = 0;\n  return inflateResetKeep(strm);\n\n}\n\nfunction inflateReset2(strm, windowBits) {\n  var wrap;\n  var state;\n\n  /* get the state */\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n\n  /* extract wrap request from windowBits parameter */\n  if (windowBits < 0) {\n    wrap = 0;\n    windowBits = -windowBits;\n  }\n  else {\n    wrap = (windowBits >> 4) + 1;\n    if (windowBits < 48) {\n      windowBits &= 15;\n    }\n  }\n\n  /* set number of window bits, free window if different */\n  if (windowBits && (windowBits < 8 || windowBits > 15)) {\n    return Z_STREAM_ERROR;\n  }\n  if (state.window !== null && state.wbits !== windowBits) {\n    state.window = null;\n  }\n\n  /* update state and reset the rest of it */\n  state.wrap = wrap;\n  state.wbits = windowBits;\n  return inflateReset(strm);\n}\n\nfunction inflateInit2(strm, windowBits) {\n  var ret;\n  var state;\n\n  if (!strm) { return Z_STREAM_ERROR; }\n  //strm.msg = Z_NULL;                 /* in case we return an error */\n\n  state = new InflateState();\n\n  //if (state === Z_NULL) return Z_MEM_ERROR;\n  //Tracev((stderr, \"inflate: allocated\\n\"));\n  strm.state = state;\n  state.window = null/*Z_NULL*/;\n  ret = inflateReset2(strm, windowBits);\n  if (ret !== Z_OK) {\n    strm.state = null/*Z_NULL*/;\n  }\n  return ret;\n}\n\nfunction inflateInit(strm) {\n  return inflateInit2(strm, DEF_WBITS);\n}\n\n\n/*\n Return state with length and distance decoding tables and index sizes set to\n fixed code decoding.  Normally this returns fixed tables from inffixed.h.\n If BUILDFIXED is defined, then instead this routine builds the tables the\n first time it's called, and returns those tables the first time and\n thereafter.  This reduces the size of the code by about 2K bytes, in\n exchange for a little execution time.  However, BUILDFIXED should not be\n used for threaded applications, since the rewriting of the tables and virgin\n may not be thread-safe.\n */\nvar virgin = true;\n\nvar lenfix, distfix; // We have no pointers in JS, so keep tables separate\n\nfunction fixedtables(state) {\n  /* build fixed huffman tables if first call (may not be thread safe) */\n  if (virgin) {\n    var sym;\n\n    lenfix = new utils.Buf32(512);\n    distfix = new utils.Buf32(32);\n\n    /* literal/length table */\n    sym = 0;\n    while (sym < 144) { state.lens[sym++] = 8; }\n    while (sym < 256) { state.lens[sym++] = 9; }\n    while (sym < 280) { state.lens[sym++] = 7; }\n    while (sym < 288) { state.lens[sym++] = 8; }\n\n    inflate_table(LENS,  state.lens, 0, 288, lenfix,   0, state.work, { bits: 9 });\n\n    /* distance table */\n    sym = 0;\n    while (sym < 32) { state.lens[sym++] = 5; }\n\n    inflate_table(DISTS, state.lens, 0, 32,   distfix, 0, state.work, { bits: 5 });\n\n    /* do this just once */\n    virgin = false;\n  }\n\n  state.lencode = lenfix;\n  state.lenbits = 9;\n  state.distcode = distfix;\n  state.distbits = 5;\n}\n\n\n/*\n Update the window with the last wsize (normally 32K) bytes written before\n returning.  If window does not exist yet, create it.  This is only called\n when a window is already in use, or when output has been written during this\n inflate call, but the end of the deflate stream has not been reached yet.\n It is also called to create a window for dictionary data when a dictionary\n is loaded.\n\n Providing output buffers larger than 32K to inflate() should provide a speed\n advantage, since only the last 32K of output is copied to the sliding window\n upon return from inflate(), and since all distances after the first 32K of\n output will fall in the output data, making match copies simpler and faster.\n The advantage may be dependent on the size of the processor's data caches.\n */\nfunction updatewindow(strm, src, end, copy) {\n  var dist;\n  var state = strm.state;\n\n  /* if it hasn't been done already, allocate space for the window */\n  if (state.window === null) {\n    state.wsize = 1 << state.wbits;\n    state.wnext = 0;\n    state.whave = 0;\n\n    state.window = new utils.Buf8(state.wsize);\n  }\n\n  /* copy state->wsize or less output bytes into the circular window */\n  if (copy >= state.wsize) {\n    utils.arraySet(state.window, src, end - state.wsize, state.wsize, 0);\n    state.wnext = 0;\n    state.whave = state.wsize;\n  }\n  else {\n    dist = state.wsize - state.wnext;\n    if (dist > copy) {\n      dist = copy;\n    }\n    //zmemcpy(state->window + state->wnext, end - copy, dist);\n    utils.arraySet(state.window, src, end - copy, dist, state.wnext);\n    copy -= dist;\n    if (copy) {\n      //zmemcpy(state->window, end - copy, copy);\n      utils.arraySet(state.window, src, end - copy, copy, 0);\n      state.wnext = copy;\n      state.whave = state.wsize;\n    }\n    else {\n      state.wnext += dist;\n      if (state.wnext === state.wsize) { state.wnext = 0; }\n      if (state.whave < state.wsize) { state.whave += dist; }\n    }\n  }\n  return 0;\n}\n\nfunction inflate(strm, flush) {\n  var state;\n  var input, output;          // input/output buffers\n  var next;                   /* next input INDEX */\n  var put;                    /* next output INDEX */\n  var have, left;             /* available input and output */\n  var hold;                   /* bit buffer */\n  var bits;                   /* bits in bit buffer */\n  var _in, _out;              /* save starting available input and output */\n  var copy;                   /* number of stored or match bytes to copy */\n  var from;                   /* where to copy match bytes from */\n  var from_source;\n  var here = 0;               /* current decoding table entry */\n  var here_bits, here_op, here_val; // paked \"here\" denormalized (JS specific)\n  //var last;                   /* parent table entry */\n  var last_bits, last_op, last_val; // paked \"last\" denormalized (JS specific)\n  var len;                    /* length to copy for repeats, bits to drop */\n  var ret;                    /* return code */\n  var hbuf = new utils.Buf8(4);    /* buffer for gzip header crc calculation */\n  var opts;\n\n  var n; // temporary var for NEED_BITS\n\n  var order = /* permutation of code lengths */\n    [ 16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15 ];\n\n\n  if (!strm || !strm.state || !strm.output ||\n      (!strm.input && strm.avail_in !== 0)) {\n    return Z_STREAM_ERROR;\n  }\n\n  state = strm.state;\n  if (state.mode === TYPE) { state.mode = TYPEDO; }    /* skip check */\n\n\n  //--- LOAD() ---\n  put = strm.next_out;\n  output = strm.output;\n  left = strm.avail_out;\n  next = strm.next_in;\n  input = strm.input;\n  have = strm.avail_in;\n  hold = state.hold;\n  bits = state.bits;\n  //---\n\n  _in = have;\n  _out = left;\n  ret = Z_OK;\n\n  inf_leave: // goto emulation\n  for (;;) {\n    switch (state.mode) {\n      case HEAD:\n        if (state.wrap === 0) {\n          state.mode = TYPEDO;\n          break;\n        }\n        //=== NEEDBITS(16);\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if ((state.wrap & 2) && hold === 0x8b1f) {  /* gzip header */\n          state.check = 0/*crc32(0L, Z_NULL, 0)*/;\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32(state.check, hbuf, 2, 0);\n          //===//\n\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          state.mode = FLAGS;\n          break;\n        }\n        state.flags = 0;           /* expect zlib header */\n        if (state.head) {\n          state.head.done = false;\n        }\n        if (!(state.wrap & 1) ||   /* check if zlib header allowed */\n          (((hold & 0xff)/*BITS(8)*/ << 8) + (hold >> 8)) % 31) {\n          strm.msg = 'incorrect header check';\n          state.mode = BAD;\n          break;\n        }\n        if ((hold & 0x0f)/*BITS(4)*/ !== Z_DEFLATED) {\n          strm.msg = 'unknown compression method';\n          state.mode = BAD;\n          break;\n        }\n        //--- DROPBITS(4) ---//\n        hold >>>= 4;\n        bits -= 4;\n        //---//\n        len = (hold & 0x0f)/*BITS(4)*/ + 8;\n        if (state.wbits === 0) {\n          state.wbits = len;\n        }\n        else if (len > state.wbits) {\n          strm.msg = 'invalid window size';\n          state.mode = BAD;\n          break;\n        }\n        state.dmax = 1 << len;\n        //Tracev((stderr, \"inflate:   zlib header ok\\n\"));\n        strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n        state.mode = hold & 0x200 ? DICTID : TYPE;\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        break;\n      case FLAGS:\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.flags = hold;\n        if ((state.flags & 0xff) !== Z_DEFLATED) {\n          strm.msg = 'unknown compression method';\n          state.mode = BAD;\n          break;\n        }\n        if (state.flags & 0xe000) {\n          strm.msg = 'unknown header flags set';\n          state.mode = BAD;\n          break;\n        }\n        if (state.head) {\n          state.head.text = ((hold >> 8) & 1);\n        }\n        if (state.flags & 0x0200) {\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32(state.check, hbuf, 2, 0);\n          //===//\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = TIME;\n        /* falls through */\n      case TIME:\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (state.head) {\n          state.head.time = hold;\n        }\n        if (state.flags & 0x0200) {\n          //=== CRC4(state.check, hold)\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          hbuf[2] = (hold >>> 16) & 0xff;\n          hbuf[3] = (hold >>> 24) & 0xff;\n          state.check = crc32(state.check, hbuf, 4, 0);\n          //===\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = OS;\n        /* falls through */\n      case OS:\n        //=== NEEDBITS(16); */\n        while (bits < 16) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if (state.head) {\n          state.head.xflags = (hold & 0xff);\n          state.head.os = (hold >> 8);\n        }\n        if (state.flags & 0x0200) {\n          //=== CRC2(state.check, hold);\n          hbuf[0] = hold & 0xff;\n          hbuf[1] = (hold >>> 8) & 0xff;\n          state.check = crc32(state.check, hbuf, 2, 0);\n          //===//\n        }\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = EXLEN;\n        /* falls through */\n      case EXLEN:\n        if (state.flags & 0x0400) {\n          //=== NEEDBITS(16); */\n          while (bits < 16) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.length = hold;\n          if (state.head) {\n            state.head.extra_len = hold;\n          }\n          if (state.flags & 0x0200) {\n            //=== CRC2(state.check, hold);\n            hbuf[0] = hold & 0xff;\n            hbuf[1] = (hold >>> 8) & 0xff;\n            state.check = crc32(state.check, hbuf, 2, 0);\n            //===//\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n        }\n        else if (state.head) {\n          state.head.extra = null/*Z_NULL*/;\n        }\n        state.mode = EXTRA;\n        /* falls through */\n      case EXTRA:\n        if (state.flags & 0x0400) {\n          copy = state.length;\n          if (copy > have) { copy = have; }\n          if (copy) {\n            if (state.head) {\n              len = state.head.extra_len - state.length;\n              if (!state.head.extra) {\n                // Use untyped array for more convenient processing later\n                state.head.extra = new Array(state.head.extra_len);\n              }\n              utils.arraySet(\n                state.head.extra,\n                input,\n                next,\n                // extra field is limited to 65536 bytes\n                // - no need for additional size check\n                copy,\n                /*len + copy > state.head.extra_max - len ? state.head.extra_max : copy,*/\n                len\n              );\n              //zmemcpy(state.head.extra + len, next,\n              //        len + copy > state.head.extra_max ?\n              //        state.head.extra_max - len : copy);\n            }\n            if (state.flags & 0x0200) {\n              state.check = crc32(state.check, input, copy, next);\n            }\n            have -= copy;\n            next += copy;\n            state.length -= copy;\n          }\n          if (state.length) { break inf_leave; }\n        }\n        state.length = 0;\n        state.mode = NAME;\n        /* falls through */\n      case NAME:\n        if (state.flags & 0x0800) {\n          if (have === 0) { break inf_leave; }\n          copy = 0;\n          do {\n            // TODO: 2 or 1 bytes?\n            len = input[next + copy++];\n            /* use constant limit because in js we should not preallocate memory */\n            if (state.head && len &&\n                (state.length < 65536 /*state.head.name_max*/)) {\n              state.head.name += String.fromCharCode(len);\n            }\n          } while (len && copy < have);\n\n          if (state.flags & 0x0200) {\n            state.check = crc32(state.check, input, copy, next);\n          }\n          have -= copy;\n          next += copy;\n          if (len) { break inf_leave; }\n        }\n        else if (state.head) {\n          state.head.name = null;\n        }\n        state.length = 0;\n        state.mode = COMMENT;\n        /* falls through */\n      case COMMENT:\n        if (state.flags & 0x1000) {\n          if (have === 0) { break inf_leave; }\n          copy = 0;\n          do {\n            len = input[next + copy++];\n            /* use constant limit because in js we should not preallocate memory */\n            if (state.head && len &&\n                (state.length < 65536 /*state.head.comm_max*/)) {\n              state.head.comment += String.fromCharCode(len);\n            }\n          } while (len && copy < have);\n          if (state.flags & 0x0200) {\n            state.check = crc32(state.check, input, copy, next);\n          }\n          have -= copy;\n          next += copy;\n          if (len) { break inf_leave; }\n        }\n        else if (state.head) {\n          state.head.comment = null;\n        }\n        state.mode = HCRC;\n        /* falls through */\n      case HCRC:\n        if (state.flags & 0x0200) {\n          //=== NEEDBITS(16); */\n          while (bits < 16) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          if (hold !== (state.check & 0xffff)) {\n            strm.msg = 'header crc mismatch';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n        }\n        if (state.head) {\n          state.head.hcrc = ((state.flags >> 9) & 1);\n          state.head.done = true;\n        }\n        strm.adler = state.check = 0;\n        state.mode = TYPE;\n        break;\n      case DICTID:\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        strm.adler = state.check = zswap32(hold);\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = DICT;\n        /* falls through */\n      case DICT:\n        if (state.havedict === 0) {\n          //--- RESTORE() ---\n          strm.next_out = put;\n          strm.avail_out = left;\n          strm.next_in = next;\n          strm.avail_in = have;\n          state.hold = hold;\n          state.bits = bits;\n          //---\n          return Z_NEED_DICT;\n        }\n        strm.adler = state.check = 1/*adler32(0L, Z_NULL, 0)*/;\n        state.mode = TYPE;\n        /* falls through */\n      case TYPE:\n        if (flush === Z_BLOCK || flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case TYPEDO:\n        if (state.last) {\n          //--- BYTEBITS() ---//\n          hold >>>= bits & 7;\n          bits -= bits & 7;\n          //---//\n          state.mode = CHECK;\n          break;\n        }\n        //=== NEEDBITS(3); */\n        while (bits < 3) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.last = (hold & 0x01)/*BITS(1)*/;\n        //--- DROPBITS(1) ---//\n        hold >>>= 1;\n        bits -= 1;\n        //---//\n\n        switch ((hold & 0x03)/*BITS(2)*/) {\n          case 0:                             /* stored block */\n            //Tracev((stderr, \"inflate:     stored block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = STORED;\n            break;\n          case 1:                             /* fixed block */\n            fixedtables(state);\n            //Tracev((stderr, \"inflate:     fixed codes block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = LEN_;             /* decode codes */\n            if (flush === Z_TREES) {\n              //--- DROPBITS(2) ---//\n              hold >>>= 2;\n              bits -= 2;\n              //---//\n              break inf_leave;\n            }\n            break;\n          case 2:                             /* dynamic block */\n            //Tracev((stderr, \"inflate:     dynamic codes block%s\\n\",\n            //        state.last ? \" (last)\" : \"\"));\n            state.mode = TABLE;\n            break;\n          case 3:\n            strm.msg = 'invalid block type';\n            state.mode = BAD;\n        }\n        //--- DROPBITS(2) ---//\n        hold >>>= 2;\n        bits -= 2;\n        //---//\n        break;\n      case STORED:\n        //--- BYTEBITS() ---// /* go to byte boundary */\n        hold >>>= bits & 7;\n        bits -= bits & 7;\n        //---//\n        //=== NEEDBITS(32); */\n        while (bits < 32) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        if ((hold & 0xffff) !== ((hold >>> 16) ^ 0xffff)) {\n          strm.msg = 'invalid stored block lengths';\n          state.mode = BAD;\n          break;\n        }\n        state.length = hold & 0xffff;\n        //Tracev((stderr, \"inflate:       stored length %u\\n\",\n        //        state.length));\n        //=== INITBITS();\n        hold = 0;\n        bits = 0;\n        //===//\n        state.mode = COPY_;\n        if (flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case COPY_:\n        state.mode = COPY;\n        /* falls through */\n      case COPY:\n        copy = state.length;\n        if (copy) {\n          if (copy > have) { copy = have; }\n          if (copy > left) { copy = left; }\n          if (copy === 0) { break inf_leave; }\n          //--- zmemcpy(put, next, copy); ---\n          utils.arraySet(output, input, next, copy, put);\n          //---//\n          have -= copy;\n          next += copy;\n          left -= copy;\n          put += copy;\n          state.length -= copy;\n          break;\n        }\n        //Tracev((stderr, \"inflate:       stored end\\n\"));\n        state.mode = TYPE;\n        break;\n      case TABLE:\n        //=== NEEDBITS(14); */\n        while (bits < 14) {\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n        }\n        //===//\n        state.nlen = (hold & 0x1f)/*BITS(5)*/ + 257;\n        //--- DROPBITS(5) ---//\n        hold >>>= 5;\n        bits -= 5;\n        //---//\n        state.ndist = (hold & 0x1f)/*BITS(5)*/ + 1;\n        //--- DROPBITS(5) ---//\n        hold >>>= 5;\n        bits -= 5;\n        //---//\n        state.ncode = (hold & 0x0f)/*BITS(4)*/ + 4;\n        //--- DROPBITS(4) ---//\n        hold >>>= 4;\n        bits -= 4;\n        //---//\n//#ifndef PKZIP_BUG_WORKAROUND\n        if (state.nlen > 286 || state.ndist > 30) {\n          strm.msg = 'too many length or distance symbols';\n          state.mode = BAD;\n          break;\n        }\n//#endif\n        //Tracev((stderr, \"inflate:       table sizes ok\\n\"));\n        state.have = 0;\n        state.mode = LENLENS;\n        /* falls through */\n      case LENLENS:\n        while (state.have < state.ncode) {\n          //=== NEEDBITS(3);\n          while (bits < 3) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.lens[order[state.have++]] = (hold & 0x07);//BITS(3);\n          //--- DROPBITS(3) ---//\n          hold >>>= 3;\n          bits -= 3;\n          //---//\n        }\n        while (state.have < 19) {\n          state.lens[order[state.have++]] = 0;\n        }\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        //state.next = state.codes;\n        //state.lencode = state.next;\n        // Switch to use dynamic table\n        state.lencode = state.lendyn;\n        state.lenbits = 7;\n\n        opts = { bits: state.lenbits };\n        ret = inflate_table(CODES, state.lens, 0, 19, state.lencode, 0, state.work, opts);\n        state.lenbits = opts.bits;\n\n        if (ret) {\n          strm.msg = 'invalid code lengths set';\n          state.mode = BAD;\n          break;\n        }\n        //Tracev((stderr, \"inflate:       code lengths ok\\n\"));\n        state.have = 0;\n        state.mode = CODELENS;\n        /* falls through */\n      case CODELENS:\n        while (state.have < state.nlen + state.ndist) {\n          for (;;) {\n            here = state.lencode[hold & ((1 << state.lenbits) - 1)];/*BITS(state.lenbits)*/\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          if (here_val < 16) {\n            //--- DROPBITS(here.bits) ---//\n            hold >>>= here_bits;\n            bits -= here_bits;\n            //---//\n            state.lens[state.have++] = here_val;\n          }\n          else {\n            if (here_val === 16) {\n              //=== NEEDBITS(here.bits + 2);\n              n = here_bits + 2;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              if (state.have === 0) {\n                strm.msg = 'invalid bit length repeat';\n                state.mode = BAD;\n                break;\n              }\n              len = state.lens[state.have - 1];\n              copy = 3 + (hold & 0x03);//BITS(2);\n              //--- DROPBITS(2) ---//\n              hold >>>= 2;\n              bits -= 2;\n              //---//\n            }\n            else if (here_val === 17) {\n              //=== NEEDBITS(here.bits + 3);\n              n = here_bits + 3;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              len = 0;\n              copy = 3 + (hold & 0x07);//BITS(3);\n              //--- DROPBITS(3) ---//\n              hold >>>= 3;\n              bits -= 3;\n              //---//\n            }\n            else {\n              //=== NEEDBITS(here.bits + 7);\n              n = here_bits + 7;\n              while (bits < n) {\n                if (have === 0) { break inf_leave; }\n                have--;\n                hold += input[next++] << bits;\n                bits += 8;\n              }\n              //===//\n              //--- DROPBITS(here.bits) ---//\n              hold >>>= here_bits;\n              bits -= here_bits;\n              //---//\n              len = 0;\n              copy = 11 + (hold & 0x7f);//BITS(7);\n              //--- DROPBITS(7) ---//\n              hold >>>= 7;\n              bits -= 7;\n              //---//\n            }\n            if (state.have + copy > state.nlen + state.ndist) {\n              strm.msg = 'invalid bit length repeat';\n              state.mode = BAD;\n              break;\n            }\n            while (copy--) {\n              state.lens[state.have++] = len;\n            }\n          }\n        }\n\n        /* handle error breaks in while */\n        if (state.mode === BAD) { break; }\n\n        /* check for end-of-block code (better have one) */\n        if (state.lens[256] === 0) {\n          strm.msg = 'invalid code -- missing end-of-block';\n          state.mode = BAD;\n          break;\n        }\n\n        /* build code tables -- note: do not change the lenbits or distbits\n           values here (9 and 6) without reading the comments in inftrees.h\n           concerning the ENOUGH constants, which depend on those values */\n        state.lenbits = 9;\n\n        opts = { bits: state.lenbits };\n        ret = inflate_table(LENS, state.lens, 0, state.nlen, state.lencode, 0, state.work, opts);\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        // state.next_index = opts.table_index;\n        state.lenbits = opts.bits;\n        // state.lencode = state.next;\n\n        if (ret) {\n          strm.msg = 'invalid literal/lengths set';\n          state.mode = BAD;\n          break;\n        }\n\n        state.distbits = 6;\n        //state.distcode.copy(state.codes);\n        // Switch to use dynamic table\n        state.distcode = state.distdyn;\n        opts = { bits: state.distbits };\n        ret = inflate_table(DISTS, state.lens, state.nlen, state.ndist, state.distcode, 0, state.work, opts);\n        // We have separate tables & no pointers. 2 commented lines below not needed.\n        // state.next_index = opts.table_index;\n        state.distbits = opts.bits;\n        // state.distcode = state.next;\n\n        if (ret) {\n          strm.msg = 'invalid distances set';\n          state.mode = BAD;\n          break;\n        }\n        //Tracev((stderr, 'inflate:       codes ok\\n'));\n        state.mode = LEN_;\n        if (flush === Z_TREES) { break inf_leave; }\n        /* falls through */\n      case LEN_:\n        state.mode = LEN;\n        /* falls through */\n      case LEN:\n        if (have >= 6 && left >= 258) {\n          //--- RESTORE() ---\n          strm.next_out = put;\n          strm.avail_out = left;\n          strm.next_in = next;\n          strm.avail_in = have;\n          state.hold = hold;\n          state.bits = bits;\n          //---\n          inflate_fast(strm, _out);\n          //--- LOAD() ---\n          put = strm.next_out;\n          output = strm.output;\n          left = strm.avail_out;\n          next = strm.next_in;\n          input = strm.input;\n          have = strm.avail_in;\n          hold = state.hold;\n          bits = state.bits;\n          //---\n\n          if (state.mode === TYPE) {\n            state.back = -1;\n          }\n          break;\n        }\n        state.back = 0;\n        for (;;) {\n          here = state.lencode[hold & ((1 << state.lenbits) - 1)];  /*BITS(state.lenbits)*/\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if (here_bits <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        if (here_op && (here_op & 0xf0) === 0) {\n          last_bits = here_bits;\n          last_op = here_op;\n          last_val = here_val;\n          for (;;) {\n            here = state.lencode[last_val +\n                    ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((last_bits + here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          //--- DROPBITS(last.bits) ---//\n          hold >>>= last_bits;\n          bits -= last_bits;\n          //---//\n          state.back += last_bits;\n        }\n        //--- DROPBITS(here.bits) ---//\n        hold >>>= here_bits;\n        bits -= here_bits;\n        //---//\n        state.back += here_bits;\n        state.length = here_val;\n        if (here_op === 0) {\n          //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n          //        \"inflate:         literal '%c'\\n\" :\n          //        \"inflate:         literal 0x%02x\\n\", here.val));\n          state.mode = LIT;\n          break;\n        }\n        if (here_op & 32) {\n          //Tracevv((stderr, \"inflate:         end of block\\n\"));\n          state.back = -1;\n          state.mode = TYPE;\n          break;\n        }\n        if (here_op & 64) {\n          strm.msg = 'invalid literal/length code';\n          state.mode = BAD;\n          break;\n        }\n        state.extra = here_op & 15;\n        state.mode = LENEXT;\n        /* falls through */\n      case LENEXT:\n        if (state.extra) {\n          //=== NEEDBITS(state.extra);\n          n = state.extra;\n          while (bits < n) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.length += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n          //--- DROPBITS(state.extra) ---//\n          hold >>>= state.extra;\n          bits -= state.extra;\n          //---//\n          state.back += state.extra;\n        }\n        //Tracevv((stderr, \"inflate:         length %u\\n\", state.length));\n        state.was = state.length;\n        state.mode = DIST;\n        /* falls through */\n      case DIST:\n        for (;;) {\n          here = state.distcode[hold & ((1 << state.distbits) - 1)];/*BITS(state.distbits)*/\n          here_bits = here >>> 24;\n          here_op = (here >>> 16) & 0xff;\n          here_val = here & 0xffff;\n\n          if ((here_bits) <= bits) { break; }\n          //--- PULLBYTE() ---//\n          if (have === 0) { break inf_leave; }\n          have--;\n          hold += input[next++] << bits;\n          bits += 8;\n          //---//\n        }\n        if ((here_op & 0xf0) === 0) {\n          last_bits = here_bits;\n          last_op = here_op;\n          last_val = here_val;\n          for (;;) {\n            here = state.distcode[last_val +\n                    ((hold & ((1 << (last_bits + last_op)) - 1))/*BITS(last.bits + last.op)*/ >> last_bits)];\n            here_bits = here >>> 24;\n            here_op = (here >>> 16) & 0xff;\n            here_val = here & 0xffff;\n\n            if ((last_bits + here_bits) <= bits) { break; }\n            //--- PULLBYTE() ---//\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n            //---//\n          }\n          //--- DROPBITS(last.bits) ---//\n          hold >>>= last_bits;\n          bits -= last_bits;\n          //---//\n          state.back += last_bits;\n        }\n        //--- DROPBITS(here.bits) ---//\n        hold >>>= here_bits;\n        bits -= here_bits;\n        //---//\n        state.back += here_bits;\n        if (here_op & 64) {\n          strm.msg = 'invalid distance code';\n          state.mode = BAD;\n          break;\n        }\n        state.offset = here_val;\n        state.extra = (here_op) & 15;\n        state.mode = DISTEXT;\n        /* falls through */\n      case DISTEXT:\n        if (state.extra) {\n          //=== NEEDBITS(state.extra);\n          n = state.extra;\n          while (bits < n) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          state.offset += hold & ((1 << state.extra) - 1)/*BITS(state.extra)*/;\n          //--- DROPBITS(state.extra) ---//\n          hold >>>= state.extra;\n          bits -= state.extra;\n          //---//\n          state.back += state.extra;\n        }\n//#ifdef INFLATE_STRICT\n        if (state.offset > state.dmax) {\n          strm.msg = 'invalid distance too far back';\n          state.mode = BAD;\n          break;\n        }\n//#endif\n        //Tracevv((stderr, \"inflate:         distance %u\\n\", state.offset));\n        state.mode = MATCH;\n        /* falls through */\n      case MATCH:\n        if (left === 0) { break inf_leave; }\n        copy = _out - left;\n        if (state.offset > copy) {         /* copy from window */\n          copy = state.offset - copy;\n          if (copy > state.whave) {\n            if (state.sane) {\n              strm.msg = 'invalid distance too far back';\n              state.mode = BAD;\n              break;\n            }\n// (!) This block is disabled in zlib defaults,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//          Trace((stderr, \"inflate.c too far\\n\"));\n//          copy -= state.whave;\n//          if (copy > state.length) { copy = state.length; }\n//          if (copy > left) { copy = left; }\n//          left -= copy;\n//          state.length -= copy;\n//          do {\n//            output[put++] = 0;\n//          } while (--copy);\n//          if (state.length === 0) { state.mode = LEN; }\n//          break;\n//#endif\n          }\n          if (copy > state.wnext) {\n            copy -= state.wnext;\n            from = state.wsize - copy;\n          }\n          else {\n            from = state.wnext - copy;\n          }\n          if (copy > state.length) { copy = state.length; }\n          from_source = state.window;\n        }\n        else {                              /* copy from output */\n          from_source = output;\n          from = put - state.offset;\n          copy = state.length;\n        }\n        if (copy > left) { copy = left; }\n        left -= copy;\n        state.length -= copy;\n        do {\n          output[put++] = from_source[from++];\n        } while (--copy);\n        if (state.length === 0) { state.mode = LEN; }\n        break;\n      case LIT:\n        if (left === 0) { break inf_leave; }\n        output[put++] = state.length;\n        left--;\n        state.mode = LEN;\n        break;\n      case CHECK:\n        if (state.wrap) {\n          //=== NEEDBITS(32);\n          while (bits < 32) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            // Use '|' instead of '+' to make sure that result is signed\n            hold |= input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          _out -= left;\n          strm.total_out += _out;\n          state.total += _out;\n          if (_out) {\n            strm.adler = state.check =\n                /*UPDATE(state.check, put - _out, _out);*/\n                (state.flags ? crc32(state.check, output, _out, put - _out) : adler32(state.check, output, _out, put - _out));\n\n          }\n          _out = left;\n          // NB: crc32 stored as signed 32-bit int, zswap32 returns signed too\n          if ((state.flags ? hold : zswap32(hold)) !== state.check) {\n            strm.msg = 'incorrect data check';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          //Tracev((stderr, \"inflate:   check matches trailer\\n\"));\n        }\n        state.mode = LENGTH;\n        /* falls through */\n      case LENGTH:\n        if (state.wrap && state.flags) {\n          //=== NEEDBITS(32);\n          while (bits < 32) {\n            if (have === 0) { break inf_leave; }\n            have--;\n            hold += input[next++] << bits;\n            bits += 8;\n          }\n          //===//\n          if (hold !== (state.total & 0xffffffff)) {\n            strm.msg = 'incorrect length check';\n            state.mode = BAD;\n            break;\n          }\n          //=== INITBITS();\n          hold = 0;\n          bits = 0;\n          //===//\n          //Tracev((stderr, \"inflate:   length matches trailer\\n\"));\n        }\n        state.mode = DONE;\n        /* falls through */\n      case DONE:\n        ret = Z_STREAM_END;\n        break inf_leave;\n      case BAD:\n        ret = Z_DATA_ERROR;\n        break inf_leave;\n      case MEM:\n        return Z_MEM_ERROR;\n      case SYNC:\n        /* falls through */\n      default:\n        return Z_STREAM_ERROR;\n    }\n  }\n\n  // inf_leave <- here is real place for \"goto inf_leave\", emulated via \"break inf_leave\"\n\n  /*\n     Return from inflate(), updating the total counts and the check value.\n     If there was no progress during the inflate() call, return a buffer\n     error.  Call updatewindow() to create and/or update the window state.\n     Note: a memory error from inflate() is non-recoverable.\n   */\n\n  //--- RESTORE() ---\n  strm.next_out = put;\n  strm.avail_out = left;\n  strm.next_in = next;\n  strm.avail_in = have;\n  state.hold = hold;\n  state.bits = bits;\n  //---\n\n  if (state.wsize || (_out !== strm.avail_out && state.mode < BAD &&\n                      (state.mode < CHECK || flush !== Z_FINISH))) {\n    if (updatewindow(strm, strm.output, strm.next_out, _out - strm.avail_out)) {\n      state.mode = MEM;\n      return Z_MEM_ERROR;\n    }\n  }\n  _in -= strm.avail_in;\n  _out -= strm.avail_out;\n  strm.total_in += _in;\n  strm.total_out += _out;\n  state.total += _out;\n  if (state.wrap && _out) {\n    strm.adler = state.check = /*UPDATE(state.check, strm.next_out - _out, _out);*/\n      (state.flags ? crc32(state.check, output, _out, strm.next_out - _out) : adler32(state.check, output, _out, strm.next_out - _out));\n  }\n  strm.data_type = state.bits + (state.last ? 64 : 0) +\n                    (state.mode === TYPE ? 128 : 0) +\n                    (state.mode === LEN_ || state.mode === COPY_ ? 256 : 0);\n  if (((_in === 0 && _out === 0) || flush === Z_FINISH) && ret === Z_OK) {\n    ret = Z_BUF_ERROR;\n  }\n  return ret;\n}\n\nfunction inflateEnd(strm) {\n\n  if (!strm || !strm.state /*|| strm->zfree == (free_func)0*/) {\n    return Z_STREAM_ERROR;\n  }\n\n  var state = strm.state;\n  if (state.window) {\n    state.window = null;\n  }\n  strm.state = null;\n  return Z_OK;\n}\n\nfunction inflateGetHeader(strm, head) {\n  var state;\n\n  /* check state */\n  if (!strm || !strm.state) { return Z_STREAM_ERROR; }\n  state = strm.state;\n  if ((state.wrap & 2) === 0) { return Z_STREAM_ERROR; }\n\n  /* save header structure */\n  state.head = head;\n  head.done = false;\n  return Z_OK;\n}\n\nfunction inflateSetDictionary(strm, dictionary) {\n  var dictLength = dictionary.length;\n\n  var state;\n  var dictid;\n  var ret;\n\n  /* check state */\n  if (!strm /* == Z_NULL */ || !strm.state /* == Z_NULL */) { return Z_STREAM_ERROR; }\n  state = strm.state;\n\n  if (state.wrap !== 0 && state.mode !== DICT) {\n    return Z_STREAM_ERROR;\n  }\n\n  /* check for correct dictionary identifier */\n  if (state.mode === DICT) {\n    dictid = 1; /* adler32(0, null, 0)*/\n    /* dictid = adler32(dictid, dictionary, dictLength); */\n    dictid = adler32(dictid, dictionary, dictLength, 0);\n    if (dictid !== state.check) {\n      return Z_DATA_ERROR;\n    }\n  }\n  /* copy dictionary to window using updatewindow(), which will amend the\n   existing dictionary if appropriate */\n  ret = updatewindow(strm, dictionary, dictLength, dictLength);\n  if (ret) {\n    state.mode = MEM;\n    return Z_MEM_ERROR;\n  }\n  state.havedict = 1;\n  // Tracev((stderr, \"inflate:   dictionary set\\n\"));\n  return Z_OK;\n}\n\nexports.inflateReset = inflateReset;\nexports.inflateReset2 = inflateReset2;\nexports.inflateResetKeep = inflateResetKeep;\nexports.inflateInit = inflateInit;\nexports.inflateInit2 = inflateInit2;\nexports.inflate = inflate;\nexports.inflateEnd = inflateEnd;\nexports.inflateGetHeader = inflateGetHeader;\nexports.inflateSetDictionary = inflateSetDictionary;\nexports.inflateInfo = 'pako inflate (from Nodeca project)';\n\n/* Not implemented\nexports.inflateCopy = inflateCopy;\nexports.inflateGetDictionary = inflateGetDictionary;\nexports.inflateMark = inflateMark;\nexports.inflatePrime = inflatePrime;\nexports.inflateSync = inflateSync;\nexports.inflateSyncPoint = inflateSyncPoint;\nexports.inflateUndermine = inflateUndermine;\n*/\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\n// See state defs from inflate.js\nvar BAD = 30;       /* got a data error -- remain here until reset */\nvar TYPE = 12;      /* i: waiting for type bits, including last-flag bit */\n\n/*\n   Decode literal, length, and distance codes and write out the resulting\n   literal and match bytes until either not enough input or output is\n   available, an end-of-block is encountered, or a data error is encountered.\n   When large enough input and output buffers are supplied to inflate(), for\n   example, a 16K input buffer and a 64K output buffer, more than 95% of the\n   inflate execution time is spent in this routine.\n\n   Entry assumptions:\n\n        state.mode === LEN\n        strm.avail_in >= 6\n        strm.avail_out >= 258\n        start >= strm.avail_out\n        state.bits < 8\n\n   On return, state.mode is one of:\n\n        LEN -- ran out of enough output space or enough available input\n        TYPE -- reached end of block code, inflate() to interpret next block\n        BAD -- error in block data\n\n   Notes:\n\n    - The maximum input bits used by a length/distance pair is 15 bits for the\n      length code, 5 bits for the length extra, 15 bits for the distance code,\n      and 13 bits for the distance extra.  This totals 48 bits, or six bytes.\n      Therefore if strm.avail_in >= 6, then there is enough input to avoid\n      checking for available input while decoding.\n\n    - The maximum bytes that a single length/distance pair can output is 258\n      bytes, which is the maximum length that can be coded.  inflate_fast()\n      requires strm.avail_out >= 258 for each loop to avoid checking for\n      output space.\n */\nmodule.exports = function inflate_fast(strm, start) {\n  var state;\n  var _in;                    /* local strm.input */\n  var last;                   /* have enough input while in < last */\n  var _out;                   /* local strm.output */\n  var beg;                    /* inflate()'s initial strm.output */\n  var end;                    /* while out < end, enough space available */\n//#ifdef INFLATE_STRICT\n  var dmax;                   /* maximum distance from zlib header */\n//#endif\n  var wsize;                  /* window size or zero if not using window */\n  var whave;                  /* valid bytes in the window */\n  var wnext;                  /* window write index */\n  // Use `s_window` instead `window`, avoid conflict with instrumentation tools\n  var s_window;               /* allocated sliding window, if wsize != 0 */\n  var hold;                   /* local strm.hold */\n  var bits;                   /* local strm.bits */\n  var lcode;                  /* local strm.lencode */\n  var dcode;                  /* local strm.distcode */\n  var lmask;                  /* mask for first level of length codes */\n  var dmask;                  /* mask for first level of distance codes */\n  var here;                   /* retrieved table entry */\n  var op;                     /* code bits, operation, extra bits, or */\n                              /*  window position, window bytes to copy */\n  var len;                    /* match length, unused bytes */\n  var dist;                   /* match distance */\n  var from;                   /* where to copy match from */\n  var from_source;\n\n\n  var input, output; // JS specific, because we have no pointers\n\n  /* copy state to local variables */\n  state = strm.state;\n  //here = state.here;\n  _in = strm.next_in;\n  input = strm.input;\n  last = _in + (strm.avail_in - 5);\n  _out = strm.next_out;\n  output = strm.output;\n  beg = _out - (start - strm.avail_out);\n  end = _out + (strm.avail_out - 257);\n//#ifdef INFLATE_STRICT\n  dmax = state.dmax;\n//#endif\n  wsize = state.wsize;\n  whave = state.whave;\n  wnext = state.wnext;\n  s_window = state.window;\n  hold = state.hold;\n  bits = state.bits;\n  lcode = state.lencode;\n  dcode = state.distcode;\n  lmask = (1 << state.lenbits) - 1;\n  dmask = (1 << state.distbits) - 1;\n\n\n  /* decode literals and length/distances until end-of-block or not enough\n     input data or output space */\n\n  top:\n  do {\n    if (bits < 15) {\n      hold += input[_in++] << bits;\n      bits += 8;\n      hold += input[_in++] << bits;\n      bits += 8;\n    }\n\n    here = lcode[hold & lmask];\n\n    dolen:\n    for (;;) { // Goto emulation\n      op = here >>> 24/*here.bits*/;\n      hold >>>= op;\n      bits -= op;\n      op = (here >>> 16) & 0xff/*here.op*/;\n      if (op === 0) {                          /* literal */\n        //Tracevv((stderr, here.val >= 0x20 && here.val < 0x7f ?\n        //        \"inflate:         literal '%c'\\n\" :\n        //        \"inflate:         literal 0x%02x\\n\", here.val));\n        output[_out++] = here & 0xffff/*here.val*/;\n      }\n      else if (op & 16) {                     /* length base */\n        len = here & 0xffff/*here.val*/;\n        op &= 15;                           /* number of extra bits */\n        if (op) {\n          if (bits < op) {\n            hold += input[_in++] << bits;\n            bits += 8;\n          }\n          len += hold & ((1 << op) - 1);\n          hold >>>= op;\n          bits -= op;\n        }\n        //Tracevv((stderr, \"inflate:         length %u\\n\", len));\n        if (bits < 15) {\n          hold += input[_in++] << bits;\n          bits += 8;\n          hold += input[_in++] << bits;\n          bits += 8;\n        }\n        here = dcode[hold & dmask];\n\n        dodist:\n        for (;;) { // goto emulation\n          op = here >>> 24/*here.bits*/;\n          hold >>>= op;\n          bits -= op;\n          op = (here >>> 16) & 0xff/*here.op*/;\n\n          if (op & 16) {                      /* distance base */\n            dist = here & 0xffff/*here.val*/;\n            op &= 15;                       /* number of extra bits */\n            if (bits < op) {\n              hold += input[_in++] << bits;\n              bits += 8;\n              if (bits < op) {\n                hold += input[_in++] << bits;\n                bits += 8;\n              }\n            }\n            dist += hold & ((1 << op) - 1);\n//#ifdef INFLATE_STRICT\n            if (dist > dmax) {\n              strm.msg = 'invalid distance too far back';\n              state.mode = BAD;\n              break top;\n            }\n//#endif\n            hold >>>= op;\n            bits -= op;\n            //Tracevv((stderr, \"inflate:         distance %u\\n\", dist));\n            op = _out - beg;                /* max distance in output */\n            if (dist > op) {                /* see if copy from window */\n              op = dist - op;               /* distance back in window */\n              if (op > whave) {\n                if (state.sane) {\n                  strm.msg = 'invalid distance too far back';\n                  state.mode = BAD;\n                  break top;\n                }\n\n// (!) This block is disabled in zlib defaults,\n// don't enable it for binary compatibility\n//#ifdef INFLATE_ALLOW_INVALID_DISTANCE_TOOFAR_ARRR\n//                if (len <= op - whave) {\n//                  do {\n//                    output[_out++] = 0;\n//                  } while (--len);\n//                  continue top;\n//                }\n//                len -= op - whave;\n//                do {\n//                  output[_out++] = 0;\n//                } while (--op > whave);\n//                if (op === 0) {\n//                  from = _out - dist;\n//                  do {\n//                    output[_out++] = output[from++];\n//                  } while (--len);\n//                  continue top;\n//                }\n//#endif\n              }\n              from = 0; // window index\n              from_source = s_window;\n              if (wnext === 0) {           /* very common case */\n                from += wsize - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              else if (wnext < op) {      /* wrap around window */\n                from += wsize + wnext - op;\n                op -= wnext;\n                if (op < len) {         /* some from end of window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = 0;\n                  if (wnext < len) {  /* some from start of window */\n                    op = wnext;\n                    len -= op;\n                    do {\n                      output[_out++] = s_window[from++];\n                    } while (--op);\n                    from = _out - dist;      /* rest from output */\n                    from_source = output;\n                  }\n                }\n              }\n              else {                      /* contiguous in window */\n                from += wnext - op;\n                if (op < len) {         /* some from window */\n                  len -= op;\n                  do {\n                    output[_out++] = s_window[from++];\n                  } while (--op);\n                  from = _out - dist;  /* rest from output */\n                  from_source = output;\n                }\n              }\n              while (len > 2) {\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                output[_out++] = from_source[from++];\n                len -= 3;\n              }\n              if (len) {\n                output[_out++] = from_source[from++];\n                if (len > 1) {\n                  output[_out++] = from_source[from++];\n                }\n              }\n            }\n            else {\n              from = _out - dist;          /* copy direct from output */\n              do {                        /* minimum length is three */\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                output[_out++] = output[from++];\n                len -= 3;\n              } while (len > 2);\n              if (len) {\n                output[_out++] = output[from++];\n                if (len > 1) {\n                  output[_out++] = output[from++];\n                }\n              }\n            }\n          }\n          else if ((op & 64) === 0) {          /* 2nd level distance code */\n            here = dcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n            continue dodist;\n          }\n          else {\n            strm.msg = 'invalid distance code';\n            state.mode = BAD;\n            break top;\n          }\n\n          break; // need to emulate goto via \"continue\"\n        }\n      }\n      else if ((op & 64) === 0) {              /* 2nd level length code */\n        here = lcode[(here & 0xffff)/*here.val*/ + (hold & ((1 << op) - 1))];\n        continue dolen;\n      }\n      else if (op & 32) {                     /* end-of-block */\n        //Tracevv((stderr, \"inflate:         end of block\\n\"));\n        state.mode = TYPE;\n        break top;\n      }\n      else {\n        strm.msg = 'invalid literal/length code';\n        state.mode = BAD;\n        break top;\n      }\n\n      break; // need to emulate goto via \"continue\"\n    }\n  } while (_in < last && _out < end);\n\n  /* return unused bytes (on entry, bits < 8, so in won't go too far back) */\n  len = bits >> 3;\n  _in -= len;\n  bits -= len << 3;\n  hold &= (1 << bits) - 1;\n\n  /* update state and return */\n  strm.next_in = _in;\n  strm.next_out = _out;\n  strm.avail_in = (_in < last ? 5 + (last - _in) : 5 - (_in - last));\n  strm.avail_out = (_out < end ? 257 + (end - _out) : 257 - (_out - end));\n  state.hold = hold;\n  state.bits = bits;\n  return;\n};\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nvar utils = require('../utils/common');\n\nvar MAXBITS = 15;\nvar ENOUGH_LENS = 852;\nvar ENOUGH_DISTS = 592;\n//var ENOUGH = (ENOUGH_LENS+ENOUGH_DISTS);\n\nvar CODES = 0;\nvar LENS = 1;\nvar DISTS = 2;\n\nvar lbase = [ /* Length codes 257..285 base */\n  3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31,\n  35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0\n];\n\nvar lext = [ /* Length codes 257..285 extra */\n  16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18,\n  19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78\n];\n\nvar dbase = [ /* Distance codes 0..29 base */\n  1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193,\n  257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145,\n  8193, 12289, 16385, 24577, 0, 0\n];\n\nvar dext = [ /* Distance codes 0..29 extra */\n  16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22,\n  23, 23, 24, 24, 25, 25, 26, 26, 27, 27,\n  28, 28, 29, 29, 64, 64\n];\n\nmodule.exports = function inflate_table(type, lens, lens_index, codes, table, table_index, work, opts)\n{\n  var bits = opts.bits;\n      //here = opts.here; /* table entry for duplication */\n\n  var len = 0;               /* a code's length in bits */\n  var sym = 0;               /* index of code symbols */\n  var min = 0, max = 0;          /* minimum and maximum code lengths */\n  var root = 0;              /* number of index bits for root table */\n  var curr = 0;              /* number of index bits for current table */\n  var drop = 0;              /* code bits to drop for sub-table */\n  var left = 0;                   /* number of prefix codes available */\n  var used = 0;              /* code entries in table used */\n  var huff = 0;              /* Huffman code */\n  var incr;              /* for incrementing code, index */\n  var fill;              /* index for replicating entries */\n  var low;               /* low bits for current root entry */\n  var mask;              /* mask for low root bits */\n  var next;             /* next available space in table */\n  var base = null;     /* base value table to use */\n  var base_index = 0;\n//  var shoextra;    /* extra bits table to use */\n  var end;                    /* use base and extra for symbol > end */\n  var count = new utils.Buf16(MAXBITS + 1); //[MAXBITS+1];    /* number of codes of each length */\n  var offs = new utils.Buf16(MAXBITS + 1); //[MAXBITS+1];     /* offsets in table for each length */\n  var extra = null;\n  var extra_index = 0;\n\n  var here_bits, here_op, here_val;\n\n  /*\n   Process a set of code lengths to create a canonical Huffman code.  The\n   code lengths are lens[0..codes-1].  Each length corresponds to the\n   symbols 0..codes-1.  The Huffman code is generated by first sorting the\n   symbols by length from short to long, and retaining the symbol order\n   for codes with equal lengths.  Then the code starts with all zero bits\n   for the first code of the shortest length, and the codes are integer\n   increments for the same length, and zeros are appended as the length\n   increases.  For the deflate format, these bits are stored backwards\n   from their more natural integer increment ordering, and so when the\n   decoding tables are built in the large loop below, the integer codes\n   are incremented backwards.\n\n   This routine assumes, but does not check, that all of the entries in\n   lens[] are in the range 0..MAXBITS.  The caller must assure this.\n   1..MAXBITS is interpreted as that code length.  zero means that that\n   symbol does not occur in this code.\n\n   The codes are sorted by computing a count of codes for each length,\n   creating from that a table of starting indices for each length in the\n   sorted table, and then entering the symbols in order in the sorted\n   table.  The sorted table is work[], with that space being provided by\n   the caller.\n\n   The length counts are used for other purposes as well, i.e. finding\n   the minimum and maximum length codes, determining if there are any\n   codes at all, checking for a valid set of lengths, and looking ahead\n   at length counts to determine sub-table sizes when building the\n   decoding tables.\n   */\n\n  /* accumulate lengths for codes (assumes lens[] all in 0..MAXBITS) */\n  for (len = 0; len <= MAXBITS; len++) {\n    count[len] = 0;\n  }\n  for (sym = 0; sym < codes; sym++) {\n    count[lens[lens_index + sym]]++;\n  }\n\n  /* bound code lengths, force root to be within code lengths */\n  root = bits;\n  for (max = MAXBITS; max >= 1; max--) {\n    if (count[max] !== 0) { break; }\n  }\n  if (root > max) {\n    root = max;\n  }\n  if (max === 0) {                     /* no symbols to code at all */\n    //table.op[opts.table_index] = 64;  //here.op = (var char)64;    /* invalid code marker */\n    //table.bits[opts.table_index] = 1;   //here.bits = (var char)1;\n    //table.val[opts.table_index++] = 0;   //here.val = (var short)0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n\n    //table.op[opts.table_index] = 64;\n    //table.bits[opts.table_index] = 1;\n    //table.val[opts.table_index++] = 0;\n    table[table_index++] = (1 << 24) | (64 << 16) | 0;\n\n    opts.bits = 1;\n    return 0;     /* no symbols, but wait for decoding to report error */\n  }\n  for (min = 1; min < max; min++) {\n    if (count[min] !== 0) { break; }\n  }\n  if (root < min) {\n    root = min;\n  }\n\n  /* check for an over-subscribed or incomplete set of lengths */\n  left = 1;\n  for (len = 1; len <= MAXBITS; len++) {\n    left <<= 1;\n    left -= count[len];\n    if (left < 0) {\n      return -1;\n    }        /* over-subscribed */\n  }\n  if (left > 0 && (type === CODES || max !== 1)) {\n    return -1;                      /* incomplete set */\n  }\n\n  /* generate offsets into symbol table for each length for sorting */\n  offs[1] = 0;\n  for (len = 1; len < MAXBITS; len++) {\n    offs[len + 1] = offs[len] + count[len];\n  }\n\n  /* sort symbols by length, by symbol order within each length */\n  for (sym = 0; sym < codes; sym++) {\n    if (lens[lens_index + sym] !== 0) {\n      work[offs[lens[lens_index + sym]]++] = sym;\n    }\n  }\n\n  /*\n   Create and fill in decoding tables.  In this loop, the table being\n   filled is at next and has curr index bits.  The code being used is huff\n   with length len.  That code is converted to an index by dropping drop\n   bits off of the bottom.  For codes where len is less than drop + curr,\n   those top drop + curr - len bits are incremented through all values to\n   fill the table with replicated entries.\n\n   root is the number of index bits for the root table.  When len exceeds\n   root, sub-tables are created pointed to by the root entry with an index\n   of the low root bits of huff.  This is saved in low to check for when a\n   new sub-table should be started.  drop is zero when the root table is\n   being filled, and drop is root when sub-tables are being filled.\n\n   When a new sub-table is needed, it is necessary to look ahead in the\n   code lengths to determine what size sub-table is needed.  The length\n   counts are used for this, and so count[] is decremented as codes are\n   entered in the tables.\n\n   used keeps track of how many table entries have been allocated from the\n   provided *table space.  It is checked for LENS and DIST tables against\n   the constants ENOUGH_LENS and ENOUGH_DISTS to guard against changes in\n   the initial root table size constants.  See the comments in inftrees.h\n   for more information.\n\n   sym increments through all symbols, and the loop terminates when\n   all codes of length max, i.e. all codes, have been processed.  This\n   routine permits incomplete codes, so another loop after this one fills\n   in the rest of the decoding tables with invalid code markers.\n   */\n\n  /* set up for code type */\n  // poor man optimization - use if-else instead of switch,\n  // to avoid deopts in old v8\n  if (type === CODES) {\n    base = extra = work;    /* dummy value--not used */\n    end = 19;\n\n  } else if (type === LENS) {\n    base = lbase;\n    base_index -= 257;\n    extra = lext;\n    extra_index -= 257;\n    end = 256;\n\n  } else {                    /* DISTS */\n    base = dbase;\n    extra = dext;\n    end = -1;\n  }\n\n  /* initialize opts for loop */\n  huff = 0;                   /* starting code */\n  sym = 0;                    /* starting code symbol */\n  len = min;                  /* starting code length */\n  next = table_index;              /* current table to fill in */\n  curr = root;                /* current table index bits */\n  drop = 0;                   /* current bits to drop from code for index */\n  low = -1;                   /* trigger new sub-table when len > root */\n  used = 1 << root;          /* use root table entries */\n  mask = used - 1;            /* mask for comparing low */\n\n  /* check available table space */\n  if ((type === LENS && used > ENOUGH_LENS) ||\n    (type === DISTS && used > ENOUGH_DISTS)) {\n    return 1;\n  }\n\n  /* process all codes and make table entries */\n  for (;;) {\n    /* create table entry */\n    here_bits = len - drop;\n    if (work[sym] < end) {\n      here_op = 0;\n      here_val = work[sym];\n    }\n    else if (work[sym] > end) {\n      here_op = extra[extra_index + work[sym]];\n      here_val = base[base_index + work[sym]];\n    }\n    else {\n      here_op = 32 + 64;         /* end of block */\n      here_val = 0;\n    }\n\n    /* replicate for those indices with low len bits equal to huff */\n    incr = 1 << (len - drop);\n    fill = 1 << curr;\n    min = fill;                 /* save offset to next table */\n    do {\n      fill -= incr;\n      table[next + (huff >> drop) + fill] = (here_bits << 24) | (here_op << 16) | here_val |0;\n    } while (fill !== 0);\n\n    /* backwards increment the len-bit code huff */\n    incr = 1 << (len - 1);\n    while (huff & incr) {\n      incr >>= 1;\n    }\n    if (incr !== 0) {\n      huff &= incr - 1;\n      huff += incr;\n    } else {\n      huff = 0;\n    }\n\n    /* go to next symbol, update count, len */\n    sym++;\n    if (--count[len] === 0) {\n      if (len === max) { break; }\n      len = lens[lens_index + work[sym]];\n    }\n\n    /* create new sub-table if needed */\n    if (len > root && (huff & mask) !== low) {\n      /* if first time, transition to sub-tables */\n      if (drop === 0) {\n        drop = root;\n      }\n\n      /* increment past last table */\n      next += min;            /* here min is 1 << curr */\n\n      /* determine length of next table */\n      curr = len - drop;\n      left = 1 << curr;\n      while (curr + drop < max) {\n        left -= count[curr + drop];\n        if (left <= 0) { break; }\n        curr++;\n        left <<= 1;\n      }\n\n      /* check for enough space */\n      used += 1 << curr;\n      if ((type === LENS && used > ENOUGH_LENS) ||\n        (type === DISTS && used > ENOUGH_DISTS)) {\n        return 1;\n      }\n\n      /* point entry in root table to sub-table */\n      low = huff & mask;\n      /*table.op[low] = curr;\n      table.bits[low] = root;\n      table.val[low] = next - opts.table_index;*/\n      table[low] = (root << 24) | (curr << 16) | (next - table_index) |0;\n    }\n  }\n\n  /* fill in remaining table entry if code is incomplete (guaranteed to have\n   at most one remaining entry, since if the code is incomplete, the\n   maximum code length that was allowed to get this far is one bit) */\n  if (huff !== 0) {\n    //table.op[next + huff] = 64;            /* invalid code marker */\n    //table.bits[next + huff] = len - drop;\n    //table.val[next + huff] = 0;\n    table[next + huff] = ((len - drop) << 24) | (64 << 16) |0;\n  }\n\n  /* set return parameters */\n  //opts.table_index += used;\n  opts.bits = root;\n  return 0;\n};\n","'use strict';\n\n// (C) 1995-2013 Jean-loup Gailly and Mark Adler\n// (C) 2014-2017 Vitaly Puzrin and Andrey Tupitsin\n//\n// This software is provided 'as-is', without any express or implied\n// warranty. In no event will the authors be held liable for any damages\n// arising from the use of this software.\n//\n// Permission is granted to anyone to use this software for any purpose,\n// including commercial applications, and to alter it and redistribute it\n// freely, subject to the following restrictions:\n//\n// 1. The origin of this software must not be misrepresented; you must not\n//   claim that you wrote the original software. If you use this software\n//   in a product, an acknowledgment in the product documentation would be\n//   appreciated but is not required.\n// 2. Altered source versions must be plainly marked as such, and must not be\n//   misrepresented as being the original software.\n// 3. This notice may not be removed or altered from any source distribution.\n\nfunction GZheader() {\n  /* true if compressed data believed to be text */\n  this.text       = 0;\n  /* modification time */\n  this.time       = 0;\n  /* extra flags (not used when writing a gzip file) */\n  this.xflags     = 0;\n  /* operating system */\n  this.os         = 0;\n  /* pointer to extra field or Z_NULL if none */\n  this.extra      = null;\n  /* extra field length (valid if extra != Z_NULL) */\n  this.extra_len  = 0; // Actually, we don't need it in JS,\n                       // but leave for few code modifications\n\n  //\n  // Setup limits is not necessary because in js we should not preallocate memory\n  // for inflate use constant limit in 65536 bytes\n  //\n\n  /* space at extra (only when reading header) */\n  // this.extra_max  = 0;\n  /* pointer to zero-terminated file name or Z_NULL */\n  this.name       = '';\n  /* space at name (only when reading header) */\n  // this.name_max   = 0;\n  /* pointer to zero-terminated comment or Z_NULL */\n  this.comment    = '';\n  /* space at comment (only when reading header) */\n  // this.comm_max   = 0;\n  /* true if there was or will be a header crc */\n  this.hcrc       = 0;\n  /* true when done reading gzip header (not used when writing a gzip file) */\n  this.done       = false;\n}\n\nmodule.exports = GZheader;\n","var map = {\n\t\"./drawtarget.png\": 170,\n\t\"./drawtarget2.png\": 171,\n\t\"./intersect.png\": 172,\n\t\"./subtract.png\": 173,\n\t\"./union.png\": 174\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) { // check for number or string\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn id;\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 169;","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAl5JREFUWMPtl6uOYkEQhrsn+wBIBAKJRCIQCBIEFoFEIBD7AAhGM56RvAGCEIIjgQQSBLwFCBy8QS9/ZarT13N6mE3IJltJhxy+7qr/9KWqj1RKiVfam3ixvVzAr4Q+P10j+awACnw6ncRisRDr9VpcLhdqpVKJ2mQyibJmsylarZao1+sqUwg2YaCpzWajGo2G+hJitSzmtlqtRv0Ns2IFgw+HQ+2gWCzS8263U+fzOZfh93A4qNFoRJz7gqUIUJ1ORw/qdrvqdrtp6S4Tn4par9fT/6MPG8ZGWFCAfrtCoaBms5k5bRbjwG7jNx4MBtbY5XIZYpYAWidWagT3WCy4bl/9ENT0gWeH2QJ4U2FqnWmyWJ4AnvJqter5CTECx+NRbypjzT2W+/bOUhi7X/CecBllQpxl2EOheKyxdWZNlmrcd7VaWQkJvl1GApBIYO1223PG7KM0ThbAfff7vcc4BjMSgAwGK5fL3gBmz1hoLMdgJrEOUkqdFZ2Uqdljbb8X/Xe+TzCaAeRuQ5UVidkzFhir+M2ZWQKu12uKk58IECEBEpXL3PGmMRtd35MDc99HJfQY735mEKBQNmHT6VTc73drgMlSjfvyWDb49hgnCZRNPCJbmckDvybLS0L9fp/6VioVLxOGWLAWuHn8b9SCgP94NUS6dB2Y7LvVEMHzqqEI1XxMuVkbXOZOe+g+EGHxCwkMKmO3njwWuxG5b555JYPN53Mqm6F7XhZzGzacs5xWkxlfRgS22y2dXRQP9+Y7Ho+jDOccR43zSOxWLBM+zV72XZDk4P+34T8v4A9Un6ysqt6SOQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAmBJREFUWMPtV62OIkEQnr7sAyARCCQSiUAgSBBYBBJBLohzaxCc5jz7FghCCAoSSCBBwFuAwPEIvXx1VKenu2umdzcXcslWUuHnq6n6uru6qkZprZNnyo/kyfJ0Ai8RNl89I/VZAhT4dDol8/k8Wa/XyeVyIS2VSqSTyUTEms1m0mq1knq9rjOJIAkDqjebjW40GvpBJK1vWsYcrdVq5MuSVKxg8OFwaBwUi8W/v+9BoSFst9vp8/lM3/F5OBz0aDQinG2BxRDQnU7HPNTtdk1gqIvdbjfSXq9n/ocNSwYWJGBWVygUUoHtlQObTqfalcViYVY8GAxisBQBOif7jD19YFZwb/cQiO3w3bILYWkCnFTuttsJB0wIbvzwllerVdc2iBFwPB5NUkmrB4YzzSMAG95uK/tFjCoh7jLkztC7pqPrb4Pdzz+vsCjYsJ/lcpmLEQEUEsif0tjzyFi73Y4ufWy73+9zMSKACiYJY+VyOZoA24b8upjCOSj12NW3QNn/pUzFzKvrdoFln4HnUhjtAGq3JIw9GMc0Js2rC/j1sGgC1+s1+ggyCCQhAgqdy854WxjjmxIjnOH3TpiPIQfQTP5FHVitVin7EGYeRNukhvHz1SPAGCpZHoF+v0+2lUrFq4Qh7MO9wKnx3gwh9YIAJnfD0FHYmOXcCAJI3VDAfALuPEDNQ5gHgPE8wFsbmgcETB5IIGApTUQhjCciYNJE5K48cySDzGYzapvSTChijiLhMvKGSnHmVLzdbunuonm4k+94PBYx3HNMxVxHpDKuIl7NnvZeEOXg+93wvyfwDtK7/zuOF2QYAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IDN8dNUwAAAAlwSFlzAAAOwgAADsIBFShKgAAAAkFJREFUWMPtl79rwkAUx+9K/wDHFPwDHO0gOCgoCC6OgTpasODQ0VKHZBAK6a5j/4SCiDgp6ODoUArdOwjNf3G9dybp5XLvElpoLPQLD20/9+PleffeC2WMkTx1RnJW7g6cZxjz09+IftcBsfF+vyfz+Zys12tyOByEFYtFYZPJBGWtVou0221Sq9WY0RE4hBpjm82GNRoNFjgStynDmWLValWsJSm2l3bz0WgULWBZ1vFvvilYKgu+O44jeDgWWBYHmG3b0aRutxstCIaxXq8X/V+MkeaoTHVC++SFQiG2iPzkOhZa+MSDwcDIZCdokIjYdrslzWbzeDCmmoN/S3GWdVzAFosF6XQ6NJYHxuOx+OShTcxrPDdRpoqHXHyWny5R5rpudMsgAgyuWqVSITxMxHc+tJ6jTCPr4YL4vq+NQsj4zSD8Jh0jAHdZ9lCW47soS4vC8P0OZcvl8isVQyIBPRa9xAQTwxSO3e12qUw4ABkMk4mlKcu6p+EA5G5MJpamLOuehAMUKpd84mWZGKZwLK+EqUzkATiR9Xr9V/PAarUSDyciAN7wsimA/TpMTApZb3+dunn/5UaMLZVKCXb1dh+xILL0ZGoBhbTIK14UJlUmJocXxCuekfHNj5tSGi/Haj8gajnSD8is3++j/YDKTP1A5ISo50jXk8qQjkjtA4wtGWg2m7FyuYz2hChTjB84xn9z7eZyQ4J2xXA4oXLBVVU7X8/zUAY3C7riMI9gXTHN8GqW23tBpgX+3w3/vAOflUPr2Hvmww8AAAAASUVORK5CYII=\"","/**\n * Created by baldur on 12/9/15.\n * renamed and ported to ES6 8/8/2017\n */\n\n/**\n * @classdesc\n * This provides a central point to access the loaded Plot Data\n * including per-point meta-data (i.e. data other than the x-y coords)\n * that is associated with each plot\n *\n * One of the main functions of the class is to separate plot versus\n * plot group (as defined by selectionOut id) properties.\n * Each plot may have individual properties. Groups of plots (defined\n * by the same selectionOut id ) have common selection properties.\n * Users enter selection do this via the selection properties,\n * mouse interactions on the plot use the plot properties.\n */\nconst uuid4 = require('uuid/v4');\nexport default class PlotDataModel {\n    constructor() {\n        \"use strict\";\n        this.layoutDef = undefined;\n        this.props = {}; // meta-data indexed by plot id\n        this.plotDefs = {}; // plot definition indexed by plot id\n        this.selectionDefs = {}; //indexed by selectionId\n        this.selectionPropKeys = {}; // indexed by selectionOut id\n        this.selectionProps = {}; // indexed by selectionOut id\n        this.dataCache = new ReScatter.data.DataCache();\n    }\n\n    /**\n     * Selections (mouse-over, drawn etc) in a tSNE plot choose rows or columns in the\n     * underlying data. While this information is implicitly encoded in the (plot-specific) mapping functions\n     * it needs to be recorded for generating new tSNE plots based on sub-selections.\n     * @readonly\n     * @enum {number}\n     */\n    static get axis() { return {\n        // undefined: the selection dataPoints are passed to the values param\n        ROW: 0, /** @property {number}  ROW - the selection number is a zero-indexed row number */\n        COL: 1, /** @property {number}  ROW - the selection number is a zero-indexed column number */\n    };}\n\n    // The data model for storing data properties\n    // comprises ordered an id to identify the property set.\n    // The props are an ordered array of dicts containing the values\n    // associated with that index.\n\n    // Note that data props are indexed using the selectionOut id.\n    // Identical selections will have identical properties\n    /**\n     * Asynchronously load the data associated with the layoutDef into the\n     * cache and call the callback\n     * @param layoutDef - the layout configuration\n     * @param {function(Array, Array  Array, Array)} callback\n     *  the callback for success, received lists of the files loaded and\n     *  an index into the pointFiles for the plots in the layout\n     *  pointFiles, propFiles, renderPlotIndexes, ontFiles\n     */\n    loadLayoutDefData (layoutDef, callback) {\n        \"use strict\";\n        this.layoutDef = layoutDef;\n        let pointFiles = [];\n        let propFiles = [];\n        let renderPlotIndexes = [];\n        let ontFiles = [];\n\n        let pathAndTypeList = [];\n        // space layouts have no data and are marked as such by a -1 data index\n        for (let plotDef of layoutDef.plots) {\n            if (!ReScatter.layoutManager.isSpaceLayout(plotDef)) {\n                pointFiles.push(plotDef.data.points);\n                pathAndTypeList.push({path: plotDef.data.points, type: 'json'});\n                propFiles.push(plotDef.data.props);\n                pathAndTypeList.push({path: plotDef.data.props, type: 'json'});\n                renderPlotIndexes.push(pointFiles.length - 1);\n            } else {\n                renderPlotIndexes.push(-1);\n            }\n        }\n        if (layoutDef.ontologies) {\n            for (let ont of layoutDef.ontologies) {\n                ontFiles.push(ont.ontology_file);\n                pathAndTypeList.push({path: ont.ontology_file, type: 'json'});\n            }\n        }\n        this.dataCache.loadFiles(pathAndTypeList, function() {\n            callback(pointFiles, propFiles, renderPlotIndexes, ontFiles)\n        });\n    }\n\n    putDataProps (plotDef, props) {\n        this.props[plotDef.id] = props;\n        this.plotDefs[plotDef.id] = plotDef;\n        this.selectionProps[plotDef.selections.selectionOut] = props;\n        this.selectionPropKeys[plotDef.selections.selectionOut] = Object.keys(props);\n        this.selectionDefs[plotDef.selections.selectionOut] = plotDef;\n    }\n\n    getSelectionPropAtIndex (id, index, propName, defaultValue) {\n        \"use strict\";\n        let props = this.selectionProps[id];\n        if (props === undefined) {\n            return defaultValue;\n        }\n        return props[propName][index];\n    }\n\n    getUniqueSelectionPropValues (id, prop) {\n        let props = this.selectionProps[id];\n        let values = props[prop];\n        return values.filter(function(value, index, self) {\n            return self.indexOf(value) === index;\n        });\n    }\n\n    getSelectionPrimaryProp (id) {\n        return this.selectionDefs[id].format.primary;\n    }\n\n    getAllSelectionPropsAtIndex (id, index) {\n        \"use strict\";\n        let allProps = {};\n        let propKeys = this.selectionPropKeys[id];\n        propKeys.forEach(function(key) {\n            allProps[key] = this.selectionProps[id][key][index];\n        }, this);\n        return allProps;\n    }\n\n    getSelectionPropKeys (id) {\n        \"use strict\";\n        return Object.keys(this.selectionProps[id]);\n    }\n\n    // Reverse lookup points based on prop values\n    getSelectionIndexes (selectionId, propName, propVal, caseInsensitive) {\n        let props = this.selectionProps[selectionId];\n        let ci = caseInsensitive ? true: false;\n        let indexes = [];\n        let test = String(propVal).toUpperCase();\n        // could save an uppercase copy on first uppercase usage for speed.\n        props[propName].forEach(function(val, index) {\n            if (ci) {\n                if ((String(val).toUpperCase() === test)) {\n                    indexes.push(index);\n                }\n            } else if (val === propVal) {\n                indexes.push(index);\n            }\n        });\n\n        return indexes;\n    }\n\n    // As above but for cases where only one index is expected and no case check\n    getSelectionIndex (selectionId, propName, propVal) {\n        let props = this.selectionProps[selectionId];\n        let indexes = [];\n        let test = typeof(props[propName][0]) === \"number\" ? parseInt(propVal): propVal;\n        let index = props[propName].indexOf(test);\n        if (index > 0) {\n            indexes.push(index);\n        }\n        return indexes;\n    }\n\n    destroy () {\n        this.props = {}; // indexed by plot id\n        this.plotDefs = {}; // indexed by plot id\n        this.selectionDefs = {}; //indexed byy selectionId\n        this.selectionPropKeys = {}; // indexed by selectionOut id\n        this.selectionProps = {}; // indexed by selectionOut id\n        this.dataCache = undefined;\n    }\n\n    /**\n     * Get a sub-selection of the properties for the given plot key. The indices are\n     * simple indexes into the prop arrays. Returns an object containing the props.\n     * @param plotId - the plot id\n     * @param selectionId - if the selectionId matches the plot selectionOut then a subset is returned\n     *                      otherwise the complete set of props.\n     * @param selectionIndices - indices to choose - only if the selectionOutKey matches\n     */\n    getPlotPropSubSelection(plotId, selectionId, selectionIndices) {\n        \"use strict\";\n        let props = this.props[plotId];\n        let plotDef = this.plotDefs[plotId];\n        // If the selection is not target at this plot return all props\n        if (plotDef.selections.selectionOut !== selectionId) {\n            return {voxel_props: props};\n        }\n        // otherwise get the subselection.\n        let subProps = {};\n        // for-of actually ES6 but is already in all main browsers\n        for (let k of Object.keys(props)) {\n            subProps[k] = [];\n            selectionIndices.forEach(function(v) {\n                subProps[k].push(props[k][v]);\n            })\n\n        }\n        return {voxel_props: subProps};\n    }\n\n    /**\n     *\n     * @param selectionId - the selection used to subset. If it matches a predefinedSelection target id\n     *  then we need a subselection. Otherwise the selection indices are used to create a\n     *  subset of the original selection that is pushed into the cache.\n     * @param selectionIndices - the selected indices into the data.\n     * @param {function(Array)} callback - is called with an array of predefined selections\n     * @param errorCallback\n     */\n    getPredefinedSelectionsSubSelection(selectionId, selectionIndices, callback, errorCallback) {\n        \"use strict\";\n        // the null case - no predefines\n        if (!this.layoutDef.predefinedSelections) {\n            callback(undefined);\n        }\n        let predefinedSubselectionsConfig = [];\n        let pathAndTypeList = [];\n        let replaceIndexes = [];\n        let index = 0;\n        for (let selection of this.layoutDef.predefinedSelections) {\n            // Perform a lightweight clone of the predefined selection\n            // section in the plot config.\n            // If the targetId of the predefinedSelection in the layout configuration\n            // matches the selection then a sub selection needs to be performed.\n            predefinedSubselectionsConfig.push(JSON.parse(JSON.stringify(selection)));\n            if (selectionId === selection.targetId) {\n                pathAndTypeList.push({path: selection.preselect, type: 'json'});\n                replaceIndexes.push(index);\n            }\n            index++;\n        }\n        if (pathAndTypeList.length === 0) {\n            callback(predefinedSubselectionsConfig);\n        }\n        let self = this;\n        // Based on the selection indices redo the subselections and push\n        // them into the cache\n        let remakeSubselections = function() {\n            pathAndTypeList.forEach(function(pathAndType, subIndex) {\n                let newPredefSelections = [];\n                // Predefined selections are an array\n                let predefSelections = self.dataCache.getFromCache(pathAndType.path);\n                // TODO - fix this is a bug they should always be json\n                if (typeof(predefSelections) === 'string') {\n                    predefSelections = JSON.parse(predefSelections);\n                }\n                for (let predefSelection of predefSelections) {\n                    // Each array member will be subselected others will be\n                    // cloned\n                    let newSelection = {};\n                    let selectionKeys = Object.keys(predefSelection);\n                    let arrayTypeKeys = []; // except dataPoints key\n                    for (let key of selectionKeys) {\n                        if (predefSelection[key] instanceof Array) {\n                            if (key !== 'dataPoints') {\n                                arrayTypeKeys.push(key);\n                            }\n                            newSelection[key] = [];\n                        } else {\n                            newSelection[key] = JSON.parse(JSON.stringify(predefSelection[key]))\n                        }\n                    }\n                    // The index key in the predefined selection is called dataPoints\n                    selectionIndices.forEach(function (val, index) {\n                        let indexInPredef = predefSelection.dataPoints.indexOf(val);\n                        if (indexInPredef !== -1) {\n                            newSelection.dataPoints.push(index);\n                            for (let otherArrayKey of arrayTypeKeys) {\n                                newSelection[otherArrayKey].push(predefSelection[otherArrayKey][indexInPredef]);\n                            }\n                        }\n\n                    });\n                    // if the selection is empty don't record it\n                    if (newSelection.dataPoints.length > 0) {\n                        newPredefSelections.push(newSelection)\n                    }\n                }\n                let replaceIx = replaceIndexes[subIndex];\n                let dataName = uuid4();\n                this.dataCache.insertInCache(newPredefSelections, dataName, true);\n                predefinedSubselectionsConfig[replaceIx]['preselect'] = dataName;\n            }, self);\n            callback(predefinedSubselectionsConfig);\n        };\n        this.dataCache.loadFiles(pathAndTypeList, remakeSubselections);\n\n    }\n};\n","import * as protocol from 'protoduck';\n\n/**\n * A choropleth (or thematic map) coomprises a base map\n * with regions that may be colored to represent data values correcponding\n * to the regions. This protocol represents the minimum requirements\n * for a dynamically recolorable choropleth view component.\n */\nconst ChoroplethProtocol = protocol.define(['colorMap'], {\n    onPlethResize: [], // do whatever is needed to refresh the view on resize\n    loadPleth: [], // load the choropleth base images\n    clearPlethColors: [], // clear all region colors\n    savePlethColors: [], // save the current region colors for later restore\n    restorePlethColors: [], // restore the saved region colors\n    setPlethColorsFromMap: ['colorMap'], // a map of region ids to RGB or CSS colors\n});\n\nexport default ChoroplethProtocol;\n","import * as protocol from 'protoduck';\n\n/**\n * A plot is a display of point data that can be loacated in the ReScatter grid.\n * The basic interface is minimal comprising loading of the points\n * and handling the resize event\n */\nconst PlotProtocol = protocol.define(['points', 'props', 'plotProps', 'resizeEvent'], {\n    loadPlotData: ['points', 'props', 'plotProps'], // do whatever is needed to refresh the view on resize\n    onResize: ['resizeEvent'], // load the choropleth base images\n});\n\nexport default PlotProtocol;\n","/**\n * Created by bvanlew on 9-6-17.\n */\n/**\n * Created by bvanlew on 27/03/2017.\n * Monitor running tSNE (or other dimensionality reduction jobs)\n * Each monitor can track one or more job groups from and algorithm\n *\n */\n\n//<Class for JobMonitor >\nexport default class JobMonitor\n{\n    constructor(algorithmName) {\n        this.pubsubid = \"JOBMONITOR_\" + Date.now() ;\n        this.algorithmName = algorithmName;\n        // objects keyed by the jobGroup.pubsubTopic of each job group\n        this.jobGroups = {};\n        this.statuses = {};\n        this.progressData = {};\n        this.jsonStatuses = [];\n    }\n\n    get monitoredAlgorithm() {\n        return this.algorithmName;\n    }\n\n    _updateModel(jobId){\n        this.jsonStatuses = [];\n        for (let key of Object.keys(this.statuses)) {\n            let statusObj = {};\n            statusObj.jobid = key;\n            statusObj.createtime = this.jobGroups[key].createdtime.toLocaleString();\n            statusObj.status = this.statuses[key].status;\n            statusObj.progress = '' + this.jobGroups[key].jobsdone + ' of ' + this.jobGroups[key].numSubJobs;\n            statusObj.delete = '';\n            this.jsonStatuses.push(statusObj);\n        }\n        PubSub.publish(this.pubsubid, {jobId: jobId}); // send the jobGroup.pubsubTopic\n    }\n\n    getProgressData(jobGroupId) {\n        return this.progressData[jobGroupId];\n    }\n\n    /**\n     * Add a new job group to the monitor. By default it is started\n     * @param jobGroup - the job group\n     * @param startJob - defaults to true\n     */\n    addJobGroup(jobGroup, startJob) {\n        let autoStart = startJob || true;\n        // add the initialize jobGroup and start it\n        this.jobGroups[jobGroup.pubsubTopic] = jobGroup;\n        this.statuses[jobGroup.pubsubTopic] = {status: jobGroup.status, jobsDone: jobGroup.numComplete};\n        const progressData = {};\n        for (let subJobId of jobGroup.jobIds) {\n            progressData[subJobId] = null;\n        }\n        this.progressData[jobGroup.pubsubTopic] = progressData;\n        let jobId = jobGroup.pubsubTopic;\n        this._updateModel(jobId);\n        PubSub.subscribe(jobId, (msg,data) => {this.jobCallback(msg, data, jobId);});\n        if (autoStart) {\n            jobGroup.start();\n        }\n    }\n\n    /**\n     * Return the job group corresponding to the key\n     * @param key\n     * @returns {*}\n     */\n    getJobGroup(key) {\n        return this.jobGroups[key];\n    }\n\n    /**\n     * Callback for an update to the jobGroup progress.\n     * @param msg - jobGroup identifier\n     * @param data - status data\n     * @param jobId - the subjob id\n     */\n    jobCallback(msg, data, jobId) {\n        this.statuses[msg] = data;\n        if (data.status = DimRS.JobGroup.JobStatus.PROGRESS) {\n            this.progressData[msg][data.jobId] = data.progressData;\n        }\n        this._updateModel(jobId);\n    }\n\n    cancelJob(jobId) {\n        PubSub.unsubscribe(jobId);\n        this.jobGroups[jobId].cancel();\n        delete this.statuses[jobId];\n        this._updateModel(jobId);\n    }\n\n    /** Returns a thenable that will retrieve all the results of all subjobs**/\n    getResultClient(jobid) {\n        return this.jobGroups[jobid].get_result();\n    }\n\n}\n\n","import JobMonitor from \"./JobMonitor\";\nimport PlotDataModel from \"../data/PlotDataModel\";\nconst nrrdjs = require('nrrd-js');\nconst ndarray = require('ndarray');\nconst scratch = require('ndarray-scratch');\n\n/**\n * A plugin for a Dimensionality Reduction (DimRS) backend server tsne calculation\n * Actual job submission is done using the DimRS.JobGroup class\n */\nexport default class TsnePlugin {\n    constructor() {\n        let server_url = ReScatter.dimres_url;\n        this.jobGroup = new DimRS.JobGroup(server_url);\n        this.jobMonitor = new JobMonitor(TsnePlugin.getAlgorithmName());\n    }\n\n    /**\n     * Return a string name for the algorithm that can be used\n     * to uniquely the algorithm in the configuration and\n     * in the title of the generated data.\n     * @returns {string}\n     */\n    static getAlgorithmName() {\n        return 'Approximated-tSNE (server)';\n    }\n    /**\n     * Add data to calculate to the job group along with the\n     * calculation parametersfor the tSNE algorithm\n     * @param dataBuffer - the data to perform tSNE on - a scijs ndarray\n     * @param calculation - tsne calculation parameters:\n     *      calculation:{parameters: {tsne: {perplexity: }}}\n     * @return a unique key for the calculation\n     */\n    addJob(dataBuffer, calculation, id) {\n        let calculationAxis = calculation.calcAxis; //axis for dimensionality reduction\n        // nrrd shorts are defined as the interface for data to the server backend\n        let nrrdBuffer;\n        // The scijs transpose only changes stride information. We need really transposed\n        // data in memory for the calculation.\n        if (calculationAxis === PlotDataModel.axis.COL) {\n            dataBuffer = dataBuffer.transpose(1,0);\n            let reallyTransposedData = scratch.clone(dataBuffer);\n            nrrdBuffer = nrrdjs.serialize({data: reallyTransposedData.data, sizes: reallyTransposedData.shape.slice().reverse()});\n            scratch.free(reallyTransposedData);\n        } else {\n            nrrdBuffer = nrrdjs.serialize({data: dataBuffer.data, sizes: dataBuffer.shape.slice().reverse()});\n        }\n        let tsne_params = DimRS.JobGroup.default_tsne_params;\n        // For Small numbers of points a large perplexity (default is 30)\n        // makes no sense we use a value that is about 1/4 the number of points with\n        // a lower limit of 2. In fact tsne for small numbers of points is not advisable\n        if (dataBuffer.shape[1] < 100) {\n            let perplexity = Math.ceil(dataBuffer.shape[1]/4) < 2 ? 2: Math.ceil(dataBuffer.shape[1]/4);\n            console.log('Reducing perplexity to: ' + perplexity + ' for ' + dataBuffer.shape[1] + ' points in plot: ' + id);\n            tsne_params.perplexity = perplexity;\n        }\n        if (calculation.parameters && calculation.parameters.algorithmParams) {\n            if (calculation.parameters.algorithmParams.perplexity) {\n                tsne_params.perplexity = calculation.parameters.tsne.perplexity;\n            }\n        }\n        console.log(`Added job, shape ${dataBuffer.shape}, perplexity: ${tsne_params.perplexity}`)\n        // var debugArray = new Uint8Array(nrrdBuffer);\n        // save the data in the cache for the new layout that will be created\n        let dataKey = this.getJobDataKey(calculation.data);\n        this.jobGroup.addJob(nrrdBuffer, DimRS.JobGroup.JobType.ATSNE, id, tsne_params);\n        return dataKey;\n    }\n\n    getJobDataKey(dataSuffix) {\n        return this.jobGroup.pubsubid + '_dataMap_' + dataSuffix;\n    }\n\n    start(resultCallback, failCallback) {\n        // The server returns the paits of result id and\n        // tsne coordinates in an nrrd format\n        // e.g.\n        // [[id0, nrrd0], [id1, nrrd1], ...]\n        // Unpack the nrrds to the ReScatter JSON format for plots before\n        // returning.\n        let unpackCallback = (results) =>{\n            let coordinates = [];\n            for (let result of results) {\n                //Unpack the result plot to the usual JSON format:\n                let resultNrrd = nrrdjs.parse(result[1]);\n                let resultArray = ndarray(resultNrrd.data, resultNrrd.sizes.slice().reverse());\n                let resultObject = {'dims': 2, 'points': []};\n                let numPoints = resultArray.shape[1];\n                for (let j = 0; j < numPoints; j++) {\n                    resultObject.points.push([resultArray.get(0,j), resultArray.get(1,j)]);\n                }\n                coordinates.push([result[0], resultObject]);\n            }\n            resultCallback(coordinates);\n        };\n        let jobCallback = (msg, data) => {\n            console.log('job: ' + msg + ' status: ' + data.status);\n            if (data.status === \"success\") {\n                let client = this.jobMonitor.getResultClient(msg);\n                client.then(unpackCallback, failCallback);\n            }\n        }\n        PubSub.subscribe(this.jobGroup.pubsubid, function(msg,data) {\n            jobCallback(msg, data);\n        });\n        if (this.jobGroup.jobs.length > 0) {\n            this.jobMonitor.addJobGroup(this.jobGroup); // autostarts the job\n        }\n    }\n}\n","/**\n * Created by baldur on 6/2/2018.\n */\nimport ChoroplethProtocol from '../../protocols/ChoroplethProtocol';\nimport PlotProtocol from '../../protocols/PlotProtocol';\nimport TsnePlugin from \"../../jobs/TsnePlugin\";\n/**\n * PluginFactory is a set of register/create static commands for\n * adding user defined overrides\n */\n\nconst PluginFactory = {\n\n    _choroplethTypeMap: new Map(),  // user defined choropleth widget plugins\n    _plotTypeMap: new Map(),        // user defined plot widget plugins\n    _widgetTypeMap: new Map(),      // user defined layout widget plugins\n    _jobTypeMap: new Map(),         // user defined layout widget plugins\n    _preprocessTypeMap: new Map(),  // user defined data preprocessing for jobs\n\n    /**\n     *\n     * @param name\n     */\n    registerChoroplethType(name, classdef) {\n        if (!ChoroplethProtocol.hasImpl(classdef)) {\n            alert('Choropleth plugin must implement the ChoroplethProtocol! ' + name);\n            return;\n        }\n        if (!PluginFactory._choroplethTypeMap.has(name)){\n            PluginFactory._choroplethTypeMap.set(name, classdef);\n        }\n    },\n\n    createChoroplethType(name, ...params) {\n        if (PluginFactory._choroplethTypeMap.has(name)) {\n            let classdef = PluginFactory._choroplethTypeMap.get(name);\n            let object = new classdef(...params);\n            return object;\n        }\n        console.error(\"The choropleth plugin class: \" + name + \" is not reqistered\");\n        return null;\n    },\n\n    registerPlotType(name, classdef) {\n        if (!PlotProtocol.hasImpl(classdef)) {\n            alert('Plot plugin must implement the PlotProtocol! ' + name);\n            return;\n        }\n        if (!PluginFactory._plotTypeMap.has(name)){\n            PluginFactory._plotTypeMap.set(name, classdef);\n        }\n    },\n\n    createPlotType(name, ...params) {\n        if (PluginFactory._plotTypeMap.has(name)) {\n            let classdef = PluginFactory._plotTypeMap.get(name);\n            let object = new classdef(...params);\n            return object;\n        }\n        console.error(\"The plot plugin class: \" + name + \" is not reqistered\");\n        return null;\n    },\n\n    registerWidgetType(name, classdef) {\n        if (!PluginFactory._widgetTypeMap.has(name)){\n            PluginFactory._widgetTypeMap.set(name, classdef);\n        }\n    },\n\n    createWidgetType(name, ...params) {\n        if (PluginFactory._widgetTypeMap.has(name)) {\n            let classdef = PluginFactory._widgetTypeMap.get(name);\n            let object = new classdef(...params);\n            return object;\n        }\n        console.error(\"The widget plugin class: \" + name + \" is not reqistered\");\n        return null;\n    },\n\n    // Data jobs are included in the selection menu\n    registerDataJobType(name, classdef) {\n        if (!PluginFactory._jobTypeMap.has(name)){\n            PluginFactory._jobTypeMap.set(name, classdef);\n            let selectionContextMenu = new ReScatter.widget.SelectionContextMenu();\n            selectionContextMenu.registerGenerateDataPlugin(name);\n        }\n    },\n\n    createDataJobType(name, ...params) {\n        if (PluginFactory._jobTypeMap.has(name)) {\n            let classdef = PluginFactory._jobTypeMap.get(name);\n            let object = new classdef(...params);\n            return object;\n        }\n        console.error(\"The selection job plugin class: \" + name + \" is not reqistered\");\n        return null;\n    },\n\n    // Data jobs are included in the selection menu\n    registerPreprocessType(name, classdef) {\n        if (!PluginFactory._preprocessTypeMap.has(name)){\n            PluginFactory._preprocessTypeMap.set(name, classdef);\n        }\n    },\n\n    createPreprocessType(name, ...params) {\n        if (PluginFactory._preprocessTypeMap.has(name)) {\n            let classdef = PluginFactory._preprocessTypeMap.get(name);\n            let object = new classdef(...params);\n            return object;\n        }\n        console.error(\"The preprocess plugin class: \" + name + \" is not reqistered\");\n        return null;\n    },\n}\n\nexport default PluginFactory;\n","import PlotDataModel from \"../data/PlotDataModel\";\nimport PluginFactory from \"../config/plugins/PluginFactory\";\nconst nrrdjs = require('nrrd-js');\nconst ndarray = require('ndarray');\nconst unsqueeze = require('ndarray-unsqueeze');\nconst concat_col = require('ndarray-concat-cols');\nconst concat_row = require('ndarray-concat-rows');\nconst uuid4 = require('uuid/v4');\n/**\n * GenerateDataPluginRunner connects a data generating plugin to the\n * the ReScatter data model for plots and choropleths. If a new data set is created\n * by a plugin it will be added to the list of data sets just as if it had been\n * defined in the website configuration.\n */\nexport default class GenerateDataPluginRunner {\n    /**\n     * Create a\n     * @param activePlugin\n     */\n    constructor(name) {\n        this.plugin = PluginFactory.createDataJobType(name);\n    }\n\n    /**\n     * get the job(s) monitor\n     * @returns {*} a jobs monitor for the job plugin. This recieves signals from the running job\n     */\n    get monitor() {\n        return this.plugin.jobMonitor;\n    }\n\n    /**\n     * Run the data selection through the plugin to generate a newplot layout.\n     * The current layout (accessed through the layoutManager) is use as a template\n     * for the new layout based on the data subselection. Plot, choropleths and any\n     * datamaps have to be created in the new layout\n     * @param selection - object containing {id: 'selection id string', dataPoints: 'numerical indices for the selection')\n     */\n    run(selection) {\n        \"use strict\";\n        let recalc = ReScatter.layoutManager.getRecalculation();\n        if (recalc === undefined) {\n            return; //nothing to do\n        }\n        let newDataMap = {};\n        ReScatter.layoutManager.getDataMaps().forEach(function(val) {\n            newDataMap[val.id] = val.filePath;\n        });\n        let baseDataMap = {};\n        ReScatter.layoutManager.getBaseDataMaps().forEach(function(val) {\n            baseDataMap[val.id] = val.filePath;\n        });\n\n        let selectionId = selection.selectionId;\n        let selections = selection.dataPoints;\n        let cache = ReScatter.dataModel.dataCache;\n        // create a tSNE job for each plot\n        // first assemble the data\n        let pathAndTypeList = [];\n\n        let analysisNames = Object.getOwnPropertyNames(recalc.dataAnalysis.analyses);\n        let dataList = [];\n        // Prefetch base data for analyses\n        // First collect all the unique data paths\n        analysisNames.forEach(val => {\n            let ipData = recalc.dataAnalysis.analyses[val].inputData;\n            if (!dataList.includes(ipData)) {\n                dataList.push(ipData);\n                pathAndTypeList.push({path:baseDataMap[ipData], type: 'arraybuffer'})\n            }\n        });\n        this.preprocessPlugin = PluginFactory.createPreprocessType(recalc.dataAnalysis.dataPreprocess.preprocessPlugin);\n        let self = this;\n        let currentLayoutId = ReScatter.layoutManager.getId();\n        let submitJobs = function(){\n            let jobId = uuid4();\n            // Step 1: preprocess data\n            let recalcData = self.preprocessPlugin.getRecalculationData(jobId, cache, recalc, selections, selectionId);\n            let cacheDataMap = self.preprocessPlugin.getDataMap();\n            // make a job for each recalculation datum\n            let i = 0;\n            analysisNames.forEach(analysisName => {\n                let data = recalcData[analysisName];\n                let config = recalc.dataAnalysis.analyses[analysisName];\n                self.plugin.addJob(data, config, analysisName);\n                i++\n            });\n            for (let name of Object.getOwnPropertyNames(newDataMap)) {\n                newDataMap[name] = cacheDataMap[name];\n            }\n\n            let layouts = new ReScatter.data.LayoutCollection();\n            let jobCallback = function(results){\n                let title = 'Generated by: ' + self.plugin.constructor.getAlgorithmName() + ' from selection: ' + selection.label;\n                let description = selection.description;\n                let plotMap = {};\n                let propMap = {};\n                for (let i=0; i<results.length; i++) {\n                    // Cache key for results is the jobGroup uuid plus the unique (sub-)plot.id\n                    let analysisId = results[i][0];\n                    let subPlotId = recalc.dataAnalysis.analyses[analysisId].targetPlotId;\n                    let resultKey = jobId + '_data_' + subPlotId;\n                    // The plot coordinates as nrrd are unpacked to an ndarray and from there\n                    // to a point object to be stored in the cache.\n                    let resultObject = results[i][1];\n                    let nrrdFile = nrrdjs.parse(resultObject);\n                    let resultArray = ndarray(nrrdFile.data, nrrdFile.sizes.slice().reverse());\n                    // accept 2d or id result arrays\n                    if ((resultArray.shape.length !== 1) &&\n                        !(resultArray.shape.length === 2 && resultArray.shape[1] === 2 )) {\n                        throw \"Plugin data was neither 1 or 2 dimensional\";\n                    }\n                    let numPoints = resultArray.shape[0] / (2 / resultArray.shape.length);\n                    let pointObj = {dim:2 , points: new Array(numPoints)};\n                    for (let i=0; i < numPoints; i++) {\n                        if (resultArray.shape.length === 1) {\n                            pointObj.points[i] = [resultArray.get(2*i), resultArray.get((2*i) + 1)];\n                        } else {\n                            pointObj.points[i] = [resultArray.get(i, 0), resultArray.get(i, 1)];\n                        }\n                    }\n\n                    //var resultJsonString = JSON.stringify(resultObject);\n                    // Need to record both the properties and expression data for the new plot\n                    let props = ReScatter.dataModel.getPlotPropSubSelection(subPlotId, selectionId, selections);\n                    let propKey = jobId + '_props_' + subPlotId;\n                    cache.insertInCache(pointObj, resultKey, true);\n                    cache.insertInCache(props, propKey, true);\n                    propMap[subPlotId] = propKey;\n                    plotMap[subPlotId] = resultKey;\n                }\n                layouts.addDerivedLayout(currentLayoutId, title, description, plotMap, propMap, newDataMap, selectionId, selections);\n\n            };\n            let failCallback = function(err) {\n                window.alert('Job failed with error: ' + JSON.stringify(err));\n            }\n            //Step 2: perform the analyses using the preprocessed data\n            self.plugin.start(jobCallback, failCallback);\n        }\n        cache.loadFiles(pathAndTypeList, submitJobs);\n    }\n}\n","/*\n * ES6 Port 11/07/2017\n */\nlet instance = null;\nexport default class GaussianDistCanvas  {\n    /** @class GaussianDistCanvas is a singleton  that\n     * creates a gaussian dist on a canvas that can be used a sprite texture.\n     * The class is a private helper for KDETexture.\n     * It could probably be done faster using WebGL\n     * The class contains now unused functionality to tweak rendering levels nd width that used to be\n     * use to manipulate the final KDE. This is now handled in WebGL\n     *\n     * @param mean - usually 0\n     * @param level - a brightness level (between 1 and 50)\n     * @param stddev - or sigma use between 1 and 50\n     * @param scaleFactor - should be the parent window divided by a constant factor. Scales the texture\n     * @param width - how many standard deviations wid should the texture be (use at least 8 for a smooth result)\n     * @constructor\n     */\n    constructor(mean, level, stddev, scaleFactor, width) {\n        if (instance) {\n            return instance;\n        }\n        instance = this;\n        this._width = width; // visible smoother result than using 3 stdevs\n        this._mean = mean;\n        this._level = level;\n        this._displayStdDev = stddev;\n        this._scaleFactor = scaleFactor;\n        this.rawCanvas = document.createElement('canvas'); // my offscreen canvas\n        this.stddevOrScaleChanged();\n        this.calculatePdf();\n    };\n\n    get pdf() {\n        if (this.done) {\n            return this._pdf;\n        }\n        this.calculatePdf();\n        return this._pdf;\n    }\n\n    get canvas () {\n        let ctx = this.rawCanvas.getContext('2d');\n        ctx.fillRect(0, 0, this._canvasWidth, this._canvasWidth);\n        let imgData = ctx.getImageData(0, 0, this._canvasWidth, this._canvasWidth);\n        let data = imgData.data;\n        if (!this.done) {\n            this.calculatePdf();\n        }\n\n        for (let i=0; i< this._canvasWidth; i++) {\n            let y = this._canvasWidth * 4 * i; // for RGBA\n            let q = this._canvasWidth * i;\n            for (let j=0; j< this._canvasWidth; j++) {\n                let pixVal = Math.round(this._pdf[q + j]);\n                data[y + j*4] = pixVal;\n                data[y + j*4 + 1] = pixVal;\n                data[y + j*4 + 2] = pixVal;\n                data[y + j*4 + 3] = 256;\n            }\n        }\n        ctx.putImageData(imgData, 0, 0);\n        return this.rawCanvas;\n    }\n\n    set mean (val) {\n        if (this._mean !== val ) {\n            this._mean = val;\n            this.done = false;\n        }\n    };\n\n    get mean() {\n        return this._mean;\n    };\n\n    set level(val) {\n        if (this._level !== val) {\n            this._level = val;\n            this.done = false;\n        }\n    };\n\n    get level() {\n        return this._level;\n    };\n\n    set stddev(val) {\n        if (this._displayStdDev !== val) {\n            this._displayStdDev = val;\n            this.stddevOrScaleChanged();\n        }\n    };\n\n    get stddev() {\n        return this._displayStdDev;\n    };\n\n    set scaleFactor(val) {\n        if (this._scaleFactor !== val) {\n            this._scaleFactor = val;\n            this.stddevOrScaleChanged();\n        }\n    };\n    get scaleFactor() {\n        return this._scaleFactor;\n    };\n\n    set width(val) {\n            this._width = val;\n            this.canvasWidthChanged();\n    };\n    get width() {\n            return this._width;\n    };\n\n    calculatePdf() {\n        let temp = new Float32Array(this._canvasWidth);\n        let halfDim = this._canvasWidth/2;\n        for (let i=0; i < this._canvasWidth; i++) {\n            let val = 0.5 + i - halfDim;\n            temp[i] = this._invdevroot2pi * Math.exp(-Math.pow(val - this._mean, 2) / (2 * this._variance));\n        }\n        let max = Math.max.apply(null, temp);\n        let scale = this._level/(max * max); // scale to mid gray\n        for (let n=0; n < this._canvasWidth; n++) {\n            let y = n * this._canvasWidth;\n            for (let m=0; m < this._canvasWidth; m++) {\n                this._pdf[y+m] = scale * temp[n] * temp[m];\n            }\n        }\n        this.done = true;\n    };\n\n    stddevOrScaleChanged() {\n        this._stddev = Math.round(this._displayStdDev * this._scaleFactor);;\n        this.canvasWidthChanged();\n        this._variance = Math.pow(this._stddev, 2);\n        this._invdevroot2pi = 1.0 / (Math.sqrt(2 * Math.PI) * this._stddev);\n        this.done = false;\n    };\n\n    canvasWidthChanged() {\n        let canvasWidth = this._width * this._stddev;\n        if (this._canvasWidth !== canvasWidth) {\n            this._canvasWidth = canvasWidth;\n            this._pdf = new Float32Array(canvasWidth * canvasWidth);\n            this.rawCanvas.width = canvasWidth;\n            this.rawCanvas.height = canvasWidth;\n            this.done = false;\n        }\n    }\n};\n\n","/**\n * Created by baldur on 2/15/16.\n *  Using PIXI.glCore classes to simplify the WebGL overhead\n *  PIXI.glCore - is the newly released (May 2016) core for PIXI V4\n *  Note: PIXI.gl === PIXI.glCore\n *\n *  Migrate to ES6 - 10/07/17\n */\n\nimport GaussianDistCanvas from './GaussianDistCanvas';\nimport glCore from 'pixi-gl-core';\n//<Class for Gaussian KDETexture >\n/**\n * Produce a Gaussian kernel density estimation texture in WebGL\n * using the PIXI.gl library for ease of manipulation\n */\nexport default class KDETexture  {\n    constructor(renderer, plotSize, windowSize) {\n\n        this.renderer = renderer;\n        this.passes = [ this ];\n        this.plotSize = plotSize;\n        this.windowSize = windowSize;\n\n        // Render the scatter plot using the supplied kernel texture\n        this.vertexKdeSrc = require('./kde.vert');\n        this.fragmentKdeSrc = require('./kde.frag');\n        this.vertexFloatPackSrc = require('./scanTextureCoords.vert');\n        this.fragmentFloatPackSrc = require('./packFloat.frag');\n        this.vertexDeclipSrc = require('./scanTextureCoords.vert');\n        this.fragmentDeclipSrc = require('./declip.frag');\n\n        // Map the entire canvas (-1,-1 to 1,1) to the entire texture (0,0 to 1,1)\n        // Vertex coords for the quad triangle strip. The vertex order is important\n        // to ensure the orientation of the texture that we render on this quad.\n        this.vertCoords = new Float32Array([\n            -1.0, -1.0,\n            -1.0, 1.0,\n            1.0, -1.0,\n            1.0, 1.0\n        ]);\n        this.numVertices = 4;\n        // Corresponding texture coords for the quad\n        this.texCoords = new Float32Array([\n            0.0, 1.0,\n            0.0, 0.0,\n            1.0, 1.0,\n            1.0, 0.0\n        ]);\n        this.quadIndices = new Uint16Array([0,1,2,0,2,3]); // not used in TRIANGLE_STRIP but needed for the VertexArrayObject\n        this.textureSize = 128;\n    };\n\n    /**\n     * Set the plot points for the KDE\n     * @param pointCoords\n     */\n    setPoints (pointCoords) {\n        let gl = this.renderer.gl;\n        // Step1 - render points to texture\n        // Bind the shaders\n        this.scatterPlotShader = new glCore.GLShader(gl, this.vertexKdeSrc, this.fragmentKdeSrc);\n        this.scatterPlotShader.bind();\n        // set any uniforms in the shader(s) here\n        //this.scatterPlotShader.uniforms.positions = 0;\n        this.scatterPlotShader.uniforms.uSampler = 0;\n\n        // Create a buffer for the drawing the point coordinates\n        this.pointCoords = pointCoords;\n        this.numPoints = pointCoords.length/2;\n        let pointBuffer = new glCore.GLBuffer.createVertexBuffer(gl, pointCoords);\n        // And index these (simply 0->n-1)\n        let indices = new Uint16Array(pointCoords.length/2);\n        for (let i = 0; i < indices.length; i++) {\n            indices[i] = i;\n        }\n        let indexBuffer = new glCore.GLBuffer.createIndexBuffer(gl, indices);\n        //Control everything via a Vertex Array Object\n        this.vao = new glCore.VertexArrayObject(gl);\n        // set the attributes\n        this.vao.addAttribute(pointBuffer, this.scatterPlotShader.attributes.aVertexPosition);\n        this.vao.addIndex(indexBuffer);\n\n        // Step 1.5 - extract a single color from the float\n        this.floatPackShader = new glCore.GLShader(gl, this.vertexFloatPackSrc, this.fragmentFloatPackSrc);\n        this.floatPackShader.bind();\n\n\n        let verts = new glCore.GLBuffer.createVertexBuffer(gl, this.vertCoords);\n        let tex = new glCore.GLBuffer.createVertexBuffer(gl, this.texCoords);\n        let inds = new glCore.GLBuffer.createVertexBuffer(gl, this.quadIndices);\n\n        // Buffer for drawing the Quad to render th texture created in Step1\n        this.vaoPackQuad = new glCore.VertexArrayObject(gl);\n        this.vaoPackQuad.addAttribute(verts, this.floatPackShader.attributes.aVertexPosition);\n        this.vaoPackQuad.addAttribute(tex, this.floatPackShader.attributes.aTextureCoord);\n        this.vaoPackQuad.addIndex(inds);\n\n        // Step2 - render texture to Quad\n        this.declippingShader = new glCore.GLShader(gl, this.vertexDeclipSrc, this.fragmentDeclipSrc);\n        this.declippingShader.bind();\n        this.declippingShader.uniforms.uSampler = 0; // the texture number to sample\n\n        let qverts = new glCore.GLBuffer.createVertexBuffer(gl, this.vertCoords);\n        let qtex = new glCore.GLBuffer.createVertexBuffer(gl, this.texCoords);\n        let qinds = new glCore.GLBuffer.createVertexBuffer(gl, this.quadIndices);\n\n        // Buffer for drawing the Quad to render th texture created in Step1\n        this.vaoQuad = new glCore.VertexArrayObject(gl);\n        this.vaoQuad.addAttribute(qverts, this.declippingShader.attributes.aVertexPosition);\n        this.vaoQuad.addAttribute(qtex, this.declippingShader.attributes.aTextureCoord);\n        this.vaoQuad.addIndex(qinds);\n    };\n\n    // Save and restore all the elements of GL state that we tamper with in this renderer\n    // Initially there were problems because the blendEquation/Function were missing\n    __saveGLState() {\n        let gl = this.renderer.gl;\n        this.glState = {};\n        this.glState.blend = gl.getParameter(gl.BLEND);\n        this.glState.depthTest = gl.getParameter(gl.DEPTH_TEST);\n        this.glState.colorClearValue = gl.getParameter(gl.COLOR_CLEAR_VALUE);\n        this.glState.blendEquationSeparate = {};\n        this.glState.blendEquationSeparate.alpha = gl.getParameter(gl.BLEND_EQUATION_ALPHA);\n        this.glState.blendEquationSeparate.rgb = gl.getParameter(gl.BLEND_EQUATION_RGB);\n        this.glState.blendFuncSeparate = {};\n        this.glState.blendFuncSeparate.src_rgb = gl.getParameter(gl.BLEND_SRC_RGB);\n        this.glState.blendFuncSeparate.dst_rgb = gl.getParameter(gl.BLEND_DST_RGB);\n        this.glState.blendFuncSeparate.src_alpha = gl.getParameter(gl.BLEND_SRC_ALPHA);\n        this.glState.blendFuncSeparate.dst_alpha = gl.getParameter(gl.BLEND_DST_ALPHA);\n    };\n\n    __restoreGLState() {\n        let gl = this.renderer.gl;\n        if (this.glState === undefined) {\n            return;\n        }\n        if (this.glState.blend) {gl.enable(gl.BLEND);} else {gl.disable(gl.BLEND);}\n        if (this.glState.depthTest) {gl.enable(gl.DEPTH_TEST);} else {gl.disable(gl.DEPTH_TEST);}\n        gl.clearColor(this.glState.colorClearValue[0], this.glState.colorClearValue[1],\n                    this.glState.colorClearValue[2], this.glState.colorClearValue[3]);\n        gl.blendEquationSeparate(this.glState.blendEquationSeparate.rgb, this.glState.blendEquationSeparate.alpha);\n        gl.blendFuncSeparate(this.glState.blendFuncSeparate.src_rgb,\n                             this.glState.blendFuncSeparate.dst_rgb,\n                             this.glState.blendFuncSeparate.src_alpha,\n                             this.glState.blendFuncSeparate.dst_alpha);\n    };\n\n    /**\n     * render the KDE texture with the given stdev and number of discrete levels\n     * @param stddev - the width of the gaussian to use\n     * @param contours - number of discrete rendering levels\n     * @returns {*}\n     */\n    draw(stddev, contours) {\n        this.stddev = stddev;\n        this.contours = contours;\n        // force the texture draw size to a power of 2\n\n        let gl = this.renderer.gl;\n        this.__saveGLState();\n\n        // stdev * width must give a power of 2 - width is the number of stdevs wide/high\n        // Create a gaussian texture stdev 16, 4 standard deviations wide\n        let gaussianCanvas = new GaussianDistCanvas(0, 10, 16, 1, 4); //level 0-256, stddev relative to canvas width\n        this.kernelTexture = new glCore.GLTexture.fromSource(gl, gaussianCanvas.canvas, false);\n\n        // Step 1: render to Float texture\n        // framebuffer to render to\n        this.renderArray = new Float32Array(4 * this.textureSize * this.textureSize); //Rendering to gl.RGBA\n        // make a framebuffer with texture object in one step createFloat32 includes the following\n        // 1a) gl.createFramebuffer\n        // 1b) createTexture, bindTexture, texImage2D\n        let floatExt = gl.getExtension('OES_texture_float'); // workaround for a bug where float is only set on the first gl\n        let floatlinExt = gl.getExtension('OES_texture_float_linear'); // to allow linear filtering - avoid mipmaps\n        let colorBufferFloat = gl.getExtension('WEBGL_color_buffer_float');\n        let colorFloatBuf = gl.getExtension('EXT_color_buffer_float');\n        let floatBlend = gl.getExtension('EXT_float_blend');\n        this.fbo = glCore.GLFramebuffer.createFloat32(gl, this.textureSize, this.textureSize, this.renderArray);\n        let linear = true; // if true must enable float linear filtering extension OES_texture_float_linear\n        // To fix this:\n        // texture bound to texture unit 0 is not renderable. It maybe non-power-of-2 and have incompatible texture filtering.\n        this.fbo.texture.minFilter(linear); // textParameteri - linear filtering or nearest\n        this.fbo.texture.magFilter(linear); // textParameteri - linear filtering or nearest\n        this.fbo.texture.enableWrapClamp();\n        this.fbo.enableTexture(this.fbo.texture); // bind the frame buffer and target texture\n\n        // The depth buffer is unnecessary in this case because there ae no hidden surfaces (disable(gl.DEPTH_TEST) ? - check.\n        gl.disable(gl.DEPTH_TEST); // we wont add a depth buffer to the framebuffer\n\n        let e = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n        if (gl.FRAMEBUFFER_COMPLETE !== e) {\n           console.log('Frame buffer object is incomplete: ' + e.toString());\n            return error();\n        }\n\n        this.scatterPlotShader.bind(); // use the shader programs defined\n        this.scatterPlotShader.uniforms.bounds = [this.plotSize, this.plotSize];\n        this.scatterPlotShader.uniforms.uFourSigma = this.stddev;\n\n        // load the kernel texture as a sprite\n        linear = true;\n        this.kernelTexture.minFilter(linear); // textParameteri - linear filtering or nearest (linear = false)\n        this.kernelTexture.magFilter(linear); // textParameteri - linear filtering or nearest\n        this.kernelTexture.enableWrapClamp();\n        this.kernelTexture.bind(0);\n        this.scatterPlotShader.uniforms.u_KernelSampler = 0;\n        // clear to black\n        // gl.viewport means transformation from normalized to canvas coords\n        // in this case the canvas is the texture being written to so it is to the texture size\n\n        gl.enable(gl.BLEND);  // Use transparency while drawing 2D image.\n        gl.blendFunc(gl.ONE, gl.ONE); // simply add the color values (not alpha blending)\n        gl.viewport(0, 0, this.textureSize, this.textureSize);\n\n        gl.clearColor(0.0,0.0,0.0,1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        // attach the vertices and indices to draw\n        this.vao.bind();\n        //gl.drawElements(gl.POINTS, 1, gl.UNSIGNED_SHORT, 0); // for texting draw a single point\n        gl.drawElements(gl.POINTS, this.numPoints, gl.UNSIGNED_SHORT, 0);\n\n        let err = gl.getError();\n        this.vao.unbind();\n        this.kernelTexture.unbind();\n        this.fbo.unbind();\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n\n        // Step 1.5) Luminance from float texture - because Safari 9.1 cannot download floats\n        // Need to provide a RGBA UNSIGNED_BYTE texture to render to....\n\n        // Target texture\n        this.fboPack = glCore.GLFramebuffer.createRGBA(gl, this.textureSize, this.textureSize);\n        this.fboPack.texture.minFilter(false); // textParameteri - linear filtering or nearest\n        this.fboPack.texture.magFilter(false); // textParameteri - linear filtering or nearest\n        this.fboPack.texture.enableWrapClamp();\n        this.fboPack.enableTexture(this.fboPack.texture); // bind the frame buffer and target texture\n\n        gl.disable(gl.BLEND);\n        gl.disable(gl.DEPTH_TEST);\n        //gl.blendFuncSeparate(gl.ONE, gl.ZERO, gl.ONE, gl.ZERO);\n        gl.viewport(0, 0, this.textureSize, this.textureSize);\n        this.vaoPackQuad.bind();\n        this.floatPackShader.bind();\n        // Bind the (float) texture to be processed\n        this.fbo.texture.bind(0); //source texture is gl.TEXTURE0 + 1 and bind the bindTexture to the float\n        this.floatPackShader.uniforms.uSampler = 0; // sample texture number 0\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, this.numVertices); // draw the quad scaling the float texture\n        let output = this.__readPackedFloat();\n        this.fbo.texture.unbind();\n        this.vaoPackQuad.unbind();\n        this.fboPack.unbind();\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        let maxPix = 0.0;\n        // No TypedArray.forEach support on Safai 9.1 so old fashioned for loop\n        for (let index = 0; index < output.length; index=index+4) {\n            if (output[index] > maxPix) {maxPix = output[index];}\n        }\n\n        // Step 2) Render scaled texture to quad\n        // restore the viewport to the real size\n        gl.viewport(0, 0, this.windowSize, this.windowSize); // rendering to the canvas size\n\n        this.declippingShader.bind();\n        this.declippingShader.uniforms.uRange = maxPix;\n        this.declippingShader.uniforms.uLevels = this.contours;\n        // Bind the quad vertex information on which to draw our texture\n        this.vaoQuad.bind();\n        // Bind the (float) texture to be scaled and rendered\n        this.fbo.texture.bind();\n\n        gl.drawArrays(gl.TRIANGLE_STRIP, 0, this.numVertices); // draw the quad scaling the float texture\n\n        this.fbo.texture.unbind();\n        this.vaoQuad.unbind();\n        this.rawCanvas = document.createElement('canvas');\n        this.rawCanvas.width = this.windowSize;\n        this.rawCanvas.height = this.windowSize;\n        let ctx = this.rawCanvas.getContext('2d');\n        //ctx.fillRect(0, 0, gl.canvas.width, gl.canvas.height);\n        let imgData = ctx.createImageData(this.windowSize, this.windowSize);\n        this.__imageDataFromGL(imgData, this.windowSize, this.windowSize);\n        ctx.putImageData(imgData, 0, 0);\n        let resultTexture = PIXI.Texture.fromCanvas(this.rawCanvas, PIXI.SCALE_MODES.LINEAR);\n        gl.clearColor(0.0, 0.0, 0.0, 1.0);\n        gl.clear(gl.COLOR_BUFFER_BIT);\n        // cleanup the render context\\\n        this.__restoreGLState();\n\n        // return the texture result\n        return resultTexture;\n    };\n\n    // If reading FLOAT were widely supported we could do this.\n    /*__readTexturePixels() {\n        let gl = this.renderer.gl;\n        gl.finish(); // wait for the rendering pipeline to finish\n        // According to some references readPixels can only read RGBA and Byte.\n        // However chrome 51 & firefoxsupports 47 read RGBA - FLOAT\n        // However Safari 9.1 cannot. :-(\n        // https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/readPixels\n        let outputStorage = new Float32Array(this.textureSize * this.textureSize * 4);\n        // read as unsigned byte - need a way to convert to float\n\n        gl.readPixels(0, 0, this.textureSize, this.textureSize, gl.RGBA, gl.FLOAT, outputStorage);\n        // cast the byte encoded floats to Float32\n        gl.finish();\n        return outputStorage;\n    };*/\n\n    __readPackedFloat() {\n        let gl = this.renderer.gl;\n        gl.finish(); // wait for the rendering pipeline to finish\n        let outputStorage = new Uint8Array(this.textureSize * this.textureSize * 4);\n        gl.readPixels(0, 0, this.textureSize, this.textureSize, gl.RGBA, gl.UNSIGNED_BYTE, outputStorage);\n        gl.finish();\n        return new Float32Array(outputStorage.buffer);\n    };\n\n    __imageDataFromGL(image, width, height) {\n        let gl = this.renderer.gl;\n        gl.finish();\n        let array = new Uint8Array(width * height * 4);\n        gl.readPixels(0, 0, width, height, gl.RGBA, gl.UNSIGNED_BYTE, array);\n        image.data.set(new Uint8ClampedArray(array));\n        gl.finish();\n    }\n\n};\n//</Class for KDETexture>\n\n","/**\n * Created by baldur on 8/10/15.\n * Ported to ES6 11/07/17\n */\n\nimport KDETexture from './KDETexture';\n\n\n//<Class definition for the PointGroupView>\n// A viewer component\n// The selection view is based on a Pixijs container\n// holding sprites for each point.\n// A selection view can be hidden or visible.\n// When hidden a filter is used to change the point\n// colours (perhaps to gray)\n// Points can be added or remove from a selection view.\n\nexport default class PointGroupView {\n\n    constructor(parentPlot, label,\n             selectionsContainer,\n             pointSize,\n             color,\n             scaleFuncX, scaleFuncY,\n             zoomFactor) {\n        // label: unique text label for this selectiion\n        // selectionsRoot: a PIXI.container used to hold all selections\n        // pointSize: diameter for the point circle\n        // color: an RGB number color used to display points when active\n        //        may be undefined in which case each point added should define\n        //        its own color\n        // TODO provide options for other point shapes other than circle\n        // Perhaps change this to the less functional ParticleContainer???\n        // - no because the sprites are not interactive\n        \"use strict\";\n        this.parentPlot = parentPlot;\n        this.label = label;\n        //console.log(\"Adding pointgroupview: \"+ label + \" to: \" + selectionsRoot.parent.renderer.id);\n        this.selectionsRoot = selectionsContainer;\n        this.container = new PIXI.Container();\n        this.container.interactive = false;\n        this.container.visible = false;\n        this.selectionsRoot.addChild(this.container);\n        this.kdeOn = false;\n        this.kernelTexture = undefined;\n        this.pdf = undefined;\n        this.zoomFactor = zoomFactor || 1;\n        this.color = color;\n        this.pointSize = pointSize;\n        this.spriteDrawingScale = 4; // draw sprites texture at a larger scale and scale down\n\n        // Have to draw a background rectangle and circle\n        // for correct interaction with the color matrix filter\n        this.pointTexture = this.__createPointTexture(pointSize * this.spriteDrawingScale, 0XFFFFFF);\n        this.xTexture = this.__createXTexture(pointSize * this.spriteDrawingScale, 0XFFFFFF);\n        this.oTexture = this.__createOTexture(pointSize * this.spriteDrawingScale, 0XFFFFFF);\n        // It would be possible to combine multiple filters for nice effects\n        // but a bit of math means that a single ColorMatrixFilter can just as effective\n        // and perhaps more efficient.\n\n        //if (color !== undefined) {\n        //    this.activeColorMatrix = this.colorToOverrideMatrix(color);\n        //    this.colorFilter = new PIXI.filters.ColorMatrixFilter();\n        //    this.colorFilter.matrix = this.activeColorMatrix;\n        //    this.container.filters = [this.colorFilter];\n        //}\n        this.pointSprites = [];\n        this.origTextures = [];\n        // TODO remove this workaround later?\n        // Each sprite point is linked to a sprite point in the underlying parent plot\n        // This is largely a workaround to a pixijs bug (in v 3.0.7) where mouse\n        // events are not propagated to lower z-index even if the overlying sprites are non-interactive.\n        // This link complicates the structure but may have some other advantages.\n        // See https://github.com/pixijs/pixi.js/issues/1725\n        this.linkedPoints = [];\n        this.points = [];\n        this.scaleFuncX = scaleFuncX;\n        this.scaleFuncY = scaleFuncY;\n        //this.outlineFilter = new PIXI.filters.ConvolutionFilter([0,1,0,1,-4,1,0,1,0], 100, 100);\n        this.outlineFilter = new PIXI.filters.DropShadowFilter();\n        this.outlineFilter.alpha = 1;\n        this.outlineFilter.blur = 0;\n        this.outlineFilter.distance = 1;\n        this.outlineFilter.padding = 2;\n        this.outlineFilter.color = 0xFFFFFF;\n        //this.setColorOnActive(true, color);\n        this.sizeOnActive = false;\n    };\n\n    /**\n     * Get visibility state of this point group\n     * @returns {boolean}\n     */\n    get visible() {return this.container.visible;}\n\n    /**\n     * Set visibility state of this point group\n     * @param {boolean} visibility\n     */\n    set visible(visibility) {this.container.visible = visibility;}\n\n    /**\n     * Get state of the outline filter\n     * @returns {boolean}\n     */\n    get outline() {\n        return ((this.container.filters !== undefined) &&\n        (this.container.filters.indexOf(this.outlineFilter) !== -1));\n    };\n\n    /**\n     * Set state of the outline filter\n     * @param {boolean} val\n     */\n    set outline(val) {\n        if (val) {\n            if (this.container.filters) {\n                if (this.container.filters.indexOf(self.outlineFilter) === -1) {\n                    this.container.filters.push(self.outlineFilter);\n                }\n            } else {\n                this.container.filters = [self.outlineFilter];\n            }\n        } else {\n            let index = this.container.filters.indexOf(this.outlineFilter);\n            this.container.filters.splice(index, 1);\n        }\n    };\n\n    __createPointTexture(pointSize, color) {\n        let graphicPoint = new PIXI.Graphics();\n        graphicPoint.beginFill(0x000000, 0);\n        graphicPoint.drawRect(0, 0, pointSize, pointSize);\n        graphicPoint.endFill();\n        graphicPoint.beginFill(color, 1);\n        graphicPoint.drawCircle(0, 0, pointSize);\n        graphicPoint.endFill();\n        return graphicPoint.generateTexture(1, PIXI.SCALE_MODES.LINEAR);\n    };\n\n    __createXTexture(pointSize, color) {\n        let graphicLine = new PIXI.Graphics();\n        graphicLine.lineStyle(2 * this.spriteDrawingScale, 0x000000, 1);\n        graphicLine.moveTo(0, 0);\n        graphicLine.lineTo(pointSize, pointSize);\n        graphicLine.moveTo(pointSize, 0);\n        graphicLine.lineTo(0, pointSize);\n\n        return graphicLine.generateTexture(1, PIXI.SCALE_MODES.LINEAR);\n    };\n\n    __createOTexture(pointSize, color) {\n        let graphicCircle = new PIXI.Graphics();\n        graphicCircle.beginFill(0x000000, 1);\n        graphicCircle.drawRect(-pointSize, -pointSize, 2 * pointSize, 2 * pointSize);\n        graphicCircle.endFill();\n        graphicCircle.lineStyle(2 * this.spriteDrawingScale, color, 1);\n        graphicCircle.drawCircle(0, 0, pointSize + 2);\n        return graphicCircle.generateTexture(1, PIXI.SCALE_MODES.LINEAR);\n    };\n\n    destroy(){\n        \"use strict\";\n        for (let i = 0, len = this.pointSprites.length; i<len ; i++) {\n            this.container.removeChild(this.pointSprites[i]);\n            this.pointSprites[i].destroy();\n        }\n        this.container = undefined;\n        this.pointSprites = [];\n        this.points = [];\n        this.pointTexture = undefined;\n    };\n\n     colorToOverrideMatrix(color) {\n        \"use strict\";\n        let r = (0xFF0000 & color) >> 16;\n        let g = (0x00FF00 & color) >> 8;\n        let b = (0x0000FF & color);\n        // the color matrix changes a white (the point color) to the desired color\n        return [\n            r/255, 0, 0, 0, 0,\n            0, g/255, 0, 0, 0,\n            0, 0, b/255, 0, 0,\n            0, 0, 0, 1, 0\n        ];\n    };\n\n    colorToInactiveOverrideMatrix(color) {\n        \"use strict\";\n        let r = (0xFF0000 & color) >> 16;\n        let g = (0x00FF00 & color) >> 8;\n        let b = (0x0000FF & color);\n        let luminosity = (0.21 * r/255) + (0.72 * g/255) + (0.07 * b/255);\n        // the color matrix changes a white (the point color) to the desired color\n        return [\n            luminosity, 0, 0, 0, 0,\n            0, luminosity, 0, 0, 0,\n            0, 0, luminosity, 0, 0,\n            0, 0, 0, 1, 0\n        ];\n    };\n\n    colorToLuminanceMatrix() {\n        \"use strict\";\n\n        // Convert color to equivalent luminance\n        // only correct in certain color spaces\n        return [\n            0.21, 0.72, 0.07, 0, 0,\n            0.21, 0.72, 0.07, 0, 0,\n            0.21, 0.72, 0.07, 0, 0,\n            0, 0, 0, 1, 0\n        ];\n    };\n\n    colorPreserveMatrix (color) {\n        \"use strict\";\n\n        // the color matrix replaces any color\n        return [\n            1, 0, 0, 0, 0,\n            0, 1, 0, 0, 0,\n            0, 0, 1, 0, 0,\n            0, 0, 0, 1, 0\n        ];\n    };\n\n    pointOver (interactionData) {\n        let target = interactionData.target;\n        let index = this.pointSprites.indexOf(target);\n        if (index > -1) {\n            let linkedPoint = this.linkedPoints[index];\n            if (linkedPoint) {\n                this.parentPlot.annotatePoint(this.linkedPoints[index]);\n            }\n        }\n    };\n\n    /**\n     * Add a point with\n     * @param {x:<x-coord> , y:<y-coord> } point object\n     * @param {number | undefined} RGB color, if undefined group color is used\n     * @param {number | undefined} size, if undefined group size is used\n     * @param {string} texture - a single character code describing the point shaps (currently X, O - default is a filled circle)\n     * @param linkedPoint - the corresponding point in the parent plot mousOver events are forwarded to this\n     * @returns {PIXI.Sprite} - the sprite that was created\n     */\n    addPoint(point, color, size, texture, linkedPoint) {\n        \"use strict\";\n\n        let pointSprite;\n        if (texture === 'X') {\n            pointSprite = new PIXI.Sprite(this.xTexture);\n        } else if (texture === 'O') {\n            pointSprite = new PIXI.Sprite(this.oTexture);\n        } else{\n            pointSprite = new PIXI.Sprite(this.pointTexture);\n        }\n        pointSprite.anchor.x = 0.5;\n        pointSprite.anchor.y = 0.5;\n        pointSprite.position.x = this.scaleFuncX(point.x);\n        pointSprite.position.y = this.scaleFuncY(point.y);\n        pointSprite.interactive = true;\n        pointSprite.point = point;\n        // Note: tried to use the filters with color matrix filter on individual points\n        // to apply point by point color but this overloads the GPU. Tint works.\n        // TODO investigate this problem further\n\n        pointSprite.tint = color || this.color;\n\n        pointSprite.scale = {x: (size || 1) / (this.spriteDrawingScale * this.zoomFactor), y: (size || 1) / (this.spriteDrawingScale * this.zoomFactor)};\n        pointSprite.pointSize = size || 1;\n\n        this.container.addChild(pointSprite);\n        this.pointSprites.push(pointSprite);\n        this.origTextures.push(pointSprite.texture);\n        this.linkedPoints.push(linkedPoint);\n        this.points.push(point);\n        return pointSprite;\n    };\n\n    /**\n     * Zoom the plot to the given zoom factor. Sprite sizes are corrected automatically.\n     * @param zoomFactor\n     */\n    zoom(zoomFactor) {\n        let self = this;\n        this.zoomFactor = zoomFactor;\n        this.pointSprites.forEach(function(val, indx, array) {\n            val.scale = {\n                x: val.pointSize/(zoomFactor * self.spriteDrawingScale),\n                y: val.pointSize/(zoomFactor * self.spriteDrawingScale)\n            };\n        });\n    };\n\n    /** Change the sprite texture to a Gaussian PDF with additive blending\n     * this results in a quick and dirty kernel density estimate.\n     * @param level     brightness level  - couple to a user control with values between 1 and 50\n     * @param stddev    standard deviation sigma  - couple to a user control with values between 1 and 50\n     */\n    setKdeOn (stddev, contours) {\n\n        if (this.kdeOn) {return;}\n        this.kdeOn = true;\n        this.__addKDEToContainer(stddev, contours);\n        return;\n    };\n\n    /**\n     * Refresh the gaussian with new stddev (sigma)  and contours values\n     * @param {number} stddev - gaussian width in plot units.\n     * @param {number} contours - number of render levels\n     */\n    updateKde (stddev, contours) {\n        this.refreshKDE(stddev, contours);\n        return;\n    };\n\n    /**\n     * The kernel density estimate is hidden by restoring the original point sprite textures\n     */\n    setKdeOff () {\n\n        this.kdeOn = false;\n        this.__removeKDEFromContainer();\n        return;\n    };\n\n    /** Return an object containing the sigma and contours values as properties\n     * @returns {{activate: boolean, sigma: number, contours: number}}\n     * Default values of sigma -12 and countours 32 are hardcoded here - could be configurable\n     */\n    kdeValues () {\n        let result = {activate: this.kdeOn, sigma: 12, contours:32};\n        if (this.kdeTexture) {\n            result.sigma = this.kdeTexture.stddev;\n            result.contours = this.kdeTexture.contours;\n        }\n        return result;\n    };\n\n    /**\n     * Remove the point sprite from the group\n     * @param point\n     */\n    removePoint (point) {\n        \"use strict\";\n        let index = this.points.indexOf(point);\n        let sprite = this.pointSprites[index];\n        this.container.removeChild(sprite);\n        this.points.splice(index, 1);\n        this.pointSprites.splice(index, 1);\n    };\n\n    /**\n     * Set all ths points in this group to the give color\n     * @param {number} color - RGB\n     */\n    setColor (color) {\n        \"use strict\";\n        // ignored if coloring is not on group\n        this.container.children.map(function(childSprite) {childSprite.tint = color;});\n        //if (this.color !== undefined) {\n        //    this.activeColorMatrix = this.colorToOverrideMatrix(color);\n        //    this.colorFilter = new PIXI.filters.ColorMatrixFilter();\n        //    this.colorFilter.matrix = this.activeColorMatrix;\n        //    this.container.filters = [this.colorFilter];\n        //    this.color = color;\n        //}\n    };\n\n    /**\n     * Set the opacity of all the point sprites in this group\n     * @param alpha\n     */\n    setAlpha (alpha) {\n        \"use strict\";\n        // ignored if coloring is not on group\n        this.container.alpha = alpha;\n    };\n\n    showBlur () {\n        // test function\n    };\n\n    hideBlur () {\n        // test function\n    };\n\n    /**\n     * Initialize the KDE texture\n     */\n    __setupKDETexture () {\n        this.kdeTexture = new KDETexture(this.parentPlot.renderer,\n            this.parentPlot.plotSize, this.parentPlot.plotWindowSize);\n        let coordArray = new Float32Array(2 * this.pointSprites.length);\n        this.pointSprites.forEach(function(value, index, array) {\n            coordArray[2*index] = value.position.x ;\n            coordArray[2*index + 1] = value.position.y;\n        });\n        this.kdeTexture.setPoints(coordArray);\n    };\n\n    /**\n     * Show a KDE underlay (i.e. lowest in z-order) an hide points (point opacity is set to 0) but point\n     * interaction is still possible. The KDE has a discretized number of render levels given by contours\n     * @param stddev\n     * @param contours\n     */\n    __addKDEToContainer (stddev, contours) {\n        if (this.kdeTexture === undefined) {\n            this.__setupKDETexture();\n        }\n\n        let texture = this.kdeTexture.draw(stddev, contours);\n\n        // simply render the KDE texture along with the other point sprites\n        // place at the bottom of the z-stack (index 0) to permit other\n        // sprite interactions to work and set the other sprites alpha to 0\n        // to make them transparent\n        // The sizing and positioning is performed in the original plot\n        // coordinates.\n        this.kdeSprite = new PIXI.Sprite(texture);\n        this.kdeSprite.anchor.x = 0.5;\n        this.kdeSprite.anchor.y = 0.5;\n        this.kdeSprite.position.x = this.parentPlot.plotSize/2;\n        this.kdeSprite.position.y = this.parentPlot.plotSize/2;\n        this.kdeSprite.alpha = 1;\n        this.kdeSprite.interactive = false;\n        this.kdeSprite.visible = true;\n        this.kdeSprite.width = this.parentPlot.plotSize;\n        this.kdeSprite.height = this.parentPlot.plotSize;\n        this.container.addChild(this.kdeSprite);\n        this.container.setChildIndex(this.kdeSprite, 0); //push to bottom of stack to allow interaction\n\n        this.pointSprites.forEach(function(sprite, index, array) {\n            sprite.alpha = 0.0;\n        });\n    };\n\n    /**\n     * Update the KDE underlay with the new stdev and level values\n     * @param stddev - gaussian width\n     * @param contours - number of render levels\n     */\n    refreshKDE (stddev, contours) {\n        this.container.removeChild(this.kdeSprite);\n        this.__addKDEToContainer(stddev, contours);\n    };\n\n    /**\n     * Hide he KDE underlay and restore the point visibility.\n     */\n    __removeKDEFromContainer () {\n        this.container.removeChild(this.kdeSprite);\n        this.pointSprites.forEach(function(sprite, index, array) {\n            sprite.alpha = 1;\n        });\n        //this.parentPlot.render();\n    }\n\n};\n//</Class definition for the PointGroupView>\n","import PointGroupView from '../../view/plot/PointGroupView';\nconst nrrdjs = require('nrrd-js');\nconst ndarray = require('ndarray');\nconst ndops = require('ndarray-ops');\n\n\nexport default class SimplePlotController {\n    /**\n     * Make a square scatter plot at the DOM element indicated byt the ID\n     * @param elementId\n     */\n    constructor(elementId,  forceCanvasRenderer = false) {\n        this.elementId = elementId;\n        this.plotElement = $(\"#\" + this.elementId)[0];\n        this.plotWindowSize = this.plotElement.clientWidth;\n        this.renderer = PIXI.autoDetectRenderer(this.plotWindowSize,\n            this.plotWindowSize,\n            {autoResize: true, forceFXAA: true, preserveDrawingBuffer:true},\n            forceCanvasRenderer);\n        this.plotElement.appendChild(this.renderer.view);\n        this.plotRoot = new PIXI.Container();\n        this.plotRoot.interactive = true;\n        this.plotRoot.visible = true;\n        this.pointSprites;\n    }\n\n    /**\n     * Get the max and min X and Y coords in the coordArray\n     * @param pointCoords - array [x0, y0, x1, y1, ...xi, yi] where i is number of points\n     * @returns {{maxX: *, maxY: *, minX: *, minY: *}}\n     */\n    setScaling(pointCoords) {\n        const coordArray = ndarray(pointCoords, [this.numPoints, 2]);\n        let ranges =  {\n            maxX: ndops.sup(coordArray.pick(null, 0)),\n            maxY: ndops.sup(coordArray.pick(null, 1)),\n            minX: ndops.inf(coordArray.pick(null, 0)),\n            minY: ndops.inf(coordArray.pick(null, 1))\n        };\n        let rangeX = ranges.maxX - ranges.minX;\n        let rangeY = ranges.maxY - ranges.minY;\n        const padding = 10;\n        this.yScaleFunc = y => {\n            return ((y - ranges.minY) * ((this.plotWindowSize - 2 * padding) / rangeY)) + padding;\n        };\n        this.xScaleFunc = x => {\n            return ((x - ranges.minX) * ((this.plotWindowSize - 2 * padding) / rangeX)) + padding;\n        };\n    }\n    /**\n     * Display the plot using a single color and background color\n     * @param points - array [x0, y0, x1, y1, ...xi, yi] where i is number of points\n     * @param pointSize - diameter of point sprite\n     * @param pointColor - color of point sprite\n     * @param backgroundColor - plot background\n     */\n    plotPoints (pointCoords, pointSize, pointColor, backgroundColor) {\n        this.numPoints = pointCoords.length/2;\n        this.setScaling(pointCoords);\n        if (this.pointSprites && this.pointSprites.length > 0) {\n            this.movePoints(pointCoords);\n            return;\n        }\n        this.pointSprites = new Array(this.numPoints);\n\n        this.pointGroup =  new PointGroupView(\n            this,\n            'plot_' + this.elementId,\n            this.plotRoot,\n            3, 0x808080,\n            this.xScaleFunc, this.yScaleFunc,\n            null);\n        this.pointGroup.visible = false;\n        for (let i=0; i < this.numPoints; i++) {\n            this.pointSprites[i] = this.pointGroup.addPoint({x:pointCoords[2*i], y:pointCoords[2*i + 1]},\n                pointColor)\n        }\n        this.pointGroup.visible = true;\n        this.renderer.render(this.plotRoot);\n    }\n\n    /**\n     * Move the point sprites to the new coords\n     * @param pointCoords\n     */\n    movePoints(pointCoords) {\n        this.pointGroup.visible = false;\n        for (let i=0; i < this.numPoints; i++) {\n            this.pointSprites[i].position.x = this.xScaleFunc(pointCoords[i*2]);\n            this.pointSprites[i].position.y = this.yScaleFunc(pointCoords[i*2 + 1]);\n        }\n        this.pointGroup.visible = true;\n        this.renderer.render(this.plotRoot);\n    }\n\n    render() {\n         if (this.renderer.gl) {\n            this.renderer.render(this.plotRoot);\n        }\n    }\n}\n","/**\n * Created by bvanlew on 27/03/2017.\n * A visualization of the data in connected JobMonitor s\n * This maintains a control as a child of the given div id.\n *  Do not place other controls in the same div\n */\nlet instance = null;\nimport SimplePlotController from '../control/plot/SimplePlotController';\n/**\n * The JobMonitorControl menu is a singleton based on the pattern in\n * Stoyan Stefanov's JavaScript Patterns 2010 pg 145\n */\n\n//<Class for JobMonitorControl >\nexport default class JobMonitorControl\n{\n    constructor(containerId) {\n        if (instance) {\n            return instance;\n        }\n        this.containerId = containerId;\n        this.monitors = new Map();\n        this.jsonStatuses = [];\n        this._initTable();\n        this.plotPopup = null;\n        this.activePlots = null;\n        this.visiblePlot = null;\n        this.plotInterval = null;\n        this.activeGroupId = null;\n        this.activeMonitorId = null;\n        this.plotUpdateInterval = 500; //ms\n        instance = this;\n        return instance;\n    }\n\n    _initTable() {\n        let container = document.getElementById(this.containerId);\n        // JobMonitorControl is optional\n        if (!container) {\n            return;\n        }\n        let self = this;\n        while (container.firstChild) {\n            container.removeChild(container.firstChild);\n        }\n        let deleteTemplate = \"<input class='delbtn' type='button' value='Delete'>\";\n        let showTemplate = \"<input class='showbtn' type='button' value='Show'>\";\n\n        this.jobMonitorControl = webix.ui({\n            view: \"window\",\n            container: self.containerId,\n            hidden: true,\n            move: true,\n            css: \"tutorialWindow\",\n            sizeToContent: true,\n            id: \"jobMonitorControlWindow\",\n            head: {\n                view: \"toolbar\", margin: -4, cols: [\n                    {view: \"label\", label: \"Replot Jobs\"},\n                    {\n                        view: \"icon\", icon: \"times-circle\", css: \"alter\",\n                        on: {\n                            onItemClick: function (id, e) {\n                                instance.hideControl();\n                            }\n                        }\n                    }\n                ]\n            },\n            body: {\n                id: 'jobMonitorControlTable',\n                view: 'datatable',\n                columns: [\n                    {id: 'jobid', header: 'Job id', css: 'rank', adjust: 'data'},\n                    {id: 'createtime', header: 'Created', adjust: 'data'},\n                    {id: 'status', header: 'Status', adjust: 'data', minWidth: 80},\n                    {id: 'progress', header: 'Completed', adjust: 'data', minWidth: 80},\n                    {id: 'delete', header: 'Remove', adjust: 'data', template: deleteTemplate, minWidth: 80},\n                    {id: 'show', header: 'Detail',  adjust: 'data', template: showTemplate, minWidth: 80},\n                    {id: 'monitor', header: 'Monitor', hidden: true}\n                ],\n                autoheight: true,\n                autowidth: true,\n                // click behaviour for the delete column class delete_job\n                onClick: {\n                    'delbtn': (e, id, trg) => { //eslint-disable-line no-unused-vars\n                        // TODO remove the job group\n                        let key = this.table.getItem(id.row).jobid;\n                        let monitor = this.table.getItem(id.row).monitor;\n                        webix.message('Deleting job: ' + key);\n                        // stop the job from reappearing in the list the callback was registered with the old closure\n                        this.monitors.get(monitor).cancelJob(key)\n                        return false;\n                    },\n                    'showbtn': (e, id, trg) => {\n                        if (this.plotPopup) {\n                            this.destructPopup();\n                        }\n                        if (!this.plotPopup) {\n                            let jobgroupid = this.table.getItem(id.row).jobid;\n                            let jobmonitorid = this.table.getItem(id.row).monitor;\n                            this.showJobPlotPopup(jobgroupid, jobmonitorid);\n                        }\n                    }\n                }\n            }\n        });\n        this.table = $$('jobMonitorControlTable');\n    }\n\n    /**\n     * Create a unique legal canvas id from the plot ids that may contain whitespace\n     * @param jobId\n     * @returns {string}\n     */\n    jobIdToCanvasId(jobId) {\n        return 'plotCanvas_' + jobId.replace(/\\W/g,'_');\n    }\n\n    /**\n     * Create and display the job monitor from scratch\n     * @param jobgroupid\n     * @param jobmonitorid\n     */\n    showJobPlotPopup(jobgroupid, jobmonitorid) {\n        const  jobmonitor = this.monitors.get(jobmonitorid);\n        this.visiblePlot = null;\n        const jobPlotPopupTemplate = {\n            view:\"popup\",\n            move: true,\n            head: \"Job data monitor\",\n            height:460,\n            width:400,\n            left:50, top:50,\n            body:{\n                view: \"carousel\",\n                id: \"jobPlotCarousel\",\n                cols: [], // array of canvas objects with template:\n                navigation: {\n                    type: \"side\",\n                    items: false\n                },\n                template:\"Some text\"\n            }\n        };\n        // View plots in a carousel of canvases\n        // The popup disappears when user clicks outside\n        const carouselCanvas = function(obj) {\n            return '<div id=\"' + obj.id + '\" style=\"height 380px; width: 380px\"></div>' +\n                '<div><div class=\"title\" style=\"display:inline, float:left\">' + obj.title + '</div>' +\n                '<div class=\"text\" id=\"ProgressPlot_' + obj.id + '\" style=\"display:inline, float:right\"></div></div>';\n        };\n        const jobGroup = jobmonitor.getJobGroup(jobgroupid);\n        // clone the popup carousel template and set the data\n        const popupDefinition = JSON.parse(JSON.stringify(jobPlotPopupTemplate));\n        const jobIds = jobGroup.jobIds;\n        // add the required number of  plot canvases\n        // Canvas ids are plotCanvas_ = jobId\n        const plotCanvases = new Array(jobGroup.numSubJobs);\n        for (let i = 0; i < plotCanvases.length; i++) {\n            const canvasObj = {\n                id: \"plotCarouselItem_\" + i,\n                template: carouselCanvas,\n                data: {\n                    id: this.jobIdToCanvasId(jobIds[i]),\n                    title: jobIds[i],\n                    progress: 'Job not started'\n                }\n            };\n            plotCanvases[i] = canvasObj;\n        }\n        popupDefinition.body.cols = plotCanvases;\n        // create  the popup\n        this.plotPopup = webix.ui(popupDefinition);\n        this.plotPopup.show();\n        // The popup exists and the plot defaults to the first job\n        this.visiblePlot = jobIds[0];\n        this.plotPopup.attachEvent(\"onHide\", () => {this.destructPopup()})\n        this.activeGroupId = jobgroupid;\n        this.activeMonitorId = jobmonitorid;\n\n        // enable plot switching\n        $$(\"jobPlotCarousel\").attachEvent(\"onShow\", id => {\n            this.visiblePlot =\n                $$(\"jobPlotCarousel\").config.cols.find(function(val) {return val.id === id;}).data.title;\n            this.plot();\n        });\n        this.activePlots = new Map();\n        for (let id of jobIds) {\n            // use CanvasRender to save WebGL contexts\n            this.activePlots.set(id, new SimplePlotController(this.jobIdToCanvasId(id), true));\n        }\n        // trigger a plot (just in case data is already available - ie a completed plot)\n        // force drawing  of unseen plots\n        this.plot(true);\n        this.plotInterval = setInterval(this.plot.bind(this), this.plotUpdateInterval);\n    }\n\n    destructPopup() {\n        if (this.plotInterval) {\n            clearInterval(this.plotInterval);\n        }\n        this.activeGroupId = null;\n        this.activeMonitorId = null;\n        this.plotPopup.destructor();\n        this.activePlots.clear();\n        this.plotPopup = null;\n    }\n\n    updateProgressText(jobId, newText) {\n        document.getElementById('ProgressPlot_'+ this.jobIdToCanvasId(jobId)).innerHTML = newText;\n    }\n\n    /**\n     * Upfate the active monitor plot  (if any) or all plots if forceAll is true.\n     * @param forceAll - force all plots to be updated\n     */\n    plot(forceAll = false) {\n        if (!this.plotPopup) {\n            return;\n        }\n        const monitor = this.monitors.get(this.activeMonitorId);\n        const progressData = monitor.progressData[this.activeGroupId];\n        const jobGroup = monitor.getJobGroup(this.activeGroupId);\n        const jobIds = jobGroup.jobIds;\n        if (forceAll) {\n            // plot all jobs with data and a plot\n            for (let id of jobIds) {\n                if (progressData[id] && progressData[id].data && this.activePlots.has(id)) {\n                    this.updateProgressText(id, progressData[id].string);\n                    this.activePlots.get(id).plotPoints(progressData[id].data, 3, 0x808080, 0x000000);\n                }\n            }\n        } else {\n            if (progressData[this.visiblePlot]) {\n                this.updateProgressText(this.visiblePlot, progressData[this.visiblePlot].string);\n                // knn steps produce no data\n                if (progressData[this.visiblePlot].data) {\n                    this.activePlots.get(this.visiblePlot).plotPoints(progressData[this.visiblePlot].data, 3, 0x808080, 0x000000);\n                }\n            }\n        }\n    }\n\n    /**\n     * Subscribe the control to a JobMonitor to show\n     * progress for the job group.\n     * @param monitor\n     */\n    subscribeToJobMonitor(monitor) {\n        if (!this.monitors.has(monitor.pubsubid)) {\n            this.monitors.set(monitor.pubsubid, monitor);\n            let autoShow = true;\n            PubSub.subscribe(monitor.pubsubid, (msg, data) => {\n                this._updateView(msg, data);\n                if (autoShow && !this.plotPopup) {\n                    let id = this.table.getLastId();\n                    let jobgroupid = this.table.getItem(id).jobid;\n                    let jobmonitorid = this.table.getItem(id).monitor;\n                    this.showJobPlotPopup(jobgroupid, jobmonitorid);\n                    autoShow = false;\n                }\n            });\n        }\n    }\n\n    // TODO could be smarter and more efficient - deletes everything and repopulates - React?\n    _updateView(msg, data) {\n        let jsonStatuses = [];\n        this.monitors.forEach((monitor, key, map) => {\n            let statuses = monitor.jsonStatuses;\n            // append the job monitor reference to the status (for callback ops)\n            statuses.forEach((val, index, array)=>{\n               val.monitor = key;\n               statuses[index] = val;\n            });\n            jsonStatuses.push(...monitor.jsonStatuses);\n        })\n        this.table.clearAll();\n        this.table.parse(jsonStatuses);\n    }\n\n    getColumnData(colId) {\n        let data=[];\n        this.table.eachRow(\n            row => {\n                data.push(this.table.getItem(row)[colId]);\n            }\n        );\n        return data;\n    }\n\n    showControl () {\n        this.jobMonitorControl.show();\n        this.enabled = true;\n    }\n\n    hideControl () {\n        this.jobMonitorControl.hide();\n        this.enabled = false;\n    }\n\n    toggleControlVisibility () {\n        if (!this.enabled) {\n            this.showControl();\n        } else {\n            this.hideControl();\n        }\n    }\n\n}\n","/**\n * Created by bvanlew on 27/03/2017.\n */\n\n//import * as DimRS from \"DimRS\";\nimport co from \"co\";\n\n// A tSNE job acts on a data matrix comprising rows or columns\n// The job is infact a collection of one or more sub jobs.\n// Each subjob has a data matrix with the same row/col definition\n// to which the selection is applied and then tSNE is calculated.\n//<Class for DownloadSaver >\nexport default class TsneJob\n{\n    // ES6 has no syntax for static data properties - static getter is a workaround\n    // that gives access to TsneJob.<EnumName>.<EnumValue>\n    // see Rauschmayer: Exploring ES6 Static data properties\n\n    //  The status of this job object - begins with uninitialized.\n    static get StatusEnum() { return {\n        UNITIALIZED: Symbol(\"Job not yet submitted - under construction\"),\n        SUBMITTED: Symbol(\"Job submitted to dimensionality reduction service (DimRS)\"),\n        SUCCESS: Symbol(\"Job successfully completed\"),\n        FAIL: Symbol(\"Job failed\"),\n    };}\n\n    // A job comprised multiple components (sub-jobs) represented by a logical-or\n    // of the following values\n    static get SubJobIs() { return {\n        ROW: Symbol(\"Row job\"),\n        COL: Symbol(\"Col job\"),\n    };}\n\n    // A job comprised multiple components (sub-jobs) represented by a logical-or\n    // of the following values\n    static get SelectIs() {return {\n        ROW: Symbol(\"Selection is row\"),\n        COL: Symbol(\"Selection is col\")\n    };}\n\n    constructor(selection, typeOfSelection) {\n        this.createdTime = Date.now();\n        this.selection = selection;\n        this.submittedTime = undefined;\n        this.completedTime = undefined;\n        this.selectType =  typeOfSelection;\n        this.subJobs = [];\n        this.status = TsneJob.StatusEnum.UNITIALIZED;\n        this.completionStatus = \"\"; // Use to hold the state of the\n    }\n\n    /**\n     *  Add a subjob - to the tsne job - subjobs are map calculations\n     *  for individual plots.\n     * @param dataMatrix - an array of (normalized) data\n     * @param typeSubJob - type of\n     */\n    addSubJob (dataMatrix, typeSubJob) {\n        this.subJobs.push({\n            data: dataMatrix,\n            jobType: typeSubJob,\n            resultMap: undefined,\n            resultValue: undefined,\n            tsneParams: {\n                \"perplexity\": 30,\n                \"n_iter\": 1000,\n                \"n_components\": 2\n            }\n        });\n    }\n\n    //__submitTsneDimRS(subJob) {\n    //    file_data = {\n    //        'data': f\n    //    }\n    //}\n    /**\n     * Submit this job - i.e. send all subjobs to the server.\n     * TODO - maybe add and optional timeout (could se very long) for jobs?\n     */\n    submit() {\n        this.submittedTime = Date.now();\n        let jobPromises = [];\n        // dummy the async subjjob calls with Promises that wrap setTimeout\n        // the result is the index of the subjob\n        this.subJobs.forEach((subjob, i) => {\n            console.log(\"processing subjob: \" + String(subjob.jobType));\n            let jobPromise = new Promise((resolve, subjob) => {\n                setTimeout(function(){\n                    subjob.resultValue = i;\n                    resolve(i);\n                });\n            });\n            jobPromises.push(jobPromise);\n        });\n        let self = this;\n        co (function*() {\n            try {\n                let results = yield jobPromises;\n                self.completedTime = Date.now();\n                self.status = TsneJob.StatusEnum.SUCCESS;\n                console.log(\"Passed: \" + results);\n                return true;\n            } catch (e) {\n                console.log(e);\n                self.status = TsneJob.StatusEnum.FAIL;\n                self.completedTime = Date.now();\n                console.log(\"Failed\" + e);\n                return false;\n            }\n        });\n    }\n\n    isStatus(status) {\n        return this.status === status;\n    }\n}\n\n\n","// Implementation note: SelectionConfig is a singleton\n// Calling new on SelectionConfig() returns a single instance\n\n// The class parses and gives access to the the selection data for\n// the current layout.\nexport default class SelectionConfig {\n    static instance;\n\n    /**\n     * Constructor returns the singleton selection model\n     * That model may be (re-)initialized by providing a new layoutDef\n     * @param layoutDef\n     */\n    constructor (layoutDef) {\n        if (this.instance) {\n            if (layoutDef) {\n                this.instance.init(layoutDef);\n            }\n            return this.instance;\n        }\n        this.__init(layoutDef);\n        this.instance = this;\n    };\n\n    __init(layoutDef) {\n        this.predefinedSelections = [];\n        this.staticSelections = [];\n        this.dynamicSelections = [];\n        this.combinedSelections = [];\n        if (layoutDef.predefinedSelections) {\n            this.predefinedSelections = layoutDef.predefinedSelections;\n        }\n        for (let plot of layoutDef.plots) {\n            let selections = plot.selections;\n            if (selections.selectionOut) {\n                if (!this.staticSelections.includes(selections.selectionOut)) {\n                    this.staticSelections.push(selections.selectionOut);\n                    this.combinedSelections.push({id: selections.selectionOut, dynamic: false});\n                }\n            }\n            if (selections.dynamicSelectionOut) {\n                if (!this.dynamicSelections.includes(selections.dynamicSelectionOut)) {\n                    this.dynamicSelections.push(selections.dynamicSelectionOut)\n                    this.combinedSelections.push({id: selections.selectionOut, dynamic: true});\n                }\n            }\n        }\n    };\n\n    /**\n     * The returned array contains the static selections as an array of objects\n     * of the format {id: <sel>, value: <sel>}\n     * @returns {Array}\n     */\n    getStaticSelectionsAsIdValueArray() {\n        let idValueArray = [];\n        for (let sel of this.staticSelections) {\n            idValueArray.push({id:sel, value:sel})\n        }\n        return idValueArray;\n    }\n\n\n};\n\n","/**\n * Created by bvanlew on 28-6-17.\n */\n/**\n* @class SwitchableSelections - a class to hold and retrieve the\n * switchable display effect\n * mappings that are used when a selection is drawn onto a plot.\n */\n/**\n *\n * @param mappingData - a dictionary (object) of mapping objects\n * @constructor\n */\nexport default class SwitchableSelections{\n    constructor(configNames, mappingData) {\n        this.mappings = mappingData;\n        this.configNames = configNames;\n    };\n\n    /**\n     * @function newFromPlotInfo - create a SwitchableSelections from\n     *            plotInfo that has the old style definition\n     * @param plotInfo - an old style (with a single selectionIn and dynamicSelectionIn at top level) plotDefinition\n     * @returns {SwitchableSelections}\n     */\n    static newFromPlotInfo(plotInfo) {\n        return new SwitchableSelections(\n            ['Default'], {\n                'Default': {\n                    selectionIn: plotInfo.selections.selectionIn,\n                    dynamicSelectionIn: plotInfo.selections.dynamicSelectionIn\n                }\n            }\n        );\n    }\n\n    getSelectionMapping(name) {\n        return this.mappings[name].selectionIn;\n    };\n\n    getDynamicSelectionMapping(name) {\n        return this.mappings[name].dynamicSelectionIn;\n    };\n}\n\n","/**\n * Created by bvanlew on 28-6-17.\n */\n/**\n* @class PlotConfig - a class to hold and retrieve the configuration for individual plots\n */\nexport default class PlotConfig {\n    /**\n     * Construct a PlotConfig\n     * @param plotDef - a dictionary (object) of representing the plot definition\n     * @constructor\n     */\n    constructor(plotDef) {\n\n        this.mappings = mappingData;\n        this.configNames = configNames;\n    };\n}\n","//<Class for LUTTexture>\n// webpack require.context to get a list of files\n// see requireAll @ https://webpack.github.io/docs/context.html\nlet colormaps = require.context('./colormaps', true, /^\\.\\/.*\\.png$/);\n// require all the files\ncolormaps.keys().map(colormaps);\n\nexport default class LUTTexture {\n    constructor() {\n        this.lutNameGroups = {\n            'Diverging maps': ['BrBG', 'bwr', 'coolwarm', 'PiYG', 'PRGn', 'PuOr',\n                'RdBu', 'RdGy', 'RdYlBu', 'RdYlGn', 'Spectral', 'seismic'],\n            'Perceptually Uniform': ['viridis', 'inferno', 'plasma', 'magma'],\n            'Sequential Maps': ['Blues', 'BuGn', 'BuPu',\n                'GnBu', 'Greens', 'Greys', 'Oranges', 'OrRd',\n                'PuBu', 'PuBuGn', 'PuRd', 'Purples', 'RdPu',\n                'Reds', 'YlGn', 'YlGnBu', 'YlOrBr', 'YlOrRd'],\n            'Sequential(2) Maps':['afmhot', 'autumn', 'bone', 'cool', 'copper',\n                'gist_heat', 'gray', 'hot', 'pink',\n                'spring', 'summer', 'winter']\n        };\n    };\n\n    getLutNameGroups () {\n        return this.lutNameGroups;\n    };\n\n    getLutTexture(name, callback) {\n        let image = new Image();\n        image.onload = () => {\n            let texture = new PIXI.Texture(new PIXI.BaseTexture(image));\n            texture.scaleMode = PIXI.SCALE_MODES.NEAREST;\n            callback(texture);\n        }\n        image.src = colormaps('./' + name + '.png');\n    }\n};\n\n//</Class for LUTTexture>\n","/**\n * Created by baldur on 2/15/16.\n * Ported to ES6 12/07/2017\n */\n//<Class for LUTFilter adapted from http://climserv.ipsl.polytechnique.fr/documentation/idl_help/Applying_Lookup_Tables_Using_Shaders.html>\n// The class supports\n// a) a list of predefined LUTs (derived from python matplotlib 1.6): setLut\n// b) a 3 point color ramp: setColorMapPoints\nimport LUTTexture from './LUTTexture';\n\nexport default class LUTFilter extends PIXI.AbstractFilter{\n\n    constructor(background) {\n        let fragmentSrc = require('./lutFilter.frag');\n        let rawCanvas = document.createElement('canvas'); // my offscreen canvas\n        rawCanvas.width = 16;\n        rawCanvas.height = 16;\n\n        // Use a 2D LUT because WebGL does not support 1D\n        let begin = 0x2B81C7;\n        let middle = 0xF5F5C4;\n        let end = 0xBA2A60;\n        let texture = LUTFilter.__getDynamicLutTexture(rawCanvas, begin, middle, end);\n        let uniforms = {\n            colorSampler:     { type: 'sampler2D', value: texture }\n        };\n        super(null, fragmentSrc, uniforms);\n        this.fragmentSrc = fragmentSrc;\n        this.passes = [ this ];\n        this.rawCanvas = rawCanvas\n\n\n        this.begin = begin;\n        this.middle = middle;\n        this.end = end;\n        this.texture = texture;\n        this.lutTexture = new LUTTexture();\n        this.currentName = '';\n        this.background = background;\n        this.background_red = ((background & 0xFF0000) >> 16)/255.0;\n        this.background_green = ((background & 0x00FF00) >> 8)/255.0;\n        this.background_blue = (background & 0xFF)/255.0;\n    };\n\n\n\n    /**\n     * Create a LUT based on three linearly interpolated RGB color values\n     * @param begin - RGB\n     * @param middle - RGB\n     * @param end - RGB\n     */\n    setColorMapPoints(begin, middle, end) {\n        this.begin = begin;\n        this.end = end;\n        this.middle = middle;\n        this.texture = LUTFilter.__getDynamicLutTexture(this.rawCanvas, this.begin, this.middle, this.end);\n        this.uniforms = {\n            colorSampler:     { type: 'sampler2D', value: this.texture },\n            background:       {type: '3f', value: [this.background_red, this.background_green, this.background_blue]}\n        };\n        PIXI.AbstractFilter.call(this, null, this.fragmentSrc, this.uniforms);\n    };\n\n    /**\n     * Core logic for interpolated 3 color-point lut\n     * @param rawCanvas - offscreen canvas element for rendering\n     * @param begin - RGB value\n     * @param middle - RGB value\n     * @param end - RGB value\n     * @returns {Texture.fromCanvas|BaseTexture.fromCanvas}\n     */\n    static __getDynamicLutTexture(rawCanvas, begin, middle, end) {\n        let ctx = rawCanvas.getContext('2d');\n        ctx.fillRect(0, 0, 16, 16);\n        let imgData = ctx.getImageData(0, 0, 16, 16);\n        let data = imgData.data;\n\n        let colorRamp = new ReScatter.utils.ColorRamp();\n        colorRamp.colorIntervals = [begin, middle, end];\n        colorRamp.range = [0, 255];\n\n        for (let i=0; i < 16; i++) {\n            let y = i * 16 * 4;\n            for (let j = 0; j < 16; j++) {\n                let offset = y + (j * 4);\n                let color = colorRamp.getColorInRange(i * 16 + j);\n                color = parseInt(color, 16);\n                data[offset] = (color >>> 16)  & 0xFF;\n                data[offset + 1] = (color >>> 8) & 0xFF;\n                data[offset + 2] = color & 0xFF;\n                data[offset + 3] = 256;\n            }\n        }\n        data[0] = data[1] = data[2] = 0; //force lowest color to 0\n        ctx.putImageData(imgData, 0, 0);\n        return new PIXI.Texture.fromCanvas(rawCanvas, PIXI.SCALE_MODES.NEAREST);\n    };\n\n    /**\n     * Load one of the predefined luts based on the name\n     * @param name\n     * @param callback\n     */\n    setLut(name, callback) {\n        this.currentName = name;\n        this.lutTexture.getLutTexture(name, (texture) => {\n            this.texture = texture;\n            this.uniforms = {\n                colorSampler: {type: 'sampler2D', value: this.texture},\n                background:       {type: '3f', value: [this.background_red, this.background_green, this.background_blue]}\n            };\n            PIXI.AbstractFilter.call(this, null, this.fragmentSrc, this.uniforms);\n            callback();\n        });\n    };\n\n    /**\n     * Returns a JSON object defining with the predefined LUT names in grouped\n     * in to lists each with a descriptive name - e.g. Divergings maps, Perceptually uniform\n     * @returns {*}\n     */\n    getLutNames() {\n        return this.lutTexture.getLutNames();\n    }\n};\n//</Class for LUTFilter>\n\n","import * as protocol from 'protoduck';\n\nconst SnapshotProtocolForCanvas = protocol.define(['index'], {\n    getNumberofCanvases: [], // get the number of canvases to be saved\n    getCanvasNameAtIndex: ['index'], // get the blob at index\n    getCanvasAtIndex: ['index'] // get the blob at index\n});\n\nconst SnapshotProtocolForSVG = protocol.define(['index'], {\n    getNumberofSVGFragments: [], // get the number of svg fragments to be saved\n    getSVGNameAtIndex: ['index'], // get the blob at index\n    getSVGTextAtIndex: ['index'], // get the svg text at the given index\n    getCSSTextAtIndex: ['index'] // get the svg text at the given index\n});\n\nexport {SnapshotProtocolForCanvas, SnapshotProtocolForSVG};\n","import ChoroplethProtocol from '../../protocols/ChoroplethProtocol';\nimport {SnapshotProtocolForSVG} from \"../../protocols/SnapShotProtocols\";\n\n/**\n * A Choropleth view based simply on SVG base maps\n */\nclass ChoroplethSVGView {\n    constructor(containerId) {\n        this.svgId = containerId;\n    }\n}\n\nChoroplethProtocol.impl(ChoroplethSVGView, [], {\n    onPlethResize() {\n        // for svg there is nothing to do - it scales automatically\n    },\n\n    loadPleth() {\n        this.locatorRoot = document.body.querySelector('#' + this.svgId);\n    },\n\n    // Here the assumption is that a choropleth region is locatable by\n    // path[structure_id=\"<region_id>\"].css({fill: <color>});\n    /*\n     * Set the color of each region in the svg files to white.\n     * Note the use of $(this) - i.e. using jQuery as a handy way of\n     * manipulating the SVG style - functions: .find() .each() .css() and .attr()\n     */\n    clearPlethColors () {\n        \"use strict\";\n        $(this.locatorRoot)\n            .find(\"path[structure_id]\").each(function () {\n                //alert($(this).css(\"fill\"));\n                $(this).css(\"fill\", \"#ffffff\");\n            });\n    },\n\n    /*\n    * Save the pleth colors to a private namespace attribute iedata:savefill\n     */\n    savePlethColors () {\n        \"use strict\";\n        $(this.locatorRoot)\n            .find(\"path[structure_id]\").each(function () {\n                let fillColor = $(this).css(\"fill\");\n                $(this).attr(\"iedata:savefill\", fillColor);\n            });\n    },\n\n    /*\n     * Restore pleth colors from the iedata:savefill attribute\n     */\n\n    restorePlethColors () {\n        \"use strict\";\n        $(this.locatorRoot)\n            .find(\"path[structure_id]\").each(function () {\n                let fillColor = $(this).attr(\"iedata:savefill\");\n                $(this).css(\"fill\", fillColor);\n            });\n    },\n\n    // And array of values is given and a color is applied\n    // based on a scaled version of this (between 0 and 1.\n    // This functio could be user supplied as part of the mapping\n    setPlethColorsFromMap (colorMap) {\n        \"use strict\";\n        let convert = x => x;\n        // allow numeric RGB values\n        if (typeof(colorMap[0]) === 'number') {\n            convert = x => {return '#' + x.toString(16);}\n        }\n        let regions = Object.keys(colorMap);\n        let self = this;\n        regions.map(function(regionId){\n            $(self.locatorRoot)\n                .find('path[structure_id=\"' + regionId + '\"]')\n                    .css(\"fill\", convert(colorMap[regionId]));\n            //console.log('Region: ' + regionId + ' color: ' + colorMap[regionId]);\n        });\n    }\n});\n\n\n// Implement a snapshot protocol to allow screen capture\nSnapshotProtocolForSVG.impl(ChoroplethSVGView, [], {\n    getNumberofSVGFragments() {\n        let thematicMapId = ReScatter.layoutManager.getCanvasSvgId();\n        if (thematicMapId !== null) {\n            let rootDiv = document.getElementById(thematicMapId);\n            return rootDiv.childNodes.length;\n        }\n        return 0; // We have a single canvas\n    },\n\n    getSVGNameAtIndex(index) {\n        return 'thematicmap_' + index;\n    },\n\n    getSVGTextAtIndex(index) {\n        let thematicMapId = ReScatter.layoutManager.getCanvasSvgId();\n        if (thematicMapId !== null) {\n            let rootDiv = document.getElementById(thematicMapId);\n            return rootDiv.childNodes[index].innerHTML;\n        }\n        return ''; // No svgs\n    },\n\n    getCSSTextAtIndex(index) {\n        // Could do this for the children if using css : return window.getComputedStyle(document.querySelector('#' + this.elementId).children[0]).cssText;\n        return '';\n    }\n});\n\nexport default ChoroplethSVGView;\n","/**\n * Created by baldur on 25-11-16.\n * Migrated to ES6 10-07-17\n */\n\n//<Class definition for the ColorRamp>\n/**\n * Map a numeric range to a color interval.\n * Color intervals are restricted to RGB for now\n * TODO extend color intervals to support HSV\n */\nexport default class ColorRamp  {\n\n    static get InterpolationEnum() {return {\n        RGB: 0,\n        HSV: 1\n    };}\n\n    constructor() {\n        this._range = [0, 255];\n        this._colorArray = [0xFF0000, 0xFFFFFF, 0x0000FF];\n        this._intervals = [];\n    };\n\n    /**\n     * Get the currently defined numeric range\n     * @returns {[number, number]}\n     */\n    get range() {\n        return this._range;\n    };\n\n    /**\n     * Set a new numeric range to map\n     * @param {[number, number]} newRange - array containing a lower and upper bound for the range\n     */\n    set range(newRange) {\n        if (newRange.length !== 2) {\n            return;\n        }\n        if (newRange[1] <= newRange[0]) {\n            return;\n        }\n        this._range = newRange;\n        this._refreshColorIntervals();\n    };\n\n    /**\n     * Get the currently defined color intervals\n     * @returns {Array<number>}\n     */\n    get colorIntervals() {\n        return this._colorArray;\n    };\n\n    /**\n     * Set array of RGB colors to use as interpolation intervals.\n     * At least one RGB color is required.\n     * @param {Array<number>} rgbArray One or more RGB colours (0x000000 - 0xFFFFFF) to interpolate\n     */\n    set colorIntervals(rgbArray) {\n        // validate\n        rgbArray.map(function(val){ return Math.round(val);});\n        rgbArray.forEach(function(val) {\n            if (0 > val || val > 0xFFFFFF) {\n                throw(new Error('Color value outside RGB range'));\n            }\n        });\n        this._colorArray = rgbArray;\n        this._refreshColorIntervals();\n    };\n\n    /**\n     * Get the color coresponding to the value\n     * @param val\n     * @returns {number} RGB value\n     */\n    getColorInRange(val /*, interpolationEnum*/) { /*@param interpolationEnum - currently ignored*/\n        if (val < this._range[0]) {\n            val = this._range[0];\n        }\n\n        if (val > this._range[1]) {\n            val = this._range[1];\n        }\n        //var inter = interpolationEnum || this.InterpolationEnum.ColorRamp.RGB;\n        // currently HSV is not implemented\n        return this._rgbInterpolate(val);\n\n    };\n\n    // The colors are simply linearily interpolated on RGB\n    _rgbInterpolate(val) {\n        // simply interpolate the rgb values\n        // based on the current subrange\n        let rsize = this._range[1] - this._range[0];\n        let numIntervals = this._colorArray.length - 1;\n        let offset = (val - this._range[0]);\n        let interval = (offset < rsize) ? Math.floor((offset/rsize) * numIntervals) : numIntervals - 1;\n\n        let cInt = this._intervals[interval];\n        let subRange = rsize/numIntervals;\n        let subOffset = offset - (subRange * interval);\n        return  ((cInt.cr + Math.round(cInt.crStep * subOffset)) << 16) |\n                ((cInt.cg + Math.round(cInt.cgStep * subOffset)) << 8) |\n                (cInt.cb + Math.round(cInt.cbStep * subOffset));\n    };\n\n    // The colors are simply linearily interpolated on Hue (HSV space)\n    // TODO hsv Interpolation\n    _hsvInterpolate() {\n\n    };\n\n    _refreshColorIntervals() {\n        let rsize = this._range[1] - this._range[0];\n        let numIntervals = this._colorArray.length - 1;\n        if (numIntervals < 1) {\n            return;\n        }\n        let subRange = rsize/numIntervals;\n        this._intervals = new Array(numIntervals);\n        // for now just the rgb steps\n        for (let i = 0; i < numIntervals; i++) {\n            let c0 = this._colorArray[i];\n            let c0r = (c0 & 0xFF0000) >>> 16;\n            let c0g = (c0 & 0x00FF00) >>> 8;\n            let c0b = (c0 & 0x0000FF);\n            let c1 = this._colorArray[i + 1];\n            let c1r = (c1 & 0xFF0000) >>> 16;\n            let c1g = (c1 & 0x00FF00) >>> 8;\n            let c1b = c1 & 0x0000FF;\n            this._intervals[i] = {\n                c: c0,\n                cr: c0r,\n                crStep : (c1r - c0r)/subRange,\n                cg: c0g,\n                cgStep : (c1g - c0g)/subRange,\n                cb: c0b,\n                cbStep : (c1b - c0b)/subRange,\n            }\n        }\n\n    }\n\n};\n","/**\n * Created by baldur on 2/15/16.\n * Ported to ES6 11/07/2017 - renames from DownloadSaver to SnapshotSaver\n * and turned into a collection of static functions\n */\nconst FileSaver = require('file-saver');\n\n// polyfill for canvas blob functions from MDN\nif (!HTMLCanvasElement.prototype.toBlob) {\n Object.defineProperty(HTMLCanvasElement.prototype, 'toBlob', {\n  value: function (callback, type, quality) {\n\n    let binStr = atob( this.toDataURL(type, quality).split(',')[1] ),\n        len = binStr.length,\n        arr = new Uint8Array(len);\n\n    for (let i=0; i<len; i++ ) {\n     arr[i] = binStr.charCodeAt(i);\n    }\n\n    callback( new Blob( [arr], {type: type || 'image/png'} ) );\n  }\n });\n}\n\n/**\n * SnapshotSaver is a utility class for saving snapshots of canvasses, SVGs and text\n * to local files.\n */\nexport default class SnapshotSaver {\n\n    static __getCleanupLinkFn (tempLink) {\n        return function() {\n            document.body.removeChild(tempLink);\n        };\n    };\n\n    /**\n     * Given a canvasId render this to a Png and save it in the given file\n     * @param canvasId\n     * @param fileName\n     */\n    static saveCanvasToPng(canvasId, fileName) {\n        let containDiv = document.getElementById(canvasId);\n        let canvas = containDiv.childNodes[0];\n        this.saveRawCanvasToPng(canvas, fileName);\n    };\n\n    static saveRawCanvasToPng(canvas, fileName) {\n        canvas.toBlob((blob) => {\n            //console.log(\" Calling windows.saveas for: \" + fileName);\n            // note there was a bug in Google Chrome 65 that\n            // prevented multi downloads from working reliably\n            // see https://github.com/sindresorhus/multi-download/issues/19\n            FileSaver.saveAs(blob, fileName);\n        });\n    }\n\n    /**\n     * Given a DOM element id containing text that text is saved to a file of given name\n     * @param textId\n     * @param fileName\n     */\n    static saveTextToFile(textId, fileName) {\n        let text = $(textId).text();\n        FileSaver.saveAs(\n            new Blob([text], {type: \"text/plain;charset=\" + document.characterSet}),\n            fileName\n\t    );\n    };\n\n    static __createImgOnLoad(fileName, img) {\n\n        return function() {\n            // make a canvas of the desired width and height\n            // and draw the image onto it\n            let rawCanvas = document.createElement('canvas'); // my offscreen canvas\n            rawCanvas.width = img.width;\n            rawCanvas.height = img.height;\n            let ctx = rawCanvas.getContext('2d');\n            ctx.drawImage(img, 0, 0, rawCanvas.width, rawCanvas.height);\n            rawCanvas.toBlob((blob)=>{\n                FileSaver.saveAs(blob, fileName);\n            });\n        };\n    };\n\n    // Includes:\n    // 1) A workaround for firefox bug where drawImage does not work\n    // without a rect with width and height see https://bugzilla.mozilla.org/show_bug.cgi?id=700533\n    // and http://stackoverflow.com/questions/28690643/firefox-svg-canvas-drawimage-error/28692538#28692538\n    //\n    // 2) Injection of the css into a <style> element\n    //\n    // 3) Addition of the namespace\n    //\n    // The code here could be more efficient but the easiest way to deal with all situations\n    // is to parse the SVG to a DOM tree and manipulate the attributes.\n    static __formatSVGForRendering(svgText, cssText) {\n        // get the width and height from the viewBox in the SVG header\n        let viewData = svgText.match(/viewBox=\\\"\\d+ \\d+ (\\d+) (\\d+)\\\"/i); // i - don't be picky about case\n        let parser = new DOMParser();\n        let doc = parser.parseFromString(svgText, \"image/svg+xml\");\n        let width = 0;\n        let height = 0;\n        if (doc.children[0].hasAttribute('width') && doc.children[0].hasAttribute('height')) {\n            width = parseInt(doc.children[0].getAttribute(\"width\"));\n            height = parseInt(doc.children[0].getAttribute(\"height\"));\n        } else {\n            if (viewData.length >= 3) {\n                width = viewData[1];\n                height = viewData[2];\n                doc.children[0].setAttribute(\"width\", width + \"px\");\n                doc.children[0].setAttribute(\"height\", height + \"px\");\n            }\n        }\n        // namespace\n        if (!doc.children[0].hasAttribute('xmlns')) {\n            doc.children[0].setAttribute('xmlns', 'http://www.w3.org/2000/svg')\n        }\n        //css\n        if (cssText) {\n            let styleEl = doc.createElement('style');\n            styleEl.innerHTML = '/* <![CDATA[ */' + cssText + '/* ]]> */';\n            doc.children[0].appendChild(styleEl);\n        }\n        let serial = new XMLSerializer();\n        let svgString = serial.serializeToString(doc);\n        return {svgString, width, height};\n    };\n\n    /**\n     * Given the id of a DIV containing an svg. The svg is saved to a png file with the given name.\n     * The svg must have a viewBox in the header where the function can find the width and height.\n     * TODO make this more flexible.\n     * @param rootDivId\n     * @param save_name\n     */\n   static saveSvgChildrenToPng(rootDivId, save_name) {\n        let rootDiv = document.getElementById(rootDivId);\n        for (let i=0; i < rootDiv.childNodes.length; i++) {\n            let svgNode = rootDiv.childNodes[i];\n            this.saveSvgFragmentToPng(svgNode.innerHTML, save_name);\n        }\n   };\n\n    /**\n     * Given a complete svg fragment render it to a hidden canvas\n     * and save the result as a png\n     * @param svgFrag\n     * @param save_name\n     */\n    static saveSvgFragmentToPng(svgFrag, cssFrag, save_name) {\n        let {svgString, width, height} = this.__formatSVGForRendering(svgFrag, cssFrag);\n\n        let svgBlob = new Blob([svgString], {type: 'image/svg+xml;charset=utf-8'});\n        let DOMURL = window.URL || window.webkitURL || window;\n        let fileName = save_name + '.png';\n        // Create a new image to render the svg\n        let img = new Image(width * 2, height * 2);\n        // As the image loads an off-screen canvas is created with the svg rendered\n        // then the canvas blob is saved as png.\n        img.onload = this.__createImgOnLoad(fileName, img);\n        img.src = DOMURL.createObjectURL(svgBlob);\n    };\n}\n\n","/**\n * Created by bvanlew on 26-7-17.\n */\n/**\n *\n */\nexport default class LookupEnum {\n    /**\n     * Call new LookupEnum with an object comprising keys and strings\n     * e.g.:\n     * var ThreeBlokesEnum = new LookupEnum({\n     *      TOM: 'Tom',\n     *      DICK: 'Dick',\n     *      HARRY: 'Harry'\n     * };\n     *\n     * @param enumObj - an object comprising keys and strings\n     */\n    constructor(enumObj) {\n        this.enum = {};\n        this.revEnum = {};\n        Object.keys(enumObj).forEach(function (val) {\n            this.enum[val] = enumObj[val];\n            this.revEnum[enumObj[val]] = val;\n        }, this);\n    }\n}\n","/**\n * Created by bvanlew on 3-8-17.\n */\nexport const CONTROL_ID = {\n    WIDGETS: \"ReScatter_ControlId_Widgets\",\n    CHOROPLETH: \"ReScatter_ControlId_Choropleth\",\n    IMAGESTRIPFOOTER: \"ReScatter_ControlId_ImageStripFooter\",\n    CHARTS: \"ReScatter_ControlId_Charts\",\n    LEFTSPLITTER: \"ReScatter_ControlId_LeftSplitter\",\n    RIGHTSPLITTER: \"ReScatter_ControlId_RightSplitter\",\n    TUTORIAL: \"ReScatter_ControlId_Tutorial\",\n    TUTORIALCHECKBOX: \"ReScatter_ControlId_TutorialCheckbox\",\n    TOOLTIPCHECKBOX: \"ReScatter_ControlId_TooltipCheckbox\",\n    ANNOTATECHOROPLETH: \"ReScatter_ControlId_AnnotateChoropleth\",\n    SELECTIONINFO: \"ReScatter_ControlId_SelectionInfo\",\n    PLOTMENU: \"ReScatter_ControlId_PlotMenu\",\n    EXTERNCONTAINER: \"ReScatter_ControlId_ExternContainer\",\n    LOADINGOVERLAY: \"ReScatter_ControlId_LoadingOverlay\",\n    LOADINGPROMPT: \"ReScatter_ControlId_LoadingPrompt\",\n    JOBMONITOR: \"ReScatter_ControlId_JobMonitor\",\n};\n","export { default as ColorRamp} from './ColorRamp';\nexport { default as SnapshotSaver} from './SnapshotSaver';\nexport { default as LookupEnum } from './LookupEnum';\n\nimport {CONTROL_ID as CONTROL_ID} from './const';\n\n/**\n * Converts a LookupEnum object to a list of strings\n * @param enumObj\n * @returns {Array}\n */\nexport function enumToOptions(enumObj) {\n    let options = [];\n    Object.keys(enumObj.enum).forEach(function(val) {\n        options.push(enumObj.enum[val]);\n    });\n    return options;\n}\n\n/**\n * Convert an RGB integer to a 6 digit hexadecimal string preceeded by #\n * @param colorint\n * @returns {string}\n */\nexport function css_color_string_from_int(colorint) {\n    let colorString = colorint.toString(16);\n    if (colorString.length > 6) {\n        throw new RangeError('Value too large to convert to 6 digit hexadecimal: ' + colorint);\n    }\n    return \"#000000\".slice(0,-colorString.length) + colorString;\n}\n\nexport function isVivaldiBrowser () {\n    let agent = navigator.userAgent;\n    return (agent.indexOf('Vivaldi') > -1);\n}\n\nexport function sortAndUnique (array) {\n    return array.sort().filter(function(val, index, array) {\n      return (index === 0 || val !== array[index -1]);\n    });\n};\n\nexport function css_color_from_hextriplet (hex_triplet) {\n    let textCol = (parseInt(\"0x\"+hex_triplet, 16) > 0xffffff/2) ? 'black':'white';\n    let backCol = \"#\"+hex_triplet;\n    return {\"color\":textCol, \"background-color\":backCol};\n}\n\n\nexport function style_from_hextriplet (hex_triplet) {\n    let obj = css_color_from_hextriplet(hex_triplet);\n    let styleString = \" style=\\'\";\n    for (let property in obj) {\n        if (obj.hasOwnProperty(property)) {\n            styleString = styleString + property + \":\" + obj[property] + \"; \";\n        }\n    }\n    styleString = styleString + \"\\' \";\n    return styleString;\n}\n\nexport function int_from_css_color_string (colorString) {\n    return parseInt(colorString.replace('#', '0x'));\n};\n\n\n/**\n * Check which ReScatter.CONTROL_ID div ids are present,\n * if debug is enabled alert missing or unrecognized ids,\n * replace the ids with their string definitions in the document DOM.\n *\n * return an array of the control ID's that\n */\nexport function control_ids_to_strings() {\n    \"use strict\";\n    // first get all control type IDS\n    let allControlNodes = document.querySelectorAll(\"[id^='ReScatter.CONTROL_ID']\");\n    let allInDocument = new Set();\n    for (let node of allControlNodes) {\n        allInDocument.add(node.id);\n    }\n    let prefix = \"ReScatter.CONTROL_ID.\";\n    let idList = Object.getOwnPropertyNames(CONTROL_ID);\n    let prefixedIdList = idList.map(x => {return prefix + x;});\n    let unmatchedInDocument = new Set([...allInDocument].filter(x => !prefixedIdList.includes(x)));\n    if (ReScatter.debugOn && unmatchedInDocument.size > 0) {\n        alert('ReScatter config detected unknown control ids in the html: '\n            + Array.from(unmatchedInDocument));\n    }\n\n    let unmatchedInReScatter = new Set();\n    // Replace CONTROL_ID definitions in the DOM with the actual string values\n    idList.forEach(function(val) {\n        let searchString = \"[id='\" + prefix + val + \"']\";\n        let nodeList = document.querySelectorAll(searchString);\n        if (nodeList.length === 0) {\n            unmatchedInReScatter.add(val);\n        }\n        for (let item of nodeList) {\n            item.id = CONTROL_ID[val];\n        }\n    });\n    if (ReScatter.debugOn && unmatchedInReScatter.size > 0) {\n        alert('ReScatter config detected unused control ids in the html: '\n            + Array.from(unmatchedInReScatter));\n    }\n    return Array.from(allInDocument)\n}\n\nexport function hide_container_behind(self) {\n    self.parentNode.style.display = \"none\";\n    self.parentNode.style.zIndex = -200;\n}\n\nexport function log(message) {\n    \"use strict\";\n    if (ReScatter.debugOn) {\n        console.log(message);\n    }\n}\n\nexport function warn(message) {\n    \"use strict\";\n    if (ReScatter.debugOn) {\n        console.warn(message);\n    }\n}\n\nexport function error(message) {\n    \"use strict\";\n    if (ReScatter.debugOn) {\n        console.error(message);\n    }\n}\n","import * as protocol from 'protoduck';\n\n/**\n * A plot is a display of point data that can be loacated in the ReScatter grid.\n * The basic interface is minimal comprising loading of the points\n * and handling the resize event\n */\nconst ControlProtocol = protocol.define(['context'], {\n    onControlEvent: ['context'], // Handle the control events that are required for this component\n});\n\nexport default ControlProtocol;\n","/**\n * Created by bvanlew on 24-7-17.\n */\n/**\n * Created by baldur on 10/13/15.\n */\n\n//</Class definition for the ObserverList/>\n//ObjectList and Observable stolen from Addy Osmani\n//http://addyosmani.com/resources/essentialjsdesignpatterns/book/#observerpatternjavascript\n\nclass ObserverList{\n    constructor ()\n    {\n        \"use strict\";\n        this.observerList = [];\n    }\n\n    add ( obj ){\n        \"use strict\";\n        return this.observerList.push( obj );\n    }\n\n    count (){\n        \"use strict\";\n        return this.observerList.length;\n    }\n\n    get ( index ){\n        \"use strict\";\n        if( index > -1 && index < this.observerList.length ){\n            return this.observerList[ index ];\n        }\n    }\n\n    indexOf ( obj, startIndex ){\n        \"use strict\";\n        let i = startIndex;\n\n        while( i < this.observerList.length ){\n        if( this.observerList[i] === obj ){\n            return i;\n        }\n            i++;\n        }\n        return -1;\n    }\n\n    removeAt ( index ){\n        \"use strict\";\n        this.observerList.splice( index, 1 );\n    }\n};\n\n\n//</Class definition for the ObserverList/>\n\n//<Class definition for the Observable/>\nexport default class Observable{\n    constructor(notifyName){\n        \"use strict\";\n        this.observers = new ObserverList();\n        this.notifyName = notifyName;\n    }\n\n    addObserver ( observer ){\n        \"use strict\";\n        this.observers.add( observer );\n    }\n\n    removeObserver ( observer ){\n        \"use strict\";\n        this.observers.removeAt( this.observers.indexOf( observer, 0 ) );\n    }\n\n    removeAllObservers () {\n        \"use strict\";\n        let numObservers = this.observers.count();\n        for (let i=0; i<numObservers; i++) {\n            this.observers.removeAt(0);\n        }\n    }\n\n    notify ( context ) {\n        \"use strict\";\n        let observerCount = this.observers.count();\n        for (let i = 0; i < observerCount; i++) {\n            let observer = this.observers.get(i);\n            let notifyFn = observer[this.notifyName];\n            if (notifyFn !== undefined) {\n                notifyFn.call(observer, context);\n            }\n        }\n    }\n};\n//</Class definition for the Observable/>\n","/**\n * Created by bvanlew on 24-7-17.\n */\n/**\n * Created by baldur on 11/10/15.\n * ES6 port 24/07/2017\n */\n\nimport ControlProtocol from '../protocols/ControlProtocol';\nimport Observable from './Observable';\n\n// On put a previous selection of the same name is over written.\n//<Class definition for the ControlEventModel>\n// Use PubSubJS for event/subscriber\n\n/**\n * Class designed to be used for simple synchronous control Event notifications\n */\nexport default class ControlEventModel extends Observable{\n    constructor() {\n        \"use strict\";\n        super(\"onControlEvent\");\n        this.activeSelection = undefined;\n    }\n\n    /**\n     * Submit an event for the subscribers\n     * @param eventName - a unique label for the control event to allow the subscriber to filter\n     * @param event - the event details\n     */\n    putControlEventModel (eventName, event) {\n        // eventName -\n        // event - the event details\n        \"use strict\";\n        this.notify({'eventName': eventName, 'event': event});\n    }\n\n    addObserver(observer) {\n        if(!ControlProtocol.hasImpl(observer)) {\n            alert('ControlEvent observer: ' + observer.constructor.name + \" must implement the ControlProtocol\");\n        }\n        super.addObserver(observer);\n    }\n}\n\n\n//</Class definition for the ControlEventModel>\n","/**\n * Created by bvanlew on 2015.\n * Ported to ES6 24-7-17.\n */\n\nimport Observable from '../events/Observable';\n// Similar to Selection model except that a dynamic selection\n// has two operation put and delete. Only provides a single point\n// On put a previous\n// selection of the same name is over written.\n//<Class definition for the DynamicSelection>\n// Use PubSubJS for event/subscriber\n\nexport default class DynamicSelection extends Observable {\n    constructor () {\n        \"use strict\";\n        // superclass constructor\n        super(\"update\");\n        // a brush selection is an object {'originator': originator, 'dataPoints': dataPoints};\n        this.activeSelection = undefined;\n    };\n\n    /**\n     * Send a dynamic selection signal (these are not set in the selection control)\n     * @param originator - the originating view for the selection\n     * @param dataPoints - a list containing point indexes\n     * @param color - an RGB colour used to display this selection\n     * @param id - the selection id in the plot data description\n     * @param sourceProps - meta data for the source points\n     */\n    putDynamicSelection (originator, dataPoints, color, id, sourceProps) {\n        // originator - the originating view for the selection\n        // dataPoints - a list containing coordinate {'x': , 'y': } tuples\n        // color - an RGB colour used to display this selection\n        // description - text\n        // id - the selection id in the plot data description\n        \"use strict\";\n        color = typeof color !== 'undefined' ?  color : 0x772222;\n        //this.removeDynamicSelection();\n        this.activeSelection = {'originator': originator,\n            'dataPoints': dataPoints,\n            'color': color,\n            'selectionId': id,\n            'sourceProps': sourceProps\n        };\n        // add the selection\n        this.notify({'type':'dyna', 'op':'create', 'sel': this.activeSelection, 'id': id, 'background':false});\n    }\n\n    /**\n     * Send a transitive selection signal. These are picked up by another widget and\n     * retransmitted based on a mapping. Can be used to give multiple views of the same data .\n     * e.g. Sample plot in brainscope and the brain choropleth. The choropleth generates\n     * transitive selections.\n     * @param originator - originator view for the selection\n     * @param dataPoints - a list of point indexes\n     * @param color - an dRGB color for the selection\n     * @param id - the selection id in the plot data description\n     */\n    putTransitiveSelection (originator, dataPoints, color, id) {\n        // originator - the originating view for the selection\n        // dataPoints - a list containing coordinate {'x': , 'y': } tuples\n        // color - an RGB colour used to display this selection\n        // id - the selection id in the plot data description\n        \"use strict\";\n        color = typeof color !== 'undefined' ?  color : 0x772222;\n        let activeSelection = {'originator': originator,\n            'dataPoints': dataPoints,\n            'color': color,\n            'selectionId': id};\n        // add the selection\n        this.notify({'type':'dyna', 'op':'transitive', 'sel': activeSelection, 'id': id});\n    }\n\n\n    removeDynamicSelection (id) {\n        if (this.activeSelection && (this.activeSelection.selectionId === id)) {\n            this.notify({'type':'dyna', 'op': 'delete', 'sel': this.activeSelection, 'id': this.activeSelection.selectionId});\n            this.activeSelection = undefined;\n        }\n    }\n\n}\n\n\n//</Class definition for the DynamicSelection>\n","/**\n * StartAction handles queries to the BrainScope page that trigger it to startup differently\n *\n **/\n\n\nexport default class StartupSelection {\n    constructor() {\n    }\n\n    performStartupAction() {\n        this.registerSelectionMessageListener();\n        if ($('#rescatter-data') && $('#rescatter-data').attr(\"data-start-selection\")) {\n            let startupSelection = JSON.parse($('#rescatter-data').attr(\"data-start-selection\"));\n            ReScatter.dimres_url= null;\n            if (startupSelection.dimres_url) {\n                ReScatter.dimres_url = startupSelection.dimres_url;\n            }\n            if (!startupSelection.display) {\n                StartupSelection.sendReadyMessageToOpener();\n                return;\n            }\n            ReScatter.viewController.loadLayoutByIndex(startupSelection.display, () => {\n                StartupSelection.addSelection(startupSelection);\n                ReScatter.selectionDataWidget.expand();\n            });\n        }\n    }\n\n    static addSelection(startupSelection) {\n        // Load data set based on display and then output selection\n        //\n        // This function is more ore less duplicated from the SelectionUploadWidget\n        // TOD improve design here\n        try {\n            let values = startupSelection.selection.split(',');\n            let description = startupSelection.description;\n            let target = startupSelection.group;\n            let propName = startupSelection.property;\n            let color = startupSelection.color || 0x772222;\n            let selectionIndices = [];\n            let originator = \"data-start-selection\";\n            values.forEach(function (val) {\n                // case insensitive matches allow\n                selectionIndices = selectionIndices.concat(ReScatter.dataModel.getSelectionIndex(target, propName, val));\n            });\n            let label = ReScatter.selectionModel.getNewLabel(target);\n            ReScatter.selectionModel.putSelection(\n                label,\n                originator,\n                selectionIndices,\n                color,\n                description,\n                target,\n                undefined, // no source props\n                true // add in background for speed\n            );\n            //ReScatter.selectionModel.showSelection(label);\n\n        }\n        catch(error) {\n            console.log(\"Could not process query:\" + error);\n        }\n    }\n\n    static sendReadyMessageToOpener() {\n        if (!window.opener) {\n            return;\n        }\n        window.opener.postMessage(\"BrainScope ready\", '*');\n    }\n\n    registerSelectionMessageListener() {\n        window.addEventListener(\"message\", StartupSelection.receiveSelectionMessage, {capture: true});\n    }\n\n    static receiveSelectionMessage(event) {\n        if (typeof(event.data) !== 'string') {\n            return;\n        }\n\n        let data = event.data;\n        let selMessage;\n        try {\n            selMessage = JSON.parse(event.data);\n        } catch(e) {\n            return;\n        }\n        if (!selMessage.display || !selMessage.group || !selMessage.property || !selMessage.selections) {\n            return;\n        }\n        event.stopPropagation();\n        window.removeEventListener(\"message\", StartupSelection.receiveSelectionMessage);\n        let startTime = Date.now();\n\n        ReScatter.viewController.loadLayoutByIndex(selMessage.display, () => {\n            ReScatter.controlEventModel.putControlEventModel('showProgress', {});\n            ReScatter.controlEventModel.putControlEventModel('selectionsProgress', {\n                selectionState: \"Loading additional selections\"\n            });\n            //console.log(\"started: \" + startTime);\n            ReScatter.selectionDataWidget.expand();\n            function addSelection(i, selections) {\n                let sel = selections[i];\n                let nameAndValues = sel.split(':');\n                let newSelection = {\n                    description: nameAndValues[0],\n                    selection: nameAndValues[2],\n                    group: selMessage.group,\n                    property: selMessage.property,\n                    display: selMessage.display,\n                    color: parseInt(nameAndValues[1]),\n                };\n                ReScatter.controlEventModel.putControlEventModel('selectionsProgress', {\n                    selectionState: \"Loading selection: \" + newSelection.description\n                });\n                //console.log(\"add selection time: \" + (Date.now() - startTime));\n                StartupSelection.addSelection(newSelection);\n                if ((i + 1) < selections.length) {\n                    setTimeout(addSelection(i+1, selections), 100);\n                } else {\n                    ReScatter.controlEventModel.putControlEventModel('hideProgress', {});\n                }\n            };\n            addSelection(0, selMessage.selections.split(';'));\n        });\n\n\n        //console.log(event.data);\n    }\n}\n","/**\n * Created by baldur as SimpleImageLoader on 10/27/15.\n * Ported to ES by bvanlew on 21-7-17.\n */\n/*\n * SimpleChoroplethLoader allows the definition of a single SVG image to be displayed as a choropleth\n */\nexport default class SimpleChoroplethLoader {\n    constructor(svgTemplate, svgList) {\n        this.svgidList = svgList;\n        this.svgRetrieveTemplate = svgTemplate;\n    };\n\n\n    loadImages(svgIdArray) {\n        let svgIdIndexArray = [];\n        svgIdArray.forEach(function (val, index, array) {\n            let svgIndex = this.svgidList.indexOf(val);\n            if (svgIndex >= 0) {\n                svgIdIndexArray.push({id: val, index: svgIndex});\n            }\n        }, this);\n        ReScatter.choroplethControl.addSvgs(\n            svgIdIndexArray,\n            this.svgRetrieveTemplate\n        );\n    }\n}\n\n\n","/**\n * Created by baldur on 03/01/16.\n * Ported to ES6 by bvanlew on 21-7-17.\n */\nlet instance = null;\n\n//\n// Implementation note: ToolTipController is a singleton\n// Calling new on ToolTipController() returns a single instance\n\n// ToolTipControl relies on ToolTipTemplates <template></template>\n// defined in ToolTipTemplates.html which is\n// imported into the base page macro\nexport default class ToolTipController {\n    constructor () {\n        if (instance) {\n            return instance;\n        }\n        this.enabled = false;\n        instance = this;\n        return instance;\n    }\n\n    setupToolTip(toolTipTarget) {\n        let IMETooltipId = toolTipTarget.getAttribute('data-ime-tooltip-id');\n        let template = document.querySelector('#' + IMETooltipId);\n        if (template === null) {\n            return;\n        }\n        toolTipTarget.setAttribute(\"data-toggle\",\"tooltip\");\n        toolTipTarget.setAttribute(\"data-html\",\"true\");\n        toolTipTarget.setAttribute(\"title\",template.innerHTML);\n    }\n\n    setupAllToolTips() {\n        let toolTipTargets = document.querySelectorAll(\"[data-IME-tooltip-id]\");\n        if (toolTipTargets === null) {\n            return;\n        }\n        for (let i= 0, len=toolTipTargets.length; i<len; i++) {\n            this.setupToolTip(toolTipTargets.item(i));\n        }\n    }\n\n    enableToolTips() {\n        $('[data-toggle=\"tooltip\"]').tooltip('enable');\n        this.enabled = true;\n        this.updateCheckBox();\n    }\n\n    disableToolTips() {\n        $('[data-toggle=\"tooltip\"]').tooltip('disable');\n        this.enabled = false;\n        this.updateCheckBox();\n    }\n\n    syncToolTips() {\n        $('[data-toggle=\"tooltip\"]').tooltip(this.getEnabledState());\n    }\n\n    getEnabledState() {\n        if (this.enabled) {\n            return 'enable';\n        } else {\n            return 'disable';\n        }\n    }\n\n    addTooltip(id, tooltipId, placement, displayContainer) {\n        let checkbox = document.querySelector('#' + ReScatter.CONTROL_ID.TOOLTIPCHECKBOX);\n        if (!checkbox) {\n            return;\n        }\n        let element = document.querySelector('#' + id);\n        if (element.getAttribute('data-ime-tooltip-id') !== null) {\n            return;\n        }\n        element.setAttribute('data-ime-tooltip-id', tooltipId);\n        element.setAttribute('data-placement', placement);\n        if (displayContainer !== undefined) {\n            element.setAttribute('data-container', displayContainer);\n        }\n        this.setupToolTip(element);\n        if ($('#' + id).tooltip) {\n            $('#' + id).tooltip(this.getEnabledState());\n        }\n    }\n\n    addTooltipToWebixControl(webixControl, tooltipId, placement, displayContainer) {\n        let x = webixControl.getNode();\n        x.setAttribute('data-ime-tooltip-id', tooltipId);\n        x.setAttribute('data-placement', placement);\n        if (displayContainer !== undefined) {\n            x.setAttribute('data-container', displayContainer);\n        }\n    }\n\n    removeToolTips() {\n        //TODO make a function to destroy the tooltip on an element\n    }\n\n    changedToolTipVisibility() {\n        let checkbox = document.querySelector('#' + ReScatter.CONTROL_ID.TOOLTIPCHECKBOX);\n        if (!checkbox) {\n            return;\n        }\n        if (checkbox.checked) {\n            this.disableToolTips();\n        } else {\n            this.enableToolTips();\n        }\n    }\n\n    updateCheckBox() {\n        let checkbox = document.querySelector('#' + ReScatter.CONTROL_ID.TOOLTIPCHECKBOX);\n        if (!checkbox) {\n            return;\n        }\n        if (this.enabled) {\n            checkbox.nextSibling.data = \"Disable tooltips\";\n        } else {\n            checkbox.nextSibling.data = \"Enable tooltips\";\n        }\n    }\n};\n\n\n","/**\n * Created by baldur on 10/27/15.\n * Ported to ES6 by bvanlew on 21-7-17.\n */\n/*\n * ImageStripChoroplethLoader allow the user to configure list of SVG images that can function as choropleths.\n * The images can be loaded from a local or remote URL. Default images are loaded and an interactive list of\n * thumbnal images is provided to allow a user to select and remove active images.\n */\nimport ToolTipController from '../layout/ToolTipController';\nlet toolTipController = new ToolTipController();\n\nexport default class ImageStripChoroplethLoader {\n    constructor (stripElementId, svgTemplate, thumbnailTemplate, svgList) {\n        \"use strict\";\n\n        // a brush selection is an object {'originator': originator, 'dataPoints': dataPoints};\n        this.svgRetrieveTemplate = svgTemplate;\n        this.thumbnailTemplate = thumbnailTemplate;\n        this.svgidList = svgList;\n        this.stripElementId = stripElementId;\n\n        this.imageElements = {};\n        this.selected = [];\n\n        this.__initialize();\n\n    }\n\n    imageClicked(retrieveTemplate, e) {\n        let imgElement = e.target;\n        let selectedIdx;\n        if (imgElement.className === 'selected_thumbnail') {\n            imgElement.className = 'unselected_thumbnail';\n            ReScatter.choroplethControl.removeSvg(imgElement.dataset.svgindex);\n            selectedIdx = this.selected.indexOf(imgElement.dataset.svgid);\n            if (selectedIdx >= 0) {\n                this.selected.splice(selectedIdx, 1);\n            }\n        } else {\n            imgElement.className = 'selected_thumbnail';\n            ReScatter.choroplethControl.addSvg(\n                imgElement.dataset.svgid,\n                imgElement.dataset.svgindex,\n                retrieveTemplate\n            );\n            selectedIdx = this.selected.indexOf(imgElement.dataset.svgid);\n            if (selectedIdx === -1) {\n                this.selected.push(imgElement.dataset.svgid);\n            }\n        }\n    }\n\n    __initialize() {\n        window.setTimeout(this.__populateImageStrip.bind(this), 2000);\n    }\n\n    __populateImageStrip() {\n        let thumbnailStrip = document.getElementById(this.stripElementId);\n        toolTipController.addTooltip(this.stripElementId, 'IMEChoroplethStrip', 'top');\n        //let docfrag = document.createDocumentFragment();\n        this.svgidList.forEach(function (elem, index) {\n            let imgNode = document.createElement(\"img\");\n            imgNode.src = this.thumbnailTemplate.replace(\"<svgid>\", elem);\n            imgNode.className = \"unselected_thumbnail\";\n            imgNode.onclick = this.imageClicked.bind(this, this.svgRetrieveTemplate);\n            imgNode.setAttribute(\"data-svgid\", elem); //custom attr with id\n            imgNode.setAttribute(\"data-svgindex\", index); //custom attr with id\n            this.imageElements[elem] = imgNode;\n            thumbnailStrip.appendChild(imgNode);\n        }, this);\n        this.selected.forEach(function (val) {\n            this.imageElements[val].className = 'selected_thumbnail';\n        }, this);\n    }\n\n    loadImages (svgIdArray) {\n        let svgIdIndexArray = [];\n        svgIdArray.forEach(function (val) {\n            let svgIndex = this.svgidList.indexOf(val);\n            if (svgIndex >= 0) {\n                svgIdIndexArray.push({id: val, index: svgIndex});\n            }\n            let selectedIdx = this.selected.indexOf(val);\n            if (selectedIdx === -1) {\n                this.selected.push(val);\n            }\n            if (this.imageElements[val]) {\n                this.imageElements[val].className = 'selected_thumbnail';\n            }\n        }, this);\n        ReScatter.choroplethControl.addSvgs(\n            svgIdIndexArray,\n            this.svgRetrieveTemplate\n        );\n    }\n\n};\n","import * as protocol from 'protoduck';\n\n/**\n * A plot is a display of point data that can be loacated in the ReScatter grid.\n * The basic interface is minimal comprising loading of the points\n * and handling the resize event\n */\nconst SelectionProtocol = protocol.define(['context'], {\n    processSelectionEvent: ['context'], // do whatever is needed to refresh the view on resize\n});\n\nexport default SelectionProtocol;\n","/**\n * Original created by baldur on 10/13/15.\n * Migration to ES6 by bvanlew on 24-7-17.\n */\n//</Class definition for the Observable/>\n\nimport SelectionProtocol from '../../protocols/SelectionProtocol';\n\n/**\n * @constructor\n//<Class definition for the SelectionSubscriber>\n * @param {dynamicLimit} - optional integer to limit the number of\n * dynamic selection events held in the queue. If set a maximum of\n * the latest dynamicLimit events are saved.\n *\n * Use this as the base class for subscribers to selection events\n * it preimplements two event queues. One for static selections\n * the other for dynamic selections. If the dynamic selections\n * queue exceeds the dynamicLimit (e.g. mouse over events)\n * some of the oldest events are dumped. Since dynamic selections are transient\n * this is not a problem.\n */\nexport default class SelectionSubscriber{\n    constructor(dynamicLimit) {\n        \"use strict\";\n        if(!SelectionProtocol.hasImpl(new.target)) {\n            alert('SelectionSubscriber child: ' + new.target.name + \" must implement the SelectionProtocol\");\n        }\n        this.selectionEventQueue = [];\n        this.dynamicEventQueue = [];\n        this.dynamicLimit = dynamicLimit;\n        this.processingSelectionEventQueue = false;\n        this.ready = false;\n        this.processLoopTimer = undefined;\n        this.processWatchdogTimer = undefined;\n        this.processTimedout = true;\n    }\n\n    update (context) {\n        \"use strict\";\n        if ((context.type === \"dyna\") && (this.dynamicLimit !== undefined)) {\n            this.dynamicEventQueue.push(context);\n            if (this.dynamicEventQueue.length > this.dynamicLimit) {\n                this.dynamicEventQueue.splice(0, this.dynamicEventQueue.length - this.dynamicLimit);\n            }\n        } else {\n            this.selectionEventQueue.push(context);\n        }\n        if (this.processTimedout) {\n            this.processingLoop(true);\n        }\n    }\n\n    processingDone () {\n        \"use strict\";\n        if (this.processWatchdogTimer) {\n            clearTimeout(this.processWatchdogTimer);\n        }\n        this.processTimedout = false;\n        this.ready = true;\n    }\n\n    /**\n     * @param force - force the processing loop to process the next event\n     *\n     * Call with force=true to start the loop from scratch.\n     * The processing loop is called via a timeout every 10ms.\n     * It checks if selection event processing is finished (indicated by this.ready)\n     * and if so triggers processing of the next event.\n     */\n    processingLoop (force) {\n        \"use strict\";\n        let self = this;\n        if (force && (this.processLoopTimer !== undefined)) {\n            clearTimeout(this.processLoopTimer);\n            if (this.processWatchdogTimer) {\n                clearTimeout(this.processWatchdogTimer);\n            }\n            this.processTimedout = false;\n        }\n        this.ready = force || this.ready;\n        if (this.ready) {\n            this.__processNextEvent();\n        }\n\n        this.processLoopTimer  = setTimeout(function () {\n            self.processingLoop(false);\n        }, 10);\n    }\n\n    /**\n     *\n     * @returns {event} a static or dynamic selection event from the queue or undefined\n     * if there are no outstanding events.\n     * @private\n     * Returns the next event from the static queu (if there is one) failing that\n     * returns from the dynamic queue. Failing that returns undefined.\n     */\n    __getNextSelectionEvent () {\n        \"use strict\";\n        let event;\n        try {\n            if (this.selectionEventQueue.length > 0) {\n                //console.log(\"> Event queue length: \" + this.selectionEventQueue.length + this.id);\n                event = this.selectionEventQueue.shift();\n                //console.log(\"< Event queue length: \" + this.selectionEventQueue.length + this.id);\n            } else if (this.dynamicEventQueue.length > 0) {\n                event = this.dynamicEventQueue.shift();\n            }\n        }catch(e) {\n            console.log(\"Error fetching next event \" + e);\n        }\n        return event;\n    }\n\n    /**\n     * @private\n     * Get the next event to be processed, set this.ready to false to indicate\n     * event in progress and start processing.\n     * A watchdog time with a timeout of 1000ms is started to trap any failing\n     * processing events\n     */\n    __processNextEvent () {\n        \"use strict\";\n        let self = this;\n        let event = this.__getNextSelectionEvent();\n        if (event) {\n            //console.log(\"Event id: \", event.id);\n            this.ready = false;\n            this.processTimedout = false;\n            if (this.processWatchdogTimer) {\n                clearTimeout(this.processWatchdogTimer);\n            }\n            //console.log(\"Processing event \" + this.dumpEvent(event, 2) + \" in \" + this.id);\n            this.processWatchdogTimer = setTimeout(function() {self.processTimedout = true;}, 1000);\n            this.processSelectionEvent(event);\n        }\n    }\n\n    /**\n     * @override\n     * @param context - the selection context object\n     * Subclass must implement this in the SelectionProtocol\n     */\n    //processSelectionEvent (context) {\n    //    \"use strict\";\n    //    alert(\"Oh dear you forgot to override the processSelectionEvent in a Subscriber inheritor!!\");\n        // Always call processingDone when an event has been handled - yes even if it fails.\n    //    this.processingDone();\n    //}\n\n};\n//</Class definition for the Subscriber>\n","import {SnapshotProtocolForCanvas, SnapshotProtocolForSVG} from '../../protocols/SnapShotProtocols';\n\n\n/**\n * SnapShotPerformer can hold references to GUI components\n * tht support either the SnapshotProtocolForCanvas\n * or the SnapshotProtocolForSVG. It offers a functions to\n * snapshot individual or all registered components.\n *\n * Components are typically plots or choropleths but can also\n * include any control widgets that support snapshotting.\n */\nconst SnapShotController = {\n    _svgs: [],\n    _canvases: [],\n\n    /**\n     * Add a component - if the component supports one of the supported snapshot protocols\n     * it is\n     * @param component\n     */\n    addComponent(component) {\n        if (SnapshotProtocolForCanvas.hasImpl(component)) {\n            SnapShotController._canvases.push(component);\n        } else if (SnapshotProtocolForSVG.hasImpl(component)) {\n            SnapShotController._svgs.push(component);\n        }\n    },\n\n    /**\n     * Save PNG snapshots of all components that support the snapshot protocol\n     */\n    snapshotAll() {\n        for (let svgComponent of SnapShotController._svgs) {\n            SnapShotController.__snapShotSvgComponent(svgComponent);\n        }\n        for (let canvasComponent of SnapShotController._canvases) {\n            SnapShotController.__snapShotCanvasComponent(canvasComponent);\n        }\n    },\n\n    snapShotSelected(component) {\n        if (SnapShotController._canvases.includes(component)) {\n            SnapShotController.__snapShotCanvasComponent(component);\n        } else if (SnapShotController._svgs.includes(component)) {\n            SnapShotController.__snapShotSvgComponent(component);\n        }\n\n    },\n\n    clearAll() {\n        SnapShotController._svgs = [];\n        SnapShotController._canvasses = [];\n    },\n\n    __snapShotCanvasComponent(component) {\n        let numSvgs = component.getNumberofCanvases();\n        for (let i = 0; i < numSvgs; i++ ) {\n            let name = component.getCanvasNameAtIndex(i);\n            let canvas = component.getCanvasAtIndex(i);\n            ReScatter.utils.SnapshotSaver.saveRawCanvasToPng(canvas, name);\n        }\n    },\n\n    __snapShotSvgComponent(component) {\n        let numSvgs = component.getNumberofSVGFragments();\n        for (let i = 0; i < numSvgs; i++ ) {\n            let name = component.getSVGNameAtIndex(i);\n            let svgFrag = component.getSVGTextAtIndex(i);\n            let cssFrag = component.getCSSTextAtIndex(i);\n            ReScatter.utils.SnapshotSaver.saveSvgFragmentToPng(svgFrag, cssFrag, name);\n        }\n    }\n};\n\nexport default SnapShotController;\n","/**\n * Created by baldur on 8/5/15.\n * Migrated to ES6 24/7/17\n */\n\nimport SelectionSubscriber from '../common/SelectionSubscriber';\nimport ToolTipController from '../layout/ToolTipController';\nimport SnapShotController from '../snapshot/SnapShotController';\nimport SelectionProtocol from '../../protocols/SelectionProtocol';\nimport ControlProtocol from '../../protocols/ControlProtocol';\n\nlet toolTipController = new ToolTipController();\n\nclass ChoroplethController extends SelectionSubscriber {\n\n    /**\n     * @constructor\n     * A choropleth or thematic map localizer is based on one or more SVG files\n     * from svgPath with identifiable regions.\n     * The supplied SVG must have region ids stored in a tag <path> with\n     * attribute called svg_structure containing an svg path and structure_id\n     * containing the ids corresponding to the list in regionsIndex (obtained from regionsIndexPath).\n     * The order in regionsIndex corresponds to the column order in the\n     * nrrd data at mappng.mapDataPath.\n     * @param svgId - id if the div where the choropleth wil be placed\n     * @param annotateId - id of the (floating) div where choropleth animation will be placed\n     * @param plethDescrip - the pleth description from the the layout\n     */\n    constructor (svgId, annotateId, plethDescrip) {\n        \"use strict\";\n        super(2); // only keep the last 2 dynamic selections\n        this.index_to_brain_regions = []; // Array which maps index to brain regions\n        this.svgId = svgId;\n        this.annotateId = annotateId;\n        this.id = plethDescrip.id;\n        this.selectionIn = plethDescrip.selectionIn;\n        this.dynamicSelectionIn = plethDescrip.dynamicSelectionIn;\n        this.dynamicSelectionOut = plethDescrip.dynamicSelectionOut;\n        this.regionsIndexPath = plethDescrip.region_ids;\n        this.propsPath = plethDescrip.props;\n        this.preselect = plethDescrip.preselect;\n        this.popupAttributeList = plethDescrip.popupAttributeList || [];\n        this.lastColorSet = undefined;\n        this.loadedSvgs = {};\n        this.cachedSvgs = {};\n        this.lastVisibleSelectionContext = undefined;\n        this.selectedIds = [];\n        this.regionsOrdered = [];\n        this.regionMaps = {};\n        this.view = undefined;\n\n    }\n\n    initialize(view) {\n        let self = this;\n        this.view = view;\n        let filesAndTypes = [\n            {path:this.regionsIndexPath, type:'json'},\n            {path:this.propsPath, type:'json'},\n        ];\n        ReScatter.dataModel.dataCache.loadFiles(filesAndTypes,\n            function() {\n                let regionIdData = ReScatter.dataModel.dataCache.getFromCache(self.regionsIndexPath);\n                let propsData = ReScatter.dataModel.dataCache.getFromCache(self.propsPath);\n                self.locatorRoot = document.body.querySelector('#' + self.svgId);\n                self.locatorRoot.oncontextmenu = self.onContextEvent.bind(self);\n                self.annotateRoot = $('#' + self.annotateId);\n                // extract the ordered array of region ids\n                self.__loadRegionMap(regionIdData);\n                self.props = {};\n                // TODO assuming the props is a hierarchical ontology\n                // place this elsewhere.\n                self.__flattenOntology(propsData, self.props);\n                self.view.loadPleth();\n                ReScatter.thematicMapController.loadImages(self.preselect);\n                toolTipController.addTooltip(self.svgId, 'IMEChoropleth', 'left');\n                self.dispatchLoadedEvent(self);\n            }\n        );\n    }\n\n    destroy () {\n        \"use strict\";\n        if (ReScatter.selectionModel) {\n            ReScatter.selectionModel.removeObserver(this);\n        }\n        if (self.locatorRoot) {\n            self.locatorRoot.innerHTML = \"\";\n        }\n    }\n\n    __addMouseEventsToSvg () {\n        let mouseoverFn = this.mouseoverSvgRegion.bind(this);\n        let mouseoutFn = this.mouseoutSvgRegion.bind(this);\n        let clickFn = this.clickSvgRegion.bind(this);\n        let keys = Object.keys(this.props);\n        keys.map(function(key){\n            let svgRegions = this.locatorRoot.querySelectorAll('path[structure_id=\"' + key + '\"]');\n            for (let i=0; i< svgRegions.length; ++i) {\n                    let path = svgRegions[i];\n                    path.onclick = clickFn;\n                    path.onmouseover = mouseoverFn;\n                    path.onmouseout = mouseoutFn;\n            }\n        }, this);\n    }\n\n    __loadRegionMap (regionMap) {\n        this.regionsOrdered = [];\n        this.regionMaps = {};\n        regionMap.ordered_region_map.forEach(function(val) {\n            this.regionsOrdered.push(val[0]);\n            this.regionMaps[val[0]] = val[1];\n        }, this);\n    }\n\n    /**\n     * Function to handle mouse over of the svg region - this triggers an annotation.\n     * @param event\n     */\n    mouseoverSvgRegion (event) {\n        let regionId = event.currentTarget.attributes.structure_id;\n        let props = this.props[regionId.value];\n        let keys = Object.keys(props);\n        let table = \"<table>\";\n        let filterList = this.popupAttributeList;\n        keys.map(function(key){\n            if (filterList.indexOf(key) >= 0 ) {\n                table += \"<tr><td>\" +\n                    key + \"&nbsp;</td><td style='word-wrap:break-word'>\" + props[key] + \"&nbsp;</td></tr>\";\n            }\n        });\n        table += \"</table>\";\n        this.inSvgRegion = true;\n        this.annotateRoot.html(table);\n        this.annotateRoot.css({\"display\": \"inline\",\n                                \"top\": event.clientY - 50,\n                                \"left\": event.clientX - 400,\n                                \"position\": \"fixed\",\n                                \"z-index\": \"999\",\n                                \"color\": \"#fff\",\n                                \"background-color\": \"#000\",\n                                \"opacity\": \"0.6\",\n                                \"text-align\": \"left\",\n                                \"table-layout\": \" fixed\",\n                                \"width\": \"350\"});\n    }\n\n    /**\n     * Function to handle mouse over of the svg region - this removes the annotation.\n     * @param event\n     */\n    mouseoutSvgRegion () {\n        let self = this;\n        this.inSvgRegion = false;\n        setTimeout(\n            function() {\n                if (!self.inSvgRegion) {\n                    self.annotateRoot.css(\"display\", \"none\");\n                }\n            }, 100);\n    }\n\n\n    clickSvgRegion (event) {\n        let regionId = event.currentTarget.attributes.structure_id;\n        this.__peformRegionSelection(regionId.value, event.ctrlKey);\n    }\n\n    onContextEvent (event) {\n        event.preventDefault(); // disable the original context menu\n        console.log(\"Saving SVGs as thematicmap_N.png\");\n        SnapShotController.snapShotSelected(this.view);\n        event.stopPropagation();\n    }\n\n    __peformRegionSelection (regionId, addSelection) {\n        if (!addSelection) {\n            this.selectedIds = [];\n            this.view.clearPlethColors();\n        }\n        this.selectedIds.push(regionId);\n        // map to sample ids\n        let mappedIds = this.__mapSelectedRegionIds();\n        if (mappedIds.length > 0) {\n            ReScatter.dynamicSelectionModel.putTransitiveSelection(\n                \"ThematicMap\",\n                mappedIds,\n                0x772222,\n                this.dynamicSelectionOut);\n        }\n    }\n\n    __mapSelectedRegionIds () {\n        // Use the regionMaps (the mapping from choropleth to the sample\n        // axis) to create a list of selected samples.\n        let sampleIds = [];\n        this.selectedIds.forEach(function(id) {\n           if (this.regionMaps.hasOwnProperty(id)) {\n               Array.prototype.push.apply(sampleIds, this.regionMaps[id]);\n           }\n        }, this);\n        return sampleIds.reduce(function(arr, val) {\n            if (arr.indexOf(val) === -1) {\n                arr.push(val);\n            }\n            return arr;\n        }, []);\n    }\n\n    /**\n     * @private\n     * Flatten a hierarchical ontology containing 'children' sub trees\n     * @param ontObj\n     * @param flatMap\n     * @private\n     */\n    __flattenOntology (ontObj, flatMap) {\n        let firstObj = ontObj.msg[0];\n        this.__flattenOntChildren(firstObj, flatMap);\n    }\n\n    /**\n     * @private\n     * Recursive function to flatten an ontology with a 'children' key\n     */\n    __flattenOntChildren (ontLevel, flatMap) {\n        let keys = Object.keys(ontLevel);\n        let levelObj = {};\n        if (ontLevel.id !== undefined) {\n            // clone the level\n            keys.map(function (key) {\n                if (key !== 'children') {\n                    levelObj[key] = ontLevel[key];\n                }\n            });\n            flatMap[levelObj.id] = levelObj;\n        }\n        if (ontLevel.children !== undefined) {\n            ontLevel.children.map(function (child) {\n                this.__flattenOntChildren(child, flatMap);\n            }, this);\n        }\n    }\n\n    // function returns a promise - call appropriately\n    __mapProperty (property, dataPoints, selectionMap, selectionProp, sourceProps, result) {\n        \"use strict\";\n        let mapOp = selectionMap.propMap[property].mapOp;\n        let mapFn = selectionMap.propMap[property].mapFn;\n        let self = this;\n\n        //TODO handle failures\n        return new Promise(function(resolve, reject) {\n            if (mapOp === undefined) {\n                if (mapFn === undefined) {\n                    result[property] = dataPoints;\n                } else {\n                    result[property] = mapFn(dataPoints, self.props, selectionProp, self.regionsOrdered, self.regionMaps, sourceProps);\n                    //console.log(\"Done \" + property + \" for \" + self.id);\n                }\n                resolve(result);\n            } else {\n                let dataMapper = ReScatter.data.DataMapper.getDataMap(selectionMap.dataMap);\n                dataMapper.mapData(dataPoints, mapOp)\n                .then(function (values) {\n                    result[property] = mapFn(values, self.props, selectionProp, self.regionsOrdered, self.regionMaps, sourceProps);\n                    //console.log(\"Done \" + property + \" for \" + self.id);\n                    resolve(result);\n                })\n                .catch(function(e) {\n                    console.log(\"Error in choropleth datamapping \" + e);\n                    resolve(result);\n                });\n            }\n        });\n    }\n\n    onPlethResize() {\n        // forward to the actual view\n        this.view.onPlethResize();\n    }\n\n\n    dispatchLoadedEvent (self) {\n        ReScatter.controlEventModel.putControlEventModel('rendererLoadComplete', {\n            renderer:self,\n            rendererId:self.id,\n            type:'choropleth'\n        })\n    }\n\n    /**\n     * Add a single svg to the ordered strip of svgs\n     * @param svgId - unique id\n     * @param svgIndex - ordering index\n     * @param svgString - a template sting containing <svgid> used to load the svg\n     *                  (<svgid> is replaced by the contents of svgID\n     */\n    addSvg (svgId, svgIndex, svgString) {\n        // A typical brain svg starts with:\n        //<svg width=\"285\" height=\"355\" xmlns=\"http://www.w3.org/2000/svg\">\n\n        if (this.isCached(svgIndex)) {\n            this.loadedSvgs[svgIndex] = this.cachedSvgs[svgIndex];\n            this.refreshLocator();\n            this.view.savePlethColors();\n            this.reloadLastVisibleSelection();\n            return;\n        }\n        let retrievePath = svgString.replace(\"<svgid>\", svgId);\n        let xhr = new XMLHttpRequest();\n        xhr.open('GET', retrievePath, true);\n        xhr.responseType = 'text'; //i.e. a DOMString\n        let self = this;\n        let callback = function() {\n            self.refreshLocator();\n            self.view.savePlethColors();\n            self.reloadLastVisibleSelection();\n        };\n        this.fetchSvg(retrievePath, svgIndex, callback);\n    }\n\n    // recursively, asynchronously fetch the SVGs\n    // svgIdIndexArray is an array of objects containing\n    // the svg id (used for fetching) and the positional index\n    // {id: <id>, index <int>}\n    /**\n     * Add multiple svgs to the ordered strip of svgs\n     * @param svgIdIndexArray - consists of {id: <id>, index <int>}\n     * @param svgString - a template sting containing <svgid> used to load the svg\n     *                  (<svgid> is replaced by the contents of svgID\n     */\n    addSvgs (svgIdIndexArray, svgString) {\n        if (svgIdIndexArray.length === 0) {\n            this.view.clearPlethColors();\n            this.refreshLocator();\n            this.view.savePlethColors();\n            this.reloadLastVisibleSelection();\n            return;\n        }\n        let svgIdIndex = svgIdIndexArray.splice(0, 1);\n        let retrievePath = svgString.replace(\"<svgid>\", svgIdIndex[0].id);\n        let callback = this.addSvgs.bind(this, svgIdIndexArray, svgString);\n        this.fetchSvg(retrievePath, svgIdIndex[0].index, callback);\n    }\n\n    fetchSvg (retrievePath, svgIndex, callback) {\n        let xhr = new XMLHttpRequest();\n        xhr.open('GET', retrievePath, true);\n        xhr.responseType = 'text'; //i.e. a DOMString\n        let self = this;\n        xhr.onload = function () {\n            // fix the width and viewbox to allow scaling, inject a namespace to allow data storage in private attributes\n            let scalableSvg = this.response.replace(/width=\\\"(\\d*)\\\" height=\\\"(\\d*)\\\"/, \"xmlns:iedata=\\\"http://www.brainscope.nl/brainscope\\\" width=\\\"100%\\\" viewbox=\\\"0 0 $1 $2\\\"\" );\n            self.loadedSvgs[svgIndex] = scalableSvg;\n            self.cachedSvgs[svgIndex] = scalableSvg;\n            callback();\n        };\n        xhr.onerror = function(e) {\n            alert(\"Error Loading SVG From source URL: \" + retrievePath + \" \" + e.target.status);\n            callback();\n        };\n        //console.log(\"XHR get Data Map: \" + self.filePath);\n        this.displayLoading();\n        xhr.send();\n    }\n\n    removeSvg (svgId) {\n        delete this.loadedSvgs[svgId];\n        this.refreshLocator();\n        this.reloadLastVisibleSelection();\n    }\n\n    isCached (svgId) {\n        return (this.cachedSvgs[svgId] !== undefined);\n    }\n\n    displayLoading () {\n        this.locatorRoot.innerHTML = \"<h4>Loading vector images</h4>\";\n    }\n\n    refreshLocator () {\n        this.locatorRoot.innerHTML = \"\";\n        let docfrag = document.createDocumentFragment();\n        let keys = Object.keys(this.loadedSvgs);\n        keys.sort(function(a,b) {\n            let x = parseInt(a);\n            let y = parseInt(b);\n            return x === y ? 0 : x > y ? 1 : -1;\n        });\n        keys.forEach(function(elem) {\n            let newDiv = document.createElement(\"div\");\n            newDiv.innerHTML = this.loadedSvgs[elem];\n            docfrag.appendChild(newDiv);\n        }, this);\n        this.locatorRoot.appendChild(docfrag);\n        this.__addMouseEventsToSvg();\n    }\n\n    reloadLastVisibleSelection () {\n        if (this.lastVisibleSelectionContext) {\n            this.processSelectionEvent(this.lastVisibleSelectionContext);\n        }\n    }\n\n}\n\nSelectionProtocol.impl(ChoroplethController, [], {\n    /**\n     * A choropleth has a single property that is mapped in selection events - color\n     * This applies the configured standard mapOp (a simple ROW/COLUMN operation) and mapFn\n     * (a javascript function that can map more complex behaviour\n     * @param context\n     */\n    processSelectionEvent (context) {\n        \"use strict\";\n        let selectionMap;\n        if (context.type === \"dyna\") {\n            selectionMap = this.dynamicSelectionIn[context.id];\n        } else {\n            selectionMap = this.selectionIn[context.id];\n        }\n        if (selectionMap === undefined) {this.processingDone(); return;} // we are not subscribed to this selection\n        if ((context.op === 'show') ||\n            ((context.op === 'create') && (context.type === 'dyna'))) {\n            this.lastVisibleSelectionContext = context;\n            //console.log(\"Choropleth select \" + context.op + \" in: \" + this.id);\n            // Start a potentially asynchronous chain with a resolved promise (future)\n            // For choropleths on the property color is mappable\n            let sequence = Promise.resolve({color: undefined});\n            let self = this;\n            let dataPoints = context.sel.dataPoints;\n            let color = context.sel.color;\n            let sourceProps = context.sel.sourceProps;\n            sequence\n                .then(function(result){\n                    return self.__mapProperty('color',\n                                               dataPoints,\n                                               selectionMap,\n                                               color,\n                                               sourceProps,\n                                               result);})\n                .then(function(result) {\n                    self.view.clearPlethColors();\n                    self.view.setPlethColorsFromMap(result.color);\n                    if (context.type !== 'dyna') {\n                        self.lastColorSet = $.extend(true, {}, result.color);\n                    }\n                    self.processingDone();\n                })\n                .catch(function(e) {\n                    console.log('Error adding selection:' + e);\n                    self.processingDone();\n                });\n        } else if ((context.op === 'delete') && (context.type === 'dyna')) {\n            // only on dynamic selection\n            this.lastVisibleSelectionContext = undefined;\n            this.view.clearPlethColors();\n            if (this.lastColorSet !== undefined) {\n                this.view.setPlethColorsFromMap(this.lastColorSet);\n            } else {\n                this.view.restorePlethColors();\n            }\n\n        //} else if (context.hasOwnProperty('color')) { //TODO - add option to change color map\n\n        } else if (context.op === 'hide') {\n            this.lastVisibleSelectionContext = undefined;\n            this.lastColorSet = undefined;\n            this.view.clearPlethColors();\n            this.view.restorePlethColors();\n        } else if ((context.op === 'delete') && (context.type !== 'dyna')) {\n            this.lastColorSet = undefined;\n        }\n        this.processingDone();\n    }\n});\n\nControlProtocol.impl(ChoroplethController, [], {\n    onControlEvent(eventContext) {\n        return; // not coupled to any control events\n    }\n});\nexport default ChoroplethController;\n","/**\n * Created by baldur on 03/01/16.\n * Ported to ES6 by bvanlew on 21-7-17.\n */\nimport SimpleChoroplethLoader from './SimpleChoroplethLoader';\nimport ImageStripChoroplethLoader from './ImageStripChoroplethLoader';\nimport ChoroplethController from './ChoroplethController';\nimport SnapShotController from \"../snapshot/SnapShotController\";\nimport ChoroplethSVGView from \"../../view/choropleth/ChoroplethSVGView\";\n/*\n * Was ThematicMapController coordinates the choropleth loader type (either SIMPLE_LOADER or IMAGE_STRIP_LOADER)\n * and the SVGChoropleth object responsible for handling the selection/display effect logic.\n * TODO Refactor to a singleton.\n */\nexport default class ChoroplethLoader{\n\n    static get LoaderType() {return  {\n        SIMPLE_LOADER: 0,\n        IMAGE_STRIP_LOADER: 1\n    };}\n    /**\n     *\n     * @param plethDescrip - the choropleth definition from the configuration\n     * @param choroplethContainerId - the id of theHTML element that will be the conteiner for the choropleth widgte\n     * @param choroAnnotationContainerId - the id for the div where mouse over popups (annotation) of the choropleth will be placed\n     * @param choroImageStripContainerId - id for the div where the choropleth thumbnails are placed\n     * @returns {*}\n     */\n    constructor(plethDescrip, choroplethContainerId, choroAnnotationContainerId, choroImageStripContainerId) {\n\n\n        // TODO should this be a parameter\n        this.containerId = choroplethContainerId;\n        this.annotationId = choroAnnotationContainerId;\n        this.imageStripId = choroImageStripContainerId;\n        this.loaderType = null;\n        \"use strict\";\n        switch (plethDescrip.type) {\n            case ChoroplethLoader.LoaderType.SIMPLE_LOADER:\n                this.loader = new SimpleChoroplethLoader(plethDescrip.svgTemplate, plethDescrip.svgList);\n                this.loaderType = ChoroplethLoader.LoaderTypes.SIMPLE_LOADER;\n                break;\n            case ChoroplethLoader.LoaderType.IMAGE_STRIP_LOADER:\n                this.loader = new ImageStripChoroplethLoader(this.imageStripId, plethDescrip.svgTemplate, plethDescrip.thumbnailTemplate, plethDescrip.svgList);\n                this.loaderType = ChoroplethLoader.LoaderTypes.IMAGE_STRIP_LOADER;\n                break;\n            default:\n                this.loader = undefined;\n                this.loaderType = ChoroplethLoader.LoaderTypes.NO_LOADER;\n                //console.log('Choose a valid loader from the keys of ChoroplethLoader.LoaderTypes ');\n                break;\n        }\n        this.plethDescrip = plethDescrip;\n        return this;\n    }\n\n    static get LoaderTypes() { return {\n        SIMPLE_LOADER: 0,\n        IMAGE_STRIP_LOADER: 1,\n        NO_LOADER: 9999\n    };}\n\n    initialize() {\n        ReScatter.choroplethControl = new ChoroplethController(\n                this.containerId, this.annotationId, this.plethDescrip);\n        if (this.plethDescrip.plugin) {\n            ReScatter.choroplethView = ReScatter.config.PluginFactory.createChoroplethType(\n                this.plethDescrip.plugin, this.containerId)\n        } else {\n            ReScatter.choroplethView = new ChoroplethSVGView(this.containerId);\n        }\n        SnapShotController.addComponent(ReScatter.choroplethView);\n        ReScatter.choroplethControl.initialize(ReScatter.choroplethView);\n    }\n\n    destroy() {\n        if (ReScatter.choroplethControl) {\n            ReScatter.choroplethControl.destroy();\n            ReScatter.choroplethControl = undefined;\n        }\n        this.plethDescrip = undefined;\n        this.loader = undefined;\n    }\n\n    loadImages (svgIdArray) {\n        if (this.loader) {\n            this.loader.loadImages(svgIdArray);\n        }\n    }\n\n    getMapContainerId () {\n        return this.containerId;\n    }\n\n};\n","/**\n * Created by baldur on 1/28/16.\n * ES6 migration 6/27/17\n */\n\nimport ChoroplethLoader from '../choropleth/ChoroplethLoader';\nimport ToolTipController from './ToolTipController';\nlet toolTipController = new ToolTipController();\n\n//\n// Implementation note: LayoutController is a singleton\nlet instance = null;\n\nexport default class LayoutController {\n\n    static get LayoutFlags() {return {\n        CHOROPLETH: 1,\n        MASTERGRID: 2\n    };}\n\n    static get LayoutTarget() {return  {\n        SPACER: 0,\n        MASTER: 1,\n        GRID: 2\n    };}\n\n\n    constructor() {\n        if (instance) {\n            return instance;\n        }\n        instance = this;\n        this.__init();\n        this.clear();\n        return instance;\n    };\n\n\n    __init() {\n        \"use strict\";\n    }\n\n    clear() {\n        this.idSuffix = \"\";\n        this.layoutDef = {};\n        this.gridPlots = [];\n        this.masterPlots = [];\n        this.idPrefix = \"\";\n        this.totalPlotItems = 0;\n        this.numSpacers = 0;\n        if (ReScatter.thematicMapController) {\n            ReScatter.thematicMapController.destroy();\n            ReScatter.thematicMapController = undefined;\n        }\n        if (this.ontologyTree) {\n            this.ontologyTree.destroy();\n            this.ontologyTree = undefined;\n        }\n        this.layoutDef = {};\n        this.chartNode = document.getElementById(ReScatter.CONTROL_ID.CHARTS);\n        this.chartNode.innerHTML = \"\";\n    }\n\n    setLayout(layoutDef, controlsEnabled) {\n        this.clear();\n        this.controlsEnabled = controlsEnabled;\n        this.layoutDef = layoutDef;\n        layoutDef.plots.forEach(function(val) {\n            switch(val.layoutTarget) {\n                case LayoutController.LayoutTarget.MASTER:\n                    this.masterPlots.push(val);\n                    break;\n                case LayoutController.LayoutTarget.GRID:\n                    this.gridPlots.push(val);\n                    break;\n                default:\n                    this.gridPlots.push(val);\n                    this.numSpacers += 1;\n                    break;\n            }\n        }, this);\n        this.totalPlotItems = this.gridPlots.length + this.masterPlots.length;\n        let layoutFlags = 0;\n        if (layoutDef.choropleths !== undefined) {\n            layoutFlags |= LayoutController.LayoutFlags.CHOROPLETH;\n        }\n        if (this.masterPlots.length > 0) {\n            layoutFlags |= LayoutController.LayoutFlags.MASTERGRID;\n        }\n        let numberOfPlots = this.gridPlots.length;\n        if (layoutFlags & LayoutController.LayoutFlags.MASTERGRID) {\n            this.chartNode.innerHTML = ReScatter.masterGridLayout;\n            this.idPrefix = \"mg-subPlot-\";\n            this.idSuffix = \"-8\";\n        } else {\n            if (numberOfPlots === 1) {\n                this.idSuffix = \"-1\";\n                this.chartNode.innerHTML = ReScatter.singlePlotLayout;\n            } else if (numberOfPlots>= 2) {\n                //we don't support more than 8 plots - maybe extend\n                this.chartNode.innerHTML = ReScatter.gridPlotLayout;\n                this.idSuffix = \"-8\";\n            }\n            this.idPrefix = \"subPlot-\";\n        }\n\n        this.choroplethEnabled = this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.CHOROPLETH\")\n        if (this.choroplethEnabled) {\n            let footer = document.getElementById(ReScatter.CONTROL_ID.IMAGESTRIPFOOTER);\n            if (!(layoutFlags & LayoutController.LayoutFlags.CHOROPLETH)) {\n                document.getElementById(ReScatter.CONTROL_ID.CHOROPLETH).style.display = 'none';\n                if (footer) {\n                    footer.classList.add(\"hidden_strip_footer\");\n                    footer.classList.remove(\"visible_strip_footer\");\n                    footer.innerHTML = \"\";\n                }\n            } else {\n                document.getElementById(ReScatter.CONTROL_ID.CHOROPLETH).style.display = 'inline-block';\n                if (footer) {\n                    footer.classList.add(\"visible_strip_footer\");\n                    footer.classList.remove(\"hidden_strip_footer\");\n                }\n                // for now there is only room for a single choropleth but it can contain multiple svg maps\n                let plethDescrip = layoutDef.choropleths[0];\n                ReScatter.thematicMapController = new ChoroplethLoader(plethDescrip, ReScatter.CONTROL_ID.CHOROPLETH, ReScatter.CONTROL_ID.ANNOTATECHOROPLETH, ReScatter.CONTROL_ID.IMAGESTRIPFOOTER);\n                ReScatter.thematicMapController.initialize();\n            }\n        }\n\n        toolTipController.addTooltip(ReScatter.CONTROL_ID.CHARTS, 'IMEScatterPlot', 'left', 'body');\n        return this.idSuffix;\n    }\n\n    getLayoutElementId(plot) {\n        let index = this.gridPlots.indexOf(plot);\n        if (index !== -1) {\n            return this.idPrefix + (index + 1) + this.idSuffix;\n        }\n        return \"mg-master\"; // There should only be one master plot\n    }\n\n    isSpaceLayout(plot) {\n        return (plot.layoutTarget === LayoutController.LayoutTarget.SPACER);\n    }\n\n    getTotalPlots() {\n        return this.totalPlotItems - this.numSpacers;\n    }\n\n    /** clearTitles\n     *  clear all the layout plot titles\n     */\n    clearTitles() {\n        let plotTitles = document.getElementsByClassName('plot_title');\n        for (let i= 0, len = plotTitles.length; i<len; i++) {\n            plotTitles.item(i).innerHTML = \"\";\n        }\n    }\n\n    /**\n     * getCanvasPlotIds\n     * Return tuples of canvas and plot ids for canvases containing a plot\n     * @returns array of tuples [[canvasId, plotId],...]\n     */\n    getCanvasPlotIds() {\n        let canvasPlotIds = [];\n        this.layoutDef.plots.forEach(function(val) {\n            let id = this.getLayoutElementId(val);\n            if (!this.isSpaceLayout(val)) {\n                canvasPlotIds.push([id, val.id]);\n            }\n        }, this);\n        return canvasPlotIds;\n    }\n\n    /**\n     * getCanvasSvgId\n     * Return a single tuple for the SVG choropleth\n     */\n    getCanvasSvgId() {\n        if (ReScatter.thematicMapController !== undefined) {\n            return ReScatter.thematicMapController.getMapContainerId();\n        }\n        return null;\n    }\n\n    /**\n     * Will return 0 or 1 depending on the config - only a single choropleth is supported now\n     * @returns {number}\n     */\n    getNumberOfChoroplethsToLoad() {\n        return this.layoutDef.choropleths !== undefined? 1: 0;\n    }\n\n    /**\n     * If aontologies exists return the first one (only a single ontology is supported)\n     * otherwise returns undefined.\n     * @returns {*}\n     */\n    getOntology() {\n        if (!this.layoutDef.ontologies) {\n            return undefined;\n        }\n        return this.layoutDef.ontologies[0];\n    }\n\n    /**\n     * Get the predefined selections array\n     * @returns {Array}\n     */\n    getPredefinedSelections() {\n        return this.layoutDef.predefinedSelections;\n    }\n\n    /**\n     * Return the plot array\n     * @returns {Array}\n     */\n    getPlots() {\n        return this.layoutDef.plots;\n    }\n\n    /**\n     * Return the recalculation configuration\n     * @returns {object}\n     */\n    getRecalculation() {\n        return this.layoutDef.recalculation;\n    }\n    /**\n     * Returns the array of choropleths or and empyt array if there are none\n     * @returns {Array}\n     */\n    getChoropleths() {\n        if (!this.layoutDef.choropleths) {\n            return [];\n        }\n        return this.layoutDef.choropleths;\n    }\n\n    /**\n     * Return the array of daya maps from the configuration\n     * @returns {Array|*}\n     */\n    getDataMaps() {\n        return this.layoutDef.dataMaps;\n    }\n\n    /**\n     * Return the base data maps needed for recalculation\n     * @returns {Array| undefined}\n     */\n    getBaseDataMaps() {\n        if (this.layoutDef.recalculation) {\n            return this.layoutDef.recalculation.baseDataMaps;\n        }\n        return undefined;\n    }\n\n    /**\n     * Return the unique id for the loaded layout\n     */\n    getId() {\n        return this.layoutDef.id;\n    }\n};\n","/**\n * Created by bvanlew on 26-7-17.\n */\n\nexport default class ControlWidgetLayout {\n    /**\n     * @constructor\n     * ControlWidgetLayout contains all control widgets for layout loading,\n     * predefined selections, ontology, and selection manipulation including\n     * editing manipulation and uploading.\n     *\n     * It will locate in a div defined as follows:\n     * <div id=\"ControlWidgetBlock\"></div>\n     *\n     * @return Singelton. Calling new on PlotContextMenu() returns the same instance\n     */\n    constructor() {\n        this.controlLayout = webix.ui({\n            container: ReScatter.CONTROL_ID.WIDGETS,\n            id:\"controlLayout\",\n            type: \"clean\",\n            rows:[\n                {\n                    gravity: 1,\n                    type: \"clean\",\n                    animate:false,\n                    rows:[\n                        {view:\"tabbar\", id:\"toolTabs\",\n                            multiview:true, animate:false, minHeight:35,\n                            align:\"center\", options: []\n                        },\n                        {view:\"multiview\", id:\"multiViewCellsId\", animate:false, type:\"clean\",\n                            cells:[\n                                {view:\"template\", id:\"tpl\", template:\"ToolTabsPlaceholder\"} //multiview should have at least one cell\n                            ]\n                        }\n                    ]\n                },\n                {view: \"resizer\"},\n                {\n                    gravity: 3,\n                    multi:true,\n                    id: \"selectionAccordion\",\n                    view:\"accordion\",\n                    type: \"clean\",\n                    rows:[\n                        {\n                            collapsed: true,\n                            id: \"selectionEditingId\",\n                            body: {rows: [\n                            ]}\n                        }\n                    ]\n                }\n            ]\n        });\n        webix.event(window, \"resize\", function(){\n            $$(\"controlLayout\").adjust();\n        });\n        this.layoutWidgetTabs = [];\n        return this;\n    }\n\n    addTabOption(webixid, title, active) {\n        $$(\"toolTabs\").addOption(webixid, title, active);\n        $$(\"toolTabs\").refresh();\n        $$(\"multiViewCellsId\").adjust();\n    }\n\n    removeTabOption(viewId) {\n        $$(\"toolTabs\").removeOption(viewId);\n        $$(\"toolTabs\").refresh();\n        $$(\"multiViewCellsId\").adjust();\n    }\n\n    resize() {\n        $$(\"controlLayout\").adjust();\n    }\n\n    addTabView(widgetDef, title, active) {\n        let viewId = $$(\"multiViewCellsId\").addView(widgetDef);\n        this.addTabOption(viewId, title, active);\n        return viewId;\n    }\n\n    /**\n     * Wrap some HTML content in a webix template and load it into the widget tab view\n     * @param contentId - the id of the html content (usually a div) form is #name\n     * @param title - the title of the tabe\n     * @param active - if the tab is the active tab\n     */\n    addLayoutTabView(contentId, title, active) {\n        let layoutDef = {\n            rows :[\n                {id: contentId + '_in_tab', template: 'html->' + contentId}\n            ]\n        };\n        let tabId = this.addTabView(layoutDef, title, active);\n        this.layoutWidgetTabs.push(tabId);\n        return tabId;\n    }\n\n    removeTabView(viewId) {\n        $$(\"multiViewCellsId\").removeView(viewId);\n        this.removeTabOption(viewId);\n    }\n\n    /**\n     * Remove all the layout specific tabs with widgets\n     */\n    removeLayoutTabs() {\n        for (let tabId of this.layoutWidgetTabs) {\n            this.removeTabView(tabId)\n        }\n        this.layoutWidgetTabs = [];\n    }\n\n    collapseSelectionEdit() {\n        $$(\"selectionEditingId\").collapse();\n    }\n\n    expandSelectionEdit() {\n        $$(\"selectionEditingId\").expand();\n    }\n\n    switchTabViewTo(viewId) {\n        $$(\"toolTabs\").setValue(viewId);\n        $$(\"multiViewCellsId\").setValue(viewId);\n    }\n\n    addAccordionView(widgetDef) {\n        return $$(\"selectionAccordion\").addView(widgetDef);\n    }\n\n    getMultiViewParent() {\n        return $$('multiViewCellsId').getParentView();\n    }\n}\n","// Implementation note: SelectionContextMenu is a singleton based on the pattern in\n// Stoyan Stefanov's JavaScript Patterns 2010 pg 145\n// Calling new on SelectionContextMenu() returns a single instance\n// the prototype can be extended as shown.\n\n\nimport GenerateDataPluginRunner from \"../jobs/GenerateDataPluginRunner\";\nimport JobMonitorControl from \"../jobs/JobMonitorControl\";\nimport SelectionDataWidget from \"./SelectionDataWidget\";\nconst clipboard = require('clipboard');\n\nlet instance = null;\n/**\n * The SelectionContext menu is a singleton based on the pattern in\n * Stoyan Stefanov's JavaScript Patterns 2010 pg 145\n * It provides right mouse button functionality for the selections displayed\n * in the SelectionDataWidget.\n *\n * The plugin architecture allows site specific functionality to be added\n */\n\n\nexport default class SelectionContextMenu {\n\n    static get PluginTypeEnum() { return {\n        EXTERNAL_WEBSITE_ANALYSIS: 0,\n        PROCESS_GENERATE_DATA: 1,\n    };}\n\n    constructor() {\n\n        if (instance) {\n            return instance;\n        }\n        let self = this;\n        this.analysisPluginMap = new Map();\n        this.recalculatePluginMap = new Map();\n        this.jobMonitorDiv = $('#' + ReScatter.CONTROL_ID.JOBMONITOR);\n        this.jobMonitorControl = new JobMonitorControl(ReScatter.CONTROL_ID.JOBMONITOR);\n        this.selectionEditMenu = webix.ui({\n            id: 'editSubMenuId',\n            view: 'submenu',\n            data: [\n                \"Edit\",\n                \"Union\",\n                \"Intersect\",\n                \"Subtract\",\n                \"Cancel\"\n            ],\n            on:{\n                onItemClick: function(id) {\n                    // pass through to the context menu\n                    let context = this.getTopMenu().getContext();\n                    let item = this.getItem(id);\n                    let grid = context.obj;\n                    let gridId = context.id;\n                    let formData = grid.getItem(gridId);\n                    let modeEnum = SelectionDataWidget.modeEnum;\n                    switch(item.value) {\n                        case \"Edit\":\n                            ReScatter.selectionDataWidget.startEditOp(SelectionDataWidget.modeEnum.EDIT, formData.label, formData.id);\n                            break;\n                        case \"Union\":\n                            ReScatter.selectionDataWidget.startEditOp(SelectionDataWidget.modeEnum.UNION, formData.label, formData.id);\n                            break;\n                        case \"Intersect\":\n                            ReScatter.selectionDataWidget.startEditOp(SelectionDataWidget.modeEnum.INTERSECT, formData.label, formData.id);\n                            break;\n                        case \"Subtract\":\n                            ReScatter.selectionDataWidget.startEditOp(SelectionDataWidget.modeEnum.SUBTRACT, formData.label, formData.id);\n                            break;\n                        case \"Cancel\":\n                            ReScatter.selectionDataWidget.startEditOp(SelectionDataWidget.modeEnum.NONE, formData.label, formData.id);\n                            break;\n                    }\n                    //console.log(\"Submenu: \" + id);\n                    //self.selectionContextMenu.onItemClick(id);\n                }\n            }\n        });\n        this.selectionAnalysisMenu = webix.ui({\n            id: 'analysisSubMenuId',\n            view: 'submenu',\n            autowidth:true,\n            data: [\n            ],\n            on:{\n                onItemClick: function(id) {\n                    // pass through to the context menu\n                    let context = this.getTopMenu().getContext();\n                    let item = this.getItem(id);\n                    let grid = context.obj;\n                    let gridId = context.id;\n                    let formData = grid.getItem(gridId);\n                    switch(id) {\n                        default:\n                            instance.callPlugins(item.value, formData.selectionId, formData.label);\n                            break;\n                    }\n                }\n            }\n        });\n        this.replotItemFixed = [\n            {value: \"Show jobs\"}\n        ];\n        this.selectionReplotMenu = webix.ui({\n            id: 'replotSubMenuId',\n            view: 'submenu',\n            data: self.replotItemFixed,\n            autowidth:true,\n            on:{\n                onItemClick: function(id) {\n                    // pass through to the context menu\n                    let context = this.getTopMenu().getContext();\n                    let item = this.getItem(id);\n                    let grid = context.obj;\n                    let gridId = context.id;\n                    let formData = grid.getItem(gridId);\n                    switch(item.value) {\n                        case \"Show jobs\":\n                            instance.jobMonitorControl.showControl();\n                            break;\n                        default:\n                            // The menu can be extended with replot plugins\n                            instance.callPlugins(item.value, formData.selectionId, formData.label);\n                            break;\n                    }\n                }\n            }\n        });\n        this.menuItemFixed = [\n                {value: \"Edit...\", submenu:this.selectionEditMenu},\n                {value: \"Analysis...\", submenu:this.selectionAnalysisMenu},\n                {value: \"Replot...\", submenu:this.selectionReplotMenu},\n                {value: \"Delete\"},\n                {value: \"Export CSV\"},\n        ];\n        this.selectionContextMenu = webix.ui({\n            id:\"selectionContextId\",\n            view:\"contextmenu\",\n            width: 200,\n            data:this.menuItemFixed,\n            on:{\n                onItemClick:function(id, event){\n                    let context = this.getContext();\n                    let grid = context.obj;\n                    let gridId = context.id;\n                    let funcName = this.getItem(id).value;\n                    let formData = grid.getItem(gridId);\n\n                    switch (funcName) {\n                        case \"Delete\":\n                            ReScatter.selectionModel.deleteSelection(formData.label);\n                            ReScatter.selectionEditWidget.editExistingSelection(undefined);\n                            break;\n                        case \"Export CSV\":\n                            instance.selectionToClipboard(event, formData.selectionId, formData.label);\n                            break;\n                    }\n                    //webix.message(\"List item: <i>\"+grid.getItem(gridId).selection+\"</i> <br/>Context menu item: <i>\"+this.getItem(id).value+\"</i>\");\n                }\n            }\n        });\n\n        instance = this;\n        return instance;\n    }\n\n    // Static functions for the clipboard popup\n    static saveToFile (textId, fileName) {\n        ReScatter.utils.SnapshotSaver.saveTextToFile(textId, fileName);\n    }\n\n    static closeSelectionCSV (htmlId) {\n        let exportDiv = $(htmlId);\n        exportDiv.css({\"display\": \"none\"});\n        exportDiv.html(\"\");\n        SelectionContextMenu.clipboard.destroy();\n    }\n\n    refreshAnalysisMenu() {\n        let analysisMenuItemExtendable = [];\n        this.analysisPluginMap.forEach((val, key, map) => {\n            analysisMenuItemExtendable.push({value: key})\n        });\n        this.selectionAnalysisMenu.data.clearAll();\n        analysisMenuItemExtendable.forEach((v, i, a) => {\n            this.selectionAnalysisMenu.data.add(v);\n        });\n        this.selectionAnalysisMenu.refresh();\n        this.selectionAnalysisMenu.resize();\n    }\n\n    refreshReplotMenu() {\n        let replotMenuItemExtendable = [];\n        this.recalculatePluginMap.forEach((val, key, map) => {\n            replotMenuItemExtendable.push({value: key})\n        });\n        this.selectionReplotMenu.data.clearAll();\n        let allItems = this.replotItemFixed.concat(replotMenuItemExtendable);\n        allItems.forEach((v, i , a)=>{\n            this.selectionReplotMenu.data.add(v);\n        });\n        this.selectionReplotMenu.refresh();\n        this.selectionReplotMenu.resize();\n    }\n        /**\n         * Register a plugin that performs an external analysis on the selection in a separate window\n         * pluginName: The string that appears in the menu\n         * symbolName: the symbol in the meta data that will be used to identify the points\n         * callback: a callback function that starts the analysis. The callback signature is:\n         *  - ([type list] symbols, [type string] description)\n         */\n    registerExternalAnalysisPlugin (pluginName, symbolName, callback) {\n        this.analysisPluginMap.set(pluginName, {\n            type: SelectionContextMenu.PluginTypeEnum.EXTERNAL_WEBSITE_ANALYSIS,\n            symbol: symbolName,\n            callback: callback});\n        this.refreshAnalysisMenu();\n    }\n\n    registerGenerateDataPlugin(pluginName) {\n        this.recalculatePluginMap.set(pluginName, {\n            type: SelectionContextMenu.PluginTypeEnum.PROCESS_GENERATE_DATA\n        });\n        this.refreshReplotMenu();\n    }\n\n    callPlugins (funcName, selectionId, label) {\n        if (this.analysisPluginMap.has(funcName)) {\n            // pass the selection to an analysis plugin\n            let analysisFunc = this.analysisPluginMap.get(funcName).callback;\n            let selection = ReScatter.selectionModel.getSelection(label);\n            let selectionList = [];\n            let symbol = this.analysisPluginMap.get(funcName).symbol;\n            selection.dataPoints.forEach(function (val, index, array) {\n                selectionList.push(ReScatter.dataModel.getSelectionPropAtIndex(selectionId, val, symbol));\n            });\n            analysisFunc(selectionList, label);\n        } else if (this.recalculatePluginMap.has(funcName)) {\n            // pass the selection to a recalculate plugin\n            let selection = ReScatter.selectionModel.getSelection(label);\n            this.launchRecalculateDataPlugin(funcName, selection);\n        }\n    }\n\n    // TODO when the context menu is shown this should be called with\n    // a list based on the selection group (that defines which plugin\n    // menu items are relevant)\n    enablePlugins (enableList) {\n\n    }\n\n    getMenuUi () {\n        return this.selectionContextMenu;\n    }\n\n    getEditMenuUi() {\n        return this.selectionEditMenu;\n    }\n\n    selectionToClipboard (event, selectionId ,selLabel) {\n        //\"label\",\"originator\",\"dataPoints\":\"color\",\"description\",\"selectionId\",\n        let seln = ReScatter.selectionModel.getSelection(selLabel);\n        let dataPoints = seln.dataPoints;\n\n        let fields = Object.keys(ReScatter.dataModel.getAllSelectionPropsAtIndex(selectionId, 0));\n        let csv = '__label__, ' + fields.join(',') + '\\r\\n';\n        let rows = dataPoints.map(function(index){\n            let propsForPoint = ReScatter.dataModel.getAllSelectionPropsAtIndex(selectionId, index);\n            return '\"' + selLabel + '\",' + fields.map(function(propName){\n                return '\"' + (propsForPoint[propName] || '') + '\"';\n            }).join(',');\n        });\n        csv += rows.join(\"\\r\\n\");\n        let htmlId = \"#\" + ReScatter.CONTROL_ID.SELECTIONINFO;\n        let exportDiv = $(htmlId);\n        let controls = '<textarea id=\"selectionDataAsCSV\", cols=\"80\" rows=\"20\" readonly>' + csv + '</textarea>' ;\n        let self = this;\n        controls += '<br/><button id=\"clipToKeyboardButton\" class=\"btn\" data-clipboard-action=\"copy\" data-clipboard-target=\"#selectionDataAsCSV\">' +\n            'Copy to clipboard' +\n            '</button>';\n        controls += '<br/><button id=\"saveToFileButton\" class=\"btn\" onclick=\"ReScatter.widget.SelectionContextMenu.saveToFile(\\'#selectionDataAsCSV\\',\\'' + selLabel + '\\')\">' +\n            'Save to file' +\n            '</button>';\n        controls += '<br/><button id=\"cancelClipButton\" class=\"btn\" onclick=\"ReScatter.widget.SelectionContextMenu.closeSelectionCSV(\\'' + htmlId + '\\')\">' +\n            'Close' +\n            '</button>';\n        exportDiv.html(controls);\n        exportDiv.css({\"display\": \"inline\",\n                                \"top\": \"50%\",\n                                \"left\": \"50%\",\n                                \"transform\": \"translate(-50%, -50%)\",\n                                \"position\": \"fixed\",\n                                \"z-index\": \"999\",\n                                \"text-align\": \"left\"});\n        SelectionContextMenu.clipboard = new clipboard(\"#clipToKeyboardButton\");\n        SelectionContextMenu.clipboard.on('success', function(){setTimeout(self.closeSelectionCSV(htmlId), 1);});\n\n    }\n\n    launchRecalculateDataPlugin(pluginName, selection) {\n        let runner = new GenerateDataPluginRunner(pluginName);\n        this.jobMonitorControl.subscribeToJobMonitor(runner.monitor);\n        runner.run(selection);\n    }\n\n};\n\n","/**\n * Created by bvanlew on 26-7-17.\n */\n\nimport { css_color_string_from_int } from '../utils';\nimport { int_from_css_color_string } from '../utils';\nimport SelectionContextMenu from './SelectionContextMenu';\nexport default class SelectionDataWidget {\n    /**\n     * @constructor\n     * SelectionDataTable contains all selections for the current layout.\n     * It includes both the loaded predefined selections and user created selections.\n     * It is added to a another webix control who's id is passed to the constructor\n     *\n     */\n    constructor() {\n        let colorFieldTemplate = \"<span style='background:#color#; border-radius:4px;\" +\n            \" text-shadow: 1px 0px 1px #000,0px 1px 1px #000;\" +\n            \" font-family: monospace'>#color#</span>\";\n        this.tableWebixId = \"selectionsDataTableId\";\n        this.editMode = SelectionDataWidget.modeEnum.NONE;\n        this.editLabels = [];\n        let self = this;\n        this.selectionTableDef = {\n            view: \"accordionitem\",\n            header: \"Loaded selections\",\n            headerHeight: 35,\n            headerAltHeight: 35,\n            collapsed: true,\n            body: {\n                view: \"layout\",\n                rows:\n                [\n                    {\n                        view: \"datatable\",\n                        id: this.tableWebixId,\n                        multiselect: false,\n                        editable: true,\n                        select: \"row\",\n                        columns: [\n                            {id: \"label\", header: \"Selection\", /*width*/gravity: 1, minWidth: 80, sort: \"string\"},\n                            {id: \"selectionId\", header: \"Group\", /*width*/gravity: 1, minWidth: 80, sort: \"string\"},\n                            {id: \"description\", header: \"Description\", /*width*/gravity: 2, minWidth: 160, sort: \"string\"},\n                            {\n                                id: \"color\",\n                                header: \"Color picker\",\n                                /*width: 80,*/\n                                editor: \"color\",\n                                template: colorFieldTemplate\n                            } //requires css color string\n                        ],\n                        fixedRowHeight: false,\n                        rowHeight: 25,\n                        rowLineHeight: 25,\n                        autoConfig: true,\n                        resizeColumn: true,\n                        checkboxRefresh: true,\n                        scrollX: false,\n                        onContext: {},\n                        on: {\n                            onAfterEditStop: function (state, editor, ignoreUpdate) {\n                                if (state.value !== state.old) {\n                                    let row = this.getItem(editor.row);\n                                    self.selectionRowChanged(row, editor.column);\n                                    console.log(\"Changed selection: \" + row);\n                                }\n                            },\n                            onSelectChange: function () {\n                                let obj = this.getSelectedItem(true);\n                                // single selection is show selection\n                                if (obj.length === 1) {\n                                    self.editLabels.push(obj[0].label);\n                                    let functionMode = self.editMode;\n                                    // clear the cursor and other mode related stuff\n                                    self.setMode(SelectionDataWidget.modeEnum.NONE);\n                                    switch (functionMode) {\n                                        case SelectionDataWidget.modeEnum.NONE:\n                                            if (obj && obj[0].show !== 1) { //prevents infinite looping when setting the selection from show event\n                                                ReScatter.selectionEditWidget.editExistingSelection(undefined);\n                                                ReScatter.selectionModel.showSelection(obj[0].label);\n                                            }\n                                            break;\n                                        case SelectionDataWidget.modeEnum.UNION:\n                                            ReScatter.selectionModel.unionSelections(self.editLabels, 'User union');\n                                            break;\n                                        case SelectionDataWidget.modeEnum.INTERSECT:\n                                            ReScatter.selectionModel.intersectSelections(self.editLabels, 'User intersect');\n                                            break;\n                                        case SelectionDataWidget.modeEnum.SUBTRACT:\n                                            ReScatter.selectionModel.subtractSelections(self.editLabels, 'User subtract');\n                                            break;\n                                    }\n                                    self.editLabels = [];\n                                } else if (obj.length === 0) {\n                                    ReScatter.selectionModel.hideVisibleSelection();\n                                }\n                            }\n                        }\n                    },\n                    {\n                        view: \"layout\",\n                        id: \"selectionButtonsLayout\",\n                        /*width: 200,*/\n                        rows: [\n                            {template: \"Clear/delete\", type: \"section\"},\n                            {\n                                margin: 5, cols: [\n                                {\n                                    view: \"button\",\n                                    id: \"hideVisibleSelection\",\n                                    value: \"Deselect\",\n                                    click: function (buttonId, ev) {\n                                        //console.log('Pressed: ' + buttonId);\n                                        $$(\"selectionsDataTableId\").clearSelection();\n                                    }\n                                },\n                                {\n                                    view: \"button\",\n                                    id: \"deleteLastSelectionButton\",\n                                    value: \"Delete last\",\n                                    click: function (buttonId, ev) {\n                                        //console.log('Pressed: ' + buttonId);\n                                        ReScatter.selectionModel.deleteLastSelection();\n                                    }\n                                },\n                                {\n                                    view: \"button\",\n                                    id: \"deleteAllSelectionsButton\",\n                                    value: \"Delete all\",\n                                    click: function (buttonId, ev) {\n                                        //console.log('Pressed: ' + buttonId);\n                                        ReScatter.selectionModel.deleteAllSelections();\n                                    }\n                                }]\n                            }\n                        ]\n                    }\n                ]\n            }\n        };\n        this.accordionId = ReScatter.controlWidgetLayout.addAccordionView(this.selectionTableDef);\n        this.selectionTable = $$(this.tableWebixId);\n        this.selectionContextMenu = new SelectionContextMenu();\n        this.selectionContextMenu.getMenuUi().attachTo(this.selectionTable);\n    }\n\n    static get modeEnum() {return {\n        // undefined: the selection dataPoints are passed to the values param\n        NONE: 0, /** No edit operation in progress **/\n        EDIT: 1, /** Edit selection GUI */\n        UNION: 2, /** Selecting a row add it to a union of selections*/\n        INTERSECT: 3, /** Selection a row performs an intersection with the current selection  */\n        SUBTRACT: 4, /** Selection a row subtracts it from the current selection */\n    }}\n\n    selectionRowChanged (row, column) {\n        \"use strict\";\n        switch (column) {\n            case 'color':\n                ReScatter.selectionModel.setColor(\n                    row.label,\n                    int_from_css_color_string(row.color)\n                );\n                break;\n            default:\n                console.log('Column: ' + column + ' not handled when selection edited');\n        }\n    }\n\n    startEditOp(mode, selLabel, selId) {\n        // to change the cursor in a webix datatable need to set it on the body item\n        this.editMode = SelectionDataWidget.modeEnum.NONE; //set NONE mode to prevent first selection triggering action\n        ReScatter.selectionModel.showSelection(selLabel);\n        this.setMode(mode);\n        if (mode === SelectionDataWidget.modeEnum.EDIT) {\n                this.editLabels = [];\n                ReScatter.selectionEditWidget.editExistingSelection(selLabel);\n                return;\n        } else if (mode === SelectionDataWidget.modeEnum.NONE) {\n            return;\n        }\n        this.editLabels = [selLabel];\n    }\n\n    setMode(mode) {\n        this.editMode = mode;\n        let tableBody = this.selectionTable.getNode().querySelector('div.webix_ss_body');\n        switch(mode) {\n            case SelectionDataWidget.modeEnum.UNION:\n                tableBody.style.cursor = 'url(' + ReScatter.cursors('./union.png') + '), auto';\n                break;\n            case SelectionDataWidget.modeEnum.INTERSECT:\n                tableBody.style.cursor = 'url(' + ReScatter.cursors('./intersect.png') + '), auto';\n                break;\n            case SelectionDataWidget.modeEnum.SUBTRACT:\n                tableBody.style.cursor = 'url(' + ReScatter.cursors('./subtract.png') + '), auto';\n                break;\n            default:\n                tableBody.style.cursor = 'default';\n        }\n    }\n\n    // callback from the a selectionModel\n    update (context) {\n        \"use strict\";\n        let self = this;\n        switch(context.op) {\n            case 'create':\n                let graphicPoint = new PIXI.Graphics();\n                graphicPoint.beginFill(context.sel.color);\n                this.selectionTable.add({\n                    label: context.sel.label,\n                    selectionId: context.sel.selectionId,\n                    description: context.sel.description,\n                    color: css_color_string_from_int(context.sel.color)\n                });\n                ReScatter.selectionEditWidget.editExistingSelection(undefined);\n                break;\n\n            case 'delete':\n                let foundRows = this.selectionTable.find(function (obj) {\n                    return obj.label === context.sel.label;\n                });\n                for (let i = 0, len = foundRows.length; i < len; i++) {\n                    this.selectionTable.remove(foundRows[i].id);\n                }\n                break;\n            case 'show':\n                this.selectionTable.find(function (obj) {\n                    if (context.sel.label === obj.label) {\n                        obj.active = 1;\n                        self.selectionTable.select(obj.id);\n                    } else {\n                        obj.active = 0;\n                    }\n                    self.selectionTable.updateItem(obj.id, obj);\n                    return undefined;\n                });\n                break;\n            case 'hide':\n                this.selectionTable.find(function (obj) {\n                    if (context.sel.label === obj.label && obj.active !== 0) {\n                        obj.active = 0;\n                        self.selectionTable.unselect(obj.id);\n                    }\n                    self.selectionTable.updateItem(obj.id, obj);\n                    return undefined;\n                });\n                break;\n            default:\n                console.log('Unrecognized selection operation in SelectionDataWidget, op: ' + context.op);\n        }\n        this.selectionTable.adjustRowHeight(\"description\");\n    }\n\n    expand() {\n        $$(this.accordionId).expand();\n    }\n}\n","export default class SelectionEditWidget {\n    /**\n     * @constructor\n     * SelectionDataTable contains all selections for the current layout.\n     * It includes both the loaded predefined selections and user created selections.\n     * It is added to a another webix control who's id is passed to the constructor\n     *\n     */\n    constructor() {\n        this.tableWebixId = \"existingSelectionEditFormId\";\n        self = this;\n        this.selectionTableDef = {\n            view: \"accordionitem\",\n            header: \"Edit selections\",\n            headerHeight: 35,\n            headerAltHeight: 35,\n            collapsed: true,\n            body: {\n                id: this.tableWebixId,\n                view: \"form\",\n                hidden: false,\n                type: \"clean\",\n                complexData: true,\n                elements: [\n                    {template: \"Edit existing selection\", type: \"section\"},\n                    {\n                        view: \"select\",\n                        id: 'editModeId',\n                        label: 'Edit mode',\n                        inputWidth: 250,\n                        labelWidth: 100,\n                        value: ReScatter.data.PermanentSelection.editModeEnum.enum.ADDPOINTS,\n                        yCount: \"2\",\n                        readonly: true,\n                        options: ReScatter.utils.enumToOptions(ReScatter.data.PermanentSelection.editModeEnum)\n                    },\n                    {\n                        view: \"text\",\n                        name: \"label\",\n                        label: \"Name\",\n                        inputWidth: 400,\n                        labelWidth: 100,\n                        readonly: true\n                    },\n                    {\n                        view: \"text\",\n                        name: \"selectionId\",\n                        label: \"Group\",\n                        inputWidth: 400,\n                        labelWidth: 100,\n                        readonly: true\n                    },\n                    {\n                        view: \"text\",\n                        name: \"description\",\n                        label: \"Description\",\n                        inputWidth: 400,\n                        labelWidth: 100\n                    },\n                    {\n                        view: \"text\",\n                        name: \"numPoints\",\n                        label: \"Num points\",\n                        inputWidth: 400,\n                        labelWidth: 100,\n                        readonly: true\n                    },\n                    {\n                        margin: 5, cols: [\n                        {\n                            view: \"button\",\n                            id: \"saveButton\",\n                            value: \"Save\",\n                            click: function (buttonId, ev) {\n                                ReScatter.selectionModel.saveEditingSelection();\n                                self.editExistingSelection(undefined);\n                                //$$(\"editSelectionsControlId\").hide();\n                            }\n                        },\n                        {\n                            view: \"button\",\n                            id: \"cancelButton\",\n                            value: \"Cancel\",\n                            click: function (buttonId, ev) {\n                                ReScatter.selectionModel.cancelEditingSelection();\n                                self.editExistingSelection(undefined);\n                                //$$(\"editSelectionsControlId\").hide();\n                            }\n                        }]\n                    }\n                ]\n            }\n        }\n        this.accordionView = ReScatter.controlWidgetLayout.addAccordionView(this.selectionTableDef);\n        this.editForm = $$(this.tableWebixId);\n        $$(\"editModeId\").attachEvent(\"onChange\", function(newVal, oldVal) {\n            ReScatter.controlEventModel.putControlEventModel('editOp', {editOp:newVal});\n            // TODO conside subscribing selectionModel to controlEventModel\n            ReScatter.selectionModel.setPutOperation(newVal);\n        });\n        this.editForm.attachEvent(\"onValues\", function() {\n            let editMode = $$(\"editModeId\").getValue();\n            ReScatter.controlEventModel.putControlEventModel('editOp', {editOp:editMode});\n            // TODO conside subscribing selectionModel to controlEventModel\n            ReScatter.selectionModel.setPutOperation(editMode);\n        });\n        this.editForm.hide();\n    }\n\n     editExistingSelection(label) {\n        if (label !== undefined) {\n            let selData = ReScatter.selectionModel.getSelection(label);\n            ReScatter.selectionModel.setEditingSelection(label);\n            let copySelData = jQuery.extend(true, {}, selData);\n            copySelData.numPoints = copySelData.dataPoints.length;\n            // Fill the form\n            this.editForm.setValues(copySelData);\n            ReScatter.controlEventModel.putControlEventModel('editMode', {\n                editMode: \"EXISTING\",\n                editTarget: label,\n                selectionId: copySelData.selectionId\n            });\n            // The existing selection editing form is hidden by default\n            this.editForm.show();\n            // Open the accordion to draw attention to the edit controls.\n            $$(this.accordionView).expand();\n        } else {\n            this.editForm.hide();\n            $$(this.accordionView).collapse();\n            ReScatter.selectionModel.cancelEditingSelection();\n            ReScatter.controlEventModel.putControlEventModel('editMode', {editMode:\"NEW\"});\n        }\n    }\n}\n","/**\n * Created by bvanlew on 26-7-17.\n */\nexport default class SelectionUploadWidget {\n    /**\n     * @constructor\n     * SelectionEditControls contains all control widgets for layout loading,\n     * predefined selections, ontology, and selection manipulation including\n     * editing manipulation and uploading.\n     *\n     * It locates in a div that is defined as foll\n     *\n     * Requires a floating <div> with the id 'plotContextMenu' to position itself on the screen\n     * eg     <div id=\"plotContextMenu\"></div>\n     *\n     * @return Singelton. Calling new on PlotContextMenu() returns the same instance\n     */\n    constructor(parentAccordionWebixId) {\n        this.tableWebixId = 'loadSelectionsLayoutId';\n        let self = this;\n        this.uploadFormDef = {\n            view: \"accordionitem\",\n            header: \"Upload selections\",\n            headerHeight: 35,\n            headerAltHeight: 35,\n            collapsed: true,\n            body: {\n                view: \"layout\",\n                id: \"loadSelectionsLayoutId\",\n                rows: [\n                    {template: \"Load selection from CSV file, or enter ids manually\", type: \"section\"},\n                    {\n                        margin: 5, cols: [\n                        {\n                            view: \"select\",\n                            id: 'uploadTargetId',\n                            label: 'Type',\n                            inputWidth: 200, labelWidth: 70,\n                            readonly: true,\n                            options: []\n                        },\n                        {\n                            view: \"select\",\n                            id: 'selectPropId',\n                            label: 'Property',\n                            inputWidth: 200, labelWidth: 70,\n                            readonly: true,\n                            options: []\n                        }]\n                    },\n                    {\n                        type: 'space',\n                        cols:[\n                        {\n                            view: \"htmlform\",\n                            minHeight: 20,\n                            template: \"<form><input type='file' id='selectionFileInput' \" +\n                                      \"onchange='self.loadSelectionFile(this.files, $$(\\\"uploadTargetId\\\").getValue())'></form>\"\n                        },\n                        {\n                            view: \"form\",\n                            type: 'clean',\n                            elements:[{\n                                view: \"textarea\",\n                                id: 'manualTextAreaId',\n                                name: 'manualSelText',\n                                height: 100,\n                                placeholder: 'Enter comma, semicolon, or LF separated ids here',\n                            },\n                            {\n                                view: \"button\",\n                                id: \"enterManualSelection\",\n                                value: \"Select\",\n                                click: function (buttonId, ev) {\n                                    let text = $$(\"manualTextAreaId\").getValue();\n                                    // be forgiving - users wanto use use semicolon CRLF etc\n                                    let re = /\\s*[,;\\n]\\s*/i;\n                                    let values = text.split(re);\n\n\n                                    if (values.length > 0) {\n                                        self.loadValues(values, $$(\"uploadTargetId\").getValue());\n                                    }\n                                }\n                            }\n                            ]\n                        }]\n                    }\n                ]\n            }\n        }\n        ReScatter.controlWidgetLayout.addAccordionView(this.uploadFormDef);\n        this.uploadForm = $$(this.tableWebixId);\n\n        $$(\"uploadTargetId\").attachEvent(\"onChange\", function(selectionVal, oldVal) {\n            if (selectionVal === \"1\") {return;} // the empty combo value\n            let keys = ReScatter.dataModel.getSelectionPropKeys(selectionVal);\n            keys.sort();\n            let options = [];\n            keys.forEach(function(val, index, array){\n                let prop = {id: val, value: val};\n                options.push(prop);\n            });\n            $$(\"selectPropId\").define(\"options\", options);\n            $$(\"selectPropId\").setValue(ReScatter.dataModel.getSelectionPrimaryProp(selectionVal));\n            $$(\"selectPropId\").refresh();\n        });\n\n    }\n\n    /**\n     *\n     * @param selections - id value array containing the possible selection groups\n     */\n    updateOptionsFromSelections(selections) {\n        $$(\"uploadTargetId\").define(\"options\", selections);\n        $$(\"uploadTargetId\").refresh();\n        $$(\"uploadTargetId\").setValue(selections[0].id);\n    }\n\n    loadSelection (selectionIndices, source, description, target) {\n        if (selectionIndices.length === 0) {\n            alert(\"No selection created - check the property selection and property names\");\n            return;\n        }\n        let label = ReScatter.selectionModel.getNewLabel(target);\n        ReScatter.selectionModel.putSelection(\n            label,\n            source ,\n            selectionIndices,\n            0x722222, //make user selectable?\n            description,\n            target\n        );\n    }\n\n    selectionFileLoaded (target, fileName, loadEvent) {\n        let selectionText = loadEvent.target.result;\n        // Allow for CRLF or LF separation\n        // Convert to commas\n        // Split on commas\n        let isCRLF = selectionText.search('\\r\\n') !== -1;\n        let isLF = isCRLF ? false: selectionText.search('\\n') !== -1;\n        let isSemicolon = (isCRLF || isLF) ? false : selectionText.search(';') !== -1;\n        let isComma = selectionText.search(',') !== -1;\n        if (!isComma) {\n            if (isCRLF) {\n                let crlfre = new RegExp('\\r\\n', 'g');\n                selectionText = selectionText.replace(crlfre, ',');\n            } else if (isLF) {\n                let lfre = new RegExp('\\n', 'g');\n                selectionText = selectionText.replace(lfre, ',');\n            } else if (isSemicolon) {\n                let scre = new RegExp(';', 'g');\n                selectionText = selectionText.replace(scre, ',');\n            }\n        }\n        let selectionArray = selectionText.split(',');\n        let cleanArray = [];\n        selectionArray.forEach(function(value, index, array){\n            cleanArray.push(value.trim());\n        });\n\n        let selectionIndices = [];\n        let propName = $$(\"selectPropId\").getValue();\n        cleanArray.forEach(function(val, index, array) {\n            // case sensitive match\n            selectionIndices = selectionIndices.concat(ReScatter.dataModel.getSelectionIndexes(target, propName, val, false));\n        });\n        this.loadSelection(selectionIndices, 'From file', 'Loaded from ' + fileName, target);\n    }\n\n    loadSelectionFile (files, target) {\n        let selectionFile = files[0];\n\n        // read the file selected by the user then start loading the selection\n        let reader = new FileReader();\n        reader.onload = this.selectionFileLoaded.bind(this, target, selectionFile.name);\n\n        reader.readAsText(selectionFile);\n    }\n\n    loadValues (values, target) {\n        let propName = $$(\"selectPropId\").getValue();\n        let selectionIndices = [];\n        values.forEach(function(val, index, array) {\n            // case insensitive matches allow\n            selectionIndices = selectionIndices.concat(ReScatter.dataModel.getSelectionIndexes(target, propName, val, true));\n        });\n        this.loadSelection(selectionIndices, 'Manual', 'Manual selection: ' + selectionIndices.length + ' points', target);\n    }\n\n}\n","/**\n * Created (migrated to ES6) by baldur on 7/31/15.\n */\n/* eslint-disable no-undef */\nconst nrrdjs = require('nrrd-js');\nconst ndarray = require('ndarray');\nconst ndops = require('ndarray-ops');\n/* eslint-enable no-undef */\nconst maps = {mapDict:{}};\nexport default class DataMapper {\n//<Class definition for the DataMapper>\n    constructor(filePath) {\n        // DataMapper will contain a number of functions to map large\n        // dataarrays from the server to compact results\n        // Currently supported:\n        //      sumColumns\n        // .... more to come...\n        this.filePath = filePath;\n        this.array = undefined;\n        this.status = DataMapper.status.NULL;\n\n    }\n\n    static get maps() {\n        return maps;\n    }\n\n    // Set the data maps that will be produced\n    static setDataMaps(dataMaps) {\n        DataMapper.maps.mapDict = {};\n        if (!dataMaps) {\n            ReScatter.utils.warn('No data maps defined');\n            return;\n        }\n        dataMaps.forEach(function(map) {\n            DataMapper.maps.mapDict[map.id] =\n               new DataMapper(map.filePath);\n        });\n    }\n\n    static getDataMap = function(id) {\n        return DataMapper.maps.mapDict[id];\n    };\n\n    // TODO  improve on this with option of user supplied function objects\n    /**\n     * Enum mapOp determines which mapping is performed given the selection dataPoints and the map Data\n     * in addition it determines how the result is passed to the values param of the user supplied mapFn.\n     * @readonly\n     * @enum {number}\n     */\n    static get mapOp() {return {\n        // undefined: the selection dataPoints are passed to the values param\n        SUMROW: 0, /** @property {number}  SUMROW - the rows indicated by dataPoints are summed, passed to values parameter */\n        AVGROW: 1, /** @property {number}  AVGROW - the rows indicated by dataPoints are averaged, passed to values parameter */\n        SUMCOL: 2, /** @property {number}  SUMCOL - the columns indicated by dataPoints are summed, passed to values parameter */\n        AVGCOL: 3, /** @property {number}  AVGCOL - the rows indicated by dataPoints are averaged, passed to values parameter */\n        ALLROW: 4, /** @property {number}  ALLROW - values containing 0...n where n is row length -1 */\n        ALLCOL: 5, /** @property {number}  ALLCOL - values containing 0...n where n is col length -1 */\n        PASSROW: 6,  /** @property {number} PASSROW - pass row 0 (x = 0..sizeX-1 y=0) of the array */\n        PASSCOL: 7,  /** @property {number} PASSCOL - pass col 0 (x = 0 y=0..sizeY-1) of the array */\n        // The next two return 2D data\n        PASSALLROW: 8,  /** @property {number} PASSALLROW - pass all rows for the column indices (x = 0..sizeX-1 y=0) of the array */\n        PASSALLCOL: 9  /** @property {number} PASSALLCOL - pass all cols for the row indices (x = 0 y=0..sizeY-1) of the array */\n    };}\n\n    static get propAssign() { return {\n        // undefined: property is assigned to the point group in common\n        POINT: 0 // property assigned point by point\n    };}\n\n    // How the incoming selection defines a group of points\n    static get groupdef() { return {\n        // undefined: dataPoints points are in the group\n        ALL: 0 // all points in the target are in the selection group\n        //MAPPED: 1 // proint group defined by mapping function\n    };}\n\n    // The state of this data mapper - the file has to be loaded in an async operation\n    static get status() { return {\n        // undefined: dataPoints points are in the group\n        NULL: 0 ,// map file not loaded\n        BUSY: 1, // map file loading or in use - caller should wait\n        AVAIL: 2, // mapper available for use\n        FAIL: 3 // get failed\n    };}\n\n\n    // The file must contain a json object defining a rectangular matrix\n    // as a number of rows\n    // {data:[[n,n,n,...],[n,n,n,....],[n,n,n,...]]}\n    setData (filePath) {\n        'use strict';\n        this.filePath = filePath;\n        this.array = undefined;\n        this.status = DataMapper.status.NULL;\n    }\n\n    // Calling this function returns a promise - chain the appropriate resolver function\n    // the supplied data is an array of row indices\n    // the columns are summed.\n    // See https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise#Example_using_new_XMLHttpRequest()\n    // for the inspiration for this and how to use it\n    // The function is designed to support delayed loading of the DataMapper data\n    // to this end if more than one caller is trying to perform a mapping\n    // and the data is not available the first performs a GET while the\n    // rest wait for the MDataMapper to become available.\n    mapData (rowIndices, mapping) {\n        'use strict';\n        let self = this;\n\n        switch (this.status) {\n        case DataMapper.status.NULL: {\n            //console.log(\"Fetching Data Map\");\n            this.status = DataMapper.status.BUSY;\n            let pathAndTypeList = [{path: this.filePath, type: 'arraybuffer'}];\n            return new Promise(function (resolve, reject) {\n                let callback = function () {\n                    let arrayBuffer = ReScatter.dataModel.dataCache.getFromCache(self.filePath);\n                    let nrrdfile = nrrdjs.parse(arrayBuffer);\n                    self.array = ndarray(nrrdfile.data, nrrdfile.sizes.slice().reverse());\n                    self.__resolveMapping(resolve, self, rowIndices, mapping);\n                };\n                let errorCallback = function (errorObj) {\n                    self.status = DataMapper.status.FAIL;\n                    console.log('Error retrieving: ' + self.filePath);\n                    reject(errorObj);\n                };\n                ReScatter.dataModel.dataCache.loadFiles(pathAndTypeList, callback, errorCallback);\n            });\n        }\n        case DataMapper.status.BUSY: {\n            // wait for AVAIL\n            // TODO Handle failure - reject\n            let delay = function (resolve/*, reject*/) {\n                setTimeout(function () {\n                    resolve();\n                }, 200);\n            };\n\n            return new Promise(function (resolve) {\n                let loop = function () {\n                    if (self.status === DataMapper.status.AVAIL) {\n                        self.__resolveMapping(resolve, self, rowIndices, mapping);\n                    } else {\n                        return new Promise(delay)\n                            .then(loop)\n                            .catch(function (e) {\n                                console.log('Error in DataMapper delay ' + e);\n                            });\n                    }\n                };\n                setTimeout(function () {\n                    loop();\n                }, 1);\n            });\n        }\n        //setTimeout(self.mapData, 500, rowIndices, mapping);\n        case DataMapper.status.AVAIL: {\n            // perform operation\n            //console.log(\"Data Map Available\");\n            this.status = DataMapper.status.BUSY;\n            // TODO handle error via reject\n            return new Promise(function (resolve/*, reject*/) {\n                self.__resolveMapping(resolve, self, rowIndices, mapping);\n            });\n        }\n        }\n    }\n\n    __resolveMapping (resolve, self, rowIndices, mapping) {\n        let result;\n        try {\n            result = self.__performMapping(rowIndices, mapping);\n        } catch(e) {\n            // TODO reject from promise\n            console.log('Error in data mapping: ' + e);\n        } finally {\n            self.status = DataMapper.status.AVAIL;\n            resolve(result);\n        }\n    }\n\n    __performMapping (indices, mapping) {\n        switch (mapping) {\n        case DataMapper.mapOp.AVGROW:\n            return this.averageRows(indices);\n        case DataMapper.mapOp.SUMROW:\n            return this.sumRows(indices);\n        case DataMapper.mapOp.AVGCOL:\n            return this.averageCols(indices);\n        case DataMapper.mapOp.SUMCOL:\n            return this.sumCols(indices);\n        case DataMapper.mapOp.ALLROW: {\n            let rowLen = this.array.shape[1];\n            return this.getIndexArray(rowLen);\n        }\n        case DataMapper.mapOp.ALLCOL: {\n            let colLen = this.array.shape[0];\n            return this.getIndexArray(colLen);\n        }\n        case DataMapper.mapOp.PASSROW:\n            return this.passRow(indices);\n        case DataMapper.mapOp.PASSCOL:\n            return this.passCol(indices);\n        case DataMapper.mapOp.PASSALLROW:\n            return this.passAllRow(indices);\n        case DataMapper.mapOp.PASSALLCOL:\n            return this.passAllCol(indices);\n        default:\n            return this.sumRows(indices);\n        }\n    }\n\n    getIndexArray (len) {\n        let indices = new Array(len);\n        for (let i = 0; i < len; i++) {\n            indices[i] = i;\n        }\n        return indices;\n    }\n\n    sumRows (rowIndices) {\n        // For the given rowIndices sum all the columns in the data\n        // and return the result via the callback as an array\n        if (!this.array) {\n            return([]);\n        }\n        // This works because TypedArrays are initialized to 0 by definition\n        let sumArray = ndarray(new Float32Array(this.array.shape[0]), [this.array.shape[0]]);\n        for (let i = 0, len = rowIndices.length; i<len; i++) {\n            let curRow = this.array.pick(null, rowIndices[i]);\n            ndops.add(sumArray, sumArray, curRow);\n        }\n        return(Array.prototype.slice.call(sumArray.data));\n    }\n\n    averageRows (rowIndices) {\n        let totalArray = this.sumRows(rowIndices);\n        let div = rowIndices.length;\n        for (let i =0, len = totalArray.length; i< len; i++) {\n            totalArray[i] = totalArray[i]/div;\n        }\n        return totalArray;\n    }\n\n    sumCols (colIndices) {\n        // For the given rowIndices sum all the columns in the data\n        // and return the result via the callback as an array\n        if (!this.array) {\n            return([]);\n        }\n        // This works because TypedArrays are initialized to 0 by definition\n        let sumArray = ndarray(new Float32Array(this.array.shape[1]), [this.array.shape[1]]);\n        for (let i = 0, len = colIndices.length; i<len; i++) {\n            let curCol = this.array.pick(colIndices[i], null);\n            ndops.add(sumArray, sumArray, curCol);\n        }\n        return(Array.prototype.slice.call(sumArray.data));\n    }\n\n    averageCols (colIndices) {\n        let totalArray = this.sumCols(colIndices);\n        let div = colIndices.length;\n        for (let i =0, len = totalArray.length; i< len; i++) {\n            totalArray[i] = totalArray[i]/div;\n        }\n        return totalArray;\n    }\n\n    passCol (indices) {\n        if (!this.array) {\n            return([]);\n        }\n        let resultArray = new Array(indices.length);\n        for (let i =0, len = indices.length; i< len; i++) {\n            resultArray[i] = this.array.get(0,indices[i]);\n        }\n        return resultArray;\n    }\n\n    passRow (indices) {\n        if (!this.array) {\n            return([]);\n        }\n        let resultArray = new Array(indices.length);\n        for (let i =0, len = indices.length; i< len; i++) {\n            resultArray[i] = this.array.get(indices[i],0);\n        }\n        return resultArray;\n    }\n\n    passAllCol (indices) {\n        if (!this.array) {\n            return([]);\n        }\n        let resultArray = new Array(indices.length);\n        for (let i =0, len = indices.length; i< len; i++) {\n            let colArray = new Array(this.array.shape[0]);\n            for (let j=0; j < this.array.shape[0]; j++) {\n                colArray[j] = this.array.get(j,indices[i]);\n            }\n            resultArray[i] = colArray;\n        }\n        return resultArray;\n    }\n\n    passAllRow (indices) {\n        if (!this.array) {\n            return([]);\n        }\n        let resultArray = new Array(indices.length);\n        for (let i =0, len = indices.length; i< len; i++) {\n            let rowArray = new Array(this.array.shape[1]);\n            for (let j=0; j < this.array.shape[1]; j++) {\n                rowArray[j] = this.array.get(indices[i], j);\n            }\n            resultArray[i] = rowArray;\n        }\n        return resultArray;\n    }\n}\n","/**\n * Created by bvanlew on 15-3-18.\n *\n * Refactored code from the PixijsPlotController.\n * This code is non specific and is simply a way of retrieving plot related\n * property data based om generic property names and point  point indexes.\n * The user configures properties, point indexes and access functions\n\n */\n\nexport default class PlotPropReader {\n    /**\n     * Create a reader using the given information\n     * @param props - an object containing named arrays of properties\n     *                  one per plot point\n     * @param plotFormat - an object containing a mapping between the generic\n     *                  either literal property values or indexing into\n     *                  the plot meta data (plotFormat) to retrieve a value\n     *\n     *                  The generic property names are as follows:\n     *                  color : get point color\n     *                  id: get a unique point id\n     *                  symbol: get a value that can be used to annotate the point\n     *                  shape: The point shape to use in a plot\n     *                  size: The diameter of the plot point sprite\n     *                  background: Background color for a plot\n     */\n    constructor(props, plotFormat) {\n        this.props = props;\n        this.propKeys = Object.keys(props);\n        this.plotFormat = plotFormat;\n    };\n\n    /**\n     * Use the plotFormat (in the plot configuration) and meta-data defined\n     * for an indexed plot point to get a display property for that point.\n     *\n     * If the propName is not in plotFormat look it up directly in the the point\n     * meta-data. If it is defined in plot props perform one of the following depending\n     * on the type of entry in plotFormat\n     * plotFormat entry is:\n     *      object: get the value from the object and looks up the meta-data with it\n     *      function: execute the function with the pont meta-data as argument\n     *      string: use the string to select an entry from the meta-data for the point\n     *      other: (e.g number) use the value from plotFormat\n     * @param index - point and point meta-data index\n     * @param propName - the plot property to set via the definition in the plotFormat\n     * @param defaultValue - if propName not defined in plotFormat or in the point\n     *                  meta-data use this default\n     * @returns {*}\n     */\n    getPlotProp (index, propName, defaultValue) {\n        \"use strict\";\n        let prop = this.getAllPropsAtPoint(index);\n        switch (typeof(this.plotFormat[propName])) {\n            case 'undefined': // Direct\n                if (prop[propName]) {\n                    return prop[propName];\n                } else {\n                    return defaultValue;\n                }\n                break;\n\n            case 'object': //Mapped\n                return prop[this.plotFormat[propName[propName]]];\n\n            case 'function': //Function\n                return this.plotFormat[propName](prop);\n\n            case 'string':\n                return prop[this.plotFormat[propName]];\n\n            default: //Literal\n                return this.plotFormat[propName];\n        }\n    }\n\n    getColor (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'color', 0x6C7B8B);\n    }\n\n    getId (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'id', '');\n    }\n\n    getSymbol (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'symbol', '');\n    }\n\n    getShape (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'shape', 'circle');\n    }\n\n    getSize (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'size', 3);\n    }\n\n    getGroup (index) {\n        \"use strict\";\n        return this.getPlotProp(index, 'group', undefined);\n    }\n\n    getPrimaryProp () {\n        \"use strict\";\n        return this.getPlotProp(0, 'primary', undefined);\n    }\n\n    getBackgroundColor() {\n        \"use strict\"\n        return this.getPlotProp(0, 'background', 0x000000)\n    }\n\n    getAllPropsAtPoint (index) {\n        \"use strict\";\n        let prop = {};\n        let self = this;\n        this.propKeys.forEach(function(key) {\n            prop[key] = self.props[key][index];\n        });\n        return prop;\n    }\n\n    // Reverse lookup points based on prop values\n    getPointIndexFromProp (propName, propVal, caseInsensitive) {\n        let start = 0;\n        let ci = caseInsensitive ? true: false;\n        let indexes = [];\n        this.props[propName].forEach(function(val, index, array) {\n            if (ci) {\n                if ((String(val).toUpperCase() === String(propVal).toUpperCase())) {\n                    indexes.push(index);\n                }\n            } else if (val === propVal) {\n                indexes.push(index);\n            }\n        });\n        //while ((start = this.props[propName].indexOf(propVal, start)) !==-1) {\n        //    indexes.push(start);\n        //    start = start + 1;\n        //}\n        return indexes;\n    }\n}\n","/**\n * Created by baldur on 7/24/15.\n */\n\nimport SelectionSubscriber from '../common/SelectionSubscriber';\nimport LookupEnum from '../../utils/LookupEnum';\nimport DataMapper from '../../data/DataMapper';\nimport PlotPropReader from '../../data/PlotPropReader';\nimport { SnapshotProtocolForCanvas } from '../../protocols/SnapShotProtocols';\nimport PlotProtocol from '../../protocols/PlotProtocol';\nimport SelectionProtocol from '../../protocols/SelectionProtocol';\nimport ControlProtocol from '../../protocols/ControlProtocol';\n\n/* eslint-disable no-undef*/\nconst kdTree = require('kd-tree-javascript');\n/* eslint-enable no-undef */\n// CustomEvents generated by this class\n// rendererLoadProgress - contains -  detail: {progressString:string}\n// rendererLoadComplete - contains -  detail: {renderer:this,  rendererId:this.elementId}\n// webpack require.context to get a list of files\n// see requireAll @ https://webpack.github.io/docs/context.html\n//let cursors = require.context('../../cursors', true, /^\\.\\/.*\\.png$/);\n// require all the files\n//cursors.keys().map(cursors);\n\n//<Class definition for the PixijsPlotController>\nexport default class PixijsPlotController extends SelectionSubscriber {\n    constructor(elementId, plotInfo, selectionConfigs) {\n        'use strict';\n        super(3);\n        this.elementId = elementId;\n        this.id = plotInfo.id;\n        this.selectionOutId = plotInfo.selections.selectionOut;\n        this.dynamicSelectionId = plotInfo.selections.dynamicSelectionOut;\n        if (selectionConfigs === undefined) {\n            this.switchableSelections = ReScatter.config.SwitchableSelections.newFromPlotInfo(plotInfo);\n            selectionConfigs = this.switchableSelections.configNames;\n        } else {\n            this.switchableSelections = plotInfo.selections.switchableSelections;\n        }\n\n        this.currentConfig = selectionConfigs[0];\n        this.selectionIn = this.switchableSelections.getSelectionMapping(this.currentConfig);\n        this.dynamicSelectionIn = this.switchableSelections.getDynamicSelectionMapping(this.currentConfig);\n        this.selectionConfigs = selectionConfigs;\n\n        document.getElementById(this.elementId + '-title').innerHTML = this.id;\n        this.brushType = 'Circle';\n        this.mouseOverIndexes = []; // points selected when mouse over is enabled\n        this.propertyOverIndexes = []; //points when property seed is selected\n        this.processingDynamicSelecton = false;\n        $( '#' + elementId ).mouseover(function() {\n            $('#' + elementId).css('cursor', 'url(' + ReScatter.cursors('./drawtarget.png') + ') 20 20, auto');\n\n        }).mouseout(function() {\n            $( '#' + elementId ).css('cursor', 'default');\n        });\n        this.frameDelay = 20;\n        this.plotElement = $('#' + this.elementId)[0];\n        // Actual render size (computed size of container - rather than parent clientWidth)\n        this.plotWindowSize = this.plotElement.clientWidth;//this.getParentWidth();\n        this.originalSize = this.plotWindowSize;\n        this.renderer = PIXI.autoDetectRenderer(this.plotWindowSize, this.plotWindowSize, {autoResize: true, forceFXAA: true, preserveDrawingBuffer:true});\n        this.interactionElement = this.renderer.plugins.interaction.interactionDOMElement;\n\n        this.plotElement.appendChild(this.renderer.view); //view is a canvas element where the WebGL result is displayed\n\n        window.addEventListener('resize', this.onResize.bind(this));\n        let self = this;\n\n        // Note the z-order of the containers is from back to front\n        // i.e. the first containers are drawn first\n        // Projection size for scaling (1000)\n        this.plotSize = this.plotWindowSize;\n        // Base of the render tree\n        this.plotRoot = new PIXI.Container();\n        this.plotRoot.interactive = true;\n\n        // Container used for the scatter plot\n        this.basePlotContainer = new PIXI.Container();\n        this.basePlotContainer.interactive = true;\n        this.basePlotContainer.filters = undefined;\n        this.plotRoot.addChild(this.basePlotContainer);\n        this.contextMenuLinked = false;\n        this.zoomed = false;\n\n        this.resizeZoom = 1;\n        this.maxZoomLevel = 16;\n        // zoom levels\n        this.zoomLevels = Array.apply(null, {length:self.maxZoomLevel + 1}).map(function(val, indx){\n            return Math.pow(2,indx/4);\n        });\n        this.currentZoomLevel = 0;\n        this.zoomFactor = this.zoomLevels[this.currentZoomLevel];\n\n        this.selections = [];\n        let selectionDefaults = plotInfo.selections.selectionDefaults || {};\n        this.numNeighbours = selectionDefaults.hasOwnProperty('numNeighbours') ?  selectionDefaults.numNeighbours : 49;\n        this.selectOver = selectionDefaults.hasOwnProperty('selectOver') ?  selectionDefaults.selectOver : PixijsPlotController.SelectionEnum.MOUSEOVER;\n        this.mouseOverExcludeSeed = selectionDefaults.hasOwnProperty('mouseOverExcludeSeed') ? selectionDefaults.mouseOverExcludeSeed : false;\n\n        this.mouseOverSeedIndex = -1;\n\n        //Container used for selected point sprites\n        this.selectionsRoot = new PIXI.Container();\n        this.selectionsRoot.interactive = false;\n        this.plotRoot.addChild(this.selectionsRoot);\n\n        //Container used for displaying transient selections\n        this.dynamicRoot = new PIXI.Container();\n        this.dynamicRoot.interactive = false;\n        this.dynamicRoot.visible = false;\n        this.plotRoot.addChild(this.dynamicRoot);\n        // Optimization alert!\n        // plotRoot.visible = false is used to prevent the\n        // InteractionManager from responding on non focussed canvas\n        // The InteractionManager slows down the whole system otherwise\n        // due to the large number of interactive sprites per plot\n        // plotRoot visibility is set to true when the plot gets the focus\n        // and back to false when the mouse exits\n        this.plotRoot.visible = false;\n        // View objects for the selections\n        this.selectionViews = {};\n\n        // Container used for rendering ontology popups\n        this.popupContainer = new PIXI.Container();\n        this.popupContainer.interactive = false;\n        this.plotRoot.addChild(this.popupContainer);\n\n        // Container used for brush objects\n        this.plotRoot.brushViewTree = new PIXI.Container();\n        this.plotRoot.brushViewTree.interactive = false;\n        // For ease of reference in the events make activeBrushView and\n        // tree children of plotRoot.brushViewTree. plotRoot is the 'this' pointer\n        // in the callbacks.\n        this.plotRoot.mousedown = this.plotRoot.touchstart = this.startDrawing;\n        this.plotRoot.mouseup = this.plotRoot.touchend = this.endDrawing;\n        this.plotRoot.click = this.selectOnClick.bind(this);\n        this.renderer.view.oncontextmenu = this.onContextMenu.bind(this); //disable the rightclick menu over the plot\n\n        this.interactionElement.addEventListener('wheel', self.zoomWheel.bind(self), false);\n        this.interactionElement.addEventListener('mouseover', self.startAnimationFn.bind(self));\n        this.interactionElement.addEventListener('mouseout', self.stopAnimationFn.bind(self));\n        this.interactionElement.addEventListener('touchstart', self.startAnimationFn.bind(self));\n        this.interactionElement.addEventListener('touchmove', self.startAnimationFn.bind(self));\n\n        this.interactionElement.addEventListener('touchleave', self.stopAnimationFn.bind(self));\n        this.plotRoot.mousemove = this.plotRoot.touchmove = null;\n        this.plotRoot.brushMousemove = this.brushMousemove;\n        this.plotRoot.activeBrushView = undefined;\n        this.plotRoot.activeBrushModel = undefined;\n        this.plotRoot.renderer = this;\n        this.plotRoot.captureMouse = false;\n        // Respond to mouseup outside this  as the user can finish brushing at an odd location\n        let sceneRootMouseUp = this.endDrawing.bind(this.plotRoot);\n        document.body.addEventListener('mouseup', function(event) {\n            if (self.plotRoot.captureMouse) {\n                sceneRootMouseUp(event);\n            }\n        });\n        document.body.addEventListener('touchend', function(event) {\n            if (self.plotRoot.captureMouse) {\n                sceneRootMouseUp(event);\n            }\n        });\n        document.body.addEventListener('touchcancel', function(event) {\n            if (self.plotRoot.captureMouse) {\n                sceneRootMouseUp(event);\n            }\n        });\n        this.plotRoot.addChild(this.plotRoot.brushViewTree);\n        this.annotations = [];\n        this.annotationsColor = [];\n        this.allPointSprites = [];\n\n        this.dimensions = 2;\n        this.then = Date.now();\n        this.inRender = false;\n        this.stopAnimation = true;\n\n\n        // Add a hit area... to allow drawing on the whole image\n        this.plotRoot.hitArea = new PIXI.Rectangle(0,0, this.plotWindowSize, this.plotWindowSize);\n        this.plotAreaRect = new PIXI.Graphics();\n        this.plotAreaRect.lineStyle(2, 0x2F2F2F, 1);\n        this.plotAreaRect.drawRect(0, 0, this.plotWindowSize, this.plotWindowSize);\n        this.plotRoot.addChild(this.plotAreaRect);\n\n    }\n\n    static brushModeEnum = new LookupEnum({\n        CIRCLE: 'Circle',\n        RECTANGLE: 'Rectangle',\n        FREEHAND: 'Freehand'\n    });\n\n    startAnimationFn () {\n        this.hasFocus = true;\n        this.plotRoot.visible = true;\n        if (this.stopAnimation) {\n            this.stopAnimation = false;\n            this.animate();\n        }\n    }\n\n    stopAnimationFn () {\n        this.popupContainer.removeChildren();\n        this.render();\n        this.hasFocus = false;\n        this.stopAnimation = true;\n        this.plotRoot.visible = false;\n        if (this.dynamicSelectionId && ReScatter.dynamicSelectionModel) {\n            ReScatter.dynamicSelectionModel.removeDynamicSelection(this.dynamicSelectionId);\n        }\n\n        //console.log(\"Lost focus \" + this.id);\n    }\n\n    animate () {\n        'use strict';\n        // throttle the rAF depending on activity\n        this.now = 0;\n        let that = this;\n        return (function frameLoop(){\n            if (that.stopAnimation) {\n                return;\n            }\n            that.animationId = window.requestAnimationFrame(frameLoop);\n            //that.inRender = true;\n            //that.render();\n            that.now = Date.now();\n            let delta = that.now - that.then;\n            if (delta > that.frameDelay) {\n                that.then = that.now - (delta % that.frameDelay);\n                if (!that.inRender) {\n                    that.inRender = true;\n                    let now = Date.now();\n\n                    that.render();\n\n                    // throttle delay to match actual performance\n                    // out of focus run slower\n                    // Redundant - animation is killed on loss of focus\n                    let actualRenderDelay = Date.now() - now ;\n                    if (that.hasFocus) {\n                        that.frameDelay = (actualRenderDelay > 120) ? 120: actualRenderDelay;\n                        that.frameDelay = (actualRenderDelay < 20) ? 20 : that.frameDelay;\n                    } else {\n                        that.frameDelay = (actualRenderDelay > 800) ? 800 : actualRenderDelay * 10;\n                        that.frameDelay = (actualRenderDelay < 120) ? 120 : that.frameDelay;\n                    }\n                }\n            //    //console.log('Frame delay: ' + that.frameDelay + ' Delta: ' + delta);\n            }\n\n        }());\n    }\n\n\n    render (cacheBasePlot) {\n        'use strict';\n        // now show it\n        let sceneRootState = this.plotRoot.visible;\n        this.plotRoot.visible = true;\n        // This seems like a good idea to enhance performance\n        // but the scaling of the bitmap fails in Firefox\n        // TODO find a fix\n        if (cacheBasePlot) {\n            this.basePlotContainer.cacheAsBitmap = true;\n        }\n        if (this.renderer.gl) {\n            this.renderer.render(this.plotRoot);\n        }\n        this.basePlotContainer.cacheAsBitmap = false;\n        this.inRender = false;\n        this.plotRoot.visible = sceneRootState;\n    }\n\n\n    destroy () {\n        'use strict';\n        // TODO cleanup brush objects\n\n        document.getElementById(this.elementId + '-title').innerHTML = '';\n        this.stopAnimation = true;\n        if (this.animationId) {\n            window.cancelAnimationFrame(this.animationId);\n        }\n        this.plotPoints = {};\n        this.scatter = {};\n        // attempt to force context cleanup which is not working in pixijs3\n        // test for gl to allow running in non-WebGL environment\n        if (this.renderer.gl) {\n            try {\n                this.renderer.gl.getExtension('WEBGL_lose_context').loseContext();\n            } catch(error) {\n                console.log('Error forcing WebGL context release: ' + error);\n            }\n        }\n        this.renderer.destroy(); //prevent canvas view removal\n        while (this.plotElement.firstChild) {\n            this.plotElement.removeChild(this.plotElement.firstChild);\n        }\n\n    }\n\n    getParentWidth () {\n        let style = window.getComputedStyle(this.plotElement);\n        return this.plotElement.offsetWidth - parseFloat(style.paddingLeft) - parseFloat(style.paddingRight) - parseFloat(style.borderLeftWidth) - parseFloat(style.borderRightWidth);\n    }\n\n    captureKeys (enable) {\n\n        if (enable) {\n            this.keyListener = this.keyInput.bind(this);\n            window.addEventListener('keydown', this.keyListener);\n        } else {\n            window.removeEventListener('keydown', this.keyListener);\n        }\n    }\n\n    keyInput(key) {\n        if ((this.selectOver === PixijsPlotController.SelectionEnum.NONE) || !this.hasFocus) {\n            return;\n        }\n        switch(key.keyCode) {\n        case 78: // left arrow\n            if (this.numNeighbours > 0 ) {\n                ReScatter.controlEventModel.putControlEventModel('numNeighbours', {\n                    number: this.numNeighbours - 1,\n                    selector: this.dynamicSelectionId\n                });\n            }\n            break;\n        case 77: // right arrow\n            ReScatter.controlEventModel.putControlEventModel('numNeighbours', {\n                number: this.numNeighbours + 1,\n                selector: this.dynamicSelectionId\n            });\n            break;\n        default:\n            break;\n        }\n    }\n\n    startDrawing (event) {\n        'use strict';\n        if (this.renderer.selectOver === PixijsPlotController.SelectionEnum.MOUSEOVER) {\n            // no drawing when mouseOverActive is running\n            // kludge to prevent click and mouse up confusion\n            return;\n        }\n        $('#' + this.renderer.elementId).css('cursor', 'url(' + ReScatter.cursors('./drawtarget2.png') + ') 20 20, auto');\n        this.selectionShapeOrigin = event.data.getLocalPosition(this.renderer.plotRoot);\n        this.activeBrushView = new PIXI.Graphics();\n        this.activeBrushView.lineStyle(2/this.renderer.zoom, 0xFF0000, 1);\n        this.activeBrushModel = undefined;\n        //this.brushModels.push(this.activeBrushModel);\n        this.brushViewTree.addChild(this.activeBrushView);\n        this.freehandPath = [];\n        this.mousemove = this.touchmove = this.brushMousemove;\n        this.captureMouse = true;\n    }\n\n    brushMousemove (event) {\n        'use strict';\n        if (this.activeBrushView === undefined) {\n            return;\n        }\n\n        let curPos = event.data.getLocalPosition(this.renderer.plotRoot);\n        this.activeBrushView.clear();\n        this.activeBrushView.lineStyle(2/this.renderer.zoom, 0xFF0000, 1);\n\n        switch (this.renderer.brushType) {\n        case 'Circle': {\n            let circCenter = {\n                x: this.selectionShapeOrigin.x + (curPos.x - this.selectionShapeOrigin.x) / 2,\n                y: this.selectionShapeOrigin.y + (curPos.y - this.selectionShapeOrigin.y) / 2\n            };\n            let circRadius = Math.sqrt(Math.pow((this.selectionShapeOrigin.x - curPos.x), 2) +\n                Math.pow((this.selectionShapeOrigin.y - curPos.y), 2)) / 2;\n\n            this.activeBrushView.drawCircle(circCenter.x, circCenter.y, circRadius);\n            this.activeBrushModel = new PIXI.Circle(circCenter.x, circCenter.y, circRadius);\n\n            break;\n        }\n        case 'Rectangle': {\n            // origin mush be top left - lowest x and y\n            let xOrigin = (this.selectionShapeOrigin.x < curPos.x) ? this.selectionShapeOrigin.x : curPos.x;\n            let yOrigin = (this.selectionShapeOrigin.y < curPos.y) ? this.selectionShapeOrigin.y : curPos.y;\n\n            this.activeBrushView.drawRect(xOrigin, yOrigin,\n                Math.abs(curPos.x - this.selectionShapeOrigin.x),\n                Math.abs(curPos.y - this.selectionShapeOrigin.y));\n            this.activeBrushModel = new PIXI.Rectangle(xOrigin, yOrigin,\n                Math.abs(curPos.x - this.selectionShapeOrigin.x),\n                Math.abs(curPos.y - this.selectionShapeOrigin.y));\n            break;\n        }\n        case 'Freehand':\n            this.freehandPath.push(curPos.clone());\n            // close the polygon automatically\n            // var closedPath = this.freehandPath.slice(0);\n            // closedPath.push(this.freehandPath[0]);\n            this.activeBrushView.drawPolygon(this.freehandPath);\n            this.activeBrushModel = new PIXI.Polygon(this.freehandPath);\n\n            break;\n        default: {\n            (()=>{})();\n        }\n        }\n\n    }\n\n    endDrawing (/*event*/) {\n        'use strict';\n        this.captureMouse = false;\n\n        $('#' + this.renderer.elementId).css('cursor', 'url(' + ReScatter.cursors('./drawtarget.png') + ') 20 20, auto');\n        this.mousemove = this.touchmove = null;\n\n        if (this.activeBrushView === undefined) {\n            return;\n        }\n        if (this.activeBrushModel === undefined) {\n            return;\n        }\n        // Calculate the enclosed points - use the sprite screen positions\n        let typeSelection = 'Circle';\n        if (this.activeBrushModel.type === PIXI.SHAPES.POLY) {\n            // Close the polygon path\n            let closedPath = this.freehandPath.slice(0);\n            closedPath.push(this.freehandPath[0]);\n            this.activeBrushView.drawPolygon(closedPath);\n            this.activeBrushModel = new PIXI.Polygon(closedPath);\n            typeSelection = 'Freehand ';\n        } else if (this.activeBrushModel.type === PIXI.SHAPES.CIRC) {\n            typeSelection = 'Circle ';\n        } else if (this.activeBrushModel.type === PIXI.SHAPES.RECT) {\n            typeSelection = 'Rectangle ';\n        }\n        let dataPoints = [];\n\n        for (let j = 0, len = this.renderer.allPointSprites.length; j < len; j++) {\n            if (this.activeBrushModel.contains(this.renderer.allPointSprites[j].position.x, this.renderer.allPointSprites[j].position.y)) {\n                dataPoints.push(j);\n            }\n        }\n\n        if (dataPoints.length > 0) { //} && this.renderer.selectable) {\n            let selOutId = this.renderer.selectionOutId;\n            this.activeBrushModel.label = ReScatter.selectionModel.getNewLabel(selOutId);\n            ReScatter.selectionModel.putSelection(\n                this.activeBrushModel.label,\n                this.renderer.elementId,\n                dataPoints,\n                0x772222,\n                'User: ' + typeSelection + ', ' + dataPoints.length + ' points.',\n                selOutId,\n                this.renderer.plotPropReader.props);\n            this.activeBrushView.hitArea = this.activeBrushModel;\n            this.activeBrushView.interactive = true;\n            this.activeBrushView.visible = false;\n            this.activeBrushView.mouseover = function (/*interaction*/) {\n                console.log('Shape contains: ' + dataPoints.length + ' points.');\n            };\n            this.activeBrushView.clear();\n            delete this.activeBrushView;\n            delete this.activeBrushModel;\n        } else {\n            this.activeBrushView.clear();\n            delete this.activeBrushView;\n            delete this.activeBrushModel;\n        }\n\n        this.activeBrushView = undefined;\n        this.activeBrushModel = undefined;\n        this.activeBrushModel = undefined;\n    }\n\n    onContextMenu (event) {\n        event.preventDefault(); // disable the original context menu\n        let kdeVals = this.scatterPoints.kdeValues();\n        kdeVals.color = 'Grey';\n        if (this.basePlotContainer.filters && this.basePlotContainer.filters.length === 2) {\n            kdeVals.color = this.lutFilter.currentName;\n        }\n\n        ReScatter.controlEventModel.putControlEventModel('plotContextMenu', {\n            plot: this,\n            coords: {x: event.clientX, y:event.clientY},\n            kde:kdeVals\n        });\n        this.contextMenuLinked = true;\n        event.stopPropagation();\n    }\n\n    // function returns a promise - call appropriately\n    /**\n     * Return a Promise that will perform the selection-> properties mapping for the\n     * property in question.\n     *\n     * @param property - string: property being mapped 'group', 'color', 'size'\n     * @param dataPoints - list of int: indexes of points in election\n     * @param selectionMap - object: mapping config containing {dataMap:, propMap}\n     * @param selectionProp - CSS color: color from plot source\n     * @param result - object to hold result\n     * @returns {Promise}\n     * @private\n     */\n    __mapProperty (property, dataPoints, selectionMap, selectionProp, result) {\n\n\n        let mapOp = selectionMap.propMap[property].mapOp;\n        let mapFn = selectionMap.propMap[property].mapFn;\n        let self = this;\n        let updateResult = result;\n\n        //TODO handle failures - reject\n        return new Promise(function(resolve/*, reject*/) {\n            if (mapOp === undefined) {\n                if (mapFn === undefined) {\n                    // the default options\n                    // Should the group default be all points?\n                    // group must be processed first to support the other two defaults\n                    let group = updateResult.group;\n                    if (property === 'group') {\n                        updateResult[property] = dataPoints;\n                    } else if (property === 'color') {\n                        let colors = new Array(group.length);\n                        group.map(function(spriteIndex, arrayIndex) {\n                            let sprite = self.allPointSprites[spriteIndex];\n                            colors[arrayIndex] = sprite.tint;\n                        });\n                        updateResult[property] = colors;\n\n                    } else if (property === 'size') {\n                        let sizes = new Array(group.length);\n                        group.map(function(spriteIndex, arrayIndex) {\n                            let sprite = self.allPointSprites[spriteIndex];\n                            sizes[arrayIndex] = sprite.pointSize;\n                        });\n                        updateResult[property] = sizes;\n                    }\n                } else {\n                    updateResult[property] = mapFn(dataPoints, self.plotPropReader.props, selectionProp);\n                    //console.log(\"Done \" + property + \" for \" + self.id);\n                }\n                resolve(updateResult);\n            } else {\n                let dataMapper = ReScatter.data.DataMapper.getDataMap(selectionMap.dataMap);\n                dataMapper.mapData(dataPoints, mapOp)\n                    .then(function (values) {\n                        if (mapFn) {\n                            updateResult[property] = mapFn(values, self.plotPropReader.props, selectionProp);\n                            //console.log(\"Done \" + property + \" for \" + self.id);\n                        } else {\n                            updateResult[property] = values;\n                        }\n                        resolve(updateResult);\n                    })\n                    .catch(function(e) {\n                        console.log('Error in property mapping: ' + e + ' for ' + self.id);\n                        resolve(updateResult);\n                    });\n            }\n        });\n    }\n\n    processDynamicSelection (context, selectionMap) {\n        // Dynamic selections are added to a special container\n        // that becomes visible for the lifetime of the selection.\n        // The regular selection container is hidden during this\n        // time. The add selection logic is more or less identical\n        // to that of a normal selection.\n\n        switch (context.op) {\n        case 'create':\n            this.addSelectionToContainer(this.dynamicRoot,\n                undefined,\n                context,\n                selectionMap);\n            break;\n\n        case 'transitive':\n            this.applyTransitiveSelection(context,\n                selectionMap);\n            break;\n        case 'delete':\n            try {\n                this.dynamicRoot.removeChildren();\n                this.dynamicRoot.visible = false;\n                this.selectionsRoot.visible = true;\n                this.render();\n            }\n            catch(e) {\n                console.log('Error processing dynamic selection ' + e);\n            }\n            finally {\n                let self = this;\n                setTimeout(function () {\n                    self.processingDone();\n                }, 0);\n            }\n            break;\n        default:\n            this.processingDone();\n        }\n    }\n\n    addSelectionToContainer (container, selectionViews, context, selectionMap) {\n        //console.log(\"Adding group \" + context.sel.label + \" in: \" + this.id);\n        // Start a potentially asynchronous chain with a resolved promise (future)\n        // that will collect the properties fro the points\n        let sequence = Promise.resolve({color: undefined, size: undefined, group: undefined});\n        let self = this;\n        sequence\n            .then(function(pointProps){\n            //console.log(\"Group for group \" + context.sel.label + \" in: \" + self.id);\n                return self.__mapProperty('group',\n                    context.sel.dataPoints,\n                    selectionMap,\n                    undefined,\n                    pointProps);})\n            .then(function(pointProps){\n            //console.log(\"Color for group \" + context.sel.label + \" in: \" + self.id);\n                return self.__mapProperty('color',\n                    context.sel.dataPoints,\n                    selectionMap,\n                    context.sel.color,\n                    pointProps);})\n            .then(function(pointProps){\n            //console.log(\"Size for group \" + context.sel.label + \" in: \" + self.id);\n                return self.__mapProperty('size',\n                    context.sel.dataPoints,\n                    selectionMap,\n                    undefined,\n                    pointProps);})\n            .then(function(pointProps) {\n                try {\n                    let selectionProps = selectionMap.propMap;\n                    let colorByGroup = selectionProps.color.propAssign !== DataMapper.propAssign.POINT;\n                    let sizeByGroup = selectionProps.size.propAssign !== DataMapper.propAssign.POINT;\n\n                    let groupColor = colorByGroup ? pointProps.color : undefined;\n                    let groupSize = sizeByGroup ? pointProps.size : 4;\n                    if (context.type === 'dyna') {\n                        self.dynamicRoot.removeChildren();\n                    }\n                    let selectionView = new ReScatter.view.PointGroupView(\n                        self,\n                        context.sel.label,\n                        container,\n                        groupSize, groupColor,\n                        self.xScaleFunc, self.yScaleFunc,\n                        self.zoom\n                    );\n                    let pointShape;\n                    if (selectionProps.effects) {\n                        selectionProps.effects.map(function (effect) {\n                            switch (effect) {\n                            case 'Outline':\n                                selectionView.outline = true;\n                                break;\n                            case 'X':\n                            case 'O':\n                                pointShape = effect;\n                                break;\n                            }\n                        });\n                    }\n\n                    //let dataPoints = pointProps.group;\n                    // TODO allow user supplied mouseover - this is a default\n                    let mouseoverFn = function (interaction) {\n                        self.annotateInteractionTarget(interaction);\n                    };\n\n                    for (let i = 0, len = pointProps.group.length; i < len; i++) {\n                        let pointColor = colorByGroup ? undefined : pointProps.color[i];\n                        let pointSize = sizeByGroup ? undefined : pointProps.size[i];\n                        let pointIndex = pointProps.group[i];\n                        // mouseover currently undefined\n                        let sprite = selectionView.addPoint(self.allPointSprites[pointIndex].point,\n                            pointColor, pointSize, pointShape,\n                            self.allPointSprites[pointIndex]);\n                        sprite.mouseover = mouseoverFn;\n                    }\n                    if (selectionViews) {\n                        self.selectionViews[context.sel.label] = selectionView;\n                    }\n                    if (context.type === 'dyna') {\n                        self.dynamicRoot.visible = true;\n                        self.selectionsRoot.visible = false;\n                        selectionView.visible = true;\n\n                    } else {\n                        if (context.sel.background) {\n                            selectionView.visible = false;\n                        }\n                    //console.log(\"Added \" + context.sel.label + \" in \" + self.id);\n                    }\n                }\n                catch(e) {\n                    console.log('Error adding selection ' + e + ' for ' + self.id);\n                }\n                finally {\n                    setTimeout(function () {\n                        self.processingDone();\n                    }, 0);\n                    self.render();\n                }\n            })\n            .catch(function(e) {\n                console.log('Error adding selection:' + e + ' in plot: ' + self.id);\n                setTimeout(function(){self.processingDone();}, 0);\n            });\n    }\n\n    applyTransitiveSelection (context, selectionMap) {\n        let self = this;\n        try {\n            let mapFn = selectionMap.propFilter.mapFn;\n            let selectedPoints = [];\n            context.sel.dataPoints.forEach(function (elem) {\n                let filterVal = mapFn(elem, self.plotPropReader.props);\n                if (filterVal !== -1) {\n                    selectedPoints.push(filterVal);\n                }\n            });\n            // Convert the transitive to a permanent selection\n            if (selectedPoints.length > 0) {\n                let label = ReScatter.selectionModel.getNewLabel(this.selectionOutId);\n                ReScatter.selectionModel.putSelection(\n                    label,\n                    this.elementId,\n                    selectedPoints,\n                    0x772222,\n                    this.selectionOutId + ' selection via: ' + context.sel.originator + ', points: ' + selectedPoints.length,\n                    this.selectionOutId,\n                    this.plotPropReader.props);\n            }\n\n        } catch(e) {\n            console.log('Error performing transitive selection:' + e + ' in plot: ' + self.id);\n        } finally {\n            setTimeout(function(){self.processingDone();}, 0);\n        }\n    }\n\n    __deletePointGroup (label) {\n        let removeView = this.selectionViews[label];\n        if (removeView !== undefined) {\n            //console.log(\"Remove \" + label + \" in: \" + this.id);\n            delete(this.selectionViews[label]);\n            removeView.destroy();\n            this.render();\n        }\n    }\n\n\n    displayPlotData (colors) {\n        'use strict';\n\n        console.log('display plot data for: ' + this.annotations.length);\n        let self = this;\n\n        let dataMaxX = Math.max.apply(Math, this.plotPoints.map(function (d) {\n            return d.x;\n        }));\n        let dataMinX = Math.min.apply(Math, this.plotPoints.map(function (d) {\n            return d.x;\n        }));\n        let dataRangeX = dataMaxX - dataMinX;\n        let dataMaxY = Math.max.apply(Math, this.plotPoints.map(function (d) {\n            return d.y;\n        }));\n        let dataMinY = Math.min.apply(Math, this.plotPoints.map(function (d) {\n            return d.y;\n        }));\n        let dataRangeY = dataMaxY - dataMinY;\n        //let plotSize = this.plotSize;\n\n        // shifting and scaling (the points are plotted around 0,0)\n        //     this.scaleY = this.plotSize / this.dataRangeY;\n        this.yScaleFunc = function (y) {\n            return ((y - dataMinY) * ((self.plotSize - 40) / dataRangeY)) + 20;\n        };\n        this.xScaleFunc = function (x) {\n            return ((x - dataMinX) * ((self.plotSize - 40) / dataRangeX)) + 20;\n        };\n\n        function dispatchLoadedEvent(self) {\n            ReScatter.controlEventModel.putControlEventModel('rendererLoadComplete', {\n                renderer:self,\n                rendererId:self.elementId,\n                type:'plot'\n            });\n        }\n        function makeDataPointGroups() {\n            let mouseoverFn = function (interaction) {\n                self.annotateInteractionTarget(interaction);\n            };\n            //let mousedownFn = function (interaction) {\n            //    self.pointClicked(interaction);\n            //};\n            // Plot points are placed in a single PointGroupView instance located at the\n            // basePlotContainer (deepest z-order)\n            let containerCount = 0;\n            console.log('using single container, annotations: ' + self.annotations.length);\n            self.scatterPoints = new ReScatter.view.PointGroupView(\n                self,\n                'pointGroup_' + containerCount,\n                self.basePlotContainer,\n                3, undefined,\n                self.xScaleFunc, self.yScaleFunc,\n                self.zoom);\n\n            let makeSprites = function (index) {\n                console.log('Sprites in container for: ' + self.elementId);\n                for (let j = index; j < self.plotPoints.length; j++) {\n                    let pointS = self.plotPoints[j];\n                    self.allPointSprites[j] = self.scatterPoints.addPoint(pointS, colors[j]);\n                    self.allPointSprites[j].mouseover = mouseoverFn;\n                }\n                //self.scatterPoints.setActive();\n                self.scatterPoints.visible = true;\n                self.render();\n                console.log('Start rendering');\n                self.frameDelay = 50;\n                self.processingLoop(true);\n                setTimeout(function(){dispatchLoadedEvent(self);}, 100);\n            };\n            makeSprites(0);\n\n\n        }\n        makeDataPointGroups();\n        //self.freezePending = true;\n    }\n\n\n    annotateInteractionTarget (interactionData) {\n        'use strict';\n        // Draw a popup text containing annotation data connected to the mouse position\n        // by a red line.\n        let target = interactionData.target;\n        if (!target.point) {return;}\n        this.annotatePoint(target, interactionData);\n    }\n\n    annotatePoint (target, interactionData) {\n        'use strict';\n        // Draw a popup text containing annotation data connected to the mouse position\n        // by a red line.\n        // During drawing disable annotation\n        if (this.plotRoot.captureMouse) {\n            return;\n        }\n        if (interactionData !== undefined) {\n            interactionData.stopPropagation(); // prevent cursor jumping\n        }\n        this.popupContainer.removeChildren();\n        this.annotationTarget = target;\n        let annotText = target.point.sym;\n        //console.log(annotText);\n        let fontSize = Math.round(14/this.zoom);\n        let outlineThickness = Math.round(5/this.zoom);\n        let resolution = PIXI.RESOLUTION * this.zoom;\n        this.textPopup = new PIXI.Text(annotText, {\n            font: 'bold ' + fontSize + 'px Arial',\n            fill: 'white',\n            stroke: 'black',\n            strokeThickness: outlineThickness\n        }, resolution);\n        // Position the animation towards the center of the plot to prevent edge problems.\n        // Assuming plot is centered on 0,0 annotation is always on the origin side\n        let rad = Math.sqrt(Math.pow(target.point.x,2) + Math.pow(target.point.y,2)); //dist to center in coordSpace\n        let lineLength = 20/this.zoom;\n        let lineThickness = 2/this.zoom;\n        let dispX = -lineLength * target.point.x / rad; // scale the line based on the relation\n        let dispY = -lineLength * target.point.y / rad;\n        this.textPopup.x = target.position.x + dispX;\n        this.textPopup.y = target.position.y + dispY;\n        // The text anchor is at one of the corners depending on which quarter the point is in.\n        this.textPopup.anchor.x = ((target.point.x < 0) ? 0:1);\n        this.textPopup.anchor.y = ((target.point.y < 0) ? 0:1);\n        this.annotLine = new PIXI.Graphics();\n        this.annotLine.lineStyle(lineThickness, 0xFF0000, 1);\n        this.annotLine.moveTo(target.position.x, target.position.y);\n        this.annotLine.lineTo(this.textPopup.x, this.textPopup.y);\n\n\n        this.popup = this.popupContainer.addChild(this.textPopup);\n        this.popup = this.popupContainer.addChild(this.annotLine);\n\n        if (this.dynamicSelectionId &&\n            (this.selectOver === PixijsPlotController.SelectionEnum.MOUSEOVER)) {\n            // when annotating a selection the sprite will not be in allPointSprites\n            this.mouseOverDynamicSelection(target.point.index);\n        }\n\n    }\n\n    mouseOverDynamicSelection (pointIndex) {\n        // when annotating a selection the sprite will not be in allPointSprites\n        this.mouseOverSeedIndex = pointIndex;\n        this.mouseOverIndexes = [];\n\n        if (this.numNeighbours >= 0) {\n            // the kdtree returns the seed point as part of the list\n            let nearPoints = this.tree.nearest(this.plotPoints[pointIndex], this.numNeighbours + 1);\n            for (let i = 0; i < nearPoints.length; i++) {\n                if (!this.mouseOverExcludeSeed || (this.mouseOverExcludeSeed && (pointIndex !== nearPoints[i][0].i))) {\n                    this.mouseOverIndexes.push(nearPoints[i][0].i);\n                }\n            }\n        }\n        if (pointIndex > -1 && (this.mouseOverIndexes.length > 0)) {\n            ReScatter.dynamicSelectionModel.putDynamicSelection(\n                this.elementId,\n                this.mouseOverIndexes, //[pointIndex],\n                0x772222,\n                this.dynamicSelectionId,\n                this.plotPropReader.props);\n        }\n    }\n\n    applyZoomToPoint (event) {\n        // This zooms around the event point\n        let plotOffset = this.plotRoot.position;\n        //x0 - x offset for zoom point\n        //y0 - x offset for zoom point\n        //z0 - previous zoom\n        //z1 - new zoom\n        //p1 - new x offset for scaled plot\n        //q1 - new y offset for scaled plot\n        let z1 = this.zoom;\n        let p1 = 0;\n        let q1 = 0;\n        if (this.zoomFactor !== 1) {\n            let z0 = this.plotRoot.scale.x;\n            let x0 = event.offsetX;\n            let y0 = event.offsetY;\n            let p0 = plotOffset.x;\n            let q0 = plotOffset.y;\n            // from [translate back to zoom point]x[zoom scale]x[translate zoom point to origin]\n            p1 = ((z1 / z0) * (p0 - x0)) + x0;\n            q1 = ((z1 / z0) * (q0 - y0)) + y0;\n        }\n        this.plotRoot.position = new PIXI.Point(p1, q1);\n        this.plotRoot.scale = new PIXI.Point(this.zoom, this.zoom);\n        // rescale the points on the scatter plot...\n\n        this.zoomActiveOverlays(this);\n\n        //this.zoomed = true;\n        this.render();\n    }\n\n    zoomActiveOverlays (self) {\n        self.scatterPoints.zoom(self.zoom);\n        Object.keys(self.selectionViews).forEach(function(val) {\n            if (self.selectionViews[val].visible) {\n                self.selectionViews[val].zoom(self.zoom);\n            }\n        });\n        // ... and the popup annotation if any\n        if (self.popupContainer.children.length > 0) {\n            self.annotatePoint(self.annotationTarget);\n        }\n    }\n\n    zoomWheel (event) {\n        if (event.ctrlKey || event.metaKey) {\n            event.preventDefault();\n\n            if (event.deltaY < 0 && this.currentZoomLevel < this.maxZoomLevel) {\n                this.currentZoomLevel++;\n                this.zoomFactor = this.zoomLevels[this.currentZoomLevel];\n                this.applyZoomToPoint(event);\n            } else if (event.deltaY > 0 && this.currentZoomLevel > 0) {\n                this.currentZoomLevel--;\n                this.zoomFactor = this.zoomLevels[this.currentZoomLevel];\n                this.applyZoomToPoint(event);\n            }\n        }\n    }\n\n    selectOnClick (/*event*/) {\n\n        if (this.selectOver !== PixijsPlotController.SelectionEnum.MOUSEOVER) {\n            return;\n        }\n        if (this.mouseOverIndexes.length === 0) {\n            return;\n        }\n        let label = ReScatter.selectionModel.getNewLabel(this.selectionOutId);\n        ReScatter.selectionModel.putSelection(\n            label,\n            this.renderer.elementId,\n            this.mouseOverIndexes,\n            0x772222,\n            'Seed: ' + this.plotPropReader.getSymbol(this.mouseOverSeedIndex) + (this.mouseOverExcludeSeed ? ' (excluded) ': ' ') + this.mouseOverIndexes.length + ' points.',\n            this.selectionOutId);\n    }\n\n    getPropertyIndexNeighbours (indexes) {\n        let seedAndNeighborIndexes = [];\n        let self = this;\n        indexes.forEach(function(pointIndex) {\n            if (self.numNeighbours >= 0) {\n                // the kdtree returns the seed point as part of the list\n                let nearPoints = self.tree.nearest(self.plotPoints[pointIndex], self.numNeighbours + 1);\n                for (let i = 0; i < nearPoints.length; i++) {\n                    if (!self.mouseOverExcludeSeed || (self.mouseOverExcludeSeed && (pointIndex !== nearPoints[i][0].i))) {\n                        seedAndNeighborIndexes.push(nearPoints[i][0].i);\n                    }\n                }\n            }\n        });\n        return seedAndNeighborIndexes;\n    }\n\n    neighbourhoodSelectIndexes (indexes) {\n        this.mouseOverIndexes = [];\n        this.propertyOverIndexes = indexes;\n        let seedAndNeighborIndexes = this.getPropertyIndexNeighbours(indexes);\n        if (seedAndNeighborIndexes.length > 0) {\n            ReScatter.dynamicSelectionModel.putDynamicSelection(\n                this.elementId,\n                seedAndNeighborIndexes, //[pointIndex],\n                0x772222,\n                this.dynamicSelectionId,\n                this.plotPropReader.props);\n        }\n    }\n\n    selectOnProperty () {\n        if (this.propertyOverIndexes.length === 0) {\n            return;\n        }\n        let seedAndNeighborIndexes = this.getPropertyIndexNeighbours(this.propertyOverIndexes);\n        let label = ReScatter.selectionModel.getNewLabel(this.selectionOutId);\n        ReScatter.selectionModel.putSelection(\n            label,\n            this.elementId,\n            seedAndNeighborIndexes,\n            0x772222,\n            'Seed: ' + this.plotPropReader.getSymbol(this.propertyOverIndexes[0]) + (this.mouseOverExcludeSeed ? ' (excluded) ': ' ') + seedAndNeighborIndexes.length + ' points.',\n            this.selectionOutId);\n    }\n\n    get zoom() {\n        return this.resizeZoom * this.zoomFactor;\n    }\n\n    static get SelectionEnum() { return {\n        NONE: 0,\n        MOUSEOVER: 1,\n        PROPOVER: 2\n    };}\n}\n\n\n//</Class definition for the PixijsPlotController>\n// Implement the supported protocols\n\nPlotProtocol.impl(PixijsPlotController, [], {\n    loadPlotData (points, props, plotProps) {\n        // points: array of x,y tuples - one tuple per point\n        //\n        // props: object containing voxel_props. voxel_props has the following\n        //  format : {voxel_props:{prop1_name: [array of props], prop2_name: [array of props] ...}}\n        //  the length of the arrays should match the number of points\n        //\n        // plotProps: is an object which is use to determine how the point appears when it is\n        // plotted. It is use to convert values in props to display format.\n        // plotProps contains all or some of the following fields\n        // { color : - the color for the point\n        //   id : - unique id for the point (use to link to other data)\n        //   symbol : - test associated with the point\n        //   size : - size of the point shape\n        //   shape : - TO BE IMPLEMENTED currently only circle is supported will add various polygons\n        //   group : - value to group by - if none the points will not be grouped\n        //   primary: - primary property for user selection (a human readable, preferably unique property)\n        // }\n        // There are four ways to supply a plotProp in combination with props:\n        //      Direct, Mapped, Function and Literal\n        // Direct: If the property is undefined (or has an undefined value) then the value is retrieved\n        //      from props e.g. color = props[i].color, in addition if it is not defined in props\n        //      then a default is provided\n        // Mapped: If the object property value is an object the the following is performed\n        //      color = props[i][plotProps.color]\n        // Function: if the value is a function then that function is used on the\n        //      e.g. plotProps.color(props[i]) to get the value\n        // Literal: If the object property value is defined and is anything other than a\n        //      function or an object then the value is used as is\n        //      color = plotProps.color\n\n        'use strict';\n        this.plotPoints = new Array(points.length);\n        this.allPointSprites = new Array(points.length);\n        let tempPoints = new Array(points.length); // gets sorts by the kdtree\n        this.annotationPoints = {};\n        this.plotPropReader = new PlotPropReader(props, plotProps);\n        let distMetric = function(a, b){\n            if (a === undefined || b === undefined) {\n                return 1000;\n            }\n            return Math.pow(a.x- b.x, 2) + Math.pow(a.y - b.y, 2);\n        };\n        // console.log('load plot data for: ' + this.annotations.length);\n\n        this.renderer.backgroundColor = this.plotPropReader.getBackgroundColor();\n        let colors = [];\n        let self = this;\n        function loadPoints(index) {\n            let i;\n            for (i = index; i < points.length; i++) {\n                let point = {\n                    x: points[i][0],\n                    y: -points[i][1], //y coord inverted\n                    id: self.plotPropReader.getId(i),\n                    sym: self.plotPropReader.getSymbol(i),\n                    properties: self.plotPropReader.props,\n                    index: i\n                };\n                tempPoints[i] = {x:points[i][0], y:-points[i][1], i:i};\n                colors.push(self.plotPropReader.getColor(i));\n                self.plotPoints[i] = point;\n                let group = self.plotPropReader.getGroup(i);\n                if (group) {\n                    if (self.annotations.indexOf(group) === -1) {\n                        self.annotations.push(group);\n                        self.annotationsColor.push(colors[i]);\n                        self.annotationPoints[group] = [];\n                    }\n                    self.annotationPoints[group].push(point);\n                }\n                if (i % 1000 === 999) {\n                    break;\n                }\n            }\n\n            if (i < points.length - 1 ) {\n                ReScatter.controlEventModel.putControlEventModel('loadingProgress', {\n                    id: self.id,\n                    total: points.length,\n                    loaded: i+1\n                });\n                setTimeout(loadPoints, 10, i + 1);\n            } else {\n                self.tree = new kdTree.kdTree(tempPoints, distMetric, ['x', 'y', 'i']); // jshint ignore:line\n                setTimeout(self.displayPlotData.bind(self, colors), 10);\n            }\n\n        }\n        //console.log('load points for: ' + self.annotations.length);\n        loadPoints(0);\n    },\n\n    // resize the canvas\n    onResize () {\n        this.plotWindowSize = this.plotElement.clientWidth;\n        let oldZoom = this.zoom;\n        this.resizeZoom = this.plotWindowSize/this.originalSize;\n        let zoomChange = this.zoom/oldZoom;\n        let plotOffset = this.plotRoot.position;\n        plotOffset.x = zoomChange * plotOffset.x;\n        plotOffset.y = zoomChange * plotOffset.y;\n        this.plotRoot.position = plotOffset;\n        this.plotRoot.scale = new PIXI.Point(this.zoom, this.zoom);\n        this.renderer.resize(this.plotWindowSize, this.plotWindowSize);\n        this.zoomActiveOverlays(this);\n        this.render();\n    }\n\n});\n\n\nSelectionProtocol.impl(PixijsPlotController, [], {\n    processSelectionEvent (context) {\n        let selectionMap;\n        if (context.type === 'dyna') {\n            selectionMap = this.dynamicSelectionIn[context.id];\n            if (selectionMap !== undefined) {\n                this.processDynamicSelection(context, selectionMap);\n            } else {\n                this.processingDone();\n            }\n            return;\n        }\n\n        selectionMap = this.selectionIn[context.id];\n        if (context.op === 'create') {\n            this.addSelectionToContainer(this.selectionsRoot,\n                this.selectionViews,\n                context, selectionMap);\n            return;\n        }\n        try {\n            switch (context.op) {\n            case 'delete':\n                this.__deletePointGroup(context.sel.label);\n                break;\n            case 'color': {\n                let colorAll = selectionMap.propMap.color.propAssign !== DataMapper.propAssign.POINT;\n                if (colorAll) {\n                    let recolorView = this.selectionViews[context.sel.label];\n                    //console.log(\"Recolor \" + context.sel.label + \" in: \" + this.id);\n                    recolorView.setColor(context.sel.color);\n                    if (recolorView.visible) {\n                        this.render();\n                    }\n                }\n                break;\n            }\n            case 'hide': {\n                let hiddenView = this.selectionViews[context.sel.label];\n                //console.log(\"Inactivate \" + context.sel.label + \" in: \" + this.id);\n                if (hiddenView) {\n                    hiddenView.visible = false;\n                    this.render();\n                }\n                break;\n            }\n            case 'show': {\n                let visibleView = this.selectionViews[context.sel.label];\n                //console.log(\"Activate \" + context.sel.label + \" in: \" + this.id);\n                if (visibleView) {\n                    this.dynamicRoot.visible = false;\n                    this.selectionsRoot.visible = true;\n                    visibleView.visible = true;\n                    visibleView.zoom(this.zoom);\n                    this.render();\n                }\n                break;\n            }\n            case 'update': {\n                if (this.selectionOutId === context.sel.selectionId) {\n                    // Unoptimized implementation: delete the old, add new\n                    this.__deletePointGroup(context.sel.label);\n                    // clone the command and change it to a create.\n                    let newcontext = $.extend({}, context);\n                    newcontext.op = 'create';\n                    this.addSelectionToContainer(this.selectionsRoot,\n                        this.selectionViews,\n                        newcontext, selectionMap);\n                }\n                break;\n            }\n            default:\n                console.log('Unmatched context operation ' + context);\n            }\n        }\n        catch(e) {\n            console.log('Error processing context op ' + e);\n        }\n        finally {\n            this.processingDone();\n        }\n    }\n\n});\n\nControlProtocol.impl(PixijsPlotController, [], {\n    onControlEvent (eventContext) {\n        switch (eventContext.eventName) {\n        case 'brushMode':\n            this.brushType = eventContext.event.brushType;\n            break;\n        case 'editOp':\n            this.editOp = eventContext.event.editOp;\n            break;\n        case 'editMode':\n            this.editMode = 'NEW';\n            if (eventContext.event.editMode === 'EXISTING') {\n                if (this.selectionOutId === eventContext.event.selectionId) {\n                    let activeView = this.selectionViews[eventContext.event.editTarget];\n                    if (activeView) {\n                        activeView.visible = true;\n                        this.editMode = 'EXISTING';\n                    }\n                }\n            }\n            break;\n        case 'numNeighbours':\n            if (eventContext.event.selector === this.dynamicSelectionId) {\n                this.numNeighbours = eventContext.event.number;\n                // refresh the neighbourhood blob\n                if (this.selectOver !== PixijsPlotController.SelectionEnum.NONE && this.contextMenuLinked) {\n                    switch (this.selectOver) {\n                    case PixijsPlotController.SelectionEnum.MOUSEOVER:\n                        this.mouseOverDynamicSelection(this.mouseOverSeedIndex);\n                        break;\n                    case PixijsPlotController.SelectionEnum.PROPOVER:\n                        this.neighbourhoodSelectIndexes(this.propertyOverIndexes);\n                        break;\n                    default:\n                        break;\n                    }\n                }\n            }\n            break;\n        case 'plotContextMenuClosed':\n            if (eventContext.event.selector === this.dynamicSelectionId) {\n                if (this.id === eventContext.event.value.formId) {\n                    this.contextMenuLinked = false;\n                }\n            }\n            break;\n        case 'mouseOverActive':\n            if (eventContext.event.selector === this.dynamicSelectionId) {\n                this.selectOver = eventContext.event.active;\n                this.mouseOverExcludeSeed = eventContext.event.noSeed;\n                this.captureKeys(this.selectOver !== PixijsPlotController.SelectionEnum.NONE);\n            }\n            break;\n        case 'kdePlotActive':\n            if (eventContext.event.selector === this.dynamicSelectionId) {\n                let kpaVal = eventContext.event.value;\n                if (kpaVal.active) {\n                    this.scatterPoints.setKdeOn(kpaVal.sigma, kpaVal.contours);\n                    if (!this.colorSet) {\n                        this.lutFilter = new ReScatter.view.LUTFilter(this.plotPropReader.getBackgroundColor());\n                        this.colorSet = [this.lutFilter];\n                    }\n                    this.basePlotContainer.filters = this.colorSet;\n                    let color = kpaVal.color === 'Grey'? 'gray' : kpaVal.color;\n                    let self = this;\n                    this.lutFilter.setLut(color, function() {\n                        self.basePlotContainer.filters = self.colorSet;\n                        self.render();\n                    });\n                } else {\n                    this.scatterPoints.setKdeOff();\n                    this.basePlotContainer.filters = undefined;\n                    this.render();\n                }\n            }\n            break;\n        case 'kdePlotChanged':\n            if (eventContext.event.selector === this.dynamicSelectionId) {\n                let kpcVal = eventContext.event.value;\n                if (kpcVal.active) {\n                    this.scatterPoints.updateKde(kpcVal.sigma, kpcVal.contours);\n                    //this.stepFilter.step = kpcVal.contours;\n                    let color = kpcVal.color === 'Grey'? 'gray' : kpcVal.color;\n                    let self = this;\n                    this.lutFilter.setLut(color, function() {\n                        self.basePlotContainer.filters = self.colorSet;\n                        self.render();\n                    });\n                }\n            }\n            break;\n        case 'propertySelect':\n            if (eventContext.event.selector === this.dynamicSelectionId &&\n                    eventContext.event.targetPlotId === this.id) {\n                this.neighbourhoodSelectIndexes(eventContext.event.indexes);\n            }\n            break;\n        case 'savePropertySelect':\n            if (eventContext.event.selector === this.dynamicSelectionId &&\n                    eventContext.event.targetPlotId === this.id) {\n                this.selectOnProperty();\n            }\n            break;\n        case 'changePointMode':\n            this.currentConfig = eventContext.event.pointMode;\n            this.selectionIn = this.switchableSelections.getSelectionMapping(this.currentConfig);\n            this.dynamicSelectionIn = this.switchableSelections.getDynamicSelectionMapping(this.currentConfig);\n            break;\n        default:\n            return;\n        }\n    }\n});\n\n// Implement a snapshot protocol to allow screen capture\nSnapshotProtocolForCanvas.impl(PixijsPlotController, [], {\n    getNumberofCanvases() {\n        return 1; // We have a single canvas\n    },\n\n    getCanvasNameAtIndex(/*index*/) {\n        return this.id;\n    },\n\n    getCanvasAtIndex(/*index*/) {\n        return this.renderer.view; // Return the canvas used by the WebGL renderer\n    }\n});\n","\nimport LUTTexture from '../view/filters/LUTTexture';\nimport PixijsPlotController from '../control/plot/PixijsPlotController';\nimport { enumToOptions } from '../utils';\nimport ToolTipController from '../control/layout/ToolTipController';\nimport SnapShotController from '../control/snapshot/SnapShotController';\nimport ControlProtocol from '../protocols/ControlProtocol';\nlet toolTipController = new ToolTipController();\n\nlet instance = null;\nexport default class PlotContextMenu {\n    /**\n     * @constructor\n     * PlotContextMenu is a popup used in collaboration with PixijsPlotController\n     * (and perhaps, with appropriate refactoring, in the future other plot renderers).\n     * It provides selection and control functionality for the plot render and communicates using the\n     * global ReScatter.controlEventModel\n     *\n     * Requires a floating <div> with the id 'plotContextMenu' to position itself on the screen\n     * eg     <div id=\"plotContextMenu\"></div>\n     *\n     * @return Singelton. Calling new on PlotContextMenu() returns the same instance\n     */\n    constructor() {\n\n        if (instance) {\n            return instance;\n        }\n        this.currentPlot = undefined;\n        this.inInitialize = false;\n        this.controlGroups = new Map();\n        this.controlGroups.set(PlotContextMenu.selectionState.ALL, [\n            'seedPropId',\n            'seedPropValueId',\n            'savePropSelectionId',\n            'excludeSeedId',\n            'NumNeighboursId',\n            'neighboursSectionId',\n            'brushModeId'\n        ]);\n        this.controlGroups.set(PlotContextMenu.selectionState.DRAW, [\n            'brushModeId'\n        ]);\n        this.controlGroups.set(PlotContextMenu.selectionState.MOUSEOVER, [\n            'excludeSeedId',\n            'NumNeighboursId',\n            'neighboursSectionId']);\n        this.controlGroups.set(PlotContextMenu.selectionState.PROPERTY,[\n            'seedPropId',\n            'seedPropValueId',\n            'savePropSelectionId',\n            'excludeSeedId',\n            'NumNeighboursId',\n            'neighboursSectionId'\n        ]);\n\n        let lutTexture = new LUTTexture();\n        let lutNameGroups = lutTexture.getLutNameGroups();\n        let lutGroupNames = Object.keys(lutNameGroups);\n        // Inject disable html attribute into options based on the fact that webix builds\n        // options thus : \"<option value='\"+id+\"'>\"+label+\"</option>\";\n        // Trick is to close the quote\n        let disabled = \"\\' disabled '\";\n        this.lutNames = ['Grey'];\n        lutGroupNames.forEach(function(gval, gindex, garray) {\n            this.lutNames.push({id:' ' + gval + disabled, value:gval});\n            lutNameGroups[gval].forEach(function (val, index, array) {\n                this.lutNames.push(val);\n            }, this);\n        }, this);\n\n        let self = this;\n        this.plotContextMenu = webix.ui({\n            view: \"window\",\n            container: ReScatter.CONTROL_ID.PLOTMENU,\n            hidden: true,\n            move: true,\n            zindex: 999,\n            sizeToContent:true,\n            //width: 350,\n            //height:70,\n            id: \"plotContextMenuUI\",\n            head:{\n                view:\"toolbar\", margin:-4, height: 25, cols:[\n                    {view:\"label\", label: \"Settings\",  },\n                    {\n                        view: \"icon\", icon: \"times-circle\", css: \"alter\",\n                        on: {\n                            onItemClick: function (id, e) {\n                                self.hideMe();\n                            }\n                        }\n                    }\n                        /*click:\"$$('plotContextMenuUI').hide();\"}*/\n                    ]\n            },\n            body: {\n                id: \"plotProperties\",\n                view: \"form\",\n                autoheight: true,\n                width:350,\n                type: \"clean\",\n                complexData: true,\n                elements: [\n                    {view: \"text\", label: \"Plot\", name: \"plotId\", readonly: true},\n                    {view: \"text\", name: \"staticSelectionLabel\", readonly: true, hidden: true},\n                    {view: \"text\", name: \"dynamicSelectionLabel\", readonly: true, hidden: true},\n                    {view: \"text\", name: \"canvasSelectorLabel\", readonly: true, hidden: true},\n                    {\n                        view: \"template\",\n                        template: \"Selection\",\n                        type: \"section\",\n                        height: 25,\n                    },\n\n                    {rows: [\n                        {view: \"radio\", label: \"Method:\", name: \"activeSelection\", value: 0, height: 25, optionHeight: 12, options: [\n                            {id: ReScatter.control.PixijsPlotController.SelectionEnum.NONE, value: \"Draw\"},\n                            {id: ReScatter.control.PixijsPlotController.SelectionEnum.MOUSEOVER, value: \"Mouse\"},\n                            {id: ReScatter.control.PixijsPlotController.SelectionEnum.PROPOVER, value: \"Property\"}\n                        ],\n                            on: {\n                                onChange: function (newVal, oldVal) {\n                                    self.changeSelectionControlState(newVal);\n                                    self.changeActiveSelection(this, newVal, oldVal);\n                                }\n                            }\n                        },\n                        {\n                            view: \"select\",\n                            id: 'brushModeId',\n                            label: 'Brush mode',\n                            inputWidth: 250,\n                            labelWidth: 100,\n                            value: \"Circle\",\n                            yCount: \"3\",\n                            autoheight: true,\n                            readonly: true,\n                            options: enumToOptions(PixijsPlotController.brushModeEnum),\n                            on: {\n                                onChange: function(newVal, oldVal) {\n                                    ReScatter.controlEventModel.putControlEventModel('brushMode', {brushType:newVal});\n                                }\n                            }\n                        },\n                        {\n                            view: \"select\",\n                            id: 'seedPropId',\n                            label: 'Prop',\n                            inputWidth: 250, labelWidth: 70,\n                            inputHeight: 30,\n                            readonly: true,\n                            options: [],\n                            on: {\n                                onChange: function (newVal, oldVal) {\n                                    // Set the selectable seed propertys value based on the chosen property\n                                    let plotSelect = this.getFormView().elements.staticSelectionLabel.getValue();\n                                    // the following step can be slow - enable wait cursor\n                                    document.body.style.cursor = 'wait';\n                                    setTimeout(function () {\n                                        let uniqueValues = ReScatter.dataModel.getUniqueSelectionPropValues(plotSelect, newVal);\n                                        uniqueValues = uniqueValues.map(function (item) {\n                                            return item.toString();\n                                        });\n                                        $$(\"seedPropSuggest\").getList().clearAll();\n                                        $$(\"seedPropSuggest\").getList().parse(uniqueValues.sort());\n                                        document.body.style.cursor = 'auto';\n                                    }, 0);\n                                }\n                            }\n                        },\n                        {\n                            view: \"text\",\n                            id: 'seedPropValueId',\n                            label: 'Value',\n                            inputWidth: 250, labelWidth: 70,\n                            inputHeight: 30,\n                            //readonly: false,\n                            //placeholder: 'Type here',\n                            suggest: {\n                                id: 'seedPropSuggest',\n                                keyPressTimeout:50, //100ms delay before filtering\n                                filter: function (item, value) {\n                                    if (item.value === undefined) {\n                                        return false;\n                                    }\n                                    if (item.value.toString().length <= 1) {\n                                        return (item.value.toString().toLowerCase().indexOf(value.toLowerCase()) === 0);\n                                    } else {\n                                        return (value.length > 0 &&\n                                        item.value.toString().toLowerCase().indexOf(value.toLowerCase()) === 0);\n                                    }\n                                },\n                                on: {\n                                    onValueSuggest: function (obj) {\n                                        self.doPropertySelection();\n                                    },\n                                },\n                                data: []\n                            },\n                            on: {\n                                // Also accept the selection if the user presses Enter\n                                onKeyPress: function(code, e) {\n                                    // pressed enter\n                                    if (code === \"\\r\".charCodeAt(0)) {\n                                        self.doPropertySelection();\n                                    }\n                                }\n                            }\n                        },\n                        {\n                            view: \"button\",\n                            id: \"savePropSelectionId\",\n                            label: \"Save prop selection\",\n                            align: 'center',\n                            height: 25,\n                            width: 175,\n                            on: {\n                                onItemClick: function (id, e) {\n                                    let selector = this.getFormView().elements.dynamicSelectionLabel.getValue();\n                                    ReScatter.controlEventModel.putControlEventModel('savePropertySelect', {\n                                        selector: selector,\n                                        targetPlotId: $$(\"plotProperties\").elements.plotId.getValue()\n                                    });\n                                }\n                            }\n                        },\n                        {\n                            view: \"template\",\n                            template: \"Nearest Neighbours\",\n                            type: \"section\",\n                            id: \"neighboursSectionId\",\n                            height: 25,\n                        },\n                        {cols :[\n                            {\n                                view: \"checkbox\",\n                                label: \"Exclude seed\",\n                                labelPosition: \"top\",\n                                id: \"excludeSeedId\",\n                                width: 140,\n                                name: \"mouseInteractionNoSeed\",\n                                value: true,\n                                height: 35,\n                                gravity: 3,\n                                on: {\n                                    onItemClick: function () {\n                                        let selector = $$(\"plotProperties\").elements.dynamicSelectionLabel.getValue();\n                                        ReScatter.controlEventModel.putControlEventModel('mouseOverActive', {\n                                            active: parseInt(this.getFormView().elements.activeSelection.getValue()),\n                                            noSeed: this.getFormView().elements.mouseInteractionNoSeed.getValue(),\n                                            selector: selector\n                                        });\n                                    }\n                                }\n                            },\n                            {\n                                view: \"slider\",\n                                id: \"NumNeighboursId\",\n                                title: \"Neighbors: 15\",\n                                name: \"numNeighbours\",\n                                width: 190,\n                                height: 35,\n                                value: 15,\n                                step: 1,\n                                min: 0,\n                                disabled: false,\n                                on: {\n                                    onSliderDrag: function () {\n                                        self.neighboursChange(this);\n                                    },\n                                    onChange: function () {\n                                        self.neighboursChange(this);\n                                    }\n                                }\n                            }]\n                        },\n                        {\n                            view: \"template\",\n                            template: \"Display effect\",\n                            type: \"section\",\n                            id: \"effectsSectionId\",\n                            height: 25,\n                        },\n                        {\n                            view: \"select\",\n                            id: 'pointDisplayId',\n                            name: 'pointDisplayMode',\n                            label: 'Point color',\n                            labelWidth: 100,\n                            readonly: true,\n                            options: ['Default'],\n                            on: {\n                                onChange: function (newVal, oldVal) {\n                                    // Set the selectable seed property's value based on the chosen property\n                                    let plotSelect = this.getFormView().elements.staticSelectionLabel.getValue();\n                                    ReScatter.controlEventModel.putControlEventModel('changePointMode', {\n                                        pointMode: newVal\n                                    });\n                                }\n                            }\n                        },\n                    ]},\n                    {\n                        view: \"template\",\n                        template: \"Density plot\",\n                        type: \"section\",\n                        height: 25,\n                    },\n                    {\n                        cols: [\n                            {\n                                view: \"checkbox\", label: \"Active\", name: \"kdePlotActivate\", id: \"kdePlotActivateId\", value: false,\n                                on: {\n                                    onItemClick: function () {\n                                        /*if (this.getValue()) {\n                                            this.getFormView().elements.kdePlotColor.enable();\n                                        } else {\n                                            this.getFormView().elements.kdePlotColor.disable();\n                                        }*/\n\n                                        let selector = this.getFormView().elements.dynamicSelectionLabel.getValue();\n                                        let sigma = this.getFormView().elements.kdekernelSigma.getValue();\n                                        //var level = this.getFormView().elements.kdekernelLevel.getValue();\n                                        let contours = this.getFormView().elements.kdekernelContours.getValue();\n                                        let color = this.getFormView().elements.kdePlotColor.getValue();\n                                        ReScatter.controlEventModel.putControlEventModel('kdePlotActive', {\n                                            selector: selector,\n                                            // Previously value included: level: level,\n                                            value: {active: this.getValue(), sigma: sigma,  contours: contours, color: color}\n                                        });\n                                    }\n                                }\n                            },\n                            {\n                                view: \"select\",\n                                name: 'kdePlotColor',\n                                id: 'lutColorId',\n                                label: 'Color',\n                                disabled: true,\n                                inputWidth: 175, labelWidth: 70,\n                                readonly: true,\n                                options: [],\n                                on: {\n                                    onChange: function (newVal, oldVal) {\n                                        instance.kdeChange(this);\n                                    }\n                                }\n                            }\n                        ],\n                        height: 25,\n                    },\n                    {\n                        view: \"slider\", title: \"Sigma: 12\", height:35, name: 'kdekernelSigma', value: 12, min: 1, max: 80, step: 1,\n                        on: {\n\n                            onChange: function () {\n                                self.kdeChange(this, \"Sigma\");\n                            },\n                            onSliderDrag: function() {\n                                self.kdeChange(this, \"Sigma\");\n                            }\n                        }\n                    },\n                    {\n                        view: \"counter\", label: \"Contours\", height: 35, name: 'kdekernelContours', value: 32, min: 5, max: 63, step: 1,\n                        on: {\n                            onChange: function () {\n                                self.kdeChange(this);\n                            }\n                        }\n                    },\n                    {\n                        view: \"template\",\n                        template: \"Plot to image\",\n                        type: \"section\",\n                        height: 25,\n                    },\n                    {\n                        cols: [\n                            {\n                                view: \"button\",\n                                id: \"savePlot\",\n                                label: \"Current\",\n                                height: 25,\n                                on: {\n                                    onItemClick: function (id, e) {\n                                        let canvasId = this.getFormView().elements.canvasSelectorLabel.getValue();\n                                        let plotId = this.getFormView().elements.plotId.getValue();\n                                        ReScatter.utils.SnapshotSaver.saveCanvasToPng(canvasId, plotId + '.png');\n                                    }\n                                }\n                            },\n                            {\n                                view: \"button\",\n                                id: \"saveAllPlots\",\n                                label: \"All\",\n                                height: 25,\n                                on: {\n                                    onItemClick: function (id, e) {\n                                        SnapShotController.snapshotAll(); //TODO - experiment\n                                    }\n                                }\n                            }\n                        ]\n                    },\n\n                ],\n                on: {\n                    onValues: function () {\n                        this.elements.numNeighbours.define(\"max\", this.getValues().maxNeighbours);\n                        this.elements.numNeighbours.define(\"title\", \"Neighbours: \" + this.elements.numNeighbours.getValue());\n                    },\n                    onHide: function() {\n                        this.hideMe();\n                        /*if (this.currentPlot) {\n                            ReScatter.controlEventModel.putControlEventModel('plotContextMenuClosed', {\n                                selector: form.getFormView().elements.dynamicSelectionLabel.getValue(),\n                                value: {formId: this.currentPlot.id}\n                            });\n                        }*/\n                    }\n                }\n            }\n        });\n        toolTipController.addTooltipToWebixControl(this.plotContextMenu, 'IMEPlotContextMenu', 'top-right' );\n        instance = this;\n        return instance;\n    };\n\n\n\n    __setDisplayEffects (displayOptions) {\n        $$(\"effectsSectionId\").show();\n        $$(\"pointDisplayId\").show();\n        // webix define will overwrite the array of string with one of objects\n        // so clone to prevent editing of the original layout\n        $$(\"pointDisplayId\").define('options', Array.from(displayOptions));\n        $$(\"pointDisplayId\").refresh();\n    }\n\n    __setDisplayEffectVisibility (displayOptions) {\n        if (displayOptions.length <=1) {\n            $$(\"effectsSectionId\").hide();\n            $$(\"pointDisplayId\").hide();\n        }\n    }\n\n    kdeChange (form, controlName) {\n        if (controlName !== undefined) {\n            form.define(\"title\", controlName + \": \" + form.getValue());\n        }\n        form.refresh();\n        if (!form.getFormView().elements.kdePlotActivate.getValue()) {\n            return;\n        }\n        let selector = form.getFormView().elements.dynamicSelectionLabel.getValue();\n        let sigma = form.getFormView().elements.kdekernelSigma.getValue();\n        //var level = form.getFormView().elements.kdekernelLevel.getValue();\n        let contours = form.getFormView().elements.kdekernelContours.getValue();\n        let color = form.getFormView().elements.kdePlotColor.getValue();\n        if (!this.inInitialize) {\n            ReScatter.controlEventModel.putControlEventModel('kdePlotChanged', {\n                selector: selector,\n                // Previously value included level\n                value: {active: true, sigma: sigma, contours: contours, color: color}\n            });\n        }\n    }\n\n    neighboursChange (form) {\n        let selector = form.getFormView().elements.dynamicSelectionLabel.getValue();\n        form.define(\"title\", \"Neighbours: \" + form.getValue());\n        form.refresh();\n        if (!this.inInitialize) {\n            ReScatter.controlEventModel.putControlEventModel('numNeighbours', {\n                number: form.getValue(),\n                selector: selector\n            });\n        }\n    }\n\n    changeActiveSelection (form, newVal, oldVal) {\n        if (this.inInitialize) { //prevent startup event looping\n            return;\n        }\n        let val = parseInt(newVal);\n        let selector = form.getFormView().elements.dynamicSelectionLabel.getValue();\n        ReScatter.controlEventModel.putControlEventModel('mouseOverActive', {\n            active: val,\n            noSeed:  form.getFormView().elements.mouseInteractionNoSeed.getValue(),\n            selector: selector\n        });\n    }\n\n    changeSelectionControlState (state) {\n        // Oddly enough sometime the state comes as an int sometimes as string version of int\n        // webix bug?\n        let groupSelect = (typeof state === \"string\")  ? parseInt(state) : state;\n\n        this.controlGroups.get(PlotContextMenu.selectionState.ALL).forEach(function(v) {\n            $$(v).hide();\n        });\n        this.controlGroups.get(groupSelect).forEach(function(v) {\n            $$(v).show();\n        });\n    }\n\n    hideMe () {\n        if (this.currentPlot) {\n            let formView = $$('plotProperties');\n            ReScatter.controlEventModel.putControlEventModel('plotContextMenuClosed', {\n                selector: formView.elements.dynamicSelectionLabel.getValue(),\n                value: {formId: this.currentPlot.id}\n            });\n        }\n        $$('plotContextMenuUI').hide();\n    }\n\n    doPropertySelection () {\n        let plotSelect = $$(\"plotProperties\").elements.staticSelectionLabel.getValue();\n        let selector = $$(\"plotProperties\").elements.dynamicSelectionLabel.getValue();\n        let prop = $$(\"seedPropId\").getValue();\n        let value = $$(\"seedPropValueId\").getValue();\n        let indexes = ReScatter.dataModel.getSelectionIndexes(plotSelect, prop, value, true);\n        ReScatter.controlEventModel.putControlEventModel('propertySelect', {\n            indexes: indexes,\n            selector: selector,\n            targetPlotId: $$(\"plotProperties\").elements.plotId.getValue()\n        });\n    }\n\n    static get selectionState() {return {\n        ALL: PixijsPlotController.SelectionEnum.NONE-1, // show all - not an actual state\n        DRAW: PixijsPlotController.SelectionEnum.NONE ,// draw with cursor\n        MOUSEOVER: PixijsPlotController.SelectionEnum.MOUSEOVER, // mouse over showing neareast neighbours\n        PROPERTY: PixijsPlotController.SelectionEnum.PROPOVER // type a property\n    };}\n};\n\n\nControlProtocol.impl(PlotContextMenu, [], {\n    // TODO the context menu is tightly coupled to the PixijsPlotController as\n    // evidenced by this code. It should also work for other plot types.\n    // Needs refactoring.\n    onControlEvent (eventContext) {\n        switch (eventContext.eventName) {\n            case \"plotContextMenu\":\n                try {\n                    this.inInitialize = true;\n                    this.currentPlot = eventContext.event.plot;\n                    this.__setDisplayEffects(this.currentPlot.selectionConfigs);\n                    this.plotContextMenu.show();\n                    $$(\"plotProperties\").setValues({\n                        dynamicSelectionLabel: eventContext.event.plot.dynamicSelectionId,\n                        staticSelectionLabel: eventContext.event.plot.selectionOutId,\n                        canvasSelectorLabel: eventContext.event.plot.elementId,\n                        plotId: eventContext.event.plot.id,\n                        activeSelection: eventContext.event.plot.selectOver,\n                        mouseInteractionNoSeed: eventContext.event.plot.mouseOverExcludeSeed,\n                        numNeighbours: eventContext.event.plot.numNeighbours,\n                        maxNeighbours: Math.ceil(Math.sqrt(eventContext.event.plot.plotPoints.length)),\n                        kdekernelSigma: eventContext.event.kde.sigma,\n                        kdekernelContours: eventContext.event.kde.contours,\n                        kdePlotColor: eventContext.event.kde.color\n                    }, true);\n                    $$(\"plotProperties\").callEvent(\"onValues\", []); //shouldn't be necessary\n                    // for some reason this checkbox fails using set\n                    $$(\"kdePlotActivateId\").setValue(eventContext.event.kde.activate);\n                    let props = ReScatter.dataModel.getSelectionPropKeys(eventContext.event.plot.selectionOutId);\n                    let propOptions = [];\n                    props.forEach(function (val, index, array) {\n                        propOptions.push({id: val, value: val});\n                    });\n                    let wasVisible = $$(\"seedPropId\").isVisible();\n                    // In order to set properties the control must be visible\n                    $$(\"seedPropId\").show();\n                    $$(\"seedPropId\").define('options', props.sort());\n                    $$(\"seedPropId\").setValue(ReScatter.dataModel.getSelectionPrimaryProp(eventContext.event.plot.selectionOutId));\n                    $$(\"seedPropId\").refresh();\n                    if (!wasVisible) {\n                        $$(\"seedPropId\").hide();\n                    }\n                    wasVisible = $$(\"lutColorId\").isVisible();\n                    $$(\"lutColorId\").show();\n                    $$(\"lutColorId\").define('options', this.lutNames);\n                    $$(\"lutColorId\").refresh();\n                    $$(\"lutColorId\").setValue(eventContext.event.kde.color);\n                    $$(\"lutColorId\").enable();\n                    if (!wasVisible) {\n                        $$(\"lutColorId\").hide();\n                    }\n                    this.__setDisplayEffectVisibility(this.currentPlot.selectionConfigs);\n                    this.plotContextMenu.setPosition(eventContext.event.coords.x,\n                        eventContext.event.coords.y);\n                }\n                catch (e) {\n                    console.log('Error displaying plot context menu: ' + e);\n                }\n                finally {\n                    this.inInitialize = false;\n                }\n                break;\n            case \"numNeighbours\":\n                if ($$(\"plotProperties\").getValues().dynamicSelectionLabel === eventContext.event.selector) {\n                    $$(\"plotProperties\").setValues({\n                        numNeighbours: eventContext.event.number\n                    }, true);\n                }\n                break;\n            case \"hidePlotContextMenu\":\n                this.hideMe();\n                break;\n            default:\n                return;\n        }\n    }\n});\n","/**\n * Created by baldur on 1/28/16.\n */\n\nlet instance = null;\nexport default class PreloadSelectionWidget {\n    constructor() {\n\n        if (instance) {\n            return instance;\n        }\n\n        this.id = 'loadPredefinedSelectionsId';\n        this.lastLoaded = \"\";\n        let self = this;\n        this.predefSelectionsDef = {\n            id: self.id,\n            view:\"datatable\",\n            columns:[\n                { id:\"title\",   header:\"Name\",    width:250, template:\"<p>#title#<p>\"},\n                { id:\"description\",   hidden: true, header:\"Description\",  minWidth:120, template:\"<p>#description#<p>\"},\n                { id:\"targetId\", hidden: true, header:\"Type\", minWidth:60, template:\"<p>#targetId#</p>\"}\n            ],\n            header:false,\n            resizeColumn: true,\n            fixedRowHeight:false,\n            rowLineHeight:25,\n            rowHeight:25,\n            select:\"row\",\n            scrollX: false,\n            multiselect:false,\n            on:{\n                // resize the row hight based on the biggest column of the list\n                onResize:webix.once(function() {\n                    this.myAdjustRowHeight(['title'], true);\n                    this.render();\n                }),\n                onSelectChange:function(){\n                    let obj = this.getSelectedItem();\n                    self.loadPredefinedSelections(obj);\n                }\n            }\n        };\n\n        this.formId = ReScatter.controlWidgetLayout.addTabView(this.predefSelectionsDef, \"Predefined selections\", false);\n        instance = this;\n        return instance;\n    }\n\n    renewSelections(selections) {\n        $$(this.formId).clearAll();\n        if (selections) {\n            $$(this.formId).parse(selections);\n        }\n    }\n\n    getLastLoaded (plot) {\n        return this.lastLoaded; // There should only be one master plot\n    }\n\n    getPreloadControlDef () {\n        return this.predefSelectionsDef;\n    }\n\n    clearLastLoaded () {\n        this.lastLoaded = \"\";\n    }\n\n    loadPredefinedSelections (selectionObject) {\n        // TODO selectionObject undefined happens on loading new data after selection (should fix cause)\n        if (selectionObject === undefined) {\n            return;\n        }\n        ReScatter.selectionTable.clearAll();\n        let selectionPath = selectionObject.preselect;\n        let pathAndTypeList = [{path: selectionPath, type: 'json'}];\n        let self = this;\n        ReScatter.dataModel.dataCache.loadFiles(\n            pathAndTypeList,\n            function(){self.addSelections(selectionObject.id, selectionObject.targetId, selectionPath)}\n        )\n        ReScatter.selectionDataWidget.expand();\n    }\n\n    addSelections (selectionId, selectionTargetId, selectionPath) {\n        \"use strict\";\n        // selection data is an array of selection objects - they are stored in a json file\n        // containing an array of selection objects with selection, description, color and dataPoints\n        // members, thus:\n        // [\n        //      {selection: 'cluster_0002', description:' another dummy test cluster', color:'#008888', dataPoints:[1,2,3,10,11,...] },\n        //      ...\n        // ]\n        // It would be better if we could define the child function\n        // dynamically  based on the ontology schema\n        let selections = ReScatter.dataModel.dataCache.getFromCache(selectionPath);\n        ReScatter.selectionTable.render();\n        this.lastLoaded = selectionId;\n        for (let i= 0, len=selections.length; i < len; i++) {\n            $(\"#\" + ReScatter.CONTROL_ID.LOADINGPROMPT).text(\"Loading selection:  \" + selections[i].description);\n            ReScatter.selectionModel.putSelection(\n                selections[i].selection,\n                'Predefined',\n                selections[i].dataPoints,\n                parseInt(selections[i].color.replace('#', '0x')),\n                selections[i].description,\n                selectionTargetId,\n                undefined, //no source props\n                true // add in background to speed loading\n            );\n        }\n        $(\"#loading\").css('display','none');\n    }\n\n    hidePrivateColumns () {\n        ['description', 'targetId'].forEach(function(value, index, array){\n            $$(this.id).hideColumn(value);\n        });\n    }\n\n    getId () {\n        return this.id;\n    }\n}\n\n\n","// Implementation note: LayoutCollection is a singleton based on the pattern in\n// Stoyan Stefanov's JavaScript Patterns 2010 pg 145\n// Calling new on LayoutCollection() returns a single instance\n// the prototype can be extended as shown.\n//<Class definition for the LayoutCollection>\n\nlet instance = null;\n\n/**\n * Maintains a list of data layouts (layouts of plots).\n * The layouts are an Array\n * Handles both the pre-defined and those resulting from tSNE jobs\n * Provide cloning functionality to create new layouts based on existing ones.\n * @param layoutData - the first instance should be initialized with the user defined array of layouts\n * @returns {LayoutCollection singleton}\n * @constructor\n */\nconst PubSub = require('pubsub-js');\nexport default class LayoutCollection {\n    constructor(layoutData) {\n        if (instance) {\n            return instance;\n        }\n\n        this.layoutData = layoutData;\n        this.ids = []; // The unique ids for all layouts\n        this.__updateIds();\n        this.pubsubid = 'DYNAMICCONTENT_' + Date.now();\n        instance = this;\n        return instance;\n\n    }\n\n    /**\n     * Getnext numerical id to be used for a new layout\n     * @returns {*} integer id\n     */\n    getNextId () {\n        \"use strict\";\n        if (this.ids.length > 0) {\n            return this.ids.slice(-1)[0] + 10;\n        }\n        return 10;\n    }\n\n    /**\n     * Add a layout to this layout collection\n     * @param layout - a layout, usually cloned from and existing layout\n     */\n    addLayout (layout) {\n        \"use strict\";\n        if (this.ids.indexOf(layout.id) !== -1) {\n            throw new Error('Plot data plot ids must be unique');\n        }\n        this.layoutData.push(layout);\n        this.__updateIds();\n        PubSub.publish(this.pubsubid, {layouts: this});\n    }\n\n    /**\n     * Remove a plot data item (send a notification)\n     * @param id\n     */\n    removeLayout (id) {\n        this.layoutData = this.layoutData.filter(function(plot) {\n            \"use strict\";\n            return plot.id !== id;\n        });\n        this.__updateIds();\n\n    }\n\n    cloneLayout(layout) {\n        \"use strict\";\n        let clone = JSON.parse(JSON.stringify(layout));\n        // Special handling for elements that may contain functions\n        // these are not handled by the stringify clone technique.\n        // For all plots and chropleth entries\n        // the following can be functions:\n        // In plots:\n        //      plotProps: any entry may be a function\n        // In plots & choropleths:\n        //      selectionIn: all entries are functions\n        //      dynamicSelectionIn: all entries are functions\n        if (layout.selectionConfigs) {\n            clone.selectionConfigs = Array.from(layout.selectionConfigs);\n        }\n        if (layout.recalculation) {\n            clone.recalculation = layout.recalculation;\n        }\n        for (let i = 0; i < layout.plots.length; i++) {\n            let sourcePlot = layout.plots[i];\n            let destPlot = clone.plots[i];\n            // spacer plots are empty otherwise.\n            if (destPlot.layoutTarget === ReScatter.control.LayoutController.LayoutTarget.SPACER) {\n                continue;\n            }\n            for (let propKey of Object.keys(sourcePlot.format)) {\n                if (typeof(sourcePlot.format[propKey]) === 'function') {\n                    destPlot.format[propKey] = sourcePlot.format[propKey];\n                }\n            }\n\n            // For now just (reference) copy the entire mapping object\n            if (!destPlot.selections) {\n                destPlot.selections = {};\n            }\n\n            // Plots can have selectionIn/dynamicSelectionIn or switchableSelections\n            if (sourcePlot.selections.selectionIn) {\n                destPlot.selections.selectionIn = {};\n                for (let selKey of Object.keys(sourcePlot.selections.selectionIn)) {\n                    destPlot.selections.selectionIn[selKey] = sourcePlot.selections.selectionIn[selKey];\n                }\n            }\n            if (sourcePlot.selections.dynamicSelectionIn) {\n                destPlot.selections.dynamicSelectionIn = {};\n                for (let selKey of Object.keys(sourcePlot.selections.dynamicSelectionIn)) {\n                    destPlot.selections.dynamicSelectionIn[selKey] = sourcePlot.selections.dynamicSelectionIn[selKey];\n                }\n            }\n            if (sourcePlot.selections.switchableSelections) {\n                destPlot.selections.switchableSelections = sourcePlot.selections.switchableSelections;\n            }\n        }\n        if (layout.choropleths) {\n            for (let i = 0; i < layout.choropleths.length; i++) {\n                let sourceChoropleth = layout.choropleths[i];\n                let destChoropleth = clone.choropleths[i];\n                // for now just (reference) copy the entire mapping object\n                for (let selKey of Object.keys(sourceChoropleth.selectionIn)) {\n                    destChoropleth.selectionIn[selKey] = sourceChoropleth.selectionIn[selKey];\n                }\n                for (let selKey of Object.keys(sourceChoropleth.dynamicSelectionIn)) {\n                    destChoropleth.dynamicSelectionIn[selKey] = sourceChoropleth.dynamicSelectionIn[selKey];\n                }\n            }\n        }\n        return clone;\n    }\n\n    /**\n     * A factory for creating and adding new layouts based on existing ones\n     * @param sourceId - id of the layout to copy\n     * @param title - title to assign to the new layout\n     * @param description - description to assign to the new layout\n     * @param plotMap - x-y coordinates for plots - indexed by plot id.\n     * @param propMap - x-y coordinates for plot meta data - indexed by plot id.\n     * @param newLayoutDataMap - a new map containing an id mapped to a data path\n     * @param selectionId - the selectionOut id (group) used to make this layout\n     * @param selectionIndices - the point indices in the selection\n     */\n    addDerivedLayout (sourceId, title, description, plotMap, propMap, newLayoutDataMap, selectionId, selectionIndices) {\n        \"use strict\";\n        let source = this.layoutData.filter(function(plot) {\n            return plot.id === sourceId;\n        });\n        if (source.length !== 1) {\n            throw new Error('No plot found to clone');\n        }\n        let clone = this.cloneLayout(source[0]);\n        clone.id = this.getNextId();\n        clone.title = title;\n        clone.description = description;\n\n        Object.keys(plotMap).forEach(function(plotId) {\n            let insertPlot = clone.plots.find(function(plot) {\n                return plot.id === plotId;\n            });\n            insertPlot.data.points = plotMap[plotId];\n            insertPlot.data.props = propMap[plotId];\n        });\n\n        let dataMaps = [];\n        for (let key of Object.keys(newLayoutDataMap)) {\n            let map = {id: key, filePath: newLayoutDataMap[key]};\n            dataMaps.push(map);\n        }\n        clone.dataMaps = dataMaps;\n        let self = this;\n        let updatePredefs = function(newPredefConfig) {\n            if (!newPredefConfig) {\n                self.addLayout(clone);\n            }\n            clone.predefinedSelections = newPredefConfig;\n            self.addLayout(clone);\n        };\n        ReScatter.dataModel.getPredefinedSelectionsSubSelection(selectionId, selectionIndices, updatePredefs)\n    }\n\n    __updateIds() {\n        let ids = [];\n        this.layoutData.forEach(function(plot) {\n            if (ids.indexOf(plot.id) > -1) {\n                throw new Error('Plot data plot ids must be unique');\n            }\n            if (typeof(plot.id) !== 'number') {\n                throw new Error('Plot ids must be numeric');\n            }\n            ids.push(plot.id);\n        });\n        ids.sort(function(a,b) {return a - b; });\n        this.ids = ids;\n    }\n\n    getLayoutConfig() {\n        \"use strict\";\n        return this.layoutData;\n    }\n};\n\n\n//</Class definition for the LayoutCollection>\n","import * as protocol from 'protoduck';\n\n/**\n * A plot is a display of point data that can be loacated in the ReScatter grid.\n * The basic interface is minimal comprising loading of the points\n * and handling the resize event\n */\nconst LayoutWidgetProtocol = protocol.define([], {\n    /**\n     *\n     * Called when new layout data is about to be loaded. Override to cleanup up previous layout data view\n     */\n    beforeContentChange: [],\n    afterContentChange: [],\n    resize: []\n});\n\nexport default LayoutWidgetProtocol;\n","/**\n * Created by bvanlew on 28-5-18.\n */\nimport * as protocol from 'protoduck';\n\n/**\n * To be used to export selections can be exported to external tools\n */\nconst ExportSelectionProtocol = protocol.define(['menuName', 'symbol', 'selectionList', 'selectionDescription' ], {\n    getMenuName: [], // string: the name displayed in the menu\n    getPropertySymbol: [], // string: the symbol used to choose point meta data or export (for a gene the gene id)\n    getSupportedSelectionIds: [], // list of strings - the selectionIds supported by this export plugin\n    exportSelection: ['selectionList', 'selectionDescription'] // export the meta data list with the given description string\n});\n\nexport default ExportSelectionProtocol;\n","import * as protocol from 'protoduck';\n\n/**\n * DataPreprocessProtocol needs to implemented for each supported analysis.\n * To perform an re-analysis (i.e. create a new plot) based on a subset of the original data the\n * point values will need to be subsampled (based on the chosen row or column indices)\n * and any relevant normalization will be performed.\n * Two sets of data need to be produced (these may or may not be the\n * same data depending on the analysis)\n *  1.: The input to the analysis.\n *  2.: The display data\n * The protocol supports two functions that produce these.\n */\nconst DataPreprocessProtocol = protocol.define([\n    'operationGuid',\n    'dataCache',\n    'recalcConfig',\n    'dataMap',\n    'selectionIndexes',\n    'selectionId'], {\n    /**\n     * operationGuid - a guid string that can be used in combination to create unique cache entries\n     * dataCache - a Rescatter DataCache object used to retrieve original data\n     * recalcConfig - the recalculation config for a layout\n     * rawDataList - a list or one of more keys to the raw input data via the global cache\n     * selectionIndices - a list of indices indicating the rows or columns\n     * selectionId - a string representing the selection group\n     *\n     * side effect - save expression data in cache with suitable keys\n     * returns -  array of [name, value] objects containing the data for the jobs\n     */\n    getRecalculationData: [\n        'operationGuid',\n        'dataCache',\n        'recalcConfig',\n        'dataMap',\n        'selectionIndexes',\n        'selectionId'],\n    /**\n     * Return an object mapping the dataMap keys to new\n     * cache data (this will be the subselected and preprocessed data\n     * for the new plots.\n     * If any data can be reused without preprocessing then simply\n     * omit it from the map. The old data will be inherited.\n     */\n    getDataMap: []\n\n});\n\n\nexport default DataPreprocessProtocol;\n","import SelectionProtocol from \"../../protocols/SelectionProtocol\";\n\n/**\n * Created by bvanlew on 9-4-18.\n * Provide a base for any type of layout widget including\n * the default LayoutTableWidget.\n * This base class inplements common functionality\n * for all layout loading widgets. Override the methods given and call\n * super where\n *\n */\nconst PubSub = require('pubsub-js');\nimport LayoutCollection from '../../data/LayoutCollection';\nimport {LayoutWidgetProtocol} from \"../../protocols\";\n\nexport default class LayoutTableWidgetBase {\n\n    constructor() {\n        if(!LayoutWidgetProtocol.hasImpl(new.target)) {\n            alert('LayoutTableWidgetBase child: ' + new.target.name + \" must implement the LayoutWidgetProtocol\");\n        }\n        this.layouts = new LayoutCollection();\n        this.layoutData = this.layouts.getLayoutConfig();\n        let self = this;\n        PubSub.subscribe(this.layouts.pubsubid, (msg,data) => {self._contentChanged(msg, data);});\n    }\n\n    /**\n     * Called if the LayoutCollection singleton data have been modified\n     * This can happen when new layouts are created and added to the data\n     * (can be as a result of turning subselections into new layouts).\n     * @param msg - from the the pubsub\n     * @param data - complete layout data object\n     * @private\n     */\n    _contentChanged (msg, data) {\n        \"use strict\";\n        this.beforeContentChange();\n        this.layoutData = data.layouts.getLayoutConfig();\n        this.afterContentChange();\n    }\n\n    /**\n     * Subclass should call this when a new layout is selected.\n     * @param newLayout - the new layout just selected\n     */\n    loadLayout(newLayout) {\n        ReScatter.viewController.loadLayout(newLayout);\n    }\n\n}\n\n","/**\n * Created by bvanlew on 31-5-17.\n */\n/**\n * Created by baldur on 10/12/15.\n */\n\n/**\n * @classdesc LayoutTableWidget is largely a webix treetable with additional code\n * for selection events. It is the used to visualize the layouts\n * available to the end user\n */\n\n\nimport LayoutWidgetBase from './base/LayoutWidgetBase';\nimport LayoutWidgetProtocol from '../protocols/LayoutWidgetProtocol';\n\nexport default class LayoutTableWidget extends LayoutWidgetBase {\n\n    constructor() {\n        \"use strict\";\n        super();\n        function getTitlesString(dataDescrip) {\n            let res = \"\";\n            if (dataDescrip !== undefined) {\n                for (let i = 0, len = dataDescrip.length; i < len; i++) {\n                    res += dataDescrip[i].id;\n                    if (i < len - 1) {\n                        res += \",<br>\";\n                    }\n                }\n            } else {\n                res = \"None\";\n            }\n            return res;\n        }\n\n        // Public members\n        this.__id = 'selectPlotsId';\n\n        let self = this;\n\n\n        this.tableData = this.parseDataFromLayouts(this.layoutData);\n        // parse out the table info from the data\n        this.contentTableDef = {\n            id: this.id,\n            view: \"datatable\",\n            // tooltip:{template:\"<p>Testing tooltip</p>\"},\n            columns: [\n                {id: \"title\", header: \"Name\", width: 250, template: \"<p style='word-wrap: break-word'>#title#<p>\"},\n                {\n                    id: \"description\",\n                    hidden: true,\n                    header: \"Description\",\n                    template: \"<p style='word_wrap: break-word'>#description#<p>\"\n                },\n                {\n                    id: \"plots\", hidden: true, header: \"Plots\",\n                    template: function (obj) {\n                        return \"<p style='word-wrap: break-word'>\" +\n                            getTitlesString(obj.plots) + \"</p>\";\n                    }\n                },\n                {\n                    id: \"ontology\", hidden: true, header: \"Ontology\",\n                    template: function (obj) {\n                        return \"<p style='word-wrap: break-word'>\" +\n                            getTitlesString(obj.ontologies) + \"</p>\";\n                    }\n                },\n\n                {\n                    id: \"choropleth\", hidden: true, header: \"Choropleth\",\n                    template: function (obj) {\n                        return \"<p style='word-wrap: break-word'>\" +\n                            getTitlesString(obj.choropleths) + \"</p>\";\n                    }\n                }\n            ],\n            autoheight: true,\n            header: false,\n            resizeColumn: true,\n            fixedRowHeight: false,\n            rowLineHeight: 25,\n            rowHeight: 25,\n            select: \"row\",\n            multiselect: false,\n            scrollX: false,\n            on: {\n                // resize the row hight based on the largest of the named columns\n                onResize: webix.once(function () {\n                    this.myAdjustRowHeight(['title'], true);\n                    this.render();\n                })\n            },\n            // Hardcoded example plot layouts\n            // Notes all ids must be unique for their type\n            // Plot props are defined in the scatterplot renderer and define the point plots\n            data: this.tableData\n        };\n        this.contentTableId = ReScatter.controlWidgetLayout.addTabView(this.contentTableDef, \"Data sets\", false);\n        this.contentTable = $$(this.contentTableId);\n        // want onSelectChange to be blockable during update - one solution is to detach/reattach\n        this.selectChangeEvent = this.contentTable.attachEvent('onSelectChange', function() {\n            var changeHandler = self.doLoadLayout.bind(self);\n            changeHandler();\n        });\n        this.sortingCol = 'id';\n        this.sortByCol(this.sortingCol);\n        // Hide columns deemed unnecessary by users\n        // this.hideColumns(['description', 'plots', 'ontology', 'choropleth']);\n    }\n\n    /**\n     * The webix id for the control (if any)\n     * @returns {a strind id}\n     */\n    get id() {\n        return this.__id;\n    }\n\n    /**\n     * @override\n     * Call with bind to the LayoutTableWidget this\n     *\n     */\n    doLoadLayout() {\n        let id = this.contentTable.getSelectedId();\n        let selectedLayout;\n        for (let layout of this.layoutData) {\n            if (layout.id === id.id) {\n                selectedLayout = layout;\n            }\n        }\n        super.loadLayout(selectedLayout);\n    }\n\n    parseDataFromLayouts(layouts) {\n        \"use strict\";\n        let tableData = [];\n        for (let layout of layouts) {\n            let layoutJson = {};\n            layoutJson.id = layout.id;\n            layoutJson.title = layout.title;\n            layoutJson.description = layout.description;\n            layoutJson.plots = JSON.parse(JSON.stringify(layout.plots));\n            if (layout.choropleths) {\n                layoutJson.choropleths = JSON.parse(JSON.stringify(layout.choropleths));\n            }\n            if (layoutJson.ontologies) {\n                layoutJson.ontologies = JSON.parse(JSON.stringify(layout.ontologies));\n            }\n            tableData.push(layoutJson);\n        }\n        return tableData;\n    }\n\n\n\n    hideColumns(colList) {\n        \"use strict\";\n        colList.forEach(function (val) {\n            this.contentTable.hideColumn(val);\n        }, this);\n    }\n\n    sortByCol(colName) {\n        \"use strict\";\n        this.contentTable.sort(colName);\n        this.sortingCol = colName;\n    }\n}\n\n// Required overrides for a LayoutWidget\nLayoutWidgetProtocol.impl(LayoutTableWidget, [], {\n    /**\n     * @override\n     */\n    beforeContentChange() {\n        // clear and update the table with the new data and restore the sort order\n        this.contentTable.detachEvent(this.selectChangeEvent);\n        this.contentTable.clearAll();\n    },\n\n    /**\n     * @override\n     */\n    afterContentChange() {\n        this.tableData = this.parseDataFromLayouts(this.layoutData);\n        this.contentTable.parse(this.layoutData);\n        this.sortByCol(this.sortingCol);\n        let self = this;\n        this.selectChangeEvent = this.contentTable.attachEvent('onSelectChange', function() {\n            var changeHandler = self.doLoadLayout.bind(self);\n            changeHandler();\n        });\n    },\n\n    /**\n     * @override\n     */\n    resize() {\n        // Nothing to do for a webix control\n    }\n});\n","/**\n * Created by baldur on 03/01/16.\n */\nlet instance = null\n\n/**\n * @classdesc\n * TutorialControl provides a way of embedding YouTube tutorials into a simple popup div\n */\nexport default class TutorialControl{\n    constructor(tutorialsConfig) {\n\n        if (instance) {\n            return instance;\n        }\n\n        this.enabled = false;\n        this.containerId = ReScatter.CONTROL_ID.TUTORIAL;\n        this.loadedVideos = {};\n        this.titles = [];\n        tutorialsConfig.forEach((val,index) => {\n            this.loadedVideos[String(index)] = val.location;\n            this.titles.push({id: index, value: val.title});\n        })\n\n        let self = this;\n        this.tutorialsControl = webix.ui({\n            view: \"window\",\n            container: self.containerId,\n            hidden: true,\n            move: true,\n            css: \"tutorialWindow\",\n            sizeToContent: true,\n            //width: 350,\n            //height:70,\n            id: \"tutorialVideosFormWindow\",\n            head: {\n                view: \"toolbar\", margin: -4, cols: [\n                    {view: \"label\", label: \"Tutorial videos\"},\n                    {\n                        view: \"icon\", icon: \"times-circle\", css: \"alter\",\n                        on: {\n                            onItemClick: function (id, e) {\n                                self.changedTutorialVisibility();\n                            }\n                        }\n                    }\n                ]\n            },\n            body: {\n                id: \"tutorialVideosForm\",\n                view: \"form\",\n                height: 516,\n                width: 850,\n                type: \"clean\",\n                complexData: true,\n                elements: [\n                    /* for locally source videos - useful for debug */\n                    {\n                        view: \"video\",\n                        id: \"tutorialVideoPlayer\",\n                        hidden: true,\n                        src: [\n                        ]\n                    },\n                    {\n                        view: \"iframe\",\n                        id: \"youtubeembedding\",\n                        hidden: false,\n                        src: self.loadedVideos[\"1\"],\n                        width: 854, height: 480,\n                        on: {\n                            // there does not seem to be a way to get the allowscreen\n                            // attribute through the webix interface force it before load\n                            onBeforeLoad: function () {\n                                let iFrame = $$(\"youtubeembedding\").getIframe();\n                                iFrame.setAttribute('allowfullscreen', 'allowfullscreen');\n                            }\n                        }\n\n                    },\n                    {\n                        view: \"select\",\n                        id: \"tutorialVideosList\",\n                        label: \"Select tutorial video:\",\n                        labelWidth: 250,\n                        value: 1,\n                        options: self.titles,\n                        on: {\n                            onChange: function () {\n                                let vidPath = self.loadedVideos[this.getValue()];\n                                if (vidPath.startsWith(\"https://www.youtube.com/\") || vidPath.startsWith(\"https://www.youtube-nocookie.com/\")) {\n                                    $$(\"tutorialVideoPlayer\").hide();\n                                    $$(\"youtubeembedding\").show();\n                                    $$(\"youtubeembedding\").load(vidPath);\n                                } else {\n                                    $$(\"tutorialVideoPlayer\").show();\n                                    $$(\"youtubeembedding\").hide();\n                                    let player = $$(\"tutorialVideoPlayer\").getVideo();\n                                    if ($$(\"tutorialVideoPlayer\").getNode().getElementsByTagName(\"source\")[0].getAttribute('src') === vidPath) {\n                                        return;\n                                    }\n                                    player.pause();\n                                    $$(\"tutorialVideoPlayer\").getNode().getElementsByTagName(\"source\")[0].setAttribute('src', vidPath);\n                                    $$(\"tutorialVideoPlayer\").getNode().getElementsByTagName(\"source\")[0].setAttribute('type', \"video/mp4\");\n                                    player.play();\n                                }\n\n                                //$$(\"tutorialVideoPlayer\").define(\"src\", vidPath);\n                            }\n                        }\n                    }\n\n                ]\n            },\n            on: {\n                onShow: function () {\n                    let video = $$(\"tutorialVideoPlayer\").getVideo();\n                    if (!video.hasAttribute('preload')) {\n                        video.setAttribute('preload', 'auto');\n                    }\n                    // force a reload to get the \"allowfullscreen\" working\n                    // on startup\n                    let iFrame = $$(\"youtubeembedding\").getIframe();\n                    let sourceVid = iFrame.getAttribute(\"src\");\n                    $$(\"youtubeembedding\").load(sourceVid);\n                },\n                onHide: function () {\n                    let video = $$(\"tutorialVideoPlayer\").getVideo();\n                    video.pause();\n                }\n            }\n        });\n        return instance;\n    }\n\n\n    enableTutorial () {\n        this.tutorialsControl.show();\n        this.enabled = true;\n        this.updateCheckBox();\n    }\n\n    disableTutorial () {\n        this.tutorialsControl.hide();\n        this.enabled = false;\n        this.updateCheckBox();\n    }\n\n    changedTutorialVisibility () {\n        if (this.enabled) {\n            this.disableTutorial();\n        } else {\n            this.enableTutorial();\n        }\n    }\n\n    updateCheckBox () {\n        let checkbox = document.querySelector('#' + ReScatter.CONTROL_ID.TUTORIALCHECKBOX);\n        if (this.enabled) {\n            checkbox.nextSibling.data = \"Hide tutorial\";\n            //checkbox.parentNode.classList.remove('active');\n        } else {\n            checkbox.nextSibling.data = \"Show tutorial\";\n            //checkbox.parentNode.classList.add('active');\n        }\n    }\n\n    destroy () {\n\n    }\n}\n\n\n","/**\n * Created by bvanlew on 4-8-17.\n */\nlet instance = null;\n\nimport ControlWidgetLayout from '../widget/ControlWidgetLayout';\nimport SelectionDataWidget from '../widget/SelectionDataWidget';\nimport SelectionEditWidget from '../widget/SelectionEditWidget';\nimport SelectionUploadWidget from '../widget/SelectionUploadWidget';\nimport PlotContextMenu from '../widget/PlotContextMenu';\nimport PreloadSelectionWidget from '../widget/PreloadSelectionWidget';\nimport LayoutTableWidget from '../widget/LayoutTableWidget';\nimport TutorialControl from '../widget/TutorialControl';\nimport SnapShotController from \"./snapshot/SnapShotController\";\n/**\n * @classdesc\n * WidgetController coordinated the creation and crosslinking of the various widgets involved in\n * selection and layout loading.\n */\n\n//TODO finish migration to ES6 and toolTab linking in the widgets themselves\nexport default class WidgetController {\n    constructor(siteConfig, controlsEnabled) {\n        if (instance) {\n            return instance;\n        }\n        this.siteConfig = siteConfig;\n        this.controlsEnabled = controlsEnabled;\n        this.pluginWidgets = [];\n        instance = this;\n        return instance;\n    }\n\n    defineControls() {\n        this.widgetsEnabled = this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.WIDGETS\");\n        let selectionsParent = undefined;\n        if (this.widgetsEnabled) {\n            // The top level layout for all control widgets\n            ReScatter.controlWidgetLayout = new ControlWidgetLayout();\n            // The two permanent tab entries (ontology is optional - perhaps preselection should be as well)\n            ReScatter.preselectionController = new PreloadSelectionWidget();\n            ReScatter.layoutTableWidget = new LayoutTableWidget();\n\n            // The selection specific widgets that are placed as collapsible (accordion items)\n            ReScatter.selectionDataWidget = new SelectionDataWidget();\n            ReScatter.selectionEditWidget = new SelectionEditWidget();\n            ReScatter.selectionUploadWidget = new SelectionUploadWidget();\n\n            // switch to the load layouts view as default\n            ReScatter.controlWidgetLayout.switchTabViewTo(ReScatter.layoutTableWidget.id);\n            ReScatter.selectionTable = ReScatter.selectionDataWidget.selectionTable;\n        }\n        // Setup widget tooltips\n        if (this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.TOOLTIPCHECKBOX\")) {\n            let selectionsParent = ReScatter.selectionTable.getParentView();\n            ReScatter.control.toolTipController.addTooltipToWebixControl(selectionsParent, 'IMESelections', 'right', 'body');\n            // Finally the ontology navigator\n\n            ReScatter.control.toolTipController.addTooltipToWebixControl(selectionsParent, 'IMESelectionEditing', 'right', 'body');\n\n            let multiViewParent = ReScatter.controlWidgetLayout.getMultiViewParent();\n            ReScatter.control.toolTipController.addTooltipToWebixControl(multiViewParent, 'IMEDataSets', 'right', 'body');\n            ReScatter.control.toolTipController.setupAllToolTips();\n            ReScatter.control.toolTipController.disableToolTips();\n        }\n        if (this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.PLOTMENU\")) {\n            ReScatter.plotContextMenu = new PlotContextMenu();\n        }\n        if (this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.TUTORIAL\")) {\n            ReScatter.tutorialControl = new TutorialControl(this.siteConfig.Tutorials);\n        }\n    }\n\n    /**\n     * Load and the configuration of widgets specific to the layout\n     * Currently this is limited to widgets added to a extra tab in the ControlWidgetLayout\n     */\n    setLayoutWidgets(siteConfig) {\n        let widgetList = siteConfig.Widgets;\n        for (let widgetDef of widgetList) {\n            let pluginName = widgetDef.plugin;\n            let widgetContentId = widgetDef.contentId;\n            let widgetTitle = widgetDef.title;\n            ReScatter.controlWidgetLayout.addLayoutTabView(widgetContentId, widgetTitle, true);\n            let pluginWidget = ReScatter.config.PluginFactory.createWidgetType(\n                pluginName, widgetDef, siteConfig);\n            SnapShotController.addComponent(pluginWidget);\n            this.pluginWidgets.push(pluginWidget);\n        }\n    }\n\n    /**\n     * Clear any layout specific widgets\n     */\n    clearLayoutWidgets() {\n        this.pluginWidgets = [];\n        ReScatter.controlWidgetLayout.removeLayoutTabs();\n\n    }\n\n    /**\n     * Resize any non-automatically handled widgets - eg the plugin specials\n     */\n    resize() {\n        for (let widget of this.pluginWidgets) {\n            widget.resize();\n        }\n    }\n}\n","/**\n * Created by bvanlew on 7-8-17.\n */\n\nimport ControlProtocol from '../../protocols/ControlProtocol';\nlet instance = null;\n\n/**\n * @classdesc ProgressController controls the html elements\n * that display the progress of long running events such as plot loading.\n */\nexport default class ProgressController {\n    constructor() {\n        if (instance) {\n            return instance;\n        }\n        this.pointGroup = {};\n        instance = this;\n        return instance;\n    }\n\n    makeProgressString() {\n        let progressString = \"Loaded: \";\n        let grandTotal = 0;\n        let loadTotal = 0;\n        let ids = Object.getOwnPropertyNames(this.totals);\n        ids.forEach(x => {\n            progressString += x + \": \" +\n                Math.round((100 * this.totals[x].loaded)/this.totals[x].total) + \"% <br/>\";\n                grandTotal += this.totals[x].total;\n                loadTotal += this.totals[x].loaded;\n        })\n        progressString += \" Loaded: \" + loadTotal + \" of \" + grandTotal;\n        return progressString;\n    }\n\n\n    loadingComplete() {\n        this.totals = {};\n    }\n\n    showPrompt() {\n        $(\"#\" + ReScatter.CONTROL_ID.LOADINGOVERLAY).css('display','inline');\n    }\n\n    hidePrompt() {\n        $(\"#\" + ReScatter.CONTROL_ID.LOADINGOVERLAY).css('display', 'none');\n    }\n}\n\nControlProtocol.impl(ProgressController, [], {\n    onControlEvent(eventContext) {\n        switch (eventContext.eventName) {\n            case \"showProgress\":\n                console.log(\"Show progress\");\n                this.showPrompt();\n                setTimeout(()=>{}, 10);\n                break;\n            case \"hideProgress\":\n                console.log(\"Hide progress\");\n                setTimeout(()=>{}, 10);\n                this.hidePrompt();\n                break;\n            case \"startLoading\":\n                this.showPrompt();\n                $(\"#\" + ReScatter.CONTROL_ID.LOADINGPROMPT).text(\"Loading:  \" + eventContext.event.info);\n                this.totals = {};\n                break;\n            case \"loadingProgress\":\n                this.totals[eventContext.event.id] = {\n                    total: eventContext.event.total,\n                    loaded: eventContext.event.loaded\n                }\n                $(\"#\" +  ReScatter.CONTROL_ID.LOADINGPROMPT).html(this.makeProgressString());\n                setTimeout(()=>{}, 10);\n                break;\n            case \"selectionsProgress\":\n                $(\"#\" +  ReScatter.CONTROL_ID.LOADINGPROMPT).html(eventContext.event.selectionState);\n                setTimeout(()=>{}, 10);\n                break;\n            default:\n                return;\n        }\n    }\n\n});\n","/**\n * Centralizes and abstracts access to individual plot layouts.\n * Handle layout defaults.\n * Provides facilities to clone (complex) layouts.\n */\n\nimport PlotDataModel from './PlotDataModel';\nimport DataMapper from './DataMapper';\nimport PixiPlotController from '../control/plot/PixijsPlotController';\nimport ChoroplethLoader from '../control/choropleth/ChoroplethLoader';\nimport SwitchableSelections from '../config/plot/SwitchableSelections';\nimport LayoutController from '../control/layout/LayoutController'\n\nconst legalize = require('../modules/legalize.js');\n\nconst filePathRegExp = /^[\\.|\\.\\.|/][\\w/\\.]*$/;\n// very naive URL detector - only really checking http(s)://\nconst urlRegExp = /^https?:\\/\\/[\\S]+$/\n\nconst fileOrUrlRegexp = RegExp(filePathRegExp.source + \"|\" + urlRegExp.source);\n/**\n * Schema mapping keys to data files for the point data\n * @type {{id: *, filePath: *}}\n */\nconst dataMapSchema = {\n    id: legalize.string().minLength(1).required(),\n    filePath: legalize.string().minLength(1).required(),\n};\n\n// plotProp supports a range op possible types each with a special action\nconst plotPropAllowedTypes = [\n    legalize.object(),\n    legalize.string(),\n    legalize.func().length(1),\n    legalize.number()\n];\n\n/**\n * Schema for the default properties applied to a scatter plot\n * @type {{color: *[], id: *[], symbol: *[], shape: *[], size: *[], group: *[], primary: *[], background: *[]}}\n */\nconst plotFormatSchema = {\n    color: plotPropAllowedTypes,\n    id: plotPropAllowedTypes,\n    symbol: plotPropAllowedTypes,\n    shape: plotPropAllowedTypes,\n    size: plotPropAllowedTypes,\n    group: plotPropAllowedTypes,\n    primary: plotPropAllowedTypes,\n    background: plotPropAllowedTypes\n};\n\nconst dataPreprocessSchema = {\n    preprocessPlugin: legalize.string().required(),\n    basemapSelections: legalize.object().pattern([/\\w+/, [...Object.values(PlotDataModel.axis)]]),\n};\n\n\nconst analysisSchema = {\n    inputData: legalize.string().required(),\n    targetPlotId: legalize.string().required(),\n    parameters: legalize.object().keys({\n        calcAxis: legalize.number().required().valid(...Object.values(PlotDataModel.axis)),\n        algorithmParams: legalize.object().pattern(\n            [/^[\\w/\\.]+$/,\n                legalize.alternatives(\n                    legalize.number().required(),\n                    legalize.bool().required())\n            ]) // these are algorithm specific parameters which should be checked in the plugin\n    })\n};\n\nconst analysisRecalculationSchema = {\n    baseDataMaps: legalize.array().includes(dataMapSchema).required(),\n    dataAnalysis: legalize.object().keys({\n        dataPreprocess: dataPreprocessSchema,\n        analysisPlugin: legalize.string().required(),\n        analyses: legalize.object().pattern([/^[\\w/\\.]+$/, analysisSchema]),\n    })\n};\n\n/**\n * Schema for the the recalculation of a plot from a selection.\n * @type {{data: *, selectionAxis: *, calcAxis: *}}\n */\nconst recalculationSchema = {\n    data: legalize.string().required(), // must be an id from the dataMaps array\n    selectionAxis: legalize.object().pattern([/\\w+/, [...Object.values(PlotDataModel.axis)]]),\n    calcAxis: legalize.number().required().valid(...Object.values(PlotDataModel.axis)),\n    parameters: legalize.any() // these are algorithm specific parameters which should be checked in the plugin\n};\n\n/**\n * Schema for the recalculation of choropleths - actually only sub sampling\n * @type {{data: *, selectionAxis: *}}\n */\nconst choroplethRecalculationSchema = {\n    data: legalize.string().required(), // must be an id from the dataMaps array\n    selectionAxis: legalize.object().pattern([/\\w+/, [...Object.values(PlotDataModel.axis)]]),\n};\n\n/**\n * The configuration for the property calculation pipeline\n * @type {{propAssign: *, mapOp: *, mapFn: *}}\n */\nconst calculatePropSchema = {\n    propAssign: legalize.number().valid(...Object.values(DataMapper.propAssign)).optional(),\n    mapOp:  legalize.number().valid(...Object.values(DataMapper.mapOp)).optional(),\n    // max length is choropleth - should split this\n    mapFn: legalize.func().optional() //.minLength(3).maxLength(6)\n};\n\n/**\n * The properties that can be changed as the results of incoming selections\n * @type {{dataMap: *, propMap: {color: {propAssign: *, mapOp: *, mapFn: *}, size: {propAssign: *, mapOp: *, mapFn: *}, group: {propAssign: *, mapOp: *, mapFn: *}, effects: {propAssign: *, mapOp: *, mapFn: *}}}}\n */\nconst selectionMapSchema = {\n    dataMap: legalize.string().required(),\n    propMap: legalize.object().keys({\n        color: calculatePropSchema,\n        size:  calculatePropSchema,\n        group: [calculatePropSchema, {}],\n        effects:  legalize.array().includes(['O', 'X']).optional() // point can be either a filled dot (default), a circle or and X\n    }).required()\n};\n\n/**\n * Schema for handling transitive selections\n * @type {{propFilter: {mapFn: *}}}\n */\nconst transitiveSelectionMapSchema = {\n    propFilter: legalize.object().keys({\n        mapFn: legalize.func().length(2)\n    }).required()\n};\n\nconst selectionInSchemas = legalize.alternatives(selectionMapSchema, transitiveSelectionMapSchema);\n\nconst plotDataSchema = {\n    points: legalize.string().match(filePathRegExp),\n    props: legalize.string().match(filePathRegExp),\n};\n\nconst plotSelectionSchema = {\n    selectionOut: legalize.string(),\n    dynamicSelectionOut: legalize.string(),\n    // **start Incoming selections\n    // either using the object (if the behaviour is switchable\n    switchableSelections: legalize.object().type(SwitchableSelections),\n    // or\n    // by defining the two possible incoming selections. Allow for different behaviour\n    // between mouse-over (dynamic) and permanent selections\n    selectionIn: legalize.object().pattern([/^[\\w/\\.]+$/, selectionInSchemas]),\n    dynamicSelectionIn: legalize.object().pattern([/^[\\w/\\.]+$/, selectionInSchemas]),\n    // ** end Incoming selections\n    selectionDefaults: {\n        numNeighbours: legalize.number().integer().min(0),\n        selectOver: legalize.number().valid(...Object.values(PixiPlotController.SelectionEnum)).required(),\n        mouseOverExcludeSeed: legalize.bool()\n    }\n};\n\nconst plotSchema = {\n    id: legalize.string().minLength(1),\n    layoutTarget: legalize.number().valid(...Object.values(LayoutController.LayoutTarget)).required(), // one of ReScatter.control.LayoutController.LayoutTarget\n    data: plotDataSchema,\n    format: plotFormatSchema,\n    selections: plotSelectionSchema,\n    recalculation: recalculationSchema,\n};\n\n\nconst choroplethSchema = {\n    id: legalize.string().minLength(1),\n    // TODO allow either a plugin or an internal type\n    plugin: legalize.string().minLength(1).optional(),\n    type: legalize.number().valid(...Object.values(ChoroplethLoader.LoaderType)).optional(),\n    svgTemplate: /^.*<svgid>.*$/,\n    thumbnailTemplate: /^.*<svgid>.*$/,\n    svgList: legalize.array().minLength(0).includes(/^[\\w/\\.]+$/),\n    region_ids: /^[\\w/\\.]+$/,\n    preselect: legalize.array().minLength(0).includes(/^[\\w/\\.]+$/), //selected from svgList\n    props: /^[\\w/\\.]+$/,\n    dynamicSelectionOut: legalize.string().minLength(1),\n    recalculation: choroplethRecalculationSchema,\n    switchableSelections: legalize.object().type(SwitchableSelections),\n    // or\n    // by defining the two possible incoming selections. Allow for different behaviour\n    // between mouse-over (dynamic) and permanent selections\n    selectionIn: legalize.object().pattern([/^[\\w/\\.]+$/, selectionInSchemas]),\n    dynamicSelectionIn: legalize.object().pattern([/^[\\w/\\.]+$/, selectionInSchemas]),\n    // ** end Incoming selections\n    popupAttributeList: legalize.array().minLength(1).includes(/^.+$/)\n};\n\nconst ontologySchema = {\n    id: legalize.string().minLength(1),\n    ontology_file: filePathRegExp,\n    dynamicSelectionOut: legalize.string().minLength(1),\n    openId: legalize.array().includes(legalize.number(), legalize.string())\n};\n\nconst predefinedSelectionsSchema = legalize.array().includes(\n    {\n        preselect: legalize.string().match(filePathRegExp).required(),\n        id: legalize.string().minLength(1).required(),\n        title: legalize.string().minLength(1).required(),\n        description: legalize.string().minLength(1).required(),\n        targetId: legalize.string().minLength(1).required(),\n    }\n);\n\nconst layoutConfigSchema = {\n    id: legalize.number().min(0).integer().required(),\n    title: legalize.string().minLength(1).required(),\n    ontology: legalize.string().minLength(1),\n    description: legalize.string().minLength(1).required(),\n    dataMaps: legalize.array().includes(dataMapSchema).required(),\n    recalculation:  analysisRecalculationSchema,\n    // required for switchableSelections in the plots\n    selectionConfigs: legalize.array().minLength(1).includes(/^.+$/),\n    plots: legalize.array().includes(plotSchema).required(),\n    choropleths: legalize.array().length(1).includes(choroplethSchema),\n    ontologies: legalize.array(ontologySchema),\n    predefinedSelections: legalize.array(predefinedSelectionsSchema),\n};\n\nconst tutorialConfigSchema = {\n    title: legalize.string().minLength(1),\n    location: fileOrUrlRegexp,\n};\n\nconst siteConfigSchema = {\n    SiteTitle:legalize.string().minLength(1).required(),\n    Layouts: legalize.array().minLength(1).includes(layoutConfigSchema).required(),\n    Tutorials: legalize.array().includes(tutorialConfigSchema).optional()\n};\n\nexport default class LayoutSiteConfig {\n    constructor(siteConfig) {\n        this.unvalidatedSiteConfig = siteConfig;\n        this.schema = siteConfigSchema;\n        this.validatedConfig;\n    }\n\n    __validateSiteConfig() {\n        let result = legalize.validate(this.unvalidatedSiteConfig, this.schema, {\n            allowUnknown: true,\n            warnUnknown: false\n        });\n        if (!result.error && !result.warnings) {\n            this.validatedConfig = result.value;\n        } else {\n            let numErrs = result.error? result.error.length: 0;\n            let numWarns = result.warnings? result.warnings.length: 0;\n            let errorMessage = 'Errors: ' + numErrs +  '\\n\\n ' + JSON.stringify(result.error).replace('/},{/g','},\\\\n\\\\n{') +\n                '\\n\\nWarnings: ' + numWarns + '\\n\\n ' + JSON.stringify(result.warnings).replace('/},{/g','},\\\\n\\\\n{');\n            window.alert(errorMessage)\n        }\n    }\n\n    get siteConfig() {\n        if (!this.validatedConfig) {\n            // BvL 2 March 2019 disable config validation due to problems with legalizejs\n            //this.__validateSiteConfig();\n            this.validatedConfig = this.unvalidatedSiteConfig;\n        }\n        return this.validatedConfig;\n    }\n}\n","/**\n * Created by bvanlew on 28-6-17.\n */\n\nimport LayoutController from './layout/LayoutController';\nimport WidgetController from './WidgetController';\nimport PixijsPlotController from './plot/PixijsPlotController';\nimport ProgressController from './layout/ProgressController';\nimport PlotDataModel from '../data/PlotDataModel';\nimport LayoutCollection from '../data/LayoutCollection';\nimport SnapShotController from \"./snapshot/SnapShotController\";\nimport ControlProtocol from \"../protocols/ControlProtocol\";\nimport LayoutSiteConfig from \"../data/LayoutSiteConfig\";\n/**\n * @class ViewController is a singleton responsible for\n * loading and unloading the\n * renderers and data associated with a layout.\n */\nlet instance = null;\nexport default class ViewController {\n\n    constructor(siteConfig, controlsEnabled) {\n        if (instance) {\n            return instance;\n        }\n        instance = this;\n        this.controlsEnabled = controlsEnabled;\n        this.__init(siteConfig);\n        return instance;\n    };\n\n    __init(siteConfig) {\n        this.plotRenderers = [];\n        this.allRenderers = {};\n        this.ontologyTree = undefined;\n        let validateConfig = new LayoutSiteConfig(siteConfig);\n        this.siteConfig = validateConfig.siteConfig;\n        //this.siteConfig = siteConfig;\n        this.layoutCollection = new LayoutCollection(this.siteConfig.Layouts)\n        this.layoutController = new LayoutController(this.controlsEnabled);\n        ReScatter.layoutManager = this.layoutController;\n        this.widgetController = new WidgetController(this.siteConfig, this.controlsEnabled);\n        this.progressController = new ProgressController();\n        this.dataModel = new PlotDataModel();\n        this.controlEventModel = ReScatter.controlEventModel;\n        this.siteTitle = this.siteConfig.SiteTitle;\n        this.title = '';\n        this.renderPlotIndexes = [];\n        this.widgetController.defineControls();\n        this.selectionConfig = undefined;\n        this.startupCallback = undefined;\n        this.setupSliders(this);\n        ReScatter.dataModel = this.dataModel;\n        if (this.siteConfig.Widgets) {\n            this.widgetController.setLayoutWidgets(this.siteConfig);\n        }\n        $(window).unload(() => {\n            this.unload();\n        });\n\n    };\n\n    setupSliders () {\n        \"use strict\";\n        if(this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.LEFTSPLITTER\")) {\n            let leftSib = $(\"#\" + ReScatter.CONTROL_ID.LEFTSPLITTER).prev();\n            leftSib.resizable({\n                handleSelector: \"#\" + ReScatter.CONTROL_ID.LEFTSPLITTER,\n                resizeHeight: false,\n                resizeWidth: true,\n                resizeWidthFrom: 'right',\n                onDrag: (e, $el, opt) => {\n                    ReScatter.controlWidgetLayout.resize();\n                    this.contentResize(e);\n                },\n                onDragEnd: (e, $el, opt) => {\n                    ReScatter.controlWidgetLayout.resize();\n                    this.contentResize(e);\n                }\n            });\n        }\n\n        if (this.controlsEnabled.includes(\"ReScatter.CONTROL_ID.RIGHTSPLITTER\")) {\n            let rightSib = $(\"#\" + ReScatter.CONTROL_ID.RIGHTSPLITTER).next();\n            rightSib.resizable({\n                handleSelector: \"#\" + ReScatter.CONTROL_ID.RIGHTSPLITTER,\n                resizeHeight: false,\n                resizeWidth: true,\n                resizeWidthFrom: 'left',\n                onDrag: (e, $el, opt) => {\n                    this.contentResize(e);\n                },\n                onDragEnd: (e, $el, opt) => {\n                    this.contentResize(e);\n                }\n            });\n        }\n\n    }\n\n    contentResize (e) {\n        // In principle this explicit logic could be replaces with the new ResizableObserver\n        // (or the polyfill see npm) to reduce coupling in the code.\n        ReScatter.viewController.plotRenderers.forEach(function(val) {\n            \"use strict\";\n            val.onResize(e);\n        });\n        if (ReScatter.choroplethControl) {\n            ReScatter.choroplethControl.onPlethResize(e);\n        }\n        this.widgetController.resize();\n    };\n\n    // TODO migrate layout related stuff (renderer creation) to LayoutController: responsible for populating the layout\n    // TODO migrate data related stuff to DataController: responsible for populating dataModel\n    /**\n     * Load a new layout and unload the existing one - if any - first.\n     * @param layoutDef - the layout definition from the configuration\n     * @param startupCallback - a callback to be triggered when the loading and rendering is complete\n     */\n    loadLayout(layoutDef, startupCallback) {\n        this.unload();\n        this.startupCallback = startupCallback;\n        this.controlEventModel.addObserver(this);\n        this.controlEventModel.addObserver(this.progressController);\n        this.plotRenderers = [];\n        this.numPlotsToLoad = 0;\n        this.numChoroplethsToLoad = 0;\n        this.title = layoutDef.title;\n        this.controlEventModel.putControlEventModel('startLoading', {info: this.title});\n        this.layoutDef = layoutDef;\n        // setting the layout in the layout manager will start creating the choropleths\n        this.layoutController.setLayout(layoutDef, this.controlsEnabled);\n        ReScatter.data.DataMapper.setDataMaps(layoutDef.dataMaps);\n        this.selectionConfig =  new ReScatter.config.SelectionConfig(layoutDef);\n        this.dataModel.loadLayoutDefData(layoutDef,\n            (pointFiles, propFiles, renderPlotIndexes, ontFiles)=>{this.loadRenderers(pointFiles, propFiles, renderPlotIndexes, ontFiles)}\n        )\n    };\n\n    loadLayoutByIndex(index, startupCallback) {\n        let layoutData = this.layoutCollection.getLayoutConfig();\n        if (index >= 0 && index < layoutData.length) {\n            this.loadLayout(layoutData[index], startupCallback);\n        }\n    };\n\n    /**\n     * Load the renderers for this layout. Expects data to be loaded in the cache\n     */\n    loadRenderers(pointFiles, propFiles, renderPlotIndexes, ontFiles) {\n        this.pointData = this.dataModel.dataCache.getCachedList(pointFiles);\n        this.propData = this.dataModel.dataCache.getCachedList(propFiles);\n        this.renderPlotIndexes = renderPlotIndexes;\n        this.ontologyData = this.dataModel.dataCache.getCachedList(ontFiles);\n        this.numChoroplethsToLoad = this.layoutController.getNumberOfChoroplethsToLoad();\n        this.numPlotsToLoad = this.layoutController.getTotalPlots();\n        // TODO handle via event: GUI notification\n        setTimeout(function() {$('#main-block').resize();}, 0);\n        if (this.ontologyData.length > 0) {\n            this.ontology = this.ontologyData[0]; //TODO support multiple ontologies\n        }\n\n        for (let i = 0, len = this.layoutDef.plots.length; i < len; i++) {\n            setTimeout((i) => this.createRenderer(i), 10, i);\n        }\n    };\n\n    /**\n     * Creates the individual plot renderers from the layout definition\n     * with associated property data.\n     * @param index\n     */\n    createRenderer(index) {\n        let plotDef = this.layoutDef.plots[index];\n        if (this.layoutController.isSpaceLayout(plotDef)) {\n            return;\n        }\n        let dataIndex = this.renderPlotIndexes[index];\n        if (dataIndex === -1) {\n            // no data to plot\n            return;\n        }\n\n        let plot = this.pointData[dataIndex];\n        let props = this.propData[dataIndex];\n\n        let elementId = this.layoutController.getLayoutElementId(plotDef);\n        let plotRenderer = undefined;\n        if (plotDef.plugin) {\n            plotRenderer = ReScatter.config.PluginFactory.createPlotType(\n                plotDef.plugin, elementId, plotDef, this.layoutDef.selectionConfigs)\n        } else {\n            plotRenderer = new PixijsPlotController(elementId, plotDef, this.layoutDef.selectionConfigs);\n        }\n        SnapShotController.addComponent(plotRenderer);\n        this.plotRenderers.push(plotRenderer);\n\n        let points = plot.points;\n        plotRenderer.loadPlotData(points, props.voxel_props, plotDef.format);\n        this.dataModel.putDataProps(plotDef, props.voxel_props);\n\n    }\n\n    /**\n     * Unload a layout i.e. and any plots & controls (e.g. ontology)\n     * connected with it\n     */\n    unload() {\n        for (let key of Object.keys(this.allRenderers)) {\n            this.allRenderers[key].destroy();\n        }\n        this.allRenderers = {};\n        if (this.ontologyTree) {\n            this.ontologyTree.destroy();\n            this.ontologyTree = undefined;\n        }\n        this.renderPlotIndexes = [];\n        this.controlEventModel.removeAllObservers();\n        if (this.ontologyTree) {\n            this.ontologyTree.destroy();\n            this.ontologyTree = undefined;\n        }\n        this.ontology = undefined;\n        this.startupCallback = undefined;\n    }\n\n    loadOntologyData (){\n        \"use strict\";\n        this.ontologyTree = undefined;\n        if (!this.ontology) {\n            return;\n        }\n        this.ontologyTree = new ReScatter.widget.OntologyTree();\n        let ontologyData = this.ontology.msg[0];\n        // We are currently using the color table from the voxel data\n        // not from the ontology - there are slight differences which need\n        // to be checked.\n\n        // It would be better if we could define the child function\n        // dynamically  based on the ontology schema\n        //only support a single ontology\n        this.ontologyTree.loadOntologyData(\n            ReScatter.layoutManager.getOntology(),\n            ontologyData);\n    };\n\n    setupSelections() {\n\n        //Now the plotRenderers are initialized we can expose them to the GUI events\n        let predefinedSelections = ReScatter.layoutManager.getPredefinedSelections()\n        ReScatter.preselectionController.renewSelections(predefinedSelections);\n\n        this.loadOntologyData();\n        // selection data can either be the explicit selection object or\n        // a file path containing a the JSON object\n        ReScatter.selectionTable.clearAll();\n        // Setup a single selection models to handle all selections\n        // TODO this can be split into 1 selection per selection but it requires coordination\n        // between the models to make sure only one selection at at time is active.\n        // Or perhaps the number of active selections is a configuration item.\n        // Could have two selections from multiple sources active and the results\n        // overlayed.\n\n        // Create the static and dynamic selection models\n\n        ReScatter.selectionModel.clear();\n        ReScatter.selectionModel.addObserver(ReScatter.selectionDataWidget); //Subscribe to selection events\n        ReScatter.dynamicSelectionModel = new ReScatter.events.DynamicSelection();\n\n        // Subscribe the relevant renderers to these models\n        let plotsAndChoropleths = ReScatter.layoutManager.getPlots().concat(ReScatter.layoutManager.getChoropleths());\n        let i,len;\n        for (i = 0, len = plotsAndChoropleths.length; i < len; i++) {\n            let plot = plotsAndChoropleths[i];\n            // TODO improve the fragile logic here - some plots are simply spacers and others\n            // might not need to listen to events\n            if(plot.id !== undefined) {\n                ReScatter.selectionModel.addObserver(this.allRenderers[plot.id]);\n                this.controlEventModel.addObserver(this.allRenderers[plot.id]);\n                ReScatter.dynamicSelectionModel.addObserver(this.allRenderers[plot.id]);\n            }\n\n        }\n        // Add the plot context menu singleton for the renderers (perhaps in the renders themselves)\n        this.controlEventModel.addObserver(ReScatter.plotContextMenu);\n        let staticSelections = this.selectionConfig.getStaticSelectionsAsIdValueArray();\n        // // TODO remove dynamic selections from plotDef - they are unused. Regular selections are upload targets\n\n        // Update the \"load-to\" and dynamic selection targets\n        ReScatter.selectionUploadWidget.updateOptionsFromSelections(staticSelections);\n        ReScatter.controlWidgetLayout.collapseSelectionEdit();\n        this.progressController.hidePrompt();\n        // If there is an ontology tree show that otherwise show the predefined selections\n        if (this.ontologyTree) {\n            ReScatter.controlWidgetLayout.switchTabViewTo(this.ontologyTree.getId());\n        } else {\n            if (predefinedSelections) {\n                ReScatter.controlWidgetLayout.switchTabViewTo(ReScatter.preselectionController.getId());\n            }\n        }\n\n        $(window).trigger('resize');\n        $(\"#title\").text(this.siteTitle);\n        if (this.startupCallback) {\n            this.startupCallback();\n        }\n    };\n\n\n}\n\nControlProtocol.impl(ViewController, [], {\n    /**\n     * Handle the rendererLoadComplete event that is sent when a renderer has completed loading\n     * points. When all the renderers are loaded then the selection logic can be enabled.\n     * @param eventContext\n     */\n    onControlEvent(eventContext) {\n        switch (eventContext.eventName) {\n            case 'rendererLoadComplete':\n                if ((eventContext.event.type === 'plot') || (eventContext.event.type === 'choropleth')) {\n                    this.allRenderers[eventContext.event.renderer.id] = eventContext.event.renderer;\n                }\n                if ((Object.keys(this.allRenderers).length ===\n                    (this.numPlotsToLoad + this.numChoroplethsToLoad))) {\n                    this.progressController.loadingComplete()\n                    this.setupSelections();\n                }\n                break;\n            default:\n                return;\n        }\n    }\n});\n","import TsnePlugin from \"../jobs/TsnePlugin\";\n\n/**\n * Created by bvanlew on 4-8-17.\n */\n\nlet instance = null;\nimport PluginFactory from '../config/plugins/PluginFactory';\nimport StartupSelection from '../events/StartupSelection';\nexport default class SiteInstance {\n    /**\n     * @constructor\n     * @param siteConfig - a JSON site configuration, see documentation for information\n     * @param debugOn - true to enable console messages - default false\n     * @returns {*}\n     */\n    constructor(siteConfig, debugOn) {\n        if (instance) {\n            return instance;\n        }\n        if (!siteConfig) {\n            alert(\"Set up a siteConfig before starting the SiteInstance\")\n        }\n        ReScatter.debugOn = Boolean(debugOn);\n        // Plugin setups\n        PluginFactory.registerChoroplethType(\"ChoroplethSVGView\", ReScatter.view.ChoroplethSVGView);\n        if (siteConfig.ChoroplethPlugins) {\n            Object.entries(siteConfig.ChoroplethPlugins).forEach((val) => {\n                PluginFactory.registerChoroplethType(val[0], val[1]);\n            });\n        }\n        PluginFactory.registerPlotType(\"PixijsPlotController\", ReScatter.control.PixijsPlotController);\n        if (siteConfig.PlotPlugins) {\n            Object.entries(siteConfig.PlotPlugins).forEach((val) => {\n                PluginFactory.registerPlotType(val[0], val[1]);\n            });\n        }\n        PluginFactory.registerWidgetType(\"LayoutTableWidget\", ReScatter.widget.LayoutTableWidget);\n        if (siteConfig.WidgetPlugins) {\n            Object.entries(siteConfig.WidgetPlugins).forEach((val) => {\n                PluginFactory.registerWidgetType(val[0], val[1]);\n            });\n        }\n        this.controlsEnabled = ReScatter.utils.control_ids_to_strings();\n        this.siteConfig = siteConfig;\n        this.__addRowHeightFuncToWebix();\n        ReScatter.viewController = new ReScatter.control.ViewController(this.siteConfig, this.controlsEnabled);\n        this.startupSelection = new StartupSelection();\n        this.startupSelection.performStartupAction();\n        // If dimres is available register the tSNE plugin\n        if (ReScatter.dimres_url) {\n            PluginFactory.registerDataJobType(TsnePlugin.getAlgorithmName(), ReScatter.jobs.TsnePlugin);\n        }\n        instance = this;\n        return this;\n    }\n\n    __addRowHeightFuncToWebix() {\n        webix.extend(webix.ui.datatable,\n            {\n                myAdjustRowHeight: function (id, silent, rId) {\n                    \"use strict\";\n                    function processRow(that, obj) {\n                        var h = [that.config.rowHeight], config;\n                        for (var i = 0; i < id.length; i++) {\n                            config = that.getColumnConfig(id[i]);\n                            d.style.width = config.width + \"px\";\n                            d.innerHTML = that.getText(obj.id, config.id);\n                            h.push(d.scrollHeight);\n                        }\n                        obj.$height = Math.max.apply(null, h);\n                    }\n\n                    if (typeof id === 'string') {\n                        id = [id];\n                    }\n\n                    var d = webix.html.create(\"DIV\", {\n                        \"class\": \"webix_table_cell webix_measure_size webix_cell\"\n                    }, \"\");\n                    d.style.cssText = \"height:1px; visibility:hidden; position:absolute; top:0px; left:0px; overflow:hidden;\";\n                    this.$view.appendChild(d);\n\n                    if (rId) {\n                        var obj = this.getItem(rId);\n                        processRow(this, obj);\n                    }\n                    else {\n                        this.data.each(function (obj) {\n                            processRow(this, obj);\n                        }, this);\n                    }\n\n                    d = webix.html.remove(d);\n                    if (!silent) {\n                        this.refresh();\n                    }\n                }\n            }\n        );\n    }\n}\n","/**\n * Created by bvanlew on 28-6-17.\n */\nexport { default as ViewController } from '../control/ViewController';\nexport { default as ChoroplethLoader } from './choropleth/ChoroplethLoader';\nexport { default as ChoroplethController } from './choropleth/ChoroplethController';\nexport { default as LayoutController } from './layout/LayoutController';\nexport { default as PixijsPlotController } from './plot/PixijsPlotController';\nexport { default as SimplePlotController } from './plot/SimplePlotController';\nexport { default as ToolTipController } from './layout/ToolTipController';\nexport { default as SiteInstance } from './SiteInstance';\nexport { default as WidgetController } from './WidgetController';\nexport { default as SelectionSubscriber } from './common/SelectionSubscriber';\nexport { default as SnapShotController } from './snapshot/SnapShotController';\n\nimport ToolTipController from './layout/ToolTipController';\nlet toolTipController = new ToolTipController();\n\nexport { toolTipController };\n","/**\n * Created by baldur on 8/5/15.\n */\nimport {inflate} from 'pako';\n//<Class definition for the DataCache>\nlet instance = null;\nexport default class DataCache {\n    constructor() {\n        if (instance) {\n            return instance;\n        }\n        this.cache = {};\n        instance = this;\n\n    }\n\n    /**\n     * Make a promise for retrieving data and place it in a promise array\n     * Files identified as gz are auto decompressed (only arraybuffer or json are supported compressed)\n     * @param promises - an array to push to promise to\n     * @param path - the path to get\n     * @param responseType - the response type\n     * @private\n     */\n    __makePromise (promises, path, responseType) {\n        'use strict';\n        if (!this.cache.hasOwnProperty(path)) {\n            promises.push(new Promise((resolve, reject) => {\n                let xhr = new XMLHttpRequest();\n                xhr.timeout = 10000; // 10s TODO add to interface\n                xhr.open('GET', path, true);\n                if (path.endsWith('.gz')) {\n                    xhr.responseType = 'arraybuffer';\n                } else {\n                    xhr.responseType = responseType;\n                }\n                let self = this;\n                xhr.onload = function () {\n                    // Handle\n                    if (path.endsWith('.gz')) {\n                        let compressed = new Uint8Array(this.response);\n                        if (responseType === 'json') {\n                            self.cache[path] = {'data': JSON.parse(inflate(compressed, {to: 'string'}))};\n                        } else {\n                            self.cache[path] = {'data': inflate(compressed)};\n                        }\n                    } else {\n                        self.cache[path] = {'data': this.response};\n                    }\n                    resolve();\n                };\n                xhr.onerror = function () {\n                    console.log('Error retrieving: ' + path +\n                        ' status: ' + xhr.statusText + ' response: ' + xhr.responseText);\n                    reject({status: xhr.statusText, response: xhr.responseText});\n                };\n                //console.log(\"XHR get Data Map: \" + this.filePath);\n                xhr.send();\n            }));\n        }\n    }\n\n    /**\n     * Get files from remote and cache or from cache\n     * if already present\n     * @param pathAndTypeList - array of objects {path: <siteRelativeURL>, type: <responseType>}\n     *         where <responseType> can be any valid XMLHttpRequest.responseType\n     * @param callback - called as callback(). The callback is responsible for retrieving\n     *          the cached data.\n     * @param errorCallback  - optional error callback called as errorCallback(errorObject)\n     *          errorObj contains status and response\n     */\n    loadFiles(pathAndTypeList, callback, errorCallback) {\n        'use strict';\n        let deferredGets = [];\n        let files = [];\n        // collect the necessary files into arrays\n\n        // remember to bind to this before calling (with forEach thisArg\n        function getPaths(pathAndType) {\n            /*jshint validthis:true */\n            files.push(pathAndType.path);\n            this.__makePromise(deferredGets, pathAndType.path, pathAndType.type);\n        }\n        pathAndTypeList.forEach(getPaths, this);\n        if (deferredGets.length > 0) {\n            Promise.all(deferredGets).then(function () {\n                callback();\n            }).catch(function(errorObj){\n                if (errorCallback) {\n                    errorCallback(errorObj);\n                }\n            });\n        } else {\n            callback();\n        }\n    }\n\n    /**\n     * Get files from remote and cache or from cache\n     * if already present. Async (ES7) version of loadFiles\n     * @param pathAndTypeList - array of objects {path: <siteRelativeURL>, type: <responseType>}\n     *         where <responseType> can be any valid XMLHttpRequest.responseType\n     *\n     *  return - when all the files are loaded it returns or, in a case of a (network) failure,\n     *  it will throw\n     */\n    async asyncLoadFiles(pathAndTypeList) {\n        let deferredGets = [];\n        let files = [];\n        // collect the necessary files into arrays\n\n        // remember to bind to this before calling (with forEach thisArg\n        function getPaths(pathAndType) {\n            /*jshint validthis:true */\n            files.push(pathAndType.path);\n            this.__makePromise(deferredGets, pathAndType.path, pathAndType.type);\n        }\n        pathAndTypeList.forEach(getPaths, this);\n        if (deferredGets.length > 0) {\n            return await Promise.all(deferredGets);\n        }\n        return;\n    }\n\n    isInCache(filePath) {\n        return this.cache.hasOwnProperty(filePath);\n    }\n\n    /**\n     * Return a single item from the cache\n     * @param filePath\n     */\n    getFromCache (filePath) {\n        return this.cache[filePath].data;\n    }\n\n    /**\n     * Insert something into the cache. This allows temporary data\n     * (from for example embedding jobs)\n     * to be retrieved by the usual mechanism even though they are not\n     * persistent on the server\n     * @param data - the data to be saved\n     * @param key - the cache key\n     * @param forceOverwrite - if true will overwrite an identical key (default false)\n     */\n    insertInCache(data, key, forceOverwrite) {\n        'use strict';\n        let overwrite = (forceOverwrite === undefined) ? false : forceOverwrite;\n        if (!overwrite) {\n            if (this.isInCache(key)) {\n                throw new Error('Trying to overwrite cache without explicit force');\n            }\n        }\n        this.cache[key] = {data:data};\n    }\n\n    /**\n     * Return a list of items from the cache\n     * @param fileList\n     * @returns {Array}\n     */\n    getCachedList (fileList) {\n        // private function return the corresponding data in an array\n        // retrieve an array of data from the cache\n        'use strict';\n        let dataArray = [];\n        for (let i = 0,len = fileList.length; i < len; i++) {\n            dataArray.push(this.cache[fileList[i]].data);\n        }\n        return dataArray;\n    }\n}\n//</Class definition for the DataCache>\n","/**\n * Created by bvanlew on 25-7-17.\n */\n/**\n * @constructor\n * <Class definition for the PermanentSelection>\n * Use PubSubJS for event/subscriber\n * The notify function in the subscriber that is called is called 'update'\n */\n\nimport Observable from '../events/Observable';\nimport LookupEnum from '../utils/LookupEnum';\n\nexport default class PermanentSelection extends Observable {\n    constructor () {\n        \"use strict\";\n        // superclass constructor subscribers must supply a function update\n        super('update');\n        //this.dataSet = dataset; // the data currently loaded\n        // a brush selection is an object {'originator': originator, 'dataPoints': dataPoints};\n        this.selections = {}; // a map of selectionID to selection\n        this.orderedLabels = [];\n        this.labelCount = 0;\n        this.visibleSelection = undefined;\n        this.editingLabel = undefined;\n        this.editingSelection = undefined;\n        this.selPriorToEdit = undefined;\n        this.putOperation = PermanentSelection.editModeEnum.enum.ADDPOINTS;\n\n    }\n\n\n    static editModeEnum = new LookupEnum({\n        ADDPOINTS: \"Add points\",\n        REMOVEPOINTS: \"Remove points\"\n    });\n\n    /**\n     *\n     * @param label - unique label for the selection\n     * @param originator - the originating selection generator\n     * @param dataPoints - the data point indices in the selection\n     * @param color - the default color of the points (may be overridden by property mapping)\n     * @param description - a user readable description of the selection\n     * @param selectionId - the id of the selection group\n     * @param sourceProps - properties from the originator\n     * @param background - if true selection is created without being displayed\n     * @returns {*}\n     */\n    \"use strict\";\n    putSelection (label, originator, dataPoints, color, description, selectionId, sourceProps, background = false) {\n        // label - a unique label for the selection\n        // originator - the originating view for the selection\n        // dataPoints - list of point (integer) indices\n        // color - an RGB colour used to display this selection\n        // TODO Currently points can only be in one selection\n        // TODO (contd) the previous selection either remains unchanged or is overwritten\n\n\n        // protect against duplicate label\n        // (overwriting a label requires a delete followed by a put)\n        if (this.selections[label] !== undefined) {\n            label = this.getNewLabel(label);\n        }\n        if (this.editingSelection !== undefined) {\n            if (selectionId !== this.editingSelection) {\n                // if in edit existing status on perform edits on the active selection\n                return;\n            }\n            this.__editExisting(label, dataPoints);\n            return;\n        }\n        color = typeof color !== 'undefined' ?  color : 0x772222;\n        this.selections[label] = {'label': label,\n            'originator': originator,\n            'dataPoints': dataPoints,\n            'color': color,\n            'description': description,\n            'selectionId': selectionId,\n            'sourceProps': sourceProps,\n            'background': background\n        };\n        this.orderedLabels.push(label);\n        // add the selection\n        this.notify({'type':'perm', 'op':'create', 'sel': this.selections[label], 'id': selectionId});\n        // and show it if desired\n        if (!background) {\n            this.showSelection(label);\n        }\n        return label;\n    }\n\n    unionSelections (selectionLabels, originator) {\n        \"use strict\";\n        this.combineSelections(selectionLabels, originator, \"Union\");\n    }\n\n    intersectSelections (selectionLabels, originator) {\n        \"use strict\";\n        this.combineSelections(selectionLabels, originator, \"Intersect\");\n    }\n\n    subtractSelections (selectionLabels, originator) {\n        \"use strict\";\n        this.combineSelections(selectionLabels, originator, \"Subtract\");\n    }\n\n    combineSelections(selectionLabels, originator, op) {\n        \"use strict\";\n        let newDescrip = originator + \":\";\n        let newLabel = \"\";\n        let color;\n        let selectionId;\n        let props;\n        let dataPointSet;\n        selectionLabels.forEach(function(val, index) {\n            let oldSelection = this.selections[val];\n            if (color === undefined) {\n                color = oldSelection.color;\n            }\n            if (selectionId === undefined) {\n                selectionId = oldSelection.selectionId;\n            }\n            if (props === undefined) {\n                props = oldSelection.sourceProps;\n            }\n            // It is not reasonable to combine selections that use\n            // different selection channels\n            // only append those that match the first\n            if (selectionId !== oldSelection.selectionId) {\n                return;\n            }\n            newDescrip += ' ' + val;\n            if (index === 0) {\n                dataPointSet = new Set(oldSelection.dataPoints);\n            } else {\n                switch (op) {\n                    case \"Intersect\":\n                        dataPointSet = new Set([...dataPointSet].filter(x => oldSelection.dataPoints.includes(x)));\n                        break;\n                    case \"Union\":\n                        dataPointSet = new Set([...dataPointSet, ...oldSelection.dataPoints]);\n                        break;\n                    case \"Subtract\":\n                        dataPointSet = new Set([...dataPointSet].filter(x => !oldSelection.dataPoints.includes(x)));\n                        break;\n                }\n            }\n            newLabel += val + '/';\n        }, this);\n        newLabel = newLabel.slice(0, -1);\n        return this.putSelection(newLabel, originator, [...dataPointSet], color, newDescrip, selectionId, props);\n    }\n\n    __editExisting (label, dataPoints) {\n        \"use strict\";\n        let selection = this.selections[this.editingLabel];\n        function removeMatch(value) {\n            return (dataPoints.indexOf(value) === -1);\n        }\n        switch(this.putOperation) {\n            case PermanentSelection.editModeEnum.enum.ADDPOINTS:\n                selection.dataPoints = selection.dataPoints.concat(dataPoints);\n                selection.dataPoints.sort();\n                break;\n            case PermanentSelection.editModeEnum.enum.REMOVEPOINTS:\n                selection.dataPoints = selection.dataPoints.filter(removeMatch);\n                break;\n            default:\n                return;\n        }\n        this.notify({'type':'perm', 'op':'update', 'sel': selection, 'id': selection.selectionId});\n        this.showSelection(selection.label);\n    }\n\n    setPutOperation (op) {\n        \"use strict\";\n        this.putOperation = op;\n    }\n\n    setEditingSelection (label) {\n        \"use strict\";\n        this.showSelection(label);\n        let originalSelection = this.selections[label];\n        if (originalSelection === undefined) {\n            return;\n        }\n        // deep clone the original selection\n        this.selPriorToEdit = jQuery.extend({}, originalSelection, true);\n        this.editingLabel = label;\n        this.editingSelection = originalSelection.selectionId;\n    }\n\n    saveEditingSelection () {\n        \"use strict\";\n        this.editingSelection = undefined;\n        this.editingLabel = undefined;\n        this.selPriorToEdit = undefined;\n    }\n\n    cancelEditingSelection () {\n        \"use strict\";\n        if (this.editingLabel !== undefined) {\n            // revert to prior to edit state\n            let label = this.selPriorToEdit.label;\n            this.selections[label] = this.selPriorToEdit;\n            this.selPriorToEdit = undefined;\n            this.editingLabel = undefined;\n            this.editingSelection = undefined;\n            this.notify({'type':'perm', 'op':'update', 'sel': this.selections[label], 'id': this.selections[label].selectionId});\n            this.showSelection(label);\n        }\n    }\n\n    addPoints (label, dataPoints) {\n        \"use strict\";\n        let oldSelection = this.selections[label];\n        if (oldSelection !== undefined) {\n            this.deleteSelection(label);\n        }\n        let mergeArray = [];\n        oldSelection.dataPoints.forEach(function(value) {\n            mergeArray[value] = 1;\n        });\n        dataPoints.forEach(function(value) {\n            mergeArray[value] = 1;\n        });\n        let mergePoints = [];\n        mergeArray.forEach(function(value){\n            if (value !== undefined) {\n                mergePoints.push(value);\n            }\n        });\n        this.putSelection(label, oldSelection.originator, mergePoints,\n            oldSelection.color, oldSelection.description, oldSelection.id);\n\n    }\n\n    removePoints (label, dataPoints) {\n        \"use strict\";\n        let oldSelection = this.selections[label];\n        if (oldSelection === undefined) {\n            return;\n        }\n        this.deleteSelection(label);\n        let mergeArray = [];\n        oldSelection.dataPoints.forEach(function(value) {\n            mergeArray[value] = 1;\n        });\n        dataPoints.forEach(function(value) {\n            if (mergeArray[value] === 1) {\n                mergeArray[value] = undefined;\n            }\n        });\n        let mergePoints = [];\n        mergeArray.forEach(function(value){\n            if (value !== undefined) {\n                mergePoints.push(value);\n            }\n        });\n        this.putSelection(label, oldSelection.originator, mergePoints,\n            oldSelection.color, oldSelection.description, oldSelection.id);\n    }\n\n    getSelection (label) {\n        \"use strict\";\n        return (this.selections[label]);\n    }\n\n    deleteSelection (label) {\n        \"use strict\";\n        let index = this.orderedLabels.indexOf(label);\n        if (index >= 0) {\n            let removed = this.selections[label];\n            delete this.selections[label];\n            this.orderedLabels.splice(index, 1);\n            if (this.visibleSelection === label) {\n                this.visibleSelection = undefined;\n                this.notify({'type':'perm', 'op':'hide', 'sel': removed, 'id': removed.selectionId});\n            }\n            this.notify({'type':'perm', 'op':'delete', 'sel': removed, 'id': removed.selectionId});\n        }\n    }\n\n    showSelection (label){\n        \"use strict\";\n        let sel;\n        if (this.visibleSelection) {\n            if (label !== this.visibleSelection) {\n                sel = this.selections[this.visibleSelection];\n                this.notify({'type':'perm', 'op':'hide', 'sel': sel, 'id': sel.selectionId});\n            }\n        }\n        this.visibleSelection = label;\n        sel = this.selections[this.visibleSelection];\n        this.notify({'type':'perm', 'op':'show', 'sel':sel, 'id': sel.selectionId});\n    }\n\n    \"use strict\";\n    deleteLastSelection (showPrev = true) {\n        let length = this.orderedLabels.length;\n        if (length > 0) {\n            this.deleteSelection(this.orderedLabels[length - 1]);\n            if (showPrev && (this.orderedLabels.length > 0)) {\n                this.showSelection(this.orderedLabels[this.orderedLabels.length - 1]);\n            }\n        }\n    }\n\n    hideVisibleSelection () {\n        if (this.visibleSelection) {\n            let sel = this.selections[this.visibleSelection];\n            this.visibleSelection = undefined;\n            if (sel === undefined) {\n                return; // bug workaround - this.visibleSelection not always cleared\n            }\n            this.notify({'op':'hide', 'sel': sel, 'id': sel.selectionId});\n        }\n    }\n\n    setColor (label, color) {\n        \"use strict\";\n        if (!this.selections.hasOwnProperty(label)) {\n            return;\n        }\n        let sel = this.selections[label];\n        sel.color = color;\n        this.notify({'type':'perm', 'op':'color', 'sel': sel, 'id': sel.selectionId});\n    }\n\n    getNewLabel (id) {\n        \"use strict\";\n        let label = id + '_' + this.labelCount;\n        this.labelCount += 1;\n        return (label);\n    }\n\n    deleteAllSelections () {\n        \"use strict\";\n        while (Object.keys(this.selections).length > 0) {\n            this.deleteLastSelection(false);\n        }\n    }\n\n    /**\n     * Remove all selections and observers\n     */\n    clear() {\n        this.deleteAllSelections();\n        this.removeAllObservers();\n    }\n}\n\n","/**\n * Created by baldur on 10/12/15.\n */\n\n// Ontology tree is largely a webix treetable with additional code\n// for selection events.\n\nimport SelectionSubscriber from '../control/common/SelectionSubscriber';\nimport SelectionProtocol from '../protocols/SelectionProtocol';\n\nexport default class OntologyTree extends SelectionSubscriber {\n    constructor () {\n        \"use strict\";\n        super(1); // only a single dynamic selection outstanding\n        // Because of an interaction with bootstrap the selection text is too light\n        // TODO move to a css file\n        $(\"div.c select option\").css(\"color\", \"black\");\n        $(\"li.cr.string .c\").css(\"color\", \"black\");\n        function treeTemplate(obj, common, value, config) {\n            let style = ReScatter.utils.style_from_hextriplet(obj.color_hex_triplet);\n            // see http://docs.webix.com/datatree__node_templates.html and http://docs.webix.com/datatable__templates.html\n            let treetable = common.treetable(obj, common);\n            treetable = treetable.replace(\"class='webix_tree_close'\", \"class='webix_tree_close' \" + style);\n            treetable = treetable.replace(\"class='webix_tree_open'\", \"class='webix_tree_open' \" + style);\n            treetable = treetable + common.treecheckbox(obj, common, value, config);\n            return treetable + \"<span><b>\" + obj.acronym + \"</b> \" + obj.name + \"</span>\";\n        }\n        function oneForAll(value, filter, obj) {\n            if (obj.acronym.toLowerCase().indexOf(filter.toLowerCase()) !== -1) return true;\n            if (obj.name.toLowerCase().indexOf(filter.toLowerCase()) !== -1) return true;\n            return false;\n        }\n        let columns = [\n            // using hidden breaks the templating in the second column\n            //{ id:\"id\",    header:\"id\", sort: \"integer\", width:60, hidden:true},\n            { id:\"acronym\", sort:\"string\",    header:[\"Search:\", {content:\"textFilter\", compare:oneForAll, placeholder:\"Enter name/acronym\"}],    /*width:350,*/\n                template:treeTemplate, width: 350},\n            { id:\"name\", hidden:true}\n        ];\n\n        this.id = \"atlasTableId\";\n        let atlasTableDef = {\n            id: this.id,\n            //container:\"AtlasOntology\",\n            view:\"treetable\",\n            select:\"row\",\n            //multiselect:\"true\",\n            css:\"ontology_style\",\n            scrollX: false,\n            threeState: true,\n            columns: columns,\n            fixedRowHeight:false,\n            rowHeight: 30,\n            autoConfig:true,\n            resizeColumn:true\n        };\n\n        this.atlasId = ReScatter.controlWidgetLayout.addTabView(atlasTableDef, 'Ontology', true);\n        this.atlasTable = $$(this.atlasId);\n        this.atlasTable.attachEvent(\"onItemCheck\", this.atlasItemsChecked.bind(this)); // a level in the hierarchy (or a leaf) is checked\n        webix.event(window, \"resize\", ()=>{\n            this.adjust();\n        });\n\n    }\n\n    destroy () {\n        \"use strict\";\n        this.atlasTable.clearAll();\n        // and remove from the multiview and tabbar\n        ReScatter.controlWidgetLayout.removeTabView(this.atlasId);\n    }\n\n    loadOntologyData (ontologySelection, ontologyData) {\n        \"use strict\";\n        this.ontologyData = ontologyData;\n        this.selectionConfig = ontologySelection;\n        this.dynamicSelectionId = ontologySelection.dynamicSelectionOut;\n\n        // It would be better if we could define the child function\n        // dynamically  based on the ontology schema\n\n        this.atlasTable.clearAll();\n        let myjson = webix.DataDriver.myjson = webix.copy(webix.DataDriver.json);\n        myjson.child = function (obj) {\n            return obj.children;\n        };\n        try {\n            this.atlasTable.parse(ontologyData, \"myjson\");\n            if (ontologySelection.hasOwnProperty('openId')) {\n                let that = this;\n                ontologySelection.openId.forEach(function(val) {\n                    let idsToOpen = that.getPathToId(val);\n                    idsToOpen.forEach(function (id) {\n                        that.atlasTable.open(id);\n                    });\n                });\n            }\n        }\n        catch(e) {\n            console.log('Failed to parse or open ontology - check ontology file and configuration');\n        }\n        finally {\n            this.atlasTable.render();\n        }\n    }\n\n    getPathToId (id) {\n        let rootId = this.atlasTable.getFirstId();\n        let idPath = [];\n        let currentId = id;\n        idPath.splice(0,0,currentId);\n        while(currentId !== rootId) {\n            currentId = this.atlasTable.getParentId(currentId);\n            idPath.splice(0,0,currentId);\n        }\n        return idPath;\n    }\n\n    // adjust size to parent (call on resize)\n    adjust () {\n        this.atlasTable.adjust();\n    }\n\n    atlasItemsChecked (id) {\n        \"use strict\";\n        // A hierarchy level has been changed (checked/unchecked) in the ontology table\n        //webix.message(\"Click checkbox: \"+id);\n        let checked = this.atlasTable.getChecked();\n        this.outputSelection(checked);\n    }\n\n    atlasItemCheck (row, column, state){\n        \"use strict\";\n        // A single checkbox has been changed (checked/unchecked) in the ontology table\n        let item = this.atlasTable.getItem(row);\n        let checked = this.atlasTable.getChecked();\n\n    }\n\n    outputSelection (selectedIds) {\n        ReScatter.dynamicSelectionModel.putTransitiveSelection(\n            \"OntologyTable\",\n            selectedIds,\n            0x772222,\n            this.dynamicSelectionId); // unique\n    }\n\n\n    getId () {\n        return this.id;\n    }\n}\n\nSelectionProtocol.impl(OntologyTree, [], {\n    processSelectionEvent  (context) {\n        // open the ontology tree and scroll to the selection\n        // TODO - not implemented\n        this.processingDone();\n    }\n});\n","/**\n * Created by bvanlew on 27/03/2017.\n */\n\n/**\n *  @namespace ReScatter\n */\nimport * as jobs from './jobs';\nimport * as config from './config';\nimport * as view from './view';\nimport * as utils from './utils';\nimport * as events from './events';\nimport * as control from './control';\nimport * as data from './data';\nimport * as widget from './widget';\nimport * as protocols from './protocols';\n// system globals\nimport ControlEventModel from './events/ControlEventModel';\nimport PermanentSelection from './data/PermanentSelection';\nexport {\n    jobs,\n    config,\n    view,\n    utils,\n    events,\n    control,\n    data,\n    widget,\n    protocols,\n};\n\n\nexport const controlEventModel = new ControlEventModel();\nexport const selectionModel = new PermanentSelection();\nexport * from './utils/const';\n\n\nexport const cursors = require.context('./cursors', true, /^\\.\\/.*\\.png$/);\ncursors.keys().map(cursors);\n\n/**\n * Initialize: prepare the ReScatter for use.\n * It should be called once when the web-page is first loaded.\n */\nexport function initialize() {\n    \"use strict\";\n    utils.control_ids_to_strings();\n}\n"],"sourceRoot":""}